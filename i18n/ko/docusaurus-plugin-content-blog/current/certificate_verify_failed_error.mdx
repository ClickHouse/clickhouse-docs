---
title: ClickHouse에서 SSL 인증서 검증 오류 해결하기
description: SSL 예외 CERTIFICATE_VERIFY_FAILED 오류를 해결하는 방법을 설명합니다.
date: 2023-05-02
tags: ['보안 및 인증', '오류 및 예외']
keywords: ['오류', 'SSL 인증서', '210']
---

{frontMatter.description}

{{/* 생략 */}}

## ClickHouse에서 코드 210 SSL 인증서 검증 오류 해결 \{#resolving-ssl-certificate-verify-error-in-clickhouse\}

오류 메시지는 일반적으로 다음과 같이 표시됩니다.

`Code: 210. DB::NetException: SSL Exception: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED`

## 오류 원인 \{#cause-of-the-error\}

이 오류는 `clickhouse-client`를 사용하여 ClickHouse 서버에 연결을 시도하는 과정에서 발생합니다. 오류의 원인은 다음 두 가지 중 하나입니다.

* 클라이언트 구성 파일 `config.xml`에 시스템 CA 기본 저장소의 루트 인증서가 없거나
* 자체 서명 인증서 또는 내부 CA 인증서가 있지만 구성되어 있지 않은 경우입니다.

## 해결 방법 \{#solution\}

내부 CA 또는 자체 서명 CA를 사용하는 경우 클라이언트 디렉터리(예: `/etc/clickhouse-client`)의 `config.xml`에서 CA 루트 인증서를 설정하고, 기본 위치에서 기본 루트 CA 인증서를 로드하는 동작을 비활성화합니다.

다음은 구성 예시입니다.

```xml
<openSSL>
    <client>
        <loadDefaultCAFile>false</loadDefaultCAFile>
        <caConfig>/etc/clickhouse-server/certs/marsnet_ca.crt</caConfig>
        <cacheSessions>true</cacheSessions>
        <disableProtocols>sslv2,sslv3</disableProtocols>
        <preferServerCiphers>true</preferServerCiphers>
        <invalidCertificateHandler>
            <name>RejectCertificateHandler</name>
        </invalidCertificateHandler>
    </client>
</openSSL>
```

## 추가 자료 \{#additional-resources\}

다음 문서를 참조하십시오: [https://clickhouse.com/docs/interfaces/cli/#configuration&#95;files](https://clickhouse.com/docs/interfaces/cli/#configuration_files)