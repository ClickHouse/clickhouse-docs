---
title: ClickHouse에서 파일로 데이터를 내보내는 방법
description: "`INTO OUTFILE`, File 테이블 엔진, 명령줄 리다이렉션을 포함하여 ClickHouse에서 데이터를 내보내는 다양한 방법을 알아봅니다."
date: 2023-03-22
tags: ['데이터 내보내기']
keywords: ['데이터 내보내기', 'INTO OUTFILE', 'File 테이블 엔진']
---

{frontMatter.description}

{{/* 생략 */}}

## INTO OUTFILE 절 사용하기 \{#using-into-outfile-clause\}

쿼리에 [INTO OUTFILE](https://clickhouse.com/docs/sql-reference/statements/select/into-outfile) 절을 추가합니다.

예를 들어:

```sql
SELECT * FROM table INTO OUTFILE 'file'
```

기본적으로 ClickHouse는 파일 이름의 확장자를 사용하여 출력 형식과 압축 방식을 결정합니다. 예를 들어 `nyc_taxi` 테이블의 모든 행은 Parquet 형식을 사용하여 `nyc_taxi.parquet` 파일로 내보내집니다.

```sql
SELECT *
FROM nyc_taxi
INTO OUTFILE 'taxi_rides.parquet'
```

그리고 다음 파일은 탭으로 구분된 압축 파일입니다.

```sql
SELECT *
FROM nyc_taxi
INTO OUTFILE 'taxi_rides.tsv.gz'
```

ClickHouse가 파일 확장자만으로 형식을 판별할 수 없는 경우, 출력 데이터의 형식은 기본적으로 [TabSeparated](https://clickhouse.com/docs/interfaces/formats)로 설정됩니다. [출력 형식](https://clickhouse.com/docs/interfaces/formats)을 지정하려면 [FORMAT 절](https://clickhouse.com/docs/sql-reference/statements/select/format)을 사용하십시오.

예를 들어:

```sql
SELECT *
FROM nyc_taxi
INTO OUTFILE 'taxi_rides.txt'
FORMAT CSV
```

## File 테이블 엔진 사용하기 \{#using-a-file-engine-table\}

또 다른 방법은 [File](https://clickhouse.com/docs/engines/table-engines/special/file) 테이블 엔진을 사용하는 것입니다. 이 경우 ClickHouse는 파일을 사용하여 데이터를 저장합니다. 파일에 대해 직접 쿼리와 INSERT를 수행할 수 있습니다.

예를 들어:

```sql
CREATE TABLE my_table (
   x UInt32,
   y String,
   z DateTime
)
ENGINE = File(Parquet)
```

몇 개의 행을 삽입하십시오:

```sql
INSERT INTO my_table VALUES
   (1, 'Hello', now()),
   (2, 'World', now()),
   (3, 'Goodbye', now())
```

파일은 ClickHouse 서버의 `data` 폴더, 특히 `/data/default/my_table` 경로에 `data.Parquet`라는 이름의 파일로 저장됩니다.

:::note
`File` 테이블 엔진은 파일 시스템에서 파일을 생성하고 조회하는 데 매우 유용하지만, `File` 테이블은 `MergeTree` 테이블이 아니므로 `MergeTree`가 제공하는 모든 이점을 모두 누릴 수는 없습니다. ClickHouse에서 데이터를 편리한 형식으로 내보낼 때는 편의성을 위해 `File`을 사용하십시오.
:::

## 명령줄 리디렉션 사용 \{#using-command-line-redirection\}

```bash
$ clickhouse-client --query "SELECT * from table" --format FormatName > result.txt
```

자세한 내용은 [clickhouse-client](https://clickhouse.com/docs/interfaces/cli) 문서를 참조하십시오.
