---
date: 2023-03-24
title: "여러 터미널에서 작은 테이블을 빠르게 재생성하는 방법"
description: "개발 환경에서 복사/붙여넣기를 사용해 여러 터미널 간에 작은 테이블과 해당 데이터를 빠르게 재생성하는 방법을 설명합니다."
tags: ['도구 및 유틸리티']
keywords: ['테이블 재생성', '터미널']
---

{frontMatter.description}

{/* 이하 생략 */}

## Question \{#question\}

서로 다른 터미널에서 단순히 복사/붙여넣기만 사용해 테이블과 그 데이터를 빠르게 다시 생성하려면 어떻게 해야 합니까?

## Answer \{#answer\}

이 방법은 한 데이터베이스에서 다른 데이터베이스로 데이터를 마이그레이션하는 일반적인 권장 방법이 아니며, 프로덕션 환경의 데이터 마이그레이션에는 사용해서는 안 됩니다.

이 방법은 여러 환경에서 개발할 때 소량의 데이터를 빠르고 간단히 재생성하기 위한 용도로만 의도되었습니다.

1. `SHOW CREATE TABLE`을 사용하여 CREATE TABLE 문을 가져옵니다:

```sql
SHOW CREATE TABLE cookies;

SHOW CREATE TABLE cookies

Query id: 248ec8e2-5bce-45b3-97d9-ed68edf445a5

┌─statement────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│ CREATE TABLE default.cookies
(
    `id` String,
    `timestamp` DateTime
)
ENGINE = MergeTree
ORDER BY id
│
└──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

```

2. `FORMAT SQLInsert`를 사용하여 데이터를 내보냅니다

```sql
SELECT * FROM cookies FORMAT SQLInsert;

SELECT *
FROM cookies
FORMAT SQLInsert

Query id: 383759b8-69c0-4561-ab95-f8224abc0071

INSERT INTO table (`id`, `timestamp`) VALUES ('4', '2023-03-15 16:28:46')
, ('2', '2023-03-15 16:28:41')
, ('1', '2023-03-15 16:11:02'), ('1', '2023-03-15 16:11:40'), ('1', '2023-03-15 16:11:48'), ('1', '2023-03-15 16:16:05'), ('2', '2023-03-15 16:11:06'), ('3', '2023-03-15 16:11:12'), ('3', '2023-03-15 16:11:45'), ('3', '2023-03-15 16:16:08'), ('4', '2023-03-15 16:11:14'), ('4', '2023-03-15 16:11:50'), ('4', '2023-03-15 16:16:01'), ('5', '2023-03-15 16:11:18'), ('5', '2023-03-15 16:16:11')
;

15 rows in set. Elapsed: 0.023 sec.
```

참고로 2번 항목의 `table`을 실제 테이블 이름으로 바꿔야 합니다(이 예에서는 `cookies`입니다).
