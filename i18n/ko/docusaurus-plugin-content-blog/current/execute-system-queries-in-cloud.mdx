---
title: ClickHouse Cloud의 모든 노드에서 SYSTEM 문 실행하기
description: ClickHouse Cloud 서비스의 모든 노드에서 SYSTEM 문과 쿼리를 실행하기 위해 `ON CLUSTER`와 `clusterAllReplicas`를 사용하는 방법에 대해 알아봅니다.
date: 2023-03-01
tags: ['배포 및 스케일링']
keywords: ['clusterAllReplicas']
---

{frontMatter.description}

{/* 생략 */}

## 답변 \{#answer\}

ClickHouse Cloud 서비스의 모든 노드에서 동일한 쿼리를 실행하려면 [clusterAllReplicas](https://clickhouse.com/docs/sql-reference/table-functions/cluster/)를 사용할 수 있습니다.

예를 들어, 모든 노드의 (노드 로컬) system 테이블에서 엔트리를 가져오려면 다음과 같이 할 수 있습니다.

```sql
SELECT ... FROM clusterAllReplicas(default, system.TABLE) ...;
```

마찬가지로, [ON CLUSTER](https://clickhouse.com/docs/sql-reference/distributed-ddl/) 절을 사용하면 동일한 [SYSTEM SQL 문](https://clickhouse.com/docs/sql-reference/statements/system/)을 하나의 SQL 문으로 모든 노드에서 실행할 수 있습니다.

```sql
SYSTEM ... ON CLUSTER default;
```

예를 들어 모든 노드에서 [파일 시스템 캐시를 삭제](https://clickhouse.com/docs/sql-reference/statements/system/#drop-filesystem-cache)하려면 다음과 같이 할 수 있습니다.

```sql
SYSTEM DROP FILESYSTEM CACHE ON CLUSTER default;
```
