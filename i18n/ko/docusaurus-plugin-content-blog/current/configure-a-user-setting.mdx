---
title: "ClickHouse에서 사용자 설정을 구성하는 방법"
description: "`SET` 및 `ALTER USER` 명령을 사용하여 ClickHouse에서 쿼리별, 클라이언트 세션별 또는 특정 사용자별 설정을 정의하는 방법을 알아봅니다."
date: 2023-03-01
tags:
  - "Settings"
keywords:
  - "SET"
  - "ALTER"
  - "사용자"
  - "쿼리"
  - "세션"
---

{frontMatter.description}

{/* 생략 */}

## 소개 \{#introduction\}

ClickHouse에서 사용자 설정을 정의하는 방법은 여러 가지가 있으며, 사용 사례와 해당 설정을 얼마나 오래 유지할 것인지에 따라 달라집니다. 몇 가지 시나리오를 살펴보겠습니다...

## 단일 쿼리용 설정 구성 \{#configure-a-setting-for-a-single-query\}

`SELECT` 쿼리에는 임의 개수의 설정을 정의할 수 있는 `SETTINGS` 절을 포함할 수 있습니다. 이러한 설정은 해당 쿼리에만 적용됩니다. 예를 들어:

```sql
SELECT *
FROM my_table
SETTINGS max_threads = 8;
```

이 쿼리의 최대 스레드 수는 8개입니다.

## 세션에 대한 설정 구성 \{#configure-a-setting-for-a-session\}

`SET` 절을 사용하여 클라이언트 세션 기간 동안만 유효한 설정을 정의할 수 있습니다. 이는 일회성(애드혹) 테스트를 하거나, 몇 개의 쿼리가 실행되는 동안에만 설정을 적용하고 그 이후에는 적용하지 않으려는 경우에 유용합니다.

```sql
SET max_threads = 8;

SELECT *
FROM my_table;
```

## 특정 사용자에 대한 설정 구성 \{#configure-a-setting-for-a-particular-user\}

`ALTER USER`를 사용하여 특정 사용자에 대해서만 설정을 정의할 수 있습니다. 예를 들어 다음과 같습니다.

```sql
ALTER USER my_user_name SETTINGS max_threads = 8;
```

클라이언트에서 로그아웃했다가 다시 로그인한 다음 `getSetting` 함수를 사용하여 설정이 정상적으로 적용되었는지 확인할 수 있습니다.

```sql
SELECT getSetting('max_threads');
```

:::note
이와 같이 설정을 지정하면 사용자의 현재 설정이 모두 덮어씌워집니다. 즉, 사용자에게 적용되어 있던 다른 설정이 있더라도 `ALTER USER` 구문에 지정하지 않으면 해당 설정들은 모두 사라집니다.

기존 설정을 유지하려면 `ALTER USER ... MODIFY SETTING ...`을 사용하십시오.
:::
