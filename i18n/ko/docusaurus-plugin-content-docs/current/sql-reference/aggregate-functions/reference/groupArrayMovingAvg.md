---
description: '입력 값들의 이동 평균을 계산합니다.'
slug: /sql-reference/aggregate-functions/reference/grouparraymovingavg
title: 'groupArrayMovingAvg'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## groupArrayMovingAvg \{#groupArrayMovingAvg\}

도입된 버전: v20.1

입력 값의 이동 평균을 계산합니다.

:::note
이 FUNCTION은 0을 향해 반올림합니다.
결과 데이터 타입에서 표현될 수 없는 소수 자릿수는 잘라냅니다.
:::

**문법**

```sql
groupArrayMovingAvg(numbers_for_summing)
groupArrayMovingAvg(window_size)(numbers_for_summing)
```

**파라미터**

* `window_size` — 계산 윈도우의 크기입니다. 지정하지 않으면 함수는 윈도우 크기를 컬럼의 행 개수와 같게 설정합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**인수**

* `numbers_for_summing` — 숫자형 데이터 타입의 값을 반환하는 표현식입니다. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Decimal`](/sql-reference/data-types/decimal)

**반환 값**

입력 데이터와 크기와 타입이 동일한 배열을 반환합니다. [`Array`](/sql-reference/data-types/array)

**예시**

**사용 예시**

```sql title=Query
CREATE TABLE t
(
    `int` UInt8,
    `float` Float32,
    `dec` Decimal32(2)
)
ENGINE = Memory;

INSERT INTO t VALUES (1, 1.1, 1.10), (2, 2.2, 2.20), (4, 4.4, 4.40), (7, 7.77, 7.77);

SELECT
    groupArrayMovingAvg(int) AS I,
    groupArrayMovingAvg(float) AS F,
    groupArrayMovingAvg(dec) AS D
FROM t;
```

```response title=Response
┌─I─────────┬─F───────────────────────────────────┬─D─────────────────────┐
│ [0,0,1,3] │ [0.275,0.82500005,1.9250001,3.8675] │ [0.27,0.82,1.92,3.86] │
└───────────┴─────────────────────────────────────┴───────────────────────┘
```

**윈도 크기 지정**

```sql title=Query
SELECT
    groupArrayMovingAvg(2)(int) AS I,
    groupArrayMovingAvg(2)(float) AS F,
    groupArrayMovingAvg(2)(dec) AS D
FROM t;
```

```response title=Response
┌─I─────────┬─F────────────────────────────────┬─D─────────────────────┐
│ [0,1,3,5] │ [0.55,1.6500001,3.3000002,6.085] │ [0.55,1.65,3.30,6.08] │
└───────────┴──────────────────────────────────┴───────────────────────┘
```

{/*AUTOGENERATED_END*/ }
