---
description: '선형 보간을 사용하여 히스토그램의 분위수를 계산합니다.'
slug: /sql-reference/aggregate-functions/reference/quantilePrometheusHistogram
title: 'quantilePrometheusHistogram'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## quantilePrometheusHistogram \{#quantilePrometheusHistogram\}

도입된 버전: v25.10

각 히스토그램 버킷의 누적 값과 상한(upper bound)을 고려하여 선형 보간(linear interpolation)을 사용해 히스토그램의 [quantile](https://en.wikipedia.org/wiki/Quantile)을 계산합니다.

보간된 값을 얻기 위해 전달된 모든 값을 하나의 배열로 결합한 뒤, 해당 버킷의 상한값을 기준으로 정렬합니다.
그다음, PromQL의 고전적인 히스토그램에 대한 [histogram&#95;quantile()](https://prometheus.io/docs/prometheus/latest/querying/functions/#histogram_quantile) 함수와 유사한 방식으로 quantile 보간을 수행하며, quantile 위치가 포함된 버킷의 하한(lower bound)과 상한(upper bound)을 사용하여 선형 보간을 수행합니다.

**참고**

* [median](/sql-reference/aggregate-functions/reference/median)
* [quantiles](../../../sql-reference/aggregate-functions/reference/quantiles.md)

**구문**

```sql
quantilePrometheusHistogram(level)(bucket_upper_bound, cumulative_bucket_value)
```

**매개변수**

* `level` — 선택적입니다. 분위수 수준입니다. 0부터 1 사이의 부동소수점 상수입니다. `[0.01, 0.99]` 범위의 `level` 값을 사용하는 것이 좋습니다. 기본값: `0.5`. `level=0.5`일 때 함수는 [중앙값](https://en.wikipedia.org/wiki/Median)을 계산합니다. [`Float64`](/sql-reference/data-types/float)

**인수**

* `bucket_upper_bound` — 히스토그램 버킷의 상한값입니다. 가장 큰 버킷은 상한값이 `+Inf`여야 합니다. [`Float64`](/sql-reference/data-types/float)
* `cumulative_bucket_value` — 히스토그램 버킷의 누적 값입니다. 버킷 상한값이 증가함에 따라 값은 단조 증가해야 합니다. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float64`](/sql-reference/data-types/float)

**반환 값**

지정된 레벨의 분위수를 반환합니다. [`Float64`](/sql-reference/data-types/float)

**예시**

**사용 예시**

```sql title=Query
SELECT quantilePrometheusHistogram(bucket_upper_bound, cumulative_bucket_value)
FROM VALUES('bucket_upper_bound Float64, cumulative_bucket_value UInt64', (0, 6), (0.5, 11), (1, 14), (inf, 19));
```

```response title=Response
┌─quantilePrometheusHistogram(bucket_upper_bound, cumulative_bucket_value)─┐
│                                                                     0.35 │
└──────────────────────────────────────────────────────────────────────────┘
```

{/*자동 생성 종료*/ }

**함께 보기**

* [median](/sql-reference/aggregate-functions/reference/median)
* [quantiles](../../../sql-reference/aggregate-functions/reference/quantiles.md)
