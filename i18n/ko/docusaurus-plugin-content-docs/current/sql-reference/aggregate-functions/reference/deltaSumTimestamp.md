---
description: '연속된 행 사이의 차이값을 합산합니다. 차이가 음수이면
  무시됩니다.'
slug: /sql-reference/aggregate-functions/reference/deltasumtimestamp
title: 'deltaSumTimestamp'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## deltaSumTimestamp \{#deltaSumTimestamp\}

도입 버전: v21.6

연속된 행 사이의 차이를 더합니다.
차이가 음수인 경우에는 무시합니다.

이 함수는 주로 `toStartOfMinute` 버킷과 같이, 특정 시간 버킷에 맞춰 정렬된 타임스탬프로 데이터를 저장하는 [materialized view](/sql-reference/statements/create/view#materialized-view)에 사용됩니다.
이러한 materialized view의 행은 모두 동일한 타임스탬프를 가지므로, 원래의 반올림되지 않은 타임스탬프 값을 저장하지 않으면 올바른 순서로 병합하는 것이 불가능합니다.
`deltaSumTimestamp` 함수는 지금까지 본 값들의 원래 `timestamp`를 추적하여, 파트를 병합하는 동안 함수의 값(상태)이 올바르게 계산되도록 합니다.

정렬된 컬렉션 전체에 대해 델타 합계를 계산하려면 [`deltaSum`](/sql-reference/aggregate-functions/reference/deltasum) 함수를 사용하면 됩니다.

**구문**

```sql
deltaSumTimestamp(value, timestamp)
```

**인수(Arguments)**

* `value` — 입력 값입니다. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Date`](/sql-reference/data-types/date) 또는 [`DateTime`](/sql-reference/data-types/datetime)
* `timestamp` — 값을 정렬하는 기준 매개변수입니다. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Date`](/sql-reference/data-types/date) 또는 [`DateTime`](/sql-reference/data-types/datetime)

**반환 값(Returned value)**

`timestamp` 매개변수 기준으로 정렬된 연속 값들 사이의 차이를 누적한 값을 반환합니다. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Date`](/sql-reference/data-types/date) 또는 [`DateTime`](/sql-reference/data-types/datetime)

**예시(Examples)**

**타임스탬프 정렬을 사용하는 기본 예제**

```sql title=Query
SELECT deltaSumTimestamp(value, timestamp)
FROM (SELECT number AS timestamp, [0, 4, 8, 3, 0, 0, 0, 1, 3, 5][number] AS value FROM numbers(1, 10))
```

```response title=Response
┌─deltaSumTimestamp(value, timestamp)─┐
│                                  13 │
└─────────────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }
