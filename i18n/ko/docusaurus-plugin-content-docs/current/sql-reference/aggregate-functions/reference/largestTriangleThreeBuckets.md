---
description: '입력 데이터에 Largest-Triangle-Three-Buckets 알고리즘을 적용합니다.'
sidebar_label: 'largestTriangleThreeBuckets'
slug: /sql-reference/aggregate-functions/reference/largestTriangleThreeBuckets
title: 'largestTriangleThreeBuckets'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## largestTriangleThreeBuckets \{#largestTriangleThreeBuckets\}

도입 버전: v23.10

입력 데이터에 [Largest-Triangle-Three-Buckets](https://skemman.is/bitstream/1946/15343/3/SS_MSthesis.pdf) 알고리즘을 적용합니다.
이 알고리즘은 시각화를 위해 시계열 데이터를 다운샘플링하는 데 사용됩니다.
x 좌표를 기준으로 정렬된 시계열에서 동작하도록 설계되었습니다.
정렬된 시계열을 여러 버킷으로 나눈 뒤, 각 버킷에서 가장 큰 삼각형을 찾는 방식으로 동작합니다.
버킷 수는 결과 시계열의 포인트 개수와 동일합니다.
데이터를 `x`를 기준으로 정렬한 다음, 정렬된 데이터에 다운샘플링 알고리즘을 적용합니다.

제공된 시계열에 포함된 NaN 값은 무시되며, NaN 값은 분석에서 제외됩니다.
이를 통해 이 함수는 유효한 숫자 데이터에 대해서만 동작합니다.

**구문**

```sql
largestTriangleThreeBuckets(n)(x, y)
```

**별칭**: `lttb`

**매개변수**

* `n` — 결과 시퀀스의 점 개수. [`UInt64`](/sql-reference/data-types/int-uint)

**인수**

* `x` — x 좌표. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Decimal`](/sql-reference/data-types/decimal) 또는 [`Date`](/sql-reference/data-types/date) 또는 [`Date32`](/sql-reference/data-types/date32) 또는 [`DateTime`](/sql-reference/data-types/datetime) 또는 [`DateTime64`](/sql-reference/data-types/datetime64)
* `y` — y 좌표. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Decimal`](/sql-reference/data-types/decimal) 또는 [`Date`](/sql-reference/data-types/date) 또는 [`Date32`](/sql-reference/data-types/date32) 또는 [`DateTime`](/sql-reference/data-types/datetime) 또는 [`DateTime64`](/sql-reference/data-types/datetime64)

**반환 값**

두 요소를 가진 튜플 배열을 반환합니다. [`Array(Tuple(Float64, Float64))`](/sql-reference/data-types/array)

**예시**

**시계열 데이터 다운샘플링**

```sql title=Query
CREATE TABLE largestTriangleThreeBuckets_test (x Float64, y Float64) ENGINE = Memory;
INSERT INTO largestTriangleThreeBuckets_test VALUES
    (1.0, 10.0), (2.0, 20.0), (3.0, 15.0), (8.0, 60.0), (9.0, 55.0),
    (10.0, 70.0), (4.0, 30.0), (5.0, 40.0), (6.0, 35.0), (7.0, 50.0);

SELECT largestTriangleThreeBuckets(4)(x, y) FROM largestTriangleThreeBuckets_test;
```

```response title=Response
┌────────largestTriangleThreeBuckets(4)(x, y)───────────┐
│           [(1,10),(3,15),(9,55),(10,70)]              │
└───────────────────────────────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }
