---
description: '서로 다른 인수 값의 개수를 근사적으로 계산합니다. uniqCombined와 동일하지만, String 데이터 타입에만 64비트 해시를 사용하던 것과 달리 모든 데이터 타입에 64비트 해시를 사용합니다.'
slug: /sql-reference/aggregate-functions/reference/uniqcombined64
title: 'uniqCombined64'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## uniqCombined64 \{#uniqCombined64\}

도입 버전: v20.1

서로 다른 인수 값의 개수를 근사치로 계산합니다.
[`uniqCombined`](https://clickhouse.com/docs/sql-reference/aggregate-functions/reference/uniqcombined)와 동일하지만, `String` 데이터 타입에만 64비트 해시를 사용하는 대신 모든 데이터 타입에 대해 64비트 해시를 사용합니다.

이 함수는 결과가 결정적입니다(쿼리 처리 순서에 의존하지 않습니다).

:::note
모든 타입에 64비트 해시를 사용하므로, `String`이 아닌 타입에 32비트 해시를 사용하는 [`uniqCombined`](https://clickhouse.com/docs/sql-reference/aggregate-functions/reference/uniqcombined)와 달리, `UINT_MAX`보다 훨씬 큰 카디널리티에서 매우 큰 오차가 발생하지 않습니다.
:::

[uniq](https://clickhouse.com/docs/sql-reference/aggregate-functions/reference/uniq) 함수와 비교하면, uniqCombined64 함수는 다음과 같은 특징이 있습니다:

* 메모리를 몇 배 더 적게 사용합니다
* 몇 배 더 높은 정확도로 계산합니다

<details>
  <summary>구현 세부 사항</summary>
  이 함수는 집계의 모든 인자에 대해 64비트 해시를 계산한 뒤, 이를 사용하여 계산을 수행합니다.
  배열, 해시 테이블, [HyperLogLog](https://en.wikipedia.org/wiki/HyperLogLog) 세 가지 알고리즘을 조합하며, 오류 보정 테이블을 함께 사용합니다:

  * 서로 다른 원소의 수가 적을 때는 배열을 사용합니다
  * 집합 크기가 더 커지면 해시 테이블을 사용합니다
  * 더 많은 원소에 대해서는 HyperLogLog를 사용하며, 이는 고정된 양의 메모리를 점유합니다
</details>

**문법**

```sql
uniqCombined64(HLL_precision)(x[, ...])
uniqCombined64(x[, ...])
```

**매개변수**

* `HLL_precision` — 선택 매개변수입니다. HyperLogLog에서 셀 개수의 2를 밑으로 하는 로그 값입니다. 기본값은 17이며, 이는 실질적으로 96 KiB 공간입니다(2^17개 셀, 각 6비트). 범위: [12, 20]. [`UInt8`](/sql-reference/data-types/int-uint)

**인수**

* `x` — 가변 개수의 매개변수입니다. [`Tuple(T)`](/sql-reference/data-types/tuple) 또는 [`Array(T)`](/sql-reference/data-types/array) 또는 [`Date`](/sql-reference/data-types/date) 또는 [`DateTime`](/sql-reference/data-types/datetime) 또는 [`String`](/sql-reference/data-types/string) 또는 [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Decimal`](/sql-reference/data-types/decimal)

**반환 값**

서로 다른 인수 값의 대략적인 개수를 나타내는 `UInt64` 타입 숫자를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**대규모 데이터셋 예시**

```sql title=Query
SELECT uniqCombined64(number) FROM numbers(1e10);
```

```response title=Response
┌─uniqCombined64(number)─┐
│             9998568925 │
└────────────────────────┘
```

**uniqCombined와 비교**

```sql title=Query
-- uniqCombined64 with large dataset
SELECT uniqCombined64(number) FROM numbers(1e10);

-- uniqCombined with same dataset shows poor approximation
SELECT uniqCombined(number) FROM numbers(1e10);
```

```response title=Response
┌─uniqCombined64(number)─┐
│             9998568925 │ -- 10.00 billion
└────────────────────────┘
┌─uniqCombined(number)─┐
│           5545308725 │ -- 5.55 billion
└──────────────────────┘
```

{/*AUTOGENERATED_END*/ }

**함께 보기**

* [uniq](/sql-reference/aggregate-functions/reference/uniq)
* [uniqCombined](/sql-reference/aggregate-functions/reference/uniqcombined)
* [uniqHLL12](/sql-reference/aggregate-functions/reference/uniqhll12)
* [uniqExact](/sql-reference/aggregate-functions/reference/uniqexact)
* [uniqTheta](/sql-reference/aggregate-functions/reference/uniqthetasketch)
