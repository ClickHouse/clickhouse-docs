---
description: '숫자형 데이터 시퀀스에 대한 분위수를 정확히 계산합니다.'
slug: /sql-reference/aggregate-functions/reference/quantilesExactExclusive
title: 'quantilesExactExclusive'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## quantilesExactExclusive \{#quantilesExactExclusive\}

도입 버전: v20.1

배타적(exclusive) 방법을 사용하여 숫자 데이터 시퀀스의 여러 [분위수(quantiles)](https://en.wikipedia.org/wiki/Quantile)를 서로 다른 레벨에서 동시에 정확하게 계산합니다.

이 함수는 [`quantileExactExclusive`](/sql-reference/aggregate-functions/reference/quantileExactExclusive)와 동등하지만, 여러 분위수 레벨을 한 번의 패스로 계산할 수 있어 개별 분위수 함수를 여러 번 호출하는 것보다 더 효율적입니다.

이 함수는 [R-6 방법](https://en.wikipedia.org/wiki/Quantile#Estimating_quantiles_from_a_sample)에 설명된 대로 분위수를 계산하기 위해 배타적(exclusive) 방법을 사용합니다.
이는 Excel 함수 [PERCENTILE.EXC](https://support.microsoft.com/en-us/office/percentile-exc-function-bbaa7204-e9e1-4010-85bf-c31dc5dce4ba)와 동등합니다.

정확한 값을 얻기 위해 전달된 모든 값을 하나의 배열로 결합한 다음, 이를 부분적으로 정렬합니다.
정렬 알고리즘의 복잡도는 `O(N·log(N))`이며, 여기서 `N = std::distance(first, last)`는 비교 횟수입니다.

**문법**

```sql
quantilesExactExclusive(level1, level2, ...)(expr)
```

**매개변수**

* `level` — 분위수 레벨입니다. 0보다 크고 1보다 작은 상수 부동 소수점 수입니다. `level` 값은 `(0.01, 0.99)` 범위에서 사용할 것을 권장합니다. [`Float*`](/sql-reference/data-types/float)

**인수**

* `expr` — 컬럼 값에 대한 식으로, 결과가 숫자 데이터 타입, Date 또는 DateTime이어야 합니다. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Decimal*`](/sql-reference/data-types/decimal) 또는 [`Date`](/sql-reference/data-types/date) 또는 [`DateTime`](/sql-reference/data-types/datetime)

**반환 값**

지정된 레벨에 대한 분위수들을, 레벨이 지정된 것과 동일한 순서로 포함하는 배열입니다. [`Array(Float64)`](/sql-reference/data-types/array)

**예시**

**복수의 exact exclusive 분위수 계산**

```sql title=Query
CREATE TABLE num AS numbers(1000);
SELECT quantilesExactExclusive(0.25, 0.5, 0.75, 0.9, 0.95, 0.99, 0.999)(number) FROM num;
```

```response title=Response
┌─quantilesExactExclusive(0.25, 0.5, 0.75, 0.9, 0.95, 0.99, 0.999)(number)─┐
│ [249.25,499.5,749.75,899.9,949.95,989.99,998.999]                        │
└──────────────────────────────────────────────────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }
