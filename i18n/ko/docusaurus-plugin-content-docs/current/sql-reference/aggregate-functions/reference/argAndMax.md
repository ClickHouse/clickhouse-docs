---
description: '`arg`와 `val` 값들 중에서 최대 `val` 값에 해당하는 `arg`와 `val` 값을 계산합니다. 최대값인 `val`을 가진 행이 여러 개 있는 경우, 어떤 `arg`와 `val`이 반환될지는 비결정적입니다.'
slug: /sql-reference/aggregate-functions/reference/argandmax
title: 'argAndMax'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## argAndMax \{#argAndMax\}

도입 버전: v1.1

최대 `val` 값에 해당하는 `arg` 및 `val` 값을 계산합니다.
최대가 되는 동일한 `val` 값을 가진 행이 여러 개 있는 경우, 어떤 `arg` 및 `val` 조합이 반환될지는 비결정적입니다.
`arg`와 `max` 두 부분 모두 [집계 함수](/sql-reference/aggregate-functions/index.md)처럼 동작하며, 처리 중에 둘 다 [`Null`을 건너뛰고](/sql-reference/aggregate-functions/index.md#null-processing), `Null`이 아닌 값이 존재하는 경우 `Null`이 아닌 값을 반환합니다.

:::note
`argMax`와의 유일한 차이점은 `argAndMax`가 인자와 값을 모두 반환한다는 점입니다.
:::

**함께 보기**

* [argMax](/sql-reference/aggregate-functions/reference/argMax.md)
* [Tuple](/sql-reference/data-types/tuple.md)

**구문**

```sql
argAndMax(arg, val)
```

**인수**

* `arg` — 최대값을 찾을 대상 인수입니다. [`const String`](/sql-reference/data-types/string)
* `val` — 최대값입니다. [`(U)Int8/16/32/64`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Date`](/sql-reference/data-types/date) 또는 [`DateTime`](/sql-reference/data-types/datetime) 또는 [`Tuple`](/sql-reference/data-types/tuple)

**반환 값**

최대 `val` 값에 대응하는 `arg` 값과 그 최대 `val` 값을 포함하는 튜플(Tuple)을 반환합니다. [`Tuple`](/sql-reference/data-types/tuple)

**예시**

**기본 사용법**

```sql title=Query
SELECT argAndMax(user, salary) FROM salary;
```

```response title=Response
┌─argAndMax(user, salary)─┐
│ ('director',5000)       │
└─────────────────────────┘
```

**NULL 처리를 포함한 확장 예제**

```sql title=Query
CREATE TABLE test
(
    a Nullable(String),
    b Nullable(Int64)
)
ENGINE = Memory AS
SELECT *
FROM VALUES(('a', 1), ('b', 2), ('c', 2), (NULL, 3), (NULL, NULL), ('d', NULL));

SELECT argMax(a, b), argAndMax(a, b), max(b) FROM test;
```

```response title=Response
┌─argMax(a, b)─┬─argAndMax(a, b)─┬─max(b)─┐
│ b            │ ('b',2)         │      3 │
└──────────────┴─────────────────┴────────┘
```

**인수로 Tuple 사용하기**

```sql title=Query
SELECT argAndMax(a, (b,a)) FROM test;
```

```response title=Response
┌─argAndMax(a, (b, a))─┐
│ ('c',(2,'c'))        │
└──────────────────────┘
```

{/*AUTOGENERATED_END*/ }

**함께 보기**

* [argMax](/sql-reference/aggregate-functions/reference/argMax.md)
* [Tuple](/sql-reference/data-types/tuple.md)
