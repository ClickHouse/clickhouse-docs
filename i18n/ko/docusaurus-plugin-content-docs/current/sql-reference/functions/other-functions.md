---
'description': '"other" 함수 카테고리에 대한 Documentation'
'sidebar_label': '기타'
'slug': '/sql-reference/functions/other-functions'
'title': '기타 함수'
'doc_type': 'reference'
---

import ExperimentalBadge from '@theme/badges/ExperimentalBadge';
import CloudNotSupportedBadge from '@theme/badges/CloudNotSupportedBadge';
import DeprecatedBadge from '@theme/badges/DeprecatedBadge';


# 다른 함수들

:::note
아래의 함수 문서는 `system.functions` 시스템 테이블에서 생성됩니다.
:::

<!-- 
아래 태그의 내부 내용은 문서 프레임워크 빌드 시 시스템 함수에서 생성된 문서로 교체됩니다. 태그를 수정하거나 제거하지 마십시오.
참조: https://github.com/ClickHouse/clickhouse-docs/blob/main/contribute/autogenerated-documentation-from-source.md
-->

<!--AUTOGENERATED_START-->
## FQDN {#FQDN}

도입 버전: v20.1


ClickHouse 서버의 완전히 한정된 도메인 이름을 반환합니다.
    

**구문**

```sql
fqdn()
```

**별칭**: `fullHostName`

**인수**

- 없음.

**반환 값**

ClickHouse 서버의 완전히 한정된 도메인 이름을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
SELECT fqdn()
```

```response title=Response
┌─FQDN()──────────────────────────┐
│ clickhouse.us-east-2.internal │
└─────────────────────────────────┘
```
## MACNumToString {#MACNumToString}

도입 버전: v1.1


[`UInt64`](/sql-reference/data-types/int-uint) 숫자를 빅 엔디안 형식의 MAC 주소로 해석합니다. 
`AA:BB:CC:DD:EE:FF` 형식의 해당 MAC 주소를 문자열로 반환합니다 (16진수 형식의 콜론으로 구분된 숫자).
    

**구문**

```sql
MACNumToString(num)
```

**인수**

- `num` — UInt64 숫자. [`UInt64`](/sql-reference/data-types/int-uint)


**반환 값**

AA:BB:CC:DD:EE:FF 형식의 MAC 주소를 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
SELECT MACNumToString(149809441867716) AS mac_address;
```

```response title=Response
┌─mac_address───────┐
│ 88:00:11:22:33:44 │
└───────────────────┘
```
## MACStringToNum {#MACStringToNum}

도입 버전: v1.1


MACNumToString의 반전 함수입니다. MAC 주소 형식이 유효하지 않으면 0을 반환합니다.


**구문**

```sql
MACStringToNum(s)
```

**인수**

- `s` — MAC 주소 문자열. [`String`](/sql-reference/data-types/string)


**반환 값**

UInt64 숫자를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT MACStringToNum('01:02:03:04:05:06') AS mac_numeric;
```

```response title=Response
1108152157446
```
## MACStringToOUI {#MACStringToOUI}

도입 버전: v1.1


`AA:BB:CC:DD:EE:FF` 형식의 MAC 주소를 제공받아, 첫 세 옥텟을 UInt64 숫자로 반환합니다. MAC 주소 형식이 유효하지 않으면 0을 반환합니다.
    

**구문**

```sql
MACStringToOUI(s)
```

**인수**

- `s` — MAC 주소 문자열. [`String`](/sql-reference/data-types/string)


**반환 값**

세 옥텟을 UInt64 숫자로 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT MACStringToOUI('00:50:56:12:34:56') AS oui;
```

```response title=Response
20566
```
## __filterContains {#__filterContains}

도입 버전: v25.10

JOIN 런타임 필터링을 위한 특수 함수입니다.

**구문**

```sql
__filterContains(filter_name, key)
```

**인수**

- `filter_name` — 런타임 필터의 내부 이름입니다. BuildRuntimeFilterStep에서 생성됩니다. [`String`](/sql-reference/data-types/string)
- `key` — 필터에 존재하는지 확인할 임의의 타입의 값 

**반환 값**

키가 필터에서 발견되었으면 True를 반환합니다 [`Bool`](/sql-reference/data-types/boolean)

**예시**

**예시**

```sql title=Query
This function is not supposed to be used in user queries. It might be added to query plan during optimization.
```

```response title=Response

```
## __patchPartitionID {#__patchPartitionID}

도입 버전: v25.5


내부 함수입니다. 파트 이름과 패치 파트의 컬럼 이름 해시를 수신합니다. 패치 파트의 파티션 이름을 반환합니다. 인수는 올바른 파트 이름이어야 하며, 그렇지 않을 경우 동작이 정의되지 않습니다.
        

**구문**

```sql

```

**인수**

- 없음.

**반환 값**



**예시**
## authenticatedUser {#authenticatedUser}

도입 버전: v25.11


세션 사용자가 EXECUTE AS 명령어를 사용하여 전환된 경우, 이 함수는 인증 및 세션 생성에 사용된 원래 사용자의 이름을 반환합니다.
별칭: authUser()
        

**구문**

```sql
authenticatedUser()
```

**별칭**: `authUser`

**인수**

- 없음.

**반환 값**

인증된 사용자의 이름을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
EXECUTE as u1;
            SELECT currentUser(), authenticatedUser();
```

```response title=Response
┌─currentUser()─┬─authenticatedUser()─┐
│ u1            │ default             │
└───────────────┴─────────────────────┘
```
## bar {#bar}

도입 버전: v1.1


막대 차트를 만듭니다.
폭이 `(x - min)`에 비례하고, x가 max일때는 width 문자와 같습니다.
막대는 기호의 1/8 정확도로 그려집니다.


**구문**

```sql
bar(x, min, max[, width])
```

**인수**

- `x` — 표시할 크기. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Decimal`](/sql-reference/data-types/decimal)
- `min` — 최소값. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Decimal`](/sql-reference/data-types/decimal)
- `max` — 최대값. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Decimal`](/sql-reference/data-types/decimal)
- `width` — 선택 항목. 문자의 폭으로서 막대의 폭. 기본값은 `80`. [`const (U)Int*`](/sql-reference/data-types/int-uint) 또는 [`const Float*`](/sql-reference/data-types/float) 또는 [`const Decimal`](/sql-reference/data-types/decimal)


**반환 값**

유니코드 아트 막대 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
SELECT
toHour(EventTime) AS h,
count() AS c,
bar(c, 0, 600000, 20) AS bar
FROM test.hits
GROUP BY h
ORDER BY h ASC
```

```response title=Response
┌──h─┬──────c─┬─bar────────────────┐
│  0 │ 292907 │ █████████▋         │
│  1 │ 180563 │ ██████             │
│  2 │ 114861 │ ███▋               │
│  3 │  85069 │ ██▋                │
│  4 │  68543 │ ██▎                │
│  5 │  78116 │ ██▌                │
│  6 │ 113474 │ ███▋               │
│  7 │ 170678 │ █████▋             │
│  8 │ 278380 │ █████████▎         │
│  9 │ 391053 │ █████████████      │
│ 10 │ 457681 │ ███████████████▎   │
│ 11 │ 493667 │ ████████████████▍  │
│ 12 │ 509641 │ ████████████████▊  │
│ 13 │ 522947 │ █████████████████▍ │
│ 14 │ 539954 │ █████████████████▊ │
│ 15 │ 528460 │ █████████████████▌ │
│ 16 │ 539201 │ █████████████████▊ │
│ 17 │ 523539 │ █████████████████▍ │
│ 18 │ 506467 │ ████████████████▊  │
│ 19 │ 520915 │ █████████████████▎ │
│ 20 │ 521665 │ █████████████████▍ │
│ 21 │ 542078 │ ██████████████████ │
│ 22 │ 493642 │ ████████████████▍  │
│ 23 │ 400397 │ █████████████▎     │
└────┴────────┴────────────────────┘
```
## blockNumber {#blockNumber}

도입 버전: v1.1


행이 포함된 [블록](../../development/architecture.md#block)의 단조 증가 시퀀스 번호를 반환합니다.
반환된 블록 번호는 최선의 노력에 따라 업데이트 되며, 즉 완전히 정확하지 않을 수 있습니다.
    

**구문**

```sql
blockNumber()
```

**인수**

- 없음.

**반환 값**

행이 위치한 데이터 블록의 시퀀스 번호를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**기본 사용법**

```sql title=Query
SELECT blockNumber()
FROM
(
    SELECT *
    FROM system.numbers
    LIMIT 10
) SETTINGS max_block_size = 2
```

```response title=Response
┌─blockNumber()─┐
│             7 │
│             7 │
└───────────────┘
┌─blockNumber()─┐
│             8 │
│             8 │
└───────────────┘
┌─blockNumber()─┐
│             9 │
│             9 │
└───────────────┘
┌─blockNumber()─┐
│            10 │
│            10 │
└───────────────┘
┌─blockNumber()─┐
│            11 │
│            11 │
└───────────────┘
```
## blockSerializedSize {#blockSerializedSize}

도입 버전: v20.3


디스크에 있는 값 블록의 비압축 크기를 바이트 단위로 반환합니다.


**구문**

```sql
blockSerializedSize(x1[, x2[, ...]])
```

**인수**

- `x1[, x2, ...]` — 블록의 비압축 크기를 가져올 임의의 값들. [`Any`](/sql-reference/data-types)


**반환 값**

압축 없이 블록의 값을 위해 디스크에 기록될 바이트 수를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT blockSerializedSize(maxState(1)) AS x;
```

```response title=Response
┌─x─┐
│ 2 │
└───┘
```
## blockSize {#blockSize}

도입 버전: v1.1


ClickHouse에서는 쿼리를 [블록](/development/architecture#block) (청크)로 처리합니다.
이 함수는 함수가 호출된 블록의 크기(행 수)를 반환합니다.
    

**구문**

```sql
blockSize()
```

**인수**

- 없음.

**반환 값**

현재 블록의 행 수를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT blockSize()
FROM system.numbers LIMIT 5
```

```response title=Response
┌─blockSize()─┐
│           5 │
│           5 │
│           5 │
│           5 │
│           5 │
└─────────────┘
```
## byteSize {#byteSize}

도입 버전: v21.1


메모리 내 인수의 비압축 바이트 크기를 추정하여 반환합니다.
`String` 인수의 경우, 함수는 문자열 길이 + 8 (길이)을 반환합니다.
함수에 여러 인수가 있는 경우, 함수는 이들의 바이트 크기를 누적합니다.
    

**구문**

```sql
byteSize(arg1[, arg2, ...])
```

**인수**

- `arg1[, arg2, ...]` — 비압축 바이트 크기를 추정할 임의의 데이터 타입의 값들. [`Any`](/sql-reference/data-types)


**반환 값**

메모리 내 인수의 바이트 크기를 추정하여 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT byteSize('string')
```

```response title=Response
┌─byteSize('string')─┐
│                 15 │
└────────────────────┘
```

**여러 인수**

```sql title=Query
SELECT byteSize(NULL, 1, 0.3, '')
```

```response title=Response
┌─byteSize(NULL, 1, 0.3, '')─┐
│                         19 │
└────────────────────────────┘
```
## catboostEvaluate {#catboostEvaluate}

도입 버전: v22.9


외부 catboost 모델을 평가합니다. [CatBoost](https://catboost.ai)는 Yandex에서 개발한 오픈 소스 그래디언트 부스팅 라이브러리입니다.
catboost 모델과 모델 인수(특징)의 경로를 수신합니다.

**전제 조건**

1. catboost 평가 라이브러리 빌드

catboost 모델을 평가하기 전에 `libcatboostmodel.<so|dylib>` 라이브러리가 사용 가능해야 합니다. 이를 컴파일하는 방법은 [CatBoost 문서](https://catboost.ai/docs/concepts/c-plus-plus-api_dynamic-c-pluplus-wrapper.html)를 참조하십시오.

다음으로, ClickHouse 구성에서 `libcatboostmodel.<so|dylib>`의 경로를 지정합니다:

```xml
<clickhouse>
...
    <catboost_lib_path>/path/to/libcatboostmodel.so</catboost_lib_path>
...
</clickhouse>
```

보안 및 격리 이유로, 모델 평가는 서버 프로세스에서가 아니라 clickhouse-library-bridge 프로세스에서 실행됩니다.
`catboostEvaluate()`의 첫 실행 시, 서버는 이미 실행 중이지 않다면 라이브러리 브릿지 프로세스를 시작합니다. 두 프로세스는 HTTP 인터페이스를 통해 통신합니다. 기본적으로 포트 `9012`가 사용됩니다. 다른 포트를 다음과 같이 지정할 수 있으며, 이는 포트 `9012`가 이미 다른 서비스에 할당된 경우 유용합니다.

```xml
<library_bridge>
    <port>9019</port>
</library_bridge>
```

2. libcatboost를 사용하여 catboost 모델 훈련

훈련 데이터 집합에서 catboost 모델을 훈련하는 방법에 대한 내용은 [모델 훈련 및 적용](https://catboost.ai/docs/features/training.html#training)을 참조하십시오.


**구문**

```sql
catboostEvaluate(path_to_model, feature_1[, feature_2, ..., feature_n])
```

**인수**

- `path_to_model` — catboost 모델의 경로. [`const String`](/sql-reference/data-types/string)
- `feature` — 하나 이상의 모델 특징/인수. [`Float*`](/sql-reference/data-types/float)


**반환 값**

모델 평가 결과를 반환합니다. [`Float64`](/sql-reference/data-types/float)

**예시**

**catboostEvaluate**

```sql title=Query
SELECT catboostEvaluate('/root/occupy.bin', Temperature, Humidity, Light, CO2, HumidityRatio) AS prediction FROM occupancy LIMIT 1
```

```response title=Response
4.695691092573497
```
## colorOKLCHToSRGB {#colorOKLCHToSRGB}

도입 버전: v25.7


**OKLCH** 지각 색 공간에서 일반적으로 아는 **sRGB** 색 공간으로 색을 변환합니다.

만약 `L`이 범위 `[0...1]`를 벗어나거나, `C`가 음수이거나, `H`가 범위 `[0...360]`를 벗어나면 결과는 구현 정의에 따라 달라집니다.

:::note
**OKLCH**는 OKLab 색 공간의 원통형 버전입니다.
세 개의 좌표는 `L`(범위 `[0...1]`의 밝기), `C`(크로마 `>= 0`), `H`(범위 `[0...360]`의 색조)입니다.
OKLab/OKLCH는 지각적으로 균일하도록 설계되었으며 계산 비용이 적습니다.
:::

변환은 [`colorSRGBToOKLCH`](#colorSRGBToOKLCH)의 반대입니다:

1) OKLCH에서 OKLab로.
2) OKLab에서 선형 sRGB로.
3) 선형 sRGB에서 sRGB로.

두 번째 인수 gamma는 마지막 단계에서 사용됩니다.

OKLCH 공간의 색에 대한 참조 및 이들이 sRGB 색과 어떻게 대응하는지는 [https://oklch.com/](https://oklch.com/)를 참조하십시오.
    

**구문**

```sql
colorOKLCHToSRGB(tuple [, gamma])
```

**인수**

- `tuple` — 세 개의 숫자 값 `L`, `C`, `H`의 튜플로, 여기서 `L`은 범위 `[0...1]`, `C >= 0`이고 `H`는 범위 `[0...360]`입니다. [`Tuple(Float64, Float64, Float64)`](/sql-reference/data-types/tuple)
- `gamma` — 선택 항목. 각 채널 `x`에 대해 `(x ^ (1 / gamma)) * 255`를 적용하여 선형 sRGB를 sRGB로 변환하는 데 사용되는 지수. 기본값은 `2.2`. [`Float64`](/sql-reference/data-types/float)


**반환 값**

sRGB 색 값을 나타내는 튜플 (R, G, B)을 반환합니다. [`Tuple(Float64, Float64, Float64)`](/sql-reference/data-types/tuple)

**예시**

**OKLCH를 sRGB로 변환**

```sql title=Query
SELECT colorOKLCHToSRGB((0.4466, 0.0991, 45.44), 2.2) AS rgb
WITH colorOKLCHToSRGB((0.7, 0.1, 54)) as t SELECT tuple(toUInt8(t.1), toUInt8(t.2), toUInt8(t.3)) AS RGB
```

```response title=Response
┌─rgb──────────────────────────────────────────────────────┐
│ (127.03349738778945,66.06672044472008,37.11802592155851) │
└──────────────────────────────────────────────────────────┘
┌─RGB──────────┐
│ (205,139,97) │
└──────────────┘
```
## colorSRGBToOKLCH {#colorSRGBToOKLCH}

도입 버전: v25.7


**sRGB** 색 공간에 인코딩된 색을 지각적으로 균일한 **OKLCH** 색 공간으로 변환합니다.

입력 채널이 `[0...255]` 범위를 벗어나거나 감마 값이 비양수이면 동작은 구현 정의에 따라 달라집니다.

:::note
**OKLCH**는 OKLab 색 공간의 원통형 버전입니다.
세 개의 좌표는 `L`(범위 `[0...1]`의 밝기), `C`(크로마 `>= 0`), `H`(범위 `[0...360]`의 색조)입니다.
OKLab/OKLCH는 지각적으로 균일하도록 설계되었으며 계산 비용이 적습니다.
:::

변환은 세 단계를 포함합니다:
1) sRGB에서 선형 sRGB로.
2) 선형 sRGB에서 OKLab로.
3) OKLab에서 OKLCH로.


OKLCH 공간의 색에 대한 참조 및 이들이 sRGB 색과 어떻게 대응하는 것은 [https://OKLCH.com/](https://OKLCH.com/)를 참조하십시오.
    

**구문**

```sql
colorSRGBToOKLCH(tuple[, gamma])
```

**인수**

- `tuple` — `[0...255]` 범위의 세 값 R, G, B의 튜플. [`Tuple(UInt8, UInt8, UInt8)`](/sql-reference/data-types/tuple)
- `gamma` — 선택 항목. 각 채널 `x`에 대해 `(x / 255)^gamma`를 적용하여 sRGB를 선형화하는 데 사용되는 지수. 기본값은 `2.2`. [`Float64`](/sql-reference/data-types/float)


**반환 값**

OKLCH 색 공간 값을 나타내는 튜플 (L, C, H)을 반환합니다. [`Tuple(Float64, Float64, Float64)`](/sql-reference/data-types/tuple)

**예시**

**sRGB를 OKLCH로 변환**

```sql title=Query
SELECT colorSRGBToOKLCH((128, 64, 32), 2.2) AS lch
```

```response title=Response
┌─lch─────────────────────────────────────────────────────────┐
│ (0.4436238384931984,0.10442699545678624,45.907345481930236) │
└─────────────────────────────────────────────────────────────┘
```
## connectionId {#connectionId}

도입 버전: v21.3


현재 쿼리를 제출한 클라이언트의 연결 ID를 반환합니다.
이 함수는 디버깅 시나리오에서 가장 유용합니다.
MySQL의 `CONNECTION_ID` 함수와 호환성 위해서 생성되었습니다.
운영 쿼리에서는 일반적으로 사용되지 않습니다.


**구문**

```sql
connectionId()
```

**인수**

- 없음.

**반환 값**

현재 클라이언트의 연결 ID를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT connectionId();
```

```response title=Response
┌─connectionId()─┐
│              0 │
└────────────────┘
```
## countDigits {#countDigits}

도입 버전: v20.8


값을 표현하는 데 필요한 십진 자릿수를 반환합니다.

:::note
이 함수는 십진 값의 스케일을 고려합니다. 즉, 결과를 `(value * scale)`의 기본 정수 타입에 대해 계산합니다.

예를 들어:
- `countDigits(42) = 2`
- `countDigits(42.000) = 5`
- `countDigits(0.04200) = 4`
:::

:::tip
`Decimal64`에 대한 십진 오버플로우를 `countDigits(x) > 18`로 확인할 수 있지만, [`isDecimalOverflow`](#isDecimalOverflow)보다 느립니다.
:::


**구문**

```sql
countDigits(x)
```

**인수**

- `x` — 정수 또는 십진 값. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Decimal`](/sql-reference/data-types/decimal)


**반환 값**

`x`를 표현하는 데 필요한 자릿수를 반환합니다. [`UInt8`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT countDigits(toDecimal32(1, 9)), countDigits(toDecimal32(-1, 9)),
       countDigits(toDecimal64(1, 18)), countDigits(toDecimal64(-1, 18)),
       countDigits(toDecimal128(1, 38)), countDigits(toDecimal128(-1, 38));
```

```response title=Response
┌─countDigits(toDecimal32(1, 9))─┬─countDigits(toDecimal32(-1, 9))─┬─countDigits(toDecimal64(1, 18))─┬─countDigits(toDecimal64(-1, 18))─┬─countDigits(toDecimal128(1, 38))─┬─countDigits(toDecimal128(-1, 38))─┐
│                             10 │                              10 │                              19 │                               19 │                               39 │                                39 │
└────────────────────────────────┴─────────────────────────────────┴─────────────────────────────────┴──────────────────────────────────┴──────────────────────────────────┴───────────────────────────────────┘
```
## currentDatabase {#currentDatabase}

도입 버전: v1.1


현재 데이터베이스의 이름을 반환합니다.
`CREATE TABLE` 쿼리의 테이블 엔진 매개변수에서 데이터베이스를 지정해야 할 때 유용합니다.

또한 [`SET` 명령어](/sql-reference/statements/use)도 참고하십시오.
    

**구문**

```sql
currentDatabase()
```

**별칭**: `current_database`, `SCHEMA`, `DATABASE`

**인수**

- 없음.

**반환 값**

현재 데이터베이스 이름을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
SELECT currentDatabase()
```

```response title=Response
┌─currentDatabase()─┐
│ default           │
└───────────────────┘
```
## currentProfiles {#currentProfiles}

도입 버전: v21.9


현재 사용자의 설정 프로필 배열을 반환합니다.


**구문**

```sql
currentProfiles()
```

**인수**

- 없음.

**반환 값**

현재 사용자의 설정 프로필 배열을 반환합니다. [`Array(String)`](/sql-reference/data-types/array)

**예시**

**사용 예시**

```sql title=Query
SELECT currentProfiles();
```

```response title=Response
┌─currentProfiles()─────────────────────────────┐
│ ['default', 'readonly_user', 'web_analytics'] │
└───────────────────────────────────────────────┘
```
## currentQueryID {#currentQueryID}

도입 버전: v


현재 쿼리 ID를 반환합니다.


**구문**

```sql
currentQueryID()
```

**별칭**: `current_query_id`

**인수**

- 없음.

**반환 값**



**예시**

**예시**

```sql title=Query
SELECT currentQueryID();
```

```response title=Response
┌─currentQueryID()─────────────────────┐
│ 1280d0e8-1a08-4524-be6e-77975bb68e7d │
└──────────────────────────────────────┘
```
## currentRoles {#currentRoles}

도입 버전: v21.9


현재 사용자에게 할당된 역할 배열을 반환합니다.
    

**구문**

```sql
currentRoles()
```

**인수**

- 없음.

**반환 값**

현재 사용자에게 할당된 역할 배열을 반환합니다. [`Array(String)`](/sql-reference/data-types/array)

**예시**

**사용 예시**

```sql title=Query
SELECT currentRoles();
```

```response title=Response
┌─currentRoles()─────────────────────────────────┐
│ ['sql-console-role:jane.smith@clickhouse.com'] │
└────────────────────────────────────────────────┘
```
## currentSchemas {#currentSchemas}

도입 버전: v23.7


`currentDatabase` 함수와 동일하지만
- 무시되는 부울 인수를 받습니다.
- 단일 값을 가진 배열로 데이터베이스 이름을 반환합니다.

`currentSchemas` 함수는 PostgreSQL과의 호환성을 위해서만 존재합니다.
대신 `currentDatabase`를 사용하십시오.

또한 [`SET` 명령어](/sql-reference/statements/use)도 참고하십시오.
    

**구문**

```sql
currentSchemas(bool)
```

**별칭**: `current_schemas`

**인수**

- `bool` — 무시되는 부울 값. [`Bool`](/sql-reference/data-types/boolean)


**반환 값**

현재 데이터베이스의 이름이 들어있는 단일 요소 배열을 반환합니다. [`Array(String)`](/sql-reference/data-types/array)

**예시**

**사용 예시**

```sql title=Query
SELECT currentSchemas(true)
```

```response title=Response
┌─currentSchemas(true)─┐
│ ['default']          │
└──────────────────────┘
```
## currentUser {#currentUser}

도입 버전: v20.1


현재 사용자의 이름을 반환합니다.
분산 쿼리인 경우 쿼리를 시작한 사용자의 이름이 반환됩니다.
    

**구문**

```sql
currentUser()
```

**별칭**: `current_user`, `user`

**인수**

- 없음.

**반환 값**

현재 사용자의 이름을 반환하며, 그렇지 않으면 쿼리를 시작한 사용자의 로그인 정보를 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
SELECT currentUser()
```

```response title=Response
┌─currentUser()─┐
│ default       │
└───────────────┘
```
## defaultProfiles {#defaultProfiles}

도입 버전: v21.9


현재 사용자의 기본 설정 프로필 이름 배열을 반환합니다.


**구문**

```sql
defaultProfiles()
```

**인수**

- 없음.

**반환 값**

현재 사용자의 기본 설정 프로필 이름 배열을 반환합니다. [`Array(String)`](/sql-reference/data-types/array)

**예시**

**사용 예시**

```sql title=Query
SELECT defaultProfiles();
```

```response title=Response
┌─defaultProfiles()─┐
│ ['default']       │
└───────────────────┘
```
## defaultRoles {#defaultRoles}

도입 버전: v21.9


현재 사용자의 기본 역할 배열을 반환합니다.
    

**구문**

```sql
defaultRoles()
```

**인수**

- 없음.

**반환 값**

현재 사용자의 기본 역할 배열을 반환합니다. [`Array(String)`](/sql-reference/data-types/array)

**예시**

**사용 예시**

```sql title=Query
SELECT defaultRoles();
```

```response title=Response
┌─defaultRoles()─────────────────────────────────┐
│ ['sql-console-role:jane.smith@clickhouse.com'] │
└────────────────────────────────────────────────┘
```
## defaultValueOfArgumentType {#defaultValueOfArgumentType}

도입 버전: v1.1


지정된 데이터 타입에 대한 기본 값을 반환합니다.
사용자가 설정한 사용자 정의 컬럼에 대한 기본 값은 포함되지 않습니다.


**구문**

```sql
defaultValueOfArgumentType(expression)
```

**인수**

- `expression` — 임의의 타입의 값이나 임의의 타입의 결과로 이어지는 식. [`Any`](/sql-reference/data-types)


**반환 값**

숫자에 대해서는 `0`, 문자열에 대해서는 빈 문자열, Nullable 타입에 대해서는 `NULL`을 반환합니다. [`UInt8`](/sql-reference/data-types/int-uint) 또는 [`String`](/sql-reference/data-types/string) 또는 [`NULL`](/sql-reference/syntax#null)

**예시**

**사용 예시**

```sql title=Query
SELECT defaultValueOfArgumentType(CAST(1 AS Int8));
```

```response title=Response
┌─defaultValueOfArgumentType(CAST(1, 'Int8'))─┐
│                                           0 │
└─────────────────────────────────────────────┘
```

**Nullable 예시**

```sql title=Query
SELECT defaultValueOfArgumentType(CAST(1 AS Nullable(Int8)));
```

```response title=Response
┌─defaultValueOfArgumentType(CAST(1, 'Nullable(Int8)'))─┐
│                                                  ᴺᵁᴸᴸ │
└───────────────────────────────────────────────────────┘
```
## defaultValueOfTypeName {#defaultValueOfTypeName}

도입 버전: v1.1


지정된 타입 이름에 대한 기본 값을 반환합니다.
    

**구문**

```sql
defaultValueOfTypeName(type)
```

**인수**

- `type` — 타입 이름을 나타내는 문자열. [`String`](/sql-reference/data-types/string)


**반환 값**

지정된 타입 이름에 대한 기본 값을 반환합니다: 숫자에 대해서는 `0`, 문자열에 대해서는 빈 문자열, 그리고 Nullable에 대해서는 [`UInt8`](/sql-reference/data-types/int-uint) 또는 [`String`](/sql-reference/data-types/string) 또는 [`NULL`](/sql-reference/syntax#null)로 `NULL`을 반환합니다.

**예시**

**사용 예시**

```sql title=Query
SELECT defaultValueOfTypeName('Int8');
```

```response title=Response
┌─defaultValueOfTypeName('Int8')─┐
│                              0 │
└────────────────────────────────┘
```

**Nullable 예시**

```sql title=Query
SELECT defaultValueOfTypeName('Nullable(Int8)');
```

```response title=Response
┌─defaultValueOfTypeName('Nullable(Int8)')─┐
│                                     ᴺᵁᴸᴸ │
└──────────────────────────────────────────┘
```
## displayName {#displayName}

도입 버전: v22.11


`config`에서 `display_name`의 값을 반환하거나 설정되지 않은 경우 서버의 완전한 도메인 이름(FQDN)을 반환합니다.


**구문**

```sql
displayName()
```

**인수**

- 없음.

**반환 값**

설정되지 않은 경우 config의 `display_name`의 값을 반환하거나 서버 FQDN을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
SELECT displayName();
```

```response title=Response
┌─displayName()─┐
│ production    │
└───────────────┘
```
## dumpColumnStructure {#dumpColumnStructure}

도입 버전: v1.1


컬럼의 내부 구조와 데이터 타입에 대한 자세한 설명을 출력합니다.


**구문**

```sql
dumpColumnStructure(x)
```

**인수**

- `x` — 설명을 가져올 값. [`Any`](/sql-reference/data-types)


**반환 값**

값을 표현하는 데 사용되는 컬럼 구조에 대한 설명을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
SELECT dumpColumnStructure(CAST('2018-01-01 01:02:03', 'DateTime'));
```

```response title=Response
┌─dumpColumnStructure(CAST('2018-01-01 01:02:03', 'DateTime'))─┐
│ DateTime, Const(size = 1, UInt32(size = 1))                  │
└──────────────────────────────────────────────────────────────┘
```
## enabledProfiles {#enabledProfiles}

도입 버전: v21.9


현재 사용자에게 활성화된 설정 프로필 이름 배열을 반환합니다.


**구문**

```sql
enabledProfiles()
```

**인수**

- 없음.

**반환 값**

현재 사용자에게 활성화된 설정 프로필 이름 배열을 반환합니다. [`Array(String)`](/sql-reference/data-types/array)

**예시**

**사용 예시**

```sql title=Query
SELECT enabledProfiles();
```

```response title=Response
┌─enabledProfiles()─────────────────────────────────────────────────┐
│ ['default', 'readonly_user', 'web_analytics', 'batch_processing'] │
└───────────────────────────────────────────────────────────────────┘
```
## enabledRoles {#enabledRoles}

도입 버전: v21.9


현재 사용자에게 활성화된 역할 배열을 반환합니다.
    

**구문**

```sql
enabledRoles()
```

**인수**

- 없음.

**반환 값**

현재 사용자에게 활성화된 역할 배열의 이름을 반환합니다. [`Array(String)`](/sql-reference/data-types/array)

**예시**

**사용 예시**

```sql title=Query
SELECT enabledRoles();
```

```response title=Response
┌─enabledRoles()─────────────────────────────────────────────────┐
│ ['general_data', 'sql-console-role:jane.smith@clickhouse.com'] │
└────────────────────────────────────────────────────────────────┘
```
## errorCodeToName {#errorCodeToName}

도입 버전: v20.12


숫자 ClickHouse 오류 코드의 텍스트 이름을 반환합니다.
숫자 오류 코드와 오류 이름 간의 매핑은 [여기](https://github.com/ClickHouse/ClickHouse/blob/master/src/Common/ErrorCodes.cpp)에서 확인할 수 있습니다.


**구문**

```sql
errorCodeToName(error_code)
```

**인수**

- `error_code` — ClickHouse 오류 코드. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Decimal`](/sql-reference/data-types/decimal)


**반환 값**

`error_code`의 텍스트 이름을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
SELECT errorCodeToName(252);
```

```response title=Response
┌─errorCodeToName(252)─┐
│ TOO_MANY_PARTS       │
└──────────────────────┘
```
## file {#file}

도입 버전: v21.3


파일을 문자열로 읽고 지정된 컬럼에 데이터를 로드합니다.
파일 콘텐츠는 해석되지 않습니다.

또한 [`file`](../table-functions/file.md) 테이블 함수도 참조하십시오.
        

**구문**

```sql
file(path[, default])
```

**인수**

- `path` — `user_files_path`에 대한 파일의 경로. 와일드카드 `*`, `**`, `?`, `{abc,def}` 및 `{N..M}`(여기서 `N`, `M`은 숫자이고 `'abc', 'def'`는 문자열) 지원합니다. [`String`](/sql-reference/data-types/string)
- `default` — 파일이 존재하지 않거나 접근할 수 없는 경우 반환되는 값. [`String`](/sql-reference/data-types/string) 또는 [`NULL`](/sql-reference/syntax#null)


**반환 값**

파일의 내용을 문자열로 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**테이블에 파일 삽입**

```sql title=Query
INSERT INTO table SELECT file('a.txt'), file('b.txt');
```

```response title=Response

```
## filesystemAvailable {#filesystemAvailable}

도입 버전: v20.1


데이터베이스 지속성을 호스팅하는 파일 시스템의 여유 공간을 반환합니다.
반환된 값은 항상 총 여유 공간보다 작습니다 ([`filesystemUnreserved`](../../sql-reference/functions/other-functions.md#filesystemUnreserved)) 왜냐하면 일부 공간은 운영 체제를 위해 예약되기 때문입니다.
    

**구문**

```sql
filesystemAvailable([disk_name])
```

**인수**

- `disk_name` — 선택적. 여유 공간을 찾기 위한 디스크 이름. 생략하면 기본 디스크를 사용합니다. [`String`](/sql-reference/data-types/string) 또는 [`FixedString`](/sql-reference/data-types/fixedstring)


**반환 값**

바이트 단위로 남은 여유 공간의 양을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT formatReadableSize(filesystemAvailable()) AS "Available space";
```

```response title=Response
┌─Available space─┐
│ 30.75 GiB       │
└─────────────────┘
```
## filesystemCapacity {#filesystemCapacity}

도입 버전: v20.1


파일 시스템의 용량을 바이트 단위로 반환합니다.
데이터 디렉토리의 [경로](../../operations/server-configuration-parameters/settings.md#path)를 구성해야 합니다.


**구문**

```sql
filesystemCapacity([disk_name])
```

**인수**

- `disk_name` — 선택적. 용량을 가져올 디스크 이름. 생략하면 기본 디스크를 사용합니다. [`String`](/sql-reference/data-types/string) 또는 [`FixedString`](/sql-reference/data-types/fixedstring)


**반환 값**

바이트 단위로 파일 시스템의 용량을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT formatReadableSize(filesystemCapacity()) AS "Capacity";
```

```response title=Response
┌─Capacity──┐
│ 39.32 GiB │
└───────────┘
```
## filesystemUnreserved {#filesystemUnreserved}

도입 버전: v22.12


데이터베이스 지속성을 호스팅하는 파일 시스템의 총 여유 공간을 반환합니다 (이전에는 `filesystemFree`).
또한 [`filesystemAvailable`](#filesystemAvailable)도 참조하십시오.


**구문**

```sql
filesystemUnreserved([disk_name])
```

**인수**

- `disk_name` — 선택적. 총 여유 공간을 찾기 위한 디스크 이름. 생략하면 기본 디스크를 사용합니다. [`String`](/sql-reference/data-types/string) 또는 [`FixedString`](/sql-reference/data-types/fixedstring)


**반환 값**

바이트 단위로 여유 공간의 양을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT formatReadableSize(filesystemUnreserved()) AS "Free space";
```

```response title=Response
┌─Free space─┐
│ 32.39 GiB  │
└────────────┘
```
## finalizeAggregation {#finalizeAggregation}

도입 버전: v1.1


주어진 집계 상태에서 이 함수는 집계의 결과(또는 [-State](../../sql-reference/aggregate-functions/combinators.md#-state) 결합기를 사용할 때의 최종 상태)를 반환합니다.


**구문**

```sql
finalizeAggregation(state)
```

**인수**

- `state` — 집계의 상태. [`AggregateFunction`](/sql-reference/data-types/aggregatefunction)


**반환 값**

집계의 최종 결과를 반환합니다. [`Any`](/sql-reference/data-types)

**예시**

**사용 예시**

```sql title=Query
SELECT finalizeAggregation(arrayReduce('maxState', [1, 2, 3]));
```

```response title=Response
┌─finalizeAggregation(arrayReduce('maxState', [1, 2, 3]))─┐
│                                                       3 │
└─────────────────────────────────────────────────────────┘
```

**initializeAggregation과 결합하여 사용**

```sql title=Query
WITH initializeAggregation('sumState', number) AS one_row_sum_state
SELECT
    number,
    finalizeAggregation(one_row_sum_state) AS one_row_sum,
    runningAccumulate(one_row_sum_state) AS cumulative_sum
FROM numbers(5);
```

```response title=Response
┌─number─┬─one_row_sum─┬─cumulative_sum─┐
│      0 │           0 │              0 │
│      1 │           1 │              1 │
│      2 │           2 │              3 │
│      3 │           3 │              6 │
│      4 │           4 │             10 │
└────────┴─────────────┴────────────────┘
```
## flipCoordinates {#flipCoordinates}

도입 버전: v25.10

Point, Ring, Polygon 또는 MultiPolygon의 좌표를 뒤집습니다. Point의 경우 좌표를 바꿉니다. 배열의 경우, 각 좌표 쌍에 대해 동일한 변환을 재귀적으로 적용합니다.

**구문**

```sql
flipCoordinates(geometry)
```

**인수**

- `geometry` — 변환할 기하학입니다. 지원되는 타입: Point (Tuple(Float64, Float64)), Ring (Array(Point)), Polygon (Array(Ring)), MultiPolygon (Array(Polygon)). 

**반환 값**

좌표가 뒤집힌 기하학. 입력과 같은 타입입니다. [`Point`](/sql-reference/data-types/geo#point) 또는 [`Ring`](/sql-reference/data-types/geo#ring) 또는 [`Polygon`](/sql-reference/data-types/geo#polygon) 또는 [`MultiPolygon`](/sql-reference/data-types/geo#multipolygon)

**예시**

**기본 점**

```sql title=Query
SELECT flipCoordinates((1.0, 2.0));
```

```response title=Response
(2.0, 1.0)
```

**링**

```sql title=Query
SELECT flipCoordinates([(1.0, 2.0), (3.0, 4.0)]);
```

```response title=Response
[(2.0, 1.0), (4.0, 3.0)]
```

**다각형**

```sql title=Query
SELECT flipCoordinates([[(1.0, 2.0), (3.0, 4.0)], [(5.0, 6.0), (7.0, 8.0)]]);
```

```response title=Response
[[(2.0, 1.0), (4.0, 3.0)], [(6.0, 5.0), (8.0, 7.0)]]
```
## formatQuery {#formatQuery}

도입 버전: v

주어진 SQL 쿼리의 형식이 지정된, 다중 행일 수 있는 버전을 반환합니다. 구문 분석 오류가 발생할 경우 예외를 발생시킵니다.
[예시:다중 행]

**구문**

```sql
formatQuery(query)
```

**인수**

- `query` — 형식화할 SQL 쿼리. [String](../../sql-reference/data-types/string.md) 

**반환 값**

형식화된 쿼리 [`String`](/sql-reference/data-types/string)

**예시**

**다중 행**

```sql title=Query
SELECT formatQuery('select a,    b FRom tab WHERE a > 3 and  b < 3');
```

```response title=Response
SELECT
    a,
    b
FROM tab
WHERE (a > 3) AND (b < 3)
```
## formatQueryOrNull {#formatQueryOrNull}

도입 버전: v

주어진 SQL 쿼리의 형식이 지정된, 다중 행일 수 있는 버전을 반환합니다. 구문 분석 오류가 발생할 경우 NULL을 반환합니다.
[예시:다중 행]

**구문**

```sql
formatQueryOrNull(query)
```

**인수**

- `query` — 형식화할 SQL 쿼리. [String](../../sql-reference/data-types/string.md) 

**반환 값**

형식화된 쿼리 [`String`](/sql-reference/data-types/string)

**예시**

**다중 행**

```sql title=Query
SELECT formatQuery('select a,    b FRom tab WHERE a > 3 and  b < 3');
```

```response title=Response
SELECT
    a,
    b
FROM tab
WHERE (a > 3) AND (b < 3)
```
## formatQuerySingleLine {#formatQuerySingleLine}

도입 버전: v

formatQuery()와 비슷하지만 반환된 형식화된 문자열은 줄 바꿈이 없습니다. 구문 분석 오류가 발생할 경우 예외를 발생시킵니다.
[예시:다중 행]

**구문**

```sql
formatQuerySingleLine(query)
```

**인수**

- `query` — 형식화할 SQL 쿼리. [String](../../sql-reference/data-types/string.md) 

**반환 값**

형식화된 쿼리 [`String`](/sql-reference/data-types/string)

**예시**

**다중 행**

```sql title=Query
SELECT formatQuerySingleLine('select a,    b FRom tab WHERE a > 3 and  b < 3');
```

```response title=Response
SELECT a, b FROM tab WHERE (a > 3) AND (b < 3)
```
## formatQuerySingleLineOrNull {#formatQuerySingleLineOrNull}

도입 버전: v

formatQuery()와 비슷하지만 반환된 형식화된 문자열에는 줄 바꿈이 없습니다. 구문 분석 오류 발생 시 NULL을 반환합니다.
[예시:다중 행]

**구문**

```sql
formatQuerySingleLineOrNull(query)
```

**인수**

- `query` — 형식화할 SQL 쿼리. [`String`](/sql-reference/data-types/string)


**반환 값**

형식화된 쿼리 [`String`](/sql-reference/data-types/string)

**예시**

**다중 행**

```sql title=Query
SELECT formatQuerySingleLine('select a,    b FRom tab WHERE a > 3 and  b < 3');
```

```response title=Response
SELECT a, b FROM tab WHERE (a > 3) AND (b < 3)
```
## formatReadableDecimalSize {#formatReadableDecimalSize}

도입 버전: v22.11


크기(바이트 수)를 기준으로 이 함수는 접미사(KB, MB 등)와 함께 읽기 쉬운 반올림된 크기를 문자열로 반환합니다.

이 함수의 반대 작업은 [`parseReadableSize`](#parseReadableSize)입니다.
    

**구문**

```sql
formatReadableDecimalSize(x)
```

**인수**

- `x` — 바이트 단위의 크기. [`UInt64`](/sql-reference/data-types/int-uint)


**반환 값**

접미사와 함께 읽기 쉬운 반올림된 크기를 문자열로 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**파일 크기 형식화**

```sql title=Query
SELECT
    arrayJoin([1, 1024, 1024*1024, 192851925]) AS filesize_bytes,
    formatReadableDecimalSize(filesize_bytes) AS filesize
```

```response title=Response
┌─filesize_bytes─┬─filesize───┐
│              1 │ 1.00 B     │
│           1024 │ 1.02 KB    │
│        1048576 │ 1.05 MB    │
│      192851925 │ 192.85 MB  │
└────────────────┴────────────┘
```
## formatReadableQuantity {#formatReadableQuantity}

도입 버전: v20.10


주어진 숫자에 대해, 이 함수는 접미사(천, 백만, 십억 등)와 함께 반올림된 숫자를 문자열로 반환합니다.

이 함수는 입력으로 모든 숫자 유형을 받을 수 있지만 실제로는 `Float64`로 변환됩니다.
대형 값의 경우 결과가 최적이 아닐 수 있습니다.
    

**구문**

```sql
formatReadableQuantity(x)
```

**인수**

- `x` — 형식화할 숫자. [`UInt64`](/sql-reference/data-types/int-uint)


**반환 값**

접미사와 함께 반올림된 숫자를 문자열로 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**접미사가 있는 숫자 형식화**

```sql title=Query
SELECT
    arrayJoin([1024, 1234 * 1000, (4567 * 1000) * 1000, 98765432101234]) AS number,
    formatReadableQuantity(number) AS number_for_humans
```

```response title=Response
┌─────────number─┬─number_for_humans─┐
│           1024 │ 1.02 thousand     │
│        1234000 │ 1.23 million      │
│     4567000000 │ 4.57 billion      │
│ 98765432101234 │ 98.77 trillion    │
└────────────────┴───────────────────┘
```
## formatReadableSize {#formatReadableSize}

도입 버전: v1.1


크기(바이트 수)를 기준으로 이 함수는 KiB, MiB 등과 같은 접미사를 가진 읽기 쉬운 반올림된 크기를 문자열로 반환합니다.

이 함수의 반대 작업은 [`parseReadableSize`](#parseReadableSize), [`parseReadableSizeOrZero`](#parseReadableSizeOrZero), 그리고 [`parseReadableSizeOrNull`](#parseReadableSizeOrNull)입니다.
이 함수는 입력으로 모든 숫자 유형을 받을 수 있지만 실제로는 `Float64`로 변환됩니다. 대형 값의 경우 결과가 최적이 아닐 수 있습니다.
    

**구문**

```sql
formatReadableSize(x)
```

**별칭**: `FORMAT_BYTES`

**인수**

- `x` — 바이트 단위의 크기. [`UInt64`](/sql-reference/data-types/int-uint)


**반환 값**

읽기 쉬운 반올림된 크기와 접미사를 가진 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**파일 크기 형식화**

```sql title=Query
SELECT
    arrayJoin([1, 1024, 1024*1024, 192851925]) AS filesize_bytes,
    formatReadableSize(filesize_bytes) AS filesize
```

```response title=Response
┌─filesize_bytes─┬─filesize───┐
│              1 │ 1.00 B     │
│           1024 │ 1.00 KiB   │
│        1048576 │ 1.00 MiB   │
│      192851925 │ 183.92 MiB │
└────────────────┴────────────┘
```
## formatReadableTimeDelta {#formatReadableTimeDelta}

Introduced in: v20.12

주어진 시간 간격(델타)을 초 단위로 입력하면, 이 함수는 연/월/일/시/분/초/밀리초/마이크로초/나노초로 구성된 문자열 형태의 시간 델타를 반환합니다.

이 함수는 어떤 숫자 유형을 입력으로 받을 수 있지만, 내부적으로는 `Float64`로 형 변환됩니다. 큰 값의 경우 결과가 최적이 아닐 수 있습니다.
    
**구문**

```sql
formatReadableTimeDelta(column[, maximum_unit, minimum_unit])
```

**인수**

- `column` — 숫자 시간 델타가 있는 컬럼. [`Float64`](/sql-reference/data-types/float)
- `maximum_unit` — 선택 사항. 표시할 최대 단위. 허용 가능한 값: `nanoseconds`, `microseconds`, `milliseconds`, `seconds`, `minutes`, `hours`, `days`, `months`, `years`. 기본값: `years`. [`const String`](/sql-reference/data-types/string)
- `minimum_unit` — 선택 사항. 표시할 최소 단위. 더 작은 모든 단위가 잘립니다. 허용 가능한 값: `nanoseconds`, `microseconds`, `milliseconds`, `seconds`, `minutes`, `hours`, `days`, `months`, `years`. 명시적으로 지정된 값이 `maximum_unit`보다 크면 예외가 발생합니다. 기본값: `seconds`는 `maximum_unit`이 `seconds` 또는 더 큰 경우에, 그렇지 않으면 `nanoseconds`. [`const String`](/sql-reference/data-types/string)

**반환 값**

시간 델타를 문자열로 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
SELECT
    arrayJoin([100, 12345, 432546534]) AS elapsed,
    formatReadableTimeDelta(elapsed) AS time_delta
```

```response title=Response
┌────elapsed─┬─time_delta─────────────────────────────────────────────────────┐
│        100 │ 1 minute and 40 seconds                                        │
│      12345 │ 3 hours, 25 minutes and 45 seconds                             │
│  432546534 │ 13 years, 8 months, 17 days, 7 hours, 48 minutes and 54 seconds│
└────────────┴────────────────────────────────────────────────────────────────┘
```

**최대 단위를 사용한 경우**

```sql title=Query
SELECT
    arrayJoin([100, 12345, 432546534]) AS elapsed,
    formatReadableTimeDelta(elapsed, 'minutes') AS time_delta
```

```response title=Response
┌────elapsed─┬─time_delta─────────────────────────────────────────────────────┐
│        100 │ 1 minute and 40 seconds                                         │
│      12345 │ 205 minutes and 45 seconds                                      │
│  432546534 │ 7209108 minutes and 54 seconds                                  │
└────────────┴─────────────────────────────────────────────────────────────────┘
```

## generateRandomStructure {#generateRandomStructure}

Introduced in: v23.5

`column1_name column1_type, column2_name column2_type, ...` 형식의 임의 테이블 구조를 생성합니다.

**구문**

```sql
generateRandomStructure([number_of_columns, seed])
```

**인수**

- `number_of_columns` — 결과 테이블 구조의 원하는 열 수. 0 또는 `Null`로 설정하면 열 수가 1에서 128 사이의 랜덤 값으로 설정됩니다. 기본값: `Null`. [`UInt64`](/sql-reference/data-types/int-uint)
- `seed` — 안정적인 결과를 생성하기 위한 랜덤 시드. 시드가 지정되지 않거나 `Null`으로 설정된 경우 무작위로 생성됩니다. [`UInt64`](/sql-reference/data-types/int-uint)

**반환 값**

무작위로 생성된 테이블 구조. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
SELECT generateRandomStructure()
```

```response title=Response
c1 Decimal32(5), c2 Date, c3 Tuple(LowCardinality(String), Int128, UInt64, UInt16, UInt8, IPv6), c4 Array(UInt128), c5 UInt32, c6 IPv4, c7 Decimal256(64), c8 Decimal128(3), c9 UInt256, c10 UInt64, c11 DateTime
```

**지정된 열 수로**

```sql title=Query
SELECT generateRandomStructure(1)
```

```response title=Response
c1 Map(UInt256, UInt16)
```

**지정된 시드로**

```sql title=Query
SELECT generateRandomStructure(NULL, 33)
```

```response title=Response
c1 DateTime, c2 Enum8('c2V0' = 0, 'c2V1' = 1, 'c2V2' = 2, 'c2V3' = 3), c3 LowCardinality(Nullable(FixedString(30))), c4 Int16, c5 Enum8('c5V0' = 0, 'c5V1' = 1, 'c5V2' = 2, 'c5V3' = 3), c6 Nullable(UInt8), c7 String, c8 Nested(e1 IPv4, e2 UInt8, e3 UInt16, e4 UInt16, e5 Int32, e6 Map(Date, Decimal256(70)))
```

## generateSerialID {#generateSerialID}

Introduced in: v25.1

이전 카운터 값부터 시작하는 순차적인 숫자를 생성하고 반환합니다. 이 함수는 문자열 인수 - 시리즈 식별자와 선택적 시작 값을 사용합니다. 서버는 Keeper로 구성되어 있어야 합니다. 시리즈는 서버 구성의 [`series_keeper_path`](/operations/server-configuration-parameters/settings#series_keeper_path)에서 구성할 수 있는 경로 아래에 Keeper 노드에 저장됩니다.

**구문**

```sql
generateSerialID(series_identifier[, start_value])
```

**인수**

- `series_identifier` — 시리즈 식별자 [`const String`](/sql-reference/data-types/string)
- `start_value` — 선택 사항. 카운터의 시작 값. 기본값은 0입니다. 주: 이 값은 새 시리즈를 만들 때만 사용되며, 시리즈가 이미 존재하는 경우 무시됩니다. [`UInt*`](/sql-reference/data-types/int-uint)

**반환 값**

이전 카운터 값부터 순차적인 숫자를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**첫 번째 호출**

```sql title=Query
SELECT generateSerialID('id1')
```

```response title=Response
┌─generateSerialID('id1')──┐
│                        1 │
└──────────────────────────┘
```

**두 번째 호출**

```sql title=Query
SELECT generateSerialID('id1')
```

```response title=Response
┌─generateSerialID('id1')──┐
│                        2 │
└──────────────────────────┘
```

**컬럼 호출**

```sql title=Query
SELECT *, generateSerialID('id1') FROM test_table
```

```response title=Response
┌─CounterID─┬─UserID─┬─ver─┬─generateSerialID('id1')──┐
│         1 │      3 │   3 │                        3 │
│         1 │      1 │   1 │                        4 │
│         1 │      2 │   2 │                        5 │
│         1 │      5 │   5 │                        6 │
│         1 │      4 │   4 │                        7 │
└───────────┴────────┴─────┴──────────────────────────┘
```

**시작 값과 함께**

```sql title=Query
SELECT generateSerialID('id2', 100)
```

```response title=Response
┌─generateSerialID('id2', 100)──┐
│                           100 │
└───────────────────────────────┘
```

**시작 값으로 두 번째 호출**

```sql title=Query
SELECT generateSerialID('id2', 100)
```

```response title=Response
┌─generateSerialID('id2', 100)──┐
│                           101 │
└───────────────────────────────┘
```

## getClientHTTPHeader {#getClientHTTPHeader}

Introduced in: v24.5

HTTP 헤더의 값을 가져옵니다. 그러한 헤더가 없거나 현재 요청이 HTTP 인터페이스를 통해 수행되지 않는 경우, 함수는 빈 문자열을 반환합니다. 특정 HTTP 헤더(예: `Authentication` 및 `X-ClickHouse-*`)는 제한됩니다.

:::note `allow_get_client_http_header` 설정이 필요합니다
이 함수는 `allow_get_client_http_header` 설정이 활성화되어 있어야 합니다. 보안상의 이유로 기본적으로 이 설정은 활성화되어 있지 않으며, `Cookie`와 같은 특정 헤더는 민감한 정보를 포함할 수 있습니다.
:::

HTTP 헤더는 이 함수에 대해 대소문자를 구분합니다. 분산 쿼리의 맥락에서 함수를 사용할 경우, 시작 노드에서만 비어 있지 않은 결과를 반환합니다.

**구문**

```sql
getClientHTTPHeader(name)
```

**인수**

- `name` — HTTP 헤더 이름. [`String`](/sql-reference/data-types/string)

**반환 값**

헤더의 값을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
SELECT getClientHTTPHeader('Content-Type');
```

```response title=Response
┌─getClientHTTPHeader('Content-Type')─┐
│ application/x-www-form-urlencoded   │
└─────────────────────────────────────┘
```

## getMacro {#getMacro}

Introduced in: v20.1

서버 구성 파일에서 매크로 값을 반환합니다. 매크로는 구성 파일의 [`<macros>`](/operations/server-configuration-parameters/settings#macros) 섹션에 정의되어 있으며, 복잡한 호스트명을 가질지라도 편리한 이름으로 서버를 구분하는 데 사용할 수 있습니다. 분산 테이블의 맥락에서 실행될 경우, 각 샤드와 관련된 값으로 일반 컬럼을 생성합니다.

**구문**

```sql
getMacro(name)
```

**인수**

- `name` — 검색할 매크로의 이름. [`const String`](/sql-reference/data-types/string)

**반환 값**

지정된 매크로의 값을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**기본 사용법**

```sql title=Query
SELECT getMacro('test');
```

```response title=Response
┌─getMacro('test')─┐
│ Value            │
└──────────────────┘
```

## getMaxTableNameLengthForDatabase {#getMaxTableNameLengthForDatabase}

Introduced in: v

지정된 데이터베이스의 최대 테이블 이름 길이를 반환합니다.

**구문**

```sql
getMaxTableNameLengthForDatabase(database_name)
```

**인수**

- `database_name` — 지정된 데이터베이스의 이름. [`String`](/sql-reference/data-types/string)

**반환 값**

최대 테이블 이름의 길이를 반환합니다. 정수형입니다.

**예시**

**일반적인 경우**

```sql title=Query
SELECT getMaxTableNameLengthForDatabase('default');
```

```response title=Response
┌─getMaxTableNameLengthForDatabase('default')─┐
            │                                         206 │
            └─────────────────────────────────────────────┘
```

## getMergeTreeSetting {#getMergeTreeSetting}

Introduced in: v25.6

MergeTree 설정의 현재 값을 반환합니다.

**구문**

```sql
getMergeTreeSetting(setting_name)
```

**인수**

- `setting_name` — 설정 이름. [`String`](/sql-reference/data-types/string)

**반환 값**

MergeTree 설정의 현재 값을 반환합니다.

**예시**

**사용 예시**

```sql title=Query
SELECT getMergeTreeSetting('index_granularity');
```

```response title=Response
┌─getMergeTreeSetting('index_granularity')─┐
│                                     8192 │
└──────────────────────────────────────────┘
```

## getOSKernelVersion {#getOSKernelVersion}

Introduced in: v21.11

OS 커널 버전의 문자열을 반환합니다.

**구문**

```sql
getOSKernelVersion()
```

**인수**

- 없음.

**반환 값**

현재 OS 커널 버전을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
SELECT getOSKernelVersion();
```

```response title=Response
┌─getOSKernelVersion()────┐
│ Linux 4.15.0-55-generic │
└─────────────────────────┘
```

## getServerPort {#getServerPort}

Introduced in: v21.10

주어진 프로토콜에 대한 서버의 포트 번호를 반환합니다.

**구문**

```sql
getServerPort(port_name)
```

**인수**

- `port_name` — 포트의 이름. [`String`](/sql-reference/data-types/string)

**반환 값**

서버 포트 번호를 반환합니다. [`UInt16`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT getServerPort('tcp_port');
```

```response title=Response
┌─getServerPort('tcp_port')─┐
│                      9000 │
└───────────────────────────┘
```

## getServerSetting {#getServerSetting}

Introduced in: v25.6

서버 설정 이름에 따라 현재 설정된 값을 반환합니다.

**구문**

```sql
getServerSetting(setting_name')
```

**인수**

- `setting_name` — 서버 설정 이름. [`String`](/sql-reference/data-types/string)

**반환 값**

서버 설정의 현재 값을 반환합니다. [`Any`](/sql-reference/data-types)

**예시**

**사용 예시**

```sql title=Query
SELECT getServerSetting('allow_use_jemalloc_memory');
```

```response title=Response
┌─getServerSetting('allow_use_jemalloc_memory')─┐
│ true                                          │
└───────────────────────────────────────────────┘
```

## getSetting {#getSetting}

Introduced in: v20.7

설정의 현재 값을 반환합니다.

**구문**

```sql
getSetting(setting_name)
```

**인수**

- `setting_Name` — 설정 이름. [`const String`](/sql-reference/data-types/string)

**반환 값**

설정의 현재 값을 반환합니다. [`Any`](/sql-reference/data-types)

**예시**

**사용 예시**

```sql title=Query
SELECT getSetting('enable_analyzer');
SET enable_analyzer = false;
SELECT getSetting('enable_analyzer');
```

```response title=Response
┌─getSetting('⋯_analyzer')─┐
│ true                     │
└──────────────────────────┘
┌─getSetting('⋯_analyzer')─┐
│ false                    │
└──────────────────────────┘
```

## getSettingOrDefault {#getSettingOrDefault}

Introduced in: v24.10

설정의 현재 값을 반환하거나 설정이 현재 프로필에 되어 있지 않은 경우 두 번째 인수에 지정된 기본 값을 반환합니다.

**구문**

```sql
getSettingOrDefault(setting_name, default_value)
```

**인수**

- `setting_name` — 설정 이름. [`String`](/sql-reference/data-types/string)
- `default_value` — 사용자 지정 설정이 설정되지 않은 경우 반환할 값. 값은 모든 데이터 유형이거나 Null일 수 있습니다.

**반환 값**

지정된 설정의 현재 값 또는 설정이 설정되지 않은 경우 `default_value`를 반환합니다.

**예시**

**사용 예시**

```sql title=Query
SELECT getSettingOrDefault('custom_undef1', 'my_value');
SELECT getSettingOrDefault('custom_undef2', 100);
SELECT getSettingOrDefault('custom_undef3', NULL);
```

```response title=Response
my_value
100
NULL
```

## getSizeOfEnumType {#getSizeOfEnumType}

Introduced in: v1.1

지정된 [`Enum`](../../sql-reference/data-types/enum.md) 타입의 필드 수를 반환합니다.

**구문**

```sql
getSizeOfEnumType(x)
```

**인수**

- `x` — `Enum` 타입의 값. [`Enum`](/sql-reference/data-types/enum)

**반환 값**

지정된 입력 값의 `Enum` 필드 수를 반환합니다. [`UInt8/16`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT getSizeOfEnumType(CAST('a' AS Enum8('a' = 1, 'b' = 2))) AS x;
```

```response title=Response
┌─x─┐
│ 2 │
└───┘
```

## getSubcolumn {#getSubcolumn}

Introduced in: v

표현식이나 식별자와 서브컬럼의 이름이 포함된 상수 문자열을 받습니다.

요청된 서브컬럼을 추출하여 반환합니다.

**구문**

```sql

```

**인수**

- 없음.

**반환 값**

**예시**

**getSubcolumn**

```sql title=Query
SELECT getSubcolumn(array_col, 'size0'), getSubcolumn(tuple_col, 'elem_name')
```

```response title=Response

```

## getTypeSerializationStreams {#getTypeSerializationStreams}

Introduced in: v22.6

데이터 유형의 스트림 경로를 나열합니다. 이 함수는 개발용으로 설계되었습니다.

**구문**

```sql
getTypeSerializationStreams(col)
```

**인수**

- `col` — 데이터 유형의 열 또는 문자열 표현. [`Any`](/sql-reference/data-types)

**반환 값**

모든 직렬화 하위 스트림 경로가 포함된 배열을 반환합니다. [`Array(String)`](/sql-reference/data-types/array)

**예시**

**튜플**

```sql title=Query
SELECT getTypeSerializationStreams(tuple('a', 1, 'b', 2))
```

```response title=Response
['{TupleElement(1), Regular}','{TupleElement(2), Regular}','{TupleElement(3), Regular}','{TupleElement(4), Regular}']
```

**맵**

```sql title=Query
SELECT getTypeSerializationStreams('Map(String, Int64)')
```

```response title=Response
['{ArraySizes}','{ArrayElements, TupleElement(keys), Regular}','{ArrayElements, TupleElement(values), Regular}']
```

## globalVariable {#globalVariable}

Introduced in: v20.5

상수 문자열 인수를 받고 해당 이름의 글로벌 변수 값을 반환합니다. 이 함수는 MySQL과의 호환성을 위해 설계되었으며, ClickHouse의 정상적인 작업에 필요하지 않거나 유용하지 않습니다. 몇 가지 더미 글로벌 변수만 정의되어 있습니다.

**구문**

```sql
globalVariable(name)
```

**인수**

- `name` — 글로벌 변수 이름. [`String`](/sql-reference/data-types/string)

**반환 값**

변수 `name`의 값을 반환합니다. [`Any`](/sql-reference/data-types)

**예시**

**globalVariable**

```sql title=Query
SELECT globalVariable('max_allowed_packet')
```

```response title=Response
67108864
```

## hasColumnInTable {#hasColumnInTable}

Introduced in: v1.1

특정 컬럼이 데이터베이스 테이블에 존재하는지 확인합니다. 중첩 데이터 구조의 요소에 대해 함수는 컬럼의 존재 여부를 확인합니다. 중첩 데이터 구조 자체에 대해서는 함수가 `0`을 반환합니다.

**구문**

```sql
hasColumnInTable([hostname[, username[, password]],]database, table, column)
```

**인수**

- `database` — 데이터베이스 이름. [`const String`](/sql-reference/data-types/string)
- `table` — 테이블 이름. [`const String`](/sql-reference/data-types/string)
- `column` — 컬럼 이름. [`const String`](/sql-reference/data-types/string)
- `hostname` — 선택 사항. 확인할 원격 서버 이름. [`const String`](/sql-reference/data-types/string)
- `username` — 선택 사항. 원격 서버의 사용자 이름. [`const String`](/sql-reference/data-types/string)
- `password` — 선택 사항. 원격 서버의 비밀번호. [`const String`](/sql-reference/data-types/string)

**반환 값**

주어진 컬럼이 존재하면 `1`을 반환하고, 그렇지 않으면 `0`을 반환합니다. [`UInt8`](/sql-reference/data-types/int-uint)

**예시**

**존재하는 컬럼 확인**

```sql title=Query
SELECT hasColumnInTable('system','metrics','metric')
```

```response title=Response
1
```

**존재하지 않는 컬럼 확인**

```sql title=Query
SELECT hasColumnInTable('system','metrics','non-existing_column')
```

```response title=Response
0
```

## hasThreadFuzzer {#hasThreadFuzzer}

Introduced in: v20.6

스레드 퍼저가 활성화되어 있는지 여부를 반환합니다. 이 함수는 테스트 및 디버깅에만 유용합니다.

**구문**

```sql
hasThreadFuzzer()
```

**인수**

- 없음.

**반환 값**

스레드 퍼저가 활성화 되어 있는지 여부를 반환합니다. [`UInt8`](/sql-reference/data-types/int-uint)

**예시**

**스레드 퍼저 상태 확인**

```sql title=Query
SELECT hasThreadFuzzer()
```

```response title=Response
┌─hasThreadFuzzer()─┐
│                 0 │
└───────────────────┘
```

## hostName {#hostName}

Introduced in: v20.5

이 함수를 실행한 호스트의 이름을 반환합니다. 함수가 원격 서버에서 실행될 경우(분산 처리) 원격 서버 이름이 반환됩니다. 함수가 분산 테이블의 맥락에서 실행될 경우, 각 샤드와 관련된 값으로 일반 컬럼을 생성합니다. 그렇지 않으면 상수 값을 생성합니다.

**구문**

```sql
hostName()
```

**별칭**: `hostname`

**인수**

- 없음.

**반환 값**

호스트 이름을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
SELECT hostName()
```

```response title=Response
┌─hostName()─┐
│ clickhouse │
└────────────┘
```

## icebergBucket {#icebergBucket}

Introduced in: v25.5

[아이스버킷 변환](https://iceberg.apache.org/spec/#bucket-transform-details.)을 위한 로직을 구현합니다.

**구문**

```sql
icebergBucket(N, value)
```

**인수**

- `N` — 버킷의 수, 모듈로. [`const (U)Int*`](/sql-reference/data-types/int-uint)
- `value` — 변환할 원본 값. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Bool`](/sql-reference/data-types/boolean) 또는 [`Decimal`](/sql-reference/data-types/decimal) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`String`](/sql-reference/data-types/string) 또는 [`FixedString`](/sql-reference/data-types/fixedstring) 또는 [`UUID`](/sql-reference/data-types/uuid) 또는 [`Date`](/sql-reference/data-types/date) 또는 [`Time`](/sql-reference/data-types/time) 또는 [`DateTime`](/sql-reference/data-types/datetime)

**반환 값**

원본 값의 32비트 해시를 반환합니다. [`Int32`](/sql-reference/data-types/int-uint)

**예시**

**예시**

```sql title=Query
SELECT icebergBucket(5, 1.0 :: Float32)
```

```response title=Response
4
```

## icebergTruncate {#icebergTruncate}

Introduced in: v25.3

아이스버킷 트렁케이트 변환의 로직을 구현합니다: https://iceberg.apache.org/spec/#truncate-transform-details.

**구문**

```sql
icebergTruncate(N, value)
```

**인수**

- `value` — 변환할 값. [`String`](/sql-reference/data-types/string) 또는 [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Decimal`](/sql-reference/data-types/decimal)

**반환 값**

인수와 같은 타입을 반환합니다.

**예시**

**예시**

```sql title=Query
SELECT icebergTruncate(3, 'iceberg')
```

```response title=Response
ice
```

## identity {#identity}

Introduced in: v1.1

이 함수는 전달된 인수를 그대로 반환하며, 이는 디버깅과 테스트에 유용합니다. 인덱스 사용을 우회하여 전체 스캔 성능을 엿볼 수 있게 해줍니다. 쿼리 분석기는 인덱스 사용을 찾을 때 identity 함수 내부의 내용을 무시하며, 또한 상수 접기를 비활성화합니다.

**구문**

```sql
identity(x)
```

**인수**

- `x` — 입력 값. [`Any`](/sql-reference/data-types)

**반환 값**

입력 값을 변경하지 않고 반환합니다. [`Any`](/sql-reference/data-types)

**예시**

**사용 예시**

```sql title=Query
SELECT identity(42)
```

```response title=Response
42
```

## ignore {#ignore}

Introduced in: v1.1

임의의 인수를 받아들이고 조건 없이 `0`을 반환합니다.

**구문**

```sql
ignore(x)
```

**인수**

- `x` — 사용되지 않는 입력 값으로, 문법 오류를 피하기 위해서만 전달됩니다. [`Any`](/sql-reference/data-types)

**반환 값**

항상 `0`을 반환합니다. [`UInt8`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT ignore(0, 'ClickHouse', NULL)
```

```response title=Response
┌─ignore(0, 'ClickHouse', NULL)─┐
│                             0 │
└───────────────────────────────┘
```

## indexHint {#indexHint}

Introduced in: v1.1

이 함수는 디버깅 및 내부 검사용으로 설계되었습니다. 인수를 무시하고 항상 1을 반환합니다. 인수는 평가되지 않습니다.

그러나 인덱스 분석 중에는 이 함수의 인수가 `indexHint`로 래핑되지 않은 것으로 간주됩니다. 따라서 이는 관련 조건에 따라 인덱스 범위에서 데이터를 선택할 수 있지만, 이 조건에 대해 추가 필터링 없이 가능합니다. ClickHouse의 인덱스는 스파스하며 `indexHint`를 사용하면 동일한 조건을 직접 지정하는 것보다 더 많은 데이터를 얻게 됩니다.

**구문**

```sql
indexHint(expression)
```

**인수**

- `expression` — 인덱스 범위 선택을 위한 임의의 표현식. [`Expression`](/sql-reference/data-types/special-data-types/expression)

**반환 값**

모든 경우에 `1`을 반환합니다. [`UInt8`](/sql-reference/data-types/int-uint)

**예시**

**날짜 필터링을 사용하는 사용 예시**

```sql title=Query
SELECT FlightDate AS k, count() FROM ontime WHERE indexHint(k = '2025-09-15') GROUP BY k ORDER BY k ASC;
```

```response title=Response
┌──────────k─┬─count()─┐
│ 2025-09-14 │    7071 │
│ 2025-09-15 │   16428 │
│ 2025-09-16 │    1077 │
│ 2025-09-30 │    8167 │
└────────────┴─────────┘
```

## initialQueryID {#initialQueryID}

Introduced in: v1.1

현재 쿼리의 초기 ID를 반환합니다. 쿼리 의 다른 매개변수는 [`system.query_log`](../../operations/system-tables/query_log.md)에서 `initial_query_id` 필드에서 추출할 수 있습니다.

[`queryID`](/sql-reference/functions/other-functions#queryID) 함수와는 달리 `initialQueryID`는 서로 다른 샤드에서 동일한 결과를 반환합니다.

**구문**

```sql
initialQueryID()
```

**별칭**: `initial_query_id`

**인수**

- 없음.

**반환 값**

현재 쿼리의 초기 ID를 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
CREATE TABLE tmp (str String) ENGINE = Log;
INSERT INTO tmp (*) VALUES ('a');
SELECT count(DISTINCT t) FROM (SELECT initialQueryID() AS t FROM remote('127.0.0.{1..3}', currentDatabase(), 'tmp') GROUP BY queryID());
```

```response title=Response
┌─count(DISTINCT t)─┐
│                 1 │
└───────────────────┘
```

## initialQueryStartTime {#initialQueryStartTime}

Introduced in: v25.4

현재 쿼리의 시작 시간을 반환합니다. `initialQueryStartTime`는 서로 다른 샤드에서 동일한 결과를 반환합니다.

**구문**

```sql
initialQueryStartTime()
```

**별칭**: `initial_query_start_time`

**인수**

- 없음.

**반환 값**

현재 쿼리의 시작 시간을 반환합니다. [`DateTime`](/sql-reference/data-types/datetime)

**예시**

**사용 예시**

```sql title=Query
CREATE TABLE tmp (str String) ENGINE = Log;
INSERT INTO tmp (*) VALUES ('a');
SELECT count(DISTINCT t) FROM (SELECT initialQueryStartTime() AS t FROM remote('127.0.0.{1..3}', currentDatabase(), 'tmp') GROUP BY queryID());
```

```response title=Response
┌─count(DISTINCT t)─┐
│                 1 │
└───────────────────┘
```

## initializeAggregation {#initializeAggregation}

Introduced in: v20.6

단일 값을 바탕으로 집계 함수의 결과를 계산합니다. 이 함수는 [-State](../../sql-reference/aggregate-functions/combinators.md#-state)를 가진 집계 함수의 초기화에 사용될 수 있습니다. 집계 함수의 상태를 생성하고 이를 [`AggregateFunction`](../../sql-reference/data-types/aggregatefunction.md) 유형의 열에 삽입하거나 초기화된 집계를 기본 값으로 사용할 수 있습니다.

**구문**

```sql
initializeAggregation(aggregate_function, arg1[, arg2, ...])
```

**인수**

- `aggregate_function` — 초기화할 집계 함수의 이름. [`String`](/sql-reference/data-types/string)
- `arg1[, arg2, ...]` — 집계 함수의 인수입니다. [`Any`](/sql-reference/data-types)

**반환 값**

함수에 전달된 모든 행에 대해 집계 결과를 반환합니다. 반환 타입은 `initializeAggregation`의 첫 번째 인수로 전달된 함수의 반환 타입과 동일합니다. [`Any`](/sql-reference/data-types)

**예시**

**uniqState와 함께 기본 사용 예시**

```sql title=Query
SELECT uniqMerge(state) FROM (SELECT initializeAggregation('uniqState', number % 3) AS state FROM numbers(10000));
```

```response title=Response
┌─uniqMerge(state)─┐
│                3 │
└──────────────────┘
```

**sumState 및 finalizeAggregation과 함께 사용**

```sql title=Query
SELECT finalizeAggregation(state), toTypeName(state) FROM (SELECT initializeAggregation('sumState', number % 3) AS state FROM numbers(5));
```

```response title=Response
┌─finalizeAggregation(state)─┬─toTypeName(state)─────────────┐
│                          0 │ AggregateFunction(sum, UInt8) │
│                          1 │ AggregateFunction(sum, UInt8) │
│                          2 │ AggregateFunction(sum, UInt8) │
│                          0 │ AggregateFunction(sum, UInt8) │
│                          1 │ AggregateFunction(sum, UInt8) │
└────────────────────────────┴───────────────────────────────┘
```

## isConstant {#isConstant}

Introduced in: v20.3

인수가 상수 표현식인지 여부를 반환합니다. 상수 표현식은 쿼리 분석 중에 결과가 알려진 표현식입니다. 예를 들어 [리터럴](/sql-reference/syntax#literals)로 구성된 표현식은 상수 표현식입니다. 이 함수는 주로 개발, 디버깅 및 시연을 위해 사용됩니다.

**구문**

```sql
isConstant(x)
```

**인수**

- `x` — 확인할 표현식. [`Any`](/sql-reference/data-types)

**반환 값**

`x`가 상수인 경우 `1`을 반환하고, `x`가 비상수인 경우 `0`을 반환합니다. [`UInt8`](/sql-reference/data-types/int-uint)

**예시**

**상수 표현식**

```sql title=Query
SELECT isConstant(x + 1)
FROM (SELECT 43 AS x)
```

```response title=Response
┌─isConstant(plus(x, 1))─┐
│                      1 │
└────────────────────────┘
```

**함수와 함께 상수**

```sql title=Query
WITH 3.14 AS pi
SELECT isConstant(cos(pi))
```

```response title=Response
┌─isConstant(cos(pi))─┐
│                   1 │
└─────────────────────┘
```

**비상수 표현식**

```sql title=Query
SELECT isConstant(number)
FROM numbers(1)
```

```response title=Response
┌─isConstant(number)─┐
│                  0 │
└────────────────────┘
```

**now() 함수의 동작**

```sql title=Query
SELECT isConstant(now())
```

```response title=Response
┌─isConstant(now())─┐
│                 1 │
└───────────────────┘
```

## isDecimalOverflow {#isDecimalOverflow}

Introduced in: v20.8

주어진 정밀도로 Decimal 데이터 유형에 적합하지 않을 정도로 숫자가 너무 많은지 확인합니다.

**구문**

```sql
isDecimalOverflow(value[, precision])
```

**인수**

- `value` — 확인할 10진수 값. [`Decimal`](/sql-reference/data-types/decimal)
- `precision` — 선택 사항. Decimal 유형의 정밀도. 생략된 경우 첫 번째 인수의 초기 정밀도가 사용됩니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

정 decimal 값이 허용된 정밀도보다 많은 숫자를 가진 경우 `1`을 반환하고, 정 decimal 값이 지정된 정밀도를 만족하는 경우 `0`을 반환합니다. [`UInt8`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT isDecimalOverflow(toDecimal32(1000000000, 0), 9),
       isDecimalOverflow(toDecimal32(1000000000, 0)),
       isDecimalOverflow(toDecimal32(-1000000000, 0), 9),
       isDecimalOverflow(toDecimal32(-1000000000, 0));
```

```response title=Response
┌─isDecimalOverflow(toDecimal32(1000000000, 0), 9)─┬─isDecimalOverflow(toDecimal32(1000000000, 0))─┬─isDecimalOverflow(toDecimal32(-1000000000, 0), 9)─┬─isDecimalOverflow(toDecimal32(-1000000000, 0))─┐
│                                                1 │                                             1 │                                                 1 │                                              1 │
└──────────────────────────────────────────────────┴───────────────────────────────────────────────┴───────────────────────────────────────────────────┴────────────────────────────────────────────────┘
```

## joinGet {#joinGet}

Introduced in: v18.16

딕셔너리에서 데이터 추출 시와 동일한 방식으로 테이블에서 데이터를 추출할 수 있습니다. 지정된 조인 키를 사용하여 Join 테이블에서 데이터를 가져옵니다.

:::note
`ENGINE = Join(ANY, LEFT, <join_keys>)` [문](/engines/table-engines/special/join)로 생성된 테이블만 지원합니다.
:::

**구문**

```sql
joinGet(join_storage_table_name, value_column, join_keys)
```

**인수**

- `join_storage_table_name` — 검색을 수행할 위치를 나타내는 식별자. 식별자는 기본 데이터베이스에서 검색됩니다(구성 파일의 `default_database` 매개변수 참조). 기본 데이터베이스를 재정의하려면 `USE database_name` 쿼리를 사용하거나 `database_name.table_name`과 같이 마침표를 통해 데이터베이스와 테이블을 지정합니다. [`String`](/sql-reference/data-types/string)
- `value_column` — 필요한 데이터가 포함된 테이블의 열 이름. [`const String`](/sql-reference/data-types/string)
- `join_keys` — 조인 키 목록. [`Any`](/sql-reference/data-types)

**반환 값**

키 목록에 해당하는 값 목록을 반환합니다. [`Any`](/sql-reference/data-types)

**예시**

**사용 예시**

```sql title=Query
CREATE TABLE db_test.id_val(`id` UInt32, `val` UInt32) ENGINE = Join(ANY, LEFT, id);
INSERT INTO db_test.id_val VALUES (1,11)(2,12)(4,13);

SELECT joinGet(db_test.id_val, 'val', toUInt32(1));
```

```response title=Response
┌─joinGet(db_test.id_val, 'val', toUInt32(1))─┐
│                                          11 │
└─────────────────────────────────────────────┘
```

**현재 데이터베이스의 테이블 사용 예시**

```sql title=Query
USE db_test;
SELECT joinGet(id_val, 'val', toUInt32(2));
```

```response title=Response
┌─joinGet(id_val, 'val', toUInt32(2))─┐
│                                  12 │
└─────────────────────────────────────┘
```

**Join 키로 배열 사용**

```sql title=Query
CREATE TABLE some_table (id1 UInt32, id2 UInt32, name String) ENGINE = Join(ANY, LEFT, id1, id2);
INSERT INTO some_table VALUES (1, 11, 'a') (2, 12, 'b') (3, 13, 'c');

SELECT joinGet(some_table, 'name', 1, 11);
```

```response title=Response
┌─joinGet(some_table, 'name', 1, 11)─┐
│ a                                  │
└────────────────────────────────────┘
```

## joinGetOrNull {#joinGetOrNull}

Introduced in: v20.4

딕셔너리에서 데이터 추출 시와 동일한 방식으로 테이블에서 데이터를 추출할 수 있습니다. 지정된 조인 키를 사용하여 Join 테이블에서 데이터를 가져옵니다. [`joinGet`](#joinGet)과는 달리 키가 없는 경우 `NULL`을 반환합니다.

:::note
`ENGINE = Join(ANY, LEFT, <join_keys>)` [문](/engines/table-engines/special/join)로 생성된 테이블만 지원합니다.
:::

**구문**

```sql
joinGetOrNull(join_storage_table_name, value_column, join_keys)
```

**인수**

- `join_storage_table_name` — 검색을 수행할 위치를 나타내는 식별자. 식별자는 기본 데이터베이스에서 검색됩니다(구성 파일의 default_database 매개변수 참조). 기본 데이터베이스를 재정의하려면 `USE database_name` 쿼리를 사용하거나 `database_name.table_name`과 같이 마침표를 통해 데이터베이스와 테이블을 지정합니다. [`String`](/sql-reference/data-types/string)
- `value_column` — 필요한 데이터가 포함된 테이블의 열 이름. [`const String`](/sql-reference/data-types/string)
- `join_keys` — 조인 키 목록. [`Any`](/sql-reference/data-types)

**반환 값**

키 목록에 해당하는 값 목록을 반환하거나 키를 찾을 수 없는 경우 `NULL`을 반환합니다. [`Any`](/sql-reference/data-types)

**예시**

**사용 예시**

```sql title=Query
CREATE TABLE db_test.id_val(`id` UInt32, `val` UInt32) ENGINE = Join(ANY, LEFT, id);
INSERT INTO db_test.id_val VALUES (1,11)(2,12)(4,13);

SELECT joinGetOrNull(db_test.id_val, 'val', toUInt32(1)), joinGetOrNull(db_test.id_val, 'val', toUInt32(999));
```

```response title=Response
┌─joinGetOrNull(db_test.id_val, 'val', toUInt32(1))─┬─joinGetOrNull(db_test.id_val, 'val', toUInt32(999))─┐
│                                                11 │                                                ᴺᵁᴸᴸ │
└───────────────────────────────────────────────────┴─────────────────────────────────────────────────────┘
```

## lowCardinalityIndices {#lowCardinalityIndices}

Introduced in: v18.12

[LowCardinality](../data-types/lowcardinality.md) 컬럼의 딕셔너리에서 값의 위치를 반환합니다. 위치는 1에서 시작합니다. LowCardinality는 파트별로 딕셔너리를 가지므로, 이 함수는 서로 다른 파트에서 동일한 값에 대해 서로 다른 위치를 반환할 수 있습니다.

**구문**

```sql
lowCardinalityIndices(col)
```

**인수**

- `col` — 저조한 카드 컬럼. [`LowCardinality`](/sql-reference/data-types/lowcardinality)

**반환 값**

현재 파트의 딕셔너리에서 값의 위치를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
DROP TABLE IF EXISTS test;
CREATE TABLE test (s LowCardinality(String)) ENGINE = Memory;

-- create two parts:

INSERT INTO test VALUES ('ab'), ('cd'), ('ab'), ('ab'), ('df');
INSERT INTO test VALUES ('ef'), ('cd'), ('ab'), ('cd'), ('ef');

SELECT s, lowCardinalityIndices(s) FROM test;
```

```response title=Response
┌─s──┬─lowCardinalityIndices(s)─┐
│ ab │                        1 │
│ cd │                        2 │
│ ab │                        1 │
│ ab │                        1 │
│ df │                        3 │
└────┴──────────────────────────┘
┌─s──┬─lowCardinalityIndices(s)─┐
│ ef │                        1 │
│ cd │                        2 │
│ ab │                        3 │
│ cd │                        2 │
│ ef │                        1 │
└────┴──────────────────────────┘
```

## lowCardinalityKeys {#lowCardinalityKeys}

Introduced in: v18.12

[LowCardinality](../data-types/lowcardinality.md) 컬럼의 딕셔너리 값을 반환합니다. 블록이 딕셔너리 크기보다 작거나 클 경우 결과가 잘리거나 기본값으로 확장됩니다. LowCardinality는 파트별로 딕셔너리를 가지므로 이 함수는 서로 다른 파트에서 서로 다른 딕셔너리 값을 반환할 수 있습니다.

**구문**

```sql
lowCardinalityKeys(col)
```

**인수**

- `col` — 저조한 카드 컬럼. [`LowCardinality`](/sql-reference/data-types/lowcardinality)

**반환 값**

딕셔너리 키를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**lowCardinalityKeys**

```sql title=Query
DROP TABLE IF EXISTS test;
CREATE TABLE test (s LowCardinality(String)) ENGINE = Memory;

-- create two parts:

INSERT INTO test VALUES ('ab'), ('cd'), ('ab'), ('ab'), ('df');
INSERT INTO test VALUES ('ef'), ('cd'), ('ab'), ('cd'), ('ef');

SELECT s, lowCardinalityKeys(s) FROM test;
```

```response title=Response
┌─s──┬─lowCardinalityKeys(s)─┐
│ ef │                       │
│ cd │ ef                    │
│ ab │ cd                    │
│ cd │ ab                    │
│ ef │                       │
└────┴───────────────────────┘
┌─s──┬─lowCardinalityKeys(s)─┐
│ ab │                       │
│ cd │ ab                    │
│ ab │ cd                    │
│ ab │ df                    │
│ df │                       │
└────┴───────────────────────┘
```

## materialize {#materialize}

Introduced in: v1.1

상수를 단일 값을 포함하는 전체 컬럼으로 변환합니다. 전체 컬럼과 상수는 메모리에서 서로 다르게 표현됩니다. 함수는 일반적으로 정상 인수와 상수 인수에 대해 서로 다른 코드를 실행하는데, 결과는 일반적으로 동일해야 합니다. 이 함수는 이 동작을 디버깅하는 데 사용될 수 있습니다.

**구문**

```sql
materialize(x)
```

**인수**

- `x` — 상수입니다. [`Any`](/sql-reference/data-types)

**반환 값**

상수 값을 포함하는 전체 컬럼을 반환합니다. [`Any`](/sql-reference/data-types)

**예시**

**사용 예시**

```sql title=Query
-- In the example below the `countMatches` function expects a constant second argument.
-- This behaviour can be debugged by using the `materialize` function to turn a constant into a full column,
-- verifying that the function throws an error for a non-constant argument.

SELECT countMatches('foobarfoo', 'foo');
SELECT countMatches('foobarfoo', materialize('foo'));
```

```response title=Response
2
Code: 44. DB::Exception: Received from localhost:9000. DB::Exception: Illegal type of argument #2 'pattern' of function countMatches, expected constant String, got String
```

## minSampleSizeContinuous {#minSampleSizeContinuous}

Introduced in: v23.10

연속 메트릭의 두 샘플 간 평균을 비교하는 A/B 테스트에 필요한 최소 샘플 크기를 계산합니다.

[이 기사](https://towardsdatascience.com/required-sample-size-for-a-b-testing-6f6608dd330a)에서 설명된 공식을 사용합니다. 치료 그룹과 대조 그룹의 크기가 같다고 가정합니다. 한 그룹에 필요한 샘플 크기를 반환합니다(즉, 전체 실험에 필요한 샘플 크기는 반환된 값의 두 배입니다). 또한 치료 그룹과 대조 그룹의 시험 메트릭의 분산이 동일하다고 가정합니다.

**구문**

```sql
minSampleSizeContinuous(baseline, sigma, mde, power, alpha)
```

**별칭**: `minSampleSizeContinous`

**인수**

- `baseline` — 메트릭의 기준값. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float)
- `sigma` — 메트릭의 기준 표준 편차. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float)
- `mde` — 기준값의 최소 검출 효과(MDE) 백분율 (예: 기준값이 112.25일 때 MDE 0.03은 112.25 ± 112.25*0.03의 변화 예상). [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float)
- `power` — 테스트의 요구되는 통계적 파워 (1 - II형 오류의 확률). [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float)
- `alpha` — 테스트의 요구되는 유의 수준 (I형 오류의 확률). [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float)

**반환 값**

`minimum_sample_size`, `detect_range_lower`, `detect_range_upper`의 3 요소가 있는 명명된 튜플을 반환합니다. 각각 요구되는 샘플 크기, 반환된 요구 샘플 크기로 탐지할 수 없는 값의 범위의 하한값(계산: `baseline * (1 - mde)`), 반환된 요구 샘플 크기로 탐지할 수 없는 값의 범위의 상한값(계산: `baseline * (1 + mde)`)입니다. (Float64). [`Tuple(Float64, Float64, Float64)`](/sql-reference/data-types/tuple)

**예시**

**minSampleSizeContinuous**

```sql title=Query
SELECT minSampleSizeContinuous(112.25, 21.1, 0.03, 0.80, 0.05) AS sample_size
```

```response title=Response
(616.2931945826209,108.8825,115.6175)
```

## minSampleSizeConversion {#minSampleSizeConversion}

Introduced in: v22.6

두 샘플의 전환(비율)을 비교하는 A/B 테스트에 필요한 최소 샘플 크기를 계산합니다.

[이 기사](https://towardsdatascience.com/required-sample-size-for-a-b-testing-6f6608dd330a)에서 설명된 공식을 사용합니다. 치료 그룹과 대조 그룹 크기가 같다고 가정합니다. 한 그룹에 필요한 샘플 크기를 반환합니다(즉, 전체 실험에 필요한 샘플 크기는 반환된 값의 두 배입니다).

**구문**

```sql
minSampleSizeConversion(baseline, mde, power, alpha)
```

**인수**

- `baseline` — 기준 전환. [`Float*`](/sql-reference/data-types/float)
- `mde` — 최소 검출 효과(MDE) 백분율(예: 기준 전환이 0.25일 때 MDE 0.03는 0.25 ± 0.03의 변화 예상). [`Float*`](/sql-reference/data-types/float)
- `power` — 테스트의 요구되는 통계적 파워 (1 - II형 오류의 확률). [`Float*`](/sql-reference/data-types/float)
- `alpha` — 테스트의 요구되는 유의 수준 (I형 오류의 확률). [`Float*`](/sql-reference/data-types/float)

**반환 값**

`minimum_sample_size`, `detect_range_lower`, `detect_range_upper`의 3 요소가 있는 명명된 튜플을 반환합니다. 각각 요구되는 샘플 크기, 반환된 요구 샘플 크기로 탐지할 수 없는 값의 범위의 하한값(계산: `baseline - mde`), 반환된 요구 샘플 크기로 탐지할 수 없는 값의 범위의 상한값(계산: `baseline + mde`)입니다. [`Tuple(Float64, Float64, Float64)`](/sql-reference/data-types/tuple)

**예시**

**minSampleSizeConversion**

```sql title=Query
SELECT minSampleSizeConversion(0.25, 0.03, 0.80, 0.05) AS sample_size
```

```response title=Response
(3396.077603219163,0.22,0.28)
```

## neighbor {#neighbor}

Introduced in: v20.1

현재 행에서 특정 오프셋을 가진 컬럼의 값을 반환합니다. 이 함수는 물리적 데이터 블록의 순서에서 작동하며, 이는 사용자가 예상하는 논리적 순서와 일치하지 않을 수 있기 때문에 더 이상 사용되지 않고 오류가 발생하기 쉽습니다. 대신 적절한 윈도우 함수를 사용하는 것이 좋습니다.

`allow_deprecated_error_prone_window_functions = 1`를 설정하여 이 함수를 활성화 할 수 있습니다.

**구문**

```sql
neighbor(column, offset[, default_value])
```

**인수**

- `column` — 원본 컬럼. [`Any`](/sql-reference/data-types)
- `offset` — 현재 행에서의 오프셋. 양수 값은 앞을 참조하고, 음수 값은 뒤를 참조합니다. [`Integer`](/sql-reference/data-types/int-uint)
- `default_value` — 선택 사항. 오프셋이 데이터 범위를 초과하는 경우 반환할 값. 지정하지 않은 경우 컬럼 유형의 기본 값을 사용합니다. [`Any`](/sql-reference/data-types)

**반환 값**

지정된 오프셋의 값을 반환하거나 범위를 초과할 경우 기본값을 반환합니다. [`Any`](/sql-reference/data-types)

**예시**

**사용 예시**

```sql title=Query
SELECT number, neighbor(number, 2) FROM system.numbers LIMIT 10;
```

```response title=Response
┌─number─┬─neighbor(number, 2)─┐
│      0 │                   2 │
│      1 │                   3 │
│      2 │                   4 │
│      3 │                   5 │
│      4 │                   6 │
│      5 │                   7 │
│      6 │                   8 │
│      7 │                   9 │
│      8 │                   0 │
│      9 │                   0 │
└────────┴─────────────────────┘
```

**기본값과 함께**

```sql title=Query
SELECT number, neighbor(number, 2, 999) FROM system.numbers LIMIT 10;
```

```response title=Response
┌─number─┬─neighbor(number, 2, 999)─┐
│      0 │                        2 │
│      1 │                        3 │
│      2 │                        4 │
│      3 │                        5 │
│      4 │                        6 │
│      5 │                        7 │
│      6 │                        8 │
│      7 │                        9 │
│      8 │                      999 │
│      9 │                      999 │
└────────┴──────────────────────────┘
```
## nested {#nested}

Introduced in: v


ClickHouse 엔진에서 내부적으로 사용되는 함수로 직접 사용될 의도가 아닙니다.

여러 배열의 튜플 배열을 반환합니다.

첫 번째 인수는 결과 튜플의 이름을 결정하는 문자열의 상수 배열이어야 합니다.
다른 인수는 동일한 크기의 배열이어야 합니다.


**문법**

```sql

```

**인수**

- 없음.

**반환 값**



**예제**

**nested**

```sql title=Query
SELECT nested(['keys', 'values'], ['key_1', 'key_2'], ['value_1','value_2'])
```

```response title=Response

```
## normalizeQuery {#normalizeQuery}

Introduced in: v20.8


리터럴, 리터럴 시퀀스 및 복잡한 별칭(공백이 포함되거나 두 개 이상의 숫자가 있거나 UUID와 같은 길이가 36바이트 이상인)을 자리 표시자 `?`로 교체합니다.
    

**문법**

```sql
normalizeQuery(x)
```

**인수**

- `x` — 문자 시퀀스. [`String`](/sql-reference/data-types/string)


**반환 값**

주어진 문자 시퀀스와 자리를 표시하는 기호를 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT normalizeQuery('[1, 2, 3, x]') AS query
```

```response title=Response
┌─query────┐
│ [?.., x] │
└──────────┘
```
## normalizeQueryKeepNames {#normalizeQueryKeepNames}

Introduced in: v21.2


리터럴 및 리터럴 시퀀스를 자리 표시자 `?`로 교체하지만, 복잡한 별칭(공백이 포함되거나 두 개 이상의 숫자가 있거나 UUID와 같은 길이가 36바이트 이상인)은 교체하지 않습니다.
복잡한 쿼리 로그를 더 잘 분석하는 데 도움이 됩니다.
    

**문법**

```sql
normalizeQueryKeepNames(x)
```

**인수**

- `x` — 문자 시퀀스. [`String`](/sql-reference/data-types/string)


**반환 값**

주어진 문자 시퀀스와 자리를 표시하는 기호를 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT normalizeQuery('SELECT 1 AS aComplexName123'), normalizeQueryKeepNames('SELECT 1 AS aComplexName123')
```

```response title=Response
┌─normalizeQuery('SELECT 1 AS aComplexName123')─┬─normalizeQueryKeepNames('SELECT 1 AS aComplexName123')─┐
│ SELECT ? AS `?`                               │ SELECT ? AS aComplexName123                            │
└───────────────────────────────────────────────┴────────────────────────────────────────────────────────┘
```
## normalizedQueryHash {#normalizedQueryHash}

Introduced in: v20.8


유사한 쿼리에 대해 리터럴 값이 없는 동일한 64비트 해시 값을 반환합니다.
쿼리 로그 분석에 도움이 될 수 있습니다.
    

**문법**

```sql
normalizedQueryHash(x)
```

**인수**

- `x` — 문자 시퀀스. [`String`](/sql-reference/data-types/string)


**반환 값**

64비트 해시 값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT normalizedQueryHash('SELECT 1 AS `xyz`') != normalizedQueryHash('SELECT 1 AS `abc`') AS res
```

```response title=Response
┌─res─┐
│   1 │
└─────┘
```
## normalizedQueryHashKeepNames {#normalizedQueryHashKeepNames}

Introduced in: v21.2


[`normalizedQueryHash`](#normalizedQueryHash)와 같이 유사한 쿼리에 대해 리터럴 값이 없는 동일한 64비트 해시 값을 반환하지만, 해싱 전에 복잡한 별칭(공백이 포함되거나 두 개 이상의 숫자가 있거나 UUID와 같은 길이가 36바이트 이상인)을 자리 표시자로 교체하지 않습니다.
쿼리 로그 분석에 도움이 될 수 있습니다.
    

**문법**

```sql
normalizedQueryHashKeepNames(x)
```

**인수**

- `x` — 문자 시퀀스. [`String`](/sql-reference/data-types/string)


**반환 값**

64비트 해시 값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT normalizedQueryHash('SELECT 1 AS `xyz123`') != normalizedQueryHash('SELECT 1 AS `abc123`') AS normalizedQueryHash;
SELECT normalizedQueryHashKeepNames('SELECT 1 AS `xyz123`') != normalizedQueryHashKeepNames('SELECT 1 AS `abc123`') AS normalizedQueryHashKeepNames;
```

```response title=Response
┌─normalizedQueryHash─┐
│                   0 │
└─────────────────────┘
┌─normalizedQueryHashKeepNames─┐
│                            1 │
└──────────────────────────────┘
```
## parseReadableSize {#parseReadableSize}

Introduced in: v24.6


바이트 크기와 `B`, `KiB`, `KB`, `MiB`, `MB` 등과 같은 단위를 포함하는 문자열을 주어지면(즉, [ISO/IEC 80000-13](https://en.wikipedia.org/wiki/ISO/IEC_80000) 또는 십진수 바이트 단위) 이 함수는 해당 바이트 수를 반환합니다.
함수가 입력 값을 파싱할 수 없는 경우 예외를 발생시킵니다.

이 함수의 역작업은 [`formatReadableSize`](#formatReadableSize) 및 [`formatReadableDecimalSize`](#formatReadableDecimalSize)입니다.


**문법**

```sql
parseReadableSize(x)
```

**인수**

- `x` — ISO/IEC 80000-13 또는 십진수 바이트 단위로 읽을 수 있는 크기. [`String`](/sql-reference/data-types/string)


**반환 값**

가장 가까운 정수로 반올림한 바이트 수를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT arrayJoin(['1 B', '1 KiB', '3 MB', '5.314 KiB']) AS readable_sizes, parseReadableSize(readable_sizes) AS sizes;
```

```response title=Response
┌─readable_sizes─┬───sizes─┐
│ 1 B            │       1 │
│ 1 KiB          │    1024 │
│ 3 MB           │ 3000000 │
│ 5.314 KiB      │    5442 │
└────────────────┴─────────┘
```
## parseReadableSizeOrNull {#parseReadableSizeOrNull}

Introduced in: v24.6


바이트 크기와 `B`, `KiB`, `KB`, `MiB`, `MB` 등과 같은 단위를 포함하는 문자열을 주어지면(즉, [ISO/IEC 80000-13](https://en.wikipedia.org/wiki/ISO/IEC_80000) 또는 십진수 바이트 단위) 이 함수는 해당 바이트 수를 반환합니다.
함수가 입력 값을 파싱할 수 없는 경우 `NULL`을 반환합니다.

이 함수의 역작업은 [`formatReadableSize`](#formatReadableSize) 및 [`formatReadableDecimalSize`](#formatReadableDecimalSize)입니다.


**문법**

```sql
parseReadableSizeOrNull(x)
```

**인수**

- `x` — ISO/IEC 80000-13 또는 십진수 바이트 단위로 읽을 수 있는 크기. [`String`](/sql-reference/data-types/string)


**반환 값**

가장 가까운 정수로 반올림한 바이트 수를 반환하거나 입력 값을 파싱할 수 없는 경우 `NULL`을 반환합니다. [`Nullable(UInt64)`](/sql-reference/data-types/nullable)

**예제**

**사용 예제**

```sql title=Query
SELECT arrayJoin(['1 B', '1 KiB', '3 MB', '5.314 KiB', 'invalid']) AS readable_sizes, parseReadableSizeOrNull(readable_sizes) AS sizes;
```

```response title=Response
┌─readable_sizes─┬───sizes─┐
│ 1 B            │       1 │
│ 1 KiB          │    1024 │
│ 3 MB           │ 3000000 │
│ 5.314 KiB      │    5442 │
│ invalid        │    ᴺᵁᴸᴸ │
└────────────────┴─────────┘
```
## parseReadableSizeOrZero {#parseReadableSizeOrZero}

Introduced in: v24.6


바이트 크기와 `B`, `KiB`, `KB`, `MiB`, `MB` 등과 같은 단위를 포함하는 문자열을 주어지면(즉, [ISO/IEC 80000-13](https://en.wikipedia.org/wiki/ISO/IEC_80000) 또는 십진수 바이트 단위) 이 함수는 해당 바이트 수를 반환합니다.
함수가 입력 값을 파싱할 수 없는 경우 `0`을 반환합니다.

이 함수의 역작업은 [`formatReadableSize`](#formatReadableSize) 및 [`formatReadableDecimalSize`](#formatReadableDecimalSize)입니다.


**문법**

```sql
parseReadableSizeOrZero(x)
```

**인수**

- `x` — ISO/IEC 80000-13 또는 십진수 바이트 단위로 읽을 수 있는 크기. [`String`](/sql-reference/data-types/string)


**반환 값**

가장 가까운 정수로 반올림한 바이트 수를 반환하거나 입력 값을 파싱할 수 없는 경우 `0`을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT arrayJoin(['1 B', '1 KiB', '3 MB', '5.314 KiB', 'invalid']) AS readable_sizes, parseReadableSizeOrZero(readable_sizes) AS sizes;
```

```response title=Response
┌─readable_sizes─┬───sizes─┐
│ 1 B            │       1 │
│ 1 KiB          │    1024 │
│ 3 MB           │ 3000000 │
│ 5.314 KiB      │    5442 │
│ invalid        │       0 │
└────────────────┴─────────┘
```
## parseTimeDelta {#parseTimeDelta}

Introduced in: v22.7


유사한 시간 단위로 끝나는 숫자의 시퀀스를 구문 분석합니다.

시간 델타 문자열은 다음 시간 단위 사양을 사용합니다:
- `years`, `year`, `yr`, `y`
- `months`, `month`, `mo`
- `weeks`, `week`, `w`
- `days`, `day`, `d`
- `hours`, `hour`, `hr`, `h`
- `minutes`, `minute`, `min`, `m`
- `seconds`, `second`, `sec`, `s`
- `milliseconds`, `millisecond`, `millisec`, `ms`
- `microseconds`, `microsecond`, `microsec`, `μs`, `µs`, `us`
- `nanoseconds`, `nanosecond`, `nanosec`, `ns`

여러 시간 단위는 구분 기호(공백, `;`, `-`, `+`, `,`, `:`)로 결합될 수 있습니다.

년 및 월의 길이는 근사치입니다: 1년은 365일, 1개월은 30.5일입니다.
    

**문법**

```sql
parseTimeDelta(timestr)
```

**인수**

- `timestr` — 시간 단위를 나타내는 숫자 시퀀스. [`String`](/sql-reference/data-types/string)


**반환 값**

초 수를 반환합니다. [`Float64`](/sql-reference/data-types/float)

**예제**

**사용 예제**

```sql title=Query
SELECT parseTimeDelta('11s+22min')
```

```response title=Response
┌─parseTimeDelta('11s+22min')─┐
│                        1331 │
└─────────────────────────────┘
```

**복잡한 시간 단위**

```sql title=Query
SELECT parseTimeDelta('1yr2mo')
```

```response title=Response
┌─parseTimeDelta('1yr2mo')─┐
│                 36806400 │
└──────────────────────────┘
```
## partitionId {#partitionId}

Introduced in: v21.4


[파티션 ID](../../engines/table-engines/mergetree-family/custom-partitioning-key.md)를 계산합니다.

:::note
이 함수는 느리며 많은 행에 대해 호출해서는 안 됩니다.
:::


**문법**

```sql
partitionId(column1[, column2, ...])
```

**별칭**: `partitionID`

**인수**

- `column1, column2, ...` — 파티션 ID를 반환할 컬럼. 

**반환 값**

행이 속한 파티션 ID를 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
DROP TABLE IF EXISTS tab;

CREATE TABLE tab
(
  i int,
  j int
)
ENGINE = MergeTree
PARTITION BY i
ORDER BY tuple();

INSERT INTO tab VALUES (1, 1), (1, 2), (1, 3), (2, 4), (2, 5), (2, 6);

SELECT i, j, partitionId(i), _partition_id FROM tab ORDER BY i, j;
```

```response title=Response
┌─i─┬─j─┬─partitionId(i)─┬─_partition_id─┐
│ 1 │ 1 │ 1              │ 1             │
│ 1 │ 2 │ 1              │ 1             │
│ 1 │ 3 │ 1              │ 1             │
│ 2 │ 4 │ 2              │ 2             │
│ 2 │ 5 │ 2              │ 2             │
│ 2 │ 6 │ 2              │ 2             │
└───┴───┴────────────────┴───────────────┘
```
## queryID {#queryID}

Introduced in: v21.9


현재 쿼리의 ID를 반환합니다.
쿼리의 다른 매개변수는 [`system.query_log`](../../operations/system-tables/query_log.md) 테이블의 `query_id` 필드에서 추출할 수 있습니다.

[`initialQueryID`](#initialQueryID) 함수와는 달리, `queryID`는 서로 다른 샤드에서 서로 다른 결과를 반환할 수 있습니다.


**문법**

```sql
queryID()
```

**별칭**: `query_id`

**인수**

- 없음.

**반환 값**

현재 쿼리의 ID를 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
CREATE TABLE tmp (str String) ENGINE = Log;
INSERT INTO tmp (*) VALUES ('a');
SELECT count(DISTINCT t) FROM (SELECT queryID() AS t FROM remote('127.0.0.{1..3}', currentDatabase(), 'tmp') GROUP BY queryID());
```

```response title=Response
┌─count(DISTINCT t)─┐
│                 3 │
└───────────────────┘
```
## revision {#revision}

Introduced in: v22.7


현재 ClickHouse 서버 수정 버전을 반환합니다.
    

**문법**

```sql
revision()
```

**인수**

- 없음.

**반환 값**

현재 ClickHouse 서버 수정 버전을 반환합니다. [`UInt32`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT revision()
```

```response title=Response
┌─revision()─┐
│      54485 │
└────────────┘
```
## rowNumberInAllBlocks {#rowNumberInAllBlocks}

Introduced in: v1.1


처리된 각 행에 대한 고유한 행 번호를 반환합니다.
    

**문법**

```sql
rowNumberInAllBlocks()
```

**인수**

- 없음.

**반환 값**

0부터 시작하는 데이터 블록에서의 행의 순서 번호를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT rowNumberInAllBlocks()
FROM
(
    SELECT *
    FROM system.numbers_mt
    LIMIT 10
)
SETTINGS max_block_size = 2
```

```response title=Response
┌─rowNumberInAllBlocks()─┐
│                      0 │
│                      1 │
└────────────────────────┘
┌─rowNumberInAllBlocks()─┐
│                      4 │
│                      5 │
└────────────────────────┘
┌─rowNumberInAllBlocks()─┐
│                      2 │
│                      3 │
└────────────────────────┘
┌─rowNumberInAllBlocks()─┐
│                      6 │
│                      7 │
└────────────────────────┘
┌─rowNumberInAllBlocks()─┐
│                      8 │
│                      9 │
└────────────────────────┘
```
## rowNumberInBlock {#rowNumberInBlock}

Introduced in: v1.1


`rowNumberInBlock`에 의해 처리된 각 [블록](../../development/architecture.md#block)에 대해 현재 행의 번호를 반환합니다.

반환된 번호는 각 블록에 대해 0부터 시작합니다.
    

**문법**

```sql
rowNumberInBlock()
```

**인수**

- 없음.

**반환 값**

0부터 시작하는 데이터 블록에서의 행의 순서 번호를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT rowNumberInBlock()
FROM
(
    SELECT *
    FROM system.numbers_mt
    LIMIT 10
) SETTINGS max_block_size = 2
```

```response title=Response
┌─rowNumberInBlock()─┐
│                  0 │
│                  1 │
└────────────────────┘
┌─rowNumberInBlock()─┐
│                  0 │
│                  1 │
└────────────────────┘
┌─rowNumberInBlock()─┐
│                  0 │
│                  1 │
└────────────────────┘
┌─rowNumberInBlock()─┐
│                  0 │
│                  1 │
└────────────────────┘
┌─rowNumberInBlock()─┐
│                  0 │
│                  1 │
└────────────────────┘
```
## runningAccumulate {#runningAccumulate}

Introduced in: v1.1


데이터 블록의 각 행에 대한 집계 함수의 상태를 누적합니다.

:::warning Deprecated
상태는 각 새 데이터 블록에 대해 초기화됩니다.
이 오류가 발생하기 쉬운 동작으로 인해 이 함수는 더 이상 사용되지 않으며, 대신 [윈도우 함수](/sql-reference/window-functions)를 사용하는 것이 좋습니다.
이 함수를 사용하려면 설정 [`allow_deprecated_error_prone_window_functions`](/operations/settings/settings#allow_deprecated_error_prone_window_functions)를 활성화할 수 있습니다.
:::


**문법**

```sql
runningAccumulate(agg_state[, grouping])
```

**인수**

- `agg_state` — 집계 함수의 상태. [`AggregateFunction`](/sql-reference/data-types/aggregatefunction)
- `grouping` — 선택 사항. 그룹화 키. `grouping` 값이 변경되면 함수의 상태가 초기화됩니다. 이는 동등성 연산자가 정의된 모든 지원 데이터 유형일 수 있습니다. [`Any`](/sql-reference/data-types)


**반환 값**

각 행에 대한 누적 결과를 반환합니다. [`Any`](/sql-reference/data-types)

**예제**

**initializeAggregation을 사용한 사용 예**

```sql title=Query
WITH initializeAggregation('sumState', number) AS one_row_sum_state
SELECT
    number,
    finalizeAggregation(one_row_sum_state) AS one_row_sum,
    runningAccumulate(one_row_sum_state) AS cumulative_sum
FROM numbers(5);
```

```response title=Response
┌─number─┬─one_row_sum─┬─cumulative_sum─┐
│      0 │           0 │              0 │
│      1 │           1 │              1 │
│      2 │           2 │              3 │
│      3 │           3 │              6 │
│      4 │           4 │             10 │
└────────┴─────────────┴────────────────┘
```
## runningConcurrency {#runningConcurrency}

Introduced in: v21.3


동시 이벤트의 수를 계산합니다.
각 이벤트는 시작 시간과 종료 시간을 가집니다.
시작 시간은 이벤트에 포함되고, 종료 시간은 제외됩니다.
시작 시간과 종료 시간을 가진 열은 동일한 데이터 유형이어야 합니다.
이 함수는 각 이벤트 시작 시간에 대한 활성(동시) 이벤트의 총 수를 계산합니다.

:::tip Requirements
이벤트는 시작 시간에 따라 오름차순으로 정렬되어야 합니다.
이 요구 사항이 위반될 경우 함수는 예외를 발생시킵니다.
모든 데이터 블록은 개별적으로 처리됩니다.
서로 다른 데이터 블록의 이벤트가 겹치면 올바르게 처리할 수 없습니다.
:::

:::warning Deprecated
대신 [윈도우 함수](/sql-reference/window-functions)를 사용하는 것이 좋습니다.
:::


**문법**

```sql
runningConcurrency(start, end)
```

**인수**

- `start` — 이벤트의 시작 시간을 가진 열. [`Date`](/sql-reference/data-types/date) 또는 [`DateTime`](/sql-reference/data-types/datetime) 또는 [`DateTime64`](/sql-reference/data-types/datetime64)
- `end` — 이벤트의 종료 시간을 가진 열. [`Date`](/sql-reference/data-types/date) 또는 [`DateTime`](/sql-reference/data-types/datetime) 또는 [`DateTime64`](/sql-reference/data-types/datetime64)


**반환 값**

각 이벤트 시작 시간에서 동시 이벤트의 수를 반환합니다. [`UInt32`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT start, runningConcurrency(start, end) FROM example_table;
```

```response title=Response
┌──────start─┬─runningConcurrency(start, end)─┐
│ 2025-03-03 │                              1 │
│ 2025-03-06 │                              2 │
│ 2025-03-07 │                              3 │
│ 2025-03-11 │                              2 │
└────────────┴────────────────────────────────┘
```
## runningDifference {#runningDifference}

Introduced in: v1.1


데이터 블록 내 두 개의 연속 행 값 사이의 차이를 계산합니다.
첫 번째 행에서는 `0`을 반환하고, 이후 행에서는 이전 행과의 차이를 반환합니다.

:::warning Deprecated
현재 처리된 데이터 블록 내에서만 차이를 반환합니다.
이 오류가 발생하기 쉬운 동작으로 인해 이 함수는 더 이상 사용되지 않습니다.
대신 [윈도우 함수](/sql-reference/window-functions)를 사용하는 것이 좋습니다.

설정 [`allow_deprecated_error_prone_window_functions`](/operations/settings/settings#allow_deprecated_error_prone_window_functions)를 사용하여 이 함수를 사용할 수 있습니다.
:::

함수의 결과는 영향을 받는 데이터 블록과 블록 내 데이터의 순서에 따라 달라집니다.
`runningDifference()`의 계산 중 행의 순서는 사용자에게 반환된 행의 순서와 다를 수 있습니다.
이를 방지하려면 [`ORDER BY`](../../sql-reference/statements/select/order-by.md)를 사용하여 하위 쿼리를 생성하고 하위 쿼리 외부에서 함수를 호출할 수 있습니다.
블록 크기가 결과에 영향을 미친다는 점에 유의하십시오.
`runningDifference` 상태의 내부 상태는 각 새 블록에 대해 초기화됩니다.


**문법**

```sql
runningDifference(x)
```

**인수**

- `x` — 실행 차이를 계산할 열. [`Any`](/sql-reference/data-types)


**반환 값**

연속 값 사이의 차이를 반환하며 첫 번째 행에는 0을 반환합니다.

**예제**

**사용 예제**

```sql title=Query
SELECT
    EventID,
    EventTime,
    runningDifference(EventTime) AS delta
FROM
(
    SELECT
        EventID,
        EventTime
    FROM events
    WHERE EventDate = '2025-11-24'
    ORDER BY EventTime ASC
    LIMIT 5
);
```

```response title=Response
┌─EventID─┬───────────EventTime─┬─delta─┐
│    1106 │ 2025-11-24 00:00:04 │     0 │
│    1107 │ 2025-11-24 00:00:05 │     1 │
│    1108 │ 2025-11-24 00:00:05 │     0 │
│    1109 │ 2025-11-24 00:00:09 │     4 │
│    1110 │ 2025-11-24 00:00:10 │     1 │
└─────────┴─────────────────────┴───────┘
```

**블록 크기 영향 예**

```sql title=Query
SELECT
    number,
    runningDifference(number + 1) AS diff
FROM numbers(100000)
WHERE diff != 1;
```

```response title=Response
┌─number─┬─diff─┐
│      0 │    0 │
└────────┴──────┘
┌─number─┬─diff─┐
│  65536 │    0 │
└────────┴──────┘
```
## runningDifferenceStartingWithFirstValue {#runningDifferenceStartingWithFirstValue}

Introduced in: v1.1


데이터 블록의 두 연속 행 값 사이의 차이를 계산하지만, [`runningDifference`](#runningDifference)와 달리 첫 번째 행의 실제 값을 반환합니다.

:::warning Deprecated
현재 처리된 데이터 블록 내에서만 차이를 반환합니다.
이 오류가 발생하기 쉬운 동작으로 인해 이 함수는 더 이상 사용되지 않습니다.
대신 [윈도우 함수](/sql-reference/window-functions)를 사용하는 것이 좋습니다.

설정 `allow_deprecated_error_prone_window_functions`를 사용하여 이 함수를 사용할 수 있습니다.
:::


**문법**

```sql
runningDifferenceStartingWithFirstValue(x)
```

**인수**

- `x` — 실행 차이를 계산할 열. [`Any`](/sql-reference/data-types)


**반환 값**

연속 값 사이의 차이를 반환하며 첫 번째 행에는 첫 번째 행의 값을 반환합니다. [`Any`](/sql-reference/data-types)

**예제**

**사용 예제**

```sql title=Query
SELECT
    number,
    runningDifferenceStartingWithFirstValue(number) AS diff
FROM numbers(5);
```

```response title=Response
┌─number─┬─diff─┐
│      0 │    0 │
│      1 │    1 │
│      2 │    1 │
│      3 │    1 │
│      4 │    1 │
└────────┴──────┘
```
## serverUUID {#serverUUID}

Introduced in: v20.1


서버가 처음 시작될 때 생성된 임의의 고유 UUID(v4)를 반환합니다.
UUID는 지속적이며, 즉 두 번째, 세 번째 등의 서버 시작 시 동일한 UUID를 반환합니다.
    

**문법**

```sql
serverUUID()
```

**인수**

- 없음.

**반환 값**

서버의 임의 UUID를 반환합니다. [`UUID`](/sql-reference/data-types/uuid)

**예제**

**사용 예제**

```sql title=Query
SELECT serverUUID();
```

```response title=Response
┌─serverUUID()─────────────────────────────┐
│ 7ccc9260-000d-4d5c-a843-5459abaabb5f     │
└──────────────────────────────────────────┘
```
## shardCount {#shardCount}

Introduced in: v21.9


분산 쿼리에 대한 총 샤드 수를 반환합니다.
쿼리가 분산되지 않은 경우 상수 값 `0`이 반환됩니다.


**문법**

```sql
shardCount()
```

**인수**

- 없음.

**반환 값**

총 샤드 수 또는 `0`을 반환합니다. [`UInt32`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
-- See shardNum() example above which also demonstrates shardCount()
CREATE TABLE shard_count_example (dummy UInt8)
ENGINE=Distributed(test_cluster_two_shards_localhost, system, one, dummy);
SELECT shardCount() FROM shard_count_example;
```

```response title=Response
┌─shardCount()─┐
│            2 │
│            2 │
└──────────────┘
```
## shardNum {#shardNum}

Introduced in: v21.9


분산 쿼리에서 데이터를 처리하는 샤드의 인덱스를 반환합니다.
인덱스는 `1`부터 시작합니다.
쿼리가 분산되지 않은 경우 상수 값 `0`이 반환됩니다.


**문법**

```sql
shardNum()
```

**인수**

- 없음.

**반환 값**

샤드 인덱스 또는 상수 `0`을 반환합니다. [`UInt32`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
CREATE TABLE shard_num_example (dummy UInt8)
ENGINE=Distributed(test_cluster_two_shards_localhost, system, one, dummy);
SELECT dummy, shardNum(), shardCount() FROM shard_num_example;
```

```response title=Response
┌─dummy─┬─shardNum()─┬─shardCount()─┐
│     0 │          1 │            2 │
│     0 │          2 │            2 │
└───────┴────────────┴──────────────┘
```
## showCertificate {#showCertificate}

Introduced in: v22.6


구성된 경우 현재 서버의 SSL(Secure Sockets Layer) 인증서에 대한 정보를 표시합니다.
ClickHouse가 OpenSSL 인증서를 사용하여 연결을 검증하도록 구성하는 방법에 대한 자세한 내용은 [SSL-TLS 구성하기](/guides/sre/configuring-ssl)를 참조하십시오.
    

**문법**

```sql
showCertificate()
```

**인수**

- 없음.

**반환 값**

구성된 SSL 인증서와 관련된 키-값 쌍의 맵을 반환합니다. [`Map(String, String)`](/sql-reference/data-types/map)

**예제**

**사용 예제**

```sql title=Query
SELECT showCertificate() FORMAT LineAsString;
```

```response title=Response
{'version':'1','serial_number':'2D9071D64530052D48308473922C7ADAFA85D6C5','signature_algo':'sha256WithRSAEncryption','issuer':'/CN=marsnet.local CA','not_before':'May  7 17:01:21 2024 GMT','not_after':'May  7 17:01:21 2025 GMT','subject':'/CN=chnode1','pkey_algo':'rsaEncryption'}
```
## sleep {#sleep}

Introduced in: v1.1


쿼리 실행을 지정한 초 수 동안 일시 중지합니다.
이 함수는 주로 테스트 및 디버깅 목적으로 사용됩니다.

`sleep()` 함수는 일반적으로 생산 환경에서 사용되지 않아야 합니다. 쿼리 성능과 시스템 응답성에 부정적인 영향을 미칠 수 있습니다.
그러나 다음과 같은 시나리오에서 유용할 수 있습니다:

1. **테스트**: ClickHouse를 테스트하거나 벤치마킹할 때 시스템이 특정 조건에서 어떻게 작동하는지 관찰하기 위해 지연을 시뮬레이션하거나 일시 중지를 도입할 수 있습니다.
2. **디버깅**: 특정 시점에서 시스템의 상태나 쿼리의 실행을 검사해야 하는 경우, `sleep()`을 사용하여 일시 중지를 도입하여 관련 정보를 검사하거나 수집할 수 있습니다.
3. **시뮬레이션**: 어떤 경우에는 지연이나 일시 중지가 발생하는 실제 상황을 시뮬레이션하고 싶을 수 있습니다. 예를 들어 네트워크 지연이나 외부 시스템 종속성이 있을 수 있습니다.

:::warning
`sleep()` 함수를 신중하게 사용하고 필요할 때만 사용하는 것이 중요합니다. 이는 ClickHouse 시스템의 전반적인 성능과 반응성에 영향을 미칠 수 있습니다.
:::

보안상의 이유로 기본 사용자 프로필( `allow_sleep` 활성화됨)에서만 이 함수를 실행할 수 있습니다.


**문법**

```sql
sleep(seconds)
```

**인수**

- `seconds` — 쿼리 실행을 일시 중지할 초 수(최대 3초). 소수점 값을 사용하여 부분 초를 지정할 수 있습니다. [`const UInt*`](/sql-reference/data-types/int-uint) 또는 [`const Float*`](/sql-reference/data-types/float)


**반환 값**

`0`을 반환합니다. [`UInt8`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
-- This query will pause for 2 seconds before completing.
-- During this time, no results will be returned, and the query will appear to be hanging or unresponsive.
SELECT sleep(2);
```

```response title=Response
┌─sleep(2)─┐
│        0 │
└──────────┘
1 row in set. Elapsed: 2.012 sec.
```
## sleepEachRow {#sleepEachRow}

Introduced in: v1.1


결과 집합의 각 행에 대해 지정된 초 수 동안 쿼리 실행을 일시 중지합니다.

`sleepEachRow()` 함수는 [`sleep()`](#sleep) 함수와 유사하게 주로 테스트 및 디버깅 목적으로 사용됩니다.
각 행의 처리에서 지연을 시뮬레이션하거나 일시 중지를 도입할 수 있어서 다음과 같은 시나리오에서 유용할 수 있습니다:

1. **테스트**: ClickHouse의 성능을 특정 조건에서 테스트하거나 벤치마킹할 때, 처리된 각 행에 대해 지연을 시뮬레이션하거나 일시 중지를 도입할 수 있습니다.
2. **디버깅**: 처리된 각 행에 대한 시스템의 상태나 쿼리의 실행을 검사해야 하는 경우, `sleepEachRow()`를 사용하여 일시 중지를 도입하여 관련 정보를 검사하거나 수집할 수 있습니다.
3. **시뮬레이션**: 어떤 경우에는 외부 시스템이나 네트워크 지연에서 문제를 처리할 때 처리된 각 행에 대해 지연이나 일시 중지를 시뮬레이션하고 싶을 수 있습니다.

:::warning
`sleep()` 함수와 마찬가지로 `sleepEachRow()`를 신중하게 사용하고 필요할 때만 사용하는 것이 중요합니다. 특히 큰 결과 집합을 처리할 때 ClickHouse 시스템의 전반적인 성능과 반응성에 큰 영향을 미칠 수 있습니다.
:::


**문법**

```sql
sleepEachRow(seconds)
```

**인수**

- `seconds` — 결과 집합의 각 행에 대해 쿼리 실행을 일시 중지할 초 수(최대 3초). 소수점 값을 사용하여 부분 초를 지정할 수 있습니다. [`const UInt*`](/sql-reference/data-types/int-uint) 또는 [`const Float*`](/sql-reference/data-types/float)


**반환 값**

각 행에 대해 `0`을 반환합니다. [`UInt8`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
-- The output will be delayed, with a 0.5-second pause between each row.
SELECT number, sleepEachRow(0.5) FROM system.numbers LIMIT 5;
```

```response title=Response
┌─number─┬─sleepEachRow(0.5)─┐
│      0 │                 0 │
│      1 │                 0 │
│      2 │                 0 │
│      3 │                 0 │
│      4 │                 0 │
└────────┴───────────────────┘
```
## structureToCapnProtoSchema {#structureToCapnProtoSchema}

Introduced in: v


ClickHouse 테이블 구조를 CapnProto 형식 스키마로 변환하는 함수


**문법**

```sql

```

**인수**

- 없음.

**반환 값**



**예제**

**random**

```sql title=Query
SELECT structureToCapnProtoSchema('s String, x UInt32', 'MessageName') format TSVRaw
```

```response title=Response
struct MessageName
{
    s @0 : Data;
    x @1 : UInt32;
}
```
## structureToProtobufSchema {#structureToProtobufSchema}

Introduced in: v23.8


ClickHouse 테이블 구조를 Protobuf 형식 스키마로 변환합니다.

이 함수는 ClickHouse 테이블 구조 정의를 사용하여 proto3 구문에서 Protocol Buffers (Protobuf) 스키마 정의로 변환합니다. 이는 ClickHouse 테이블 구조에 맞는 Protobuf 스키마를 생성하는 데 유용합니다.
    

**문법**

```sql
structureToProtobufSchema(structure, message_name)
```

**인수**

- `structure` — ClickHouse 테이블 구조 정의를 문자열로 나타낸 것(예: 'column1 Type1, column2 Type2'). [`String`](/sql-reference/data-types/string)
- `message_name` — 생성된 스키마에서 Protobuf 메시지 유형의 이름. [`String`](/sql-reference/data-types/string)


**반환 값**

입력 ClickHouse 구조에 해당하는 proto3 구문에서의 Protobuf 스키마 정의를 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**ClickHouse 구조를 Protobuf 스키마로 변환**

```sql title=Query
SELECT structureToProtobufSchema('s String, x UInt32', 'MessageName') FORMAT TSVRaw;
```

```response title=Response
syntax = "proto3";

message MessageName
{
    bytes s = 1;
    uint32 x = 2;
}
```
## tcpPort {#tcpPort}

Introduced in: v20.12


서버에서 청취하는 [내부 인터페이스](../../interfaces/tcp.md) TCP 포트 번호를 반환합니다.
분산 테이블의 컨텍스트에서 실행될 경우, 이 함수는 각 샤드에 대한 값이 포함된 일반 열을 생성합니다.
그렇지 않으면 상수 값을 생성합니다.
    

**문법**

```sql
tcpPort()
```

**인수**

- 없음.

**반환 값**

TCP 포트 번호를 반환합니다. [`UInt16`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT tcpPort()
```

```response title=Response
┌─tcpPort()─┐
│      9000 │
└───────────┘
```
## throwIf {#throwIf}

Introduced in: v1.1


인수 x가 true인 경우 예외를 발생시킵니다.
`error_code` 인수를 사용하려면 구성 매개변수 `allow_custom_error_code_in_throw`가 활성화되어야 합니다.


**문법**

```sql
throwIf(x[, message[, error_code]])
```

**인수**

- `x` — 확인할 조건. [`Any`](/sql-reference/data-types)
- `message` — 선택 사항. 사용자 정의 오류 메시지. [`const String`](/sql-reference/data-types/string)
- `error_code` — 선택 사항. 사용자 정의 오류 코드. [`const Int8/16/32`](/sql-reference/data-types/int-uint)


**반환 값**

조건이 거짓인 경우 `0`을 반환하고, 조건이 참인 경우 예외를 발생시킵니다. [`UInt8`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT throwIf(number = 3, 'Too many') FROM numbers(10);
```

```response title=Response
↙ Progress: 0.00 rows, 0.00 B (0.00 rows/s., 0.00 B/s.) Received exception from server (version 19.14.1):
Code: 395. DB::Exception: Received from localhost:9000. DB::Exception: Too many.
```
## toColumnTypeName {#toColumnTypeName}

Introduced in: v1.1


주어진 값의 데이터 유형의 내부 이름을 반환합니다.
함수 [`toTypeName`](#toTypeName)와 달리, 반환되는 데이터 타입은 `Const` 및 `LowCardinality`와 같은 내부 래퍼 컬럼을 포함할 수 있습니다.


**문법**

```sql
toColumnTypeName(value)
```

**인수**

- `value` — 내부 데이터 타입을 반환할 값. [`Any`](/sql-reference/data-types)


**반환 값**

값을 나타내는 데 사용되는 내부 데이터 유형을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT toColumnTypeName(CAST('2025-01-01 01:02:03' AS DateTime));
```

```response title=Response
┌─toColumnTypeName(CAST('2025-01-01 01:02:03', 'DateTime'))─┐
│ Const(UInt32)                                             │
└───────────────────────────────────────────────────────────┘
```
## toTypeName {#toTypeName}

Introduced in: v1.1


전달된 인수의 유형 이름을 반환합니다.
`NULL`이 전달되면, 이 함수는 `Nullable(Nothing)` 유형을 반환하며, 이는 ClickHouse의 내부 `NULL` 표현에 해당합니다.
    

**문법**

```sql
toTypeName(x)
```

**인수**

- `x` — 임의의 유형의 값. [`Any`](/sql-reference/data-types)


**반환 값**

입력 값의 데이터 유형 이름을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT toTypeName(123)
```

```response title=Response
┌─toTypeName(123)─┐
│ UInt8           │
└─────────────────┘
```
## transactionID {#transactionID}

Introduced in: v22.6


<ExperimentalBadge/>
<CloudNotSupportedBadge/>

트랜잭션의 ID를 반환합니다.

:::note
이 함수는 실험적인 기능 세트의 일부입니다.
이 설정을 [구성](/operations/configuration-files)에 추가하여 실험적인 트랜잭션 지원을 활성화하십시오:

```xml
<clickhouse>
    <allow_experimental_transactions>1</allow_experimental_transactions>
</clickhouse>
```

자세한 내용은 [Transactional (ACID) support](/guides/developer/transactional#transactions-commit-and-rollback) 페이지를 참조하십시오.
:::
    

**문법**

```sql
transactionID()
```

**인수**

- 없음.

**반환 값**

`start_csn`, `local_tid` 및 `host_id`로 구성된 튜플을 반환합니다.
- `start_csn`: 트랜잭션이 시작될 때 보았던 최신 커밋 타임스탬프의 전역 순차 번호입니다.
- `local_tid`: 특정 `start_csn` 내에서 이 호스트에 의해 시작된 각 트랜잭션에 대해 고유한 로컬 순차 번호입니다.
- `host_id`: 이 트랜잭션을 시작한 호스트의 UUID입니다.
     [`Tuple(UInt64, UInt64, UUID)`](/sql-reference/data-types/tuple)

**예제**

**사용 예제**

```sql title=Query
BEGIN TRANSACTION;
SELECT transactionID();
ROLLBACK;
```

```response title=Response
┌─transactionID()────────────────────────────────┐
│ (32,34,'0ee8b069-f2bb-4748-9eae-069c85b5252b') │
└────────────────────────────────────────────────┘
```
## transactionLatestSnapshot {#transactionLatestSnapshot}

Introduced in: v22.6


<ExperimentalBadge/>
<CloudNotSupportedBadge/>

읽을 수 있는 트랜잭션의 최신 스냅샷(커밋 시퀀스 번호)을 반환합니다.

:::note
이 함수는 실험적인 기능 세트의 일부입니다. 이 설정을 구성에 추가하여 실험적인 트랜잭션 지원을 활성화하십시오:

```xml
<clickhouse>
    <allow_experimental_transactions>1</allow_experimental_transactions>
</clickhouse>
```

자세한 내용은 [Transactional (ACID) support](/guides/developer/transactional#transactions-commit-and-rollback) 페이지를 참조하십시오.
:::
    

**문법**

```sql
transactionLatestSnapshot()
```

**인수**

- 없음.

**반환 값**

트랜잭션의 최신 스냅샷(CSN)을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
BEGIN TRANSACTION;
SELECT transactionLatestSnapshot();
ROLLBACK;
```

```response title=Response
┌─transactionLatestSnapshot()─┐
│                          32 │
└─────────────────────────────┘
```
## transactionOldestSnapshot {#transactionOldestSnapshot}

Introduced in: v22.6


<ExperimentalBadge/>
<CloudNotSupportedBadge/>

실행 중인 트랜잭션에 대해 볼 수 있는 가장 오래된 스냅샷(커밋 시퀀스 번호)을 반환합니다.

:::note
이 함수는 실험적인 기능 세트의 일부입니다. 이 설정을 구성에 추가하여 실험적인 트랜잭션 지원을 활성화하십시오:

```xml
<clickhouse>
    <allow_experimental_transactions>1</allow_experimental_transactions>
</clickhouse>
```

자세한 내용은 [Transactional (ACID) support](/guides/developer/transactional#transactions-commit-and-rollback) 페이지를 참조하십시오.
:::


**문법**

```sql
transactionOldestSnapshot()
```

**인수**

- 없음.

**반환 값**

트랜잭션의 가장 오래된 스냅샷(CSN)을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
BEGIN TRANSACTION;
SELECT transactionOldestSnapshot();
ROLLBACK;
```

```response title=Response
┌─transactionOldestSnapshot()─┐
│                          32 │
└─────────────────────────────┘
```
## transform {#transform}

Introduced in: v1.1


특정 요소를 다른 요소로 명시적으로 정의된 매핑에 따라 값을 변환합니다.

이 함수는 두 가지 변형이 있습니다:
- `transform(x, array_from, array_to, default)` - 매핑 배열을 사용하여 `x`를 변환하고, 일치하지 않는 요소에 대한 기본값을 지정합니다.
- `transform(x, array_from, array_to)` - 동일한 변환이지만 일치 항목이 없으면 원래 `x`를 반환합니다.

이 함수는 `array_from`에서 `x`를 검색하고 해당 인덱스에서 `array_to`에서 일치하는 요소를 반환합니다.
`x`가 `array_from`에서 발견되지 않으면 `default` 값(4-매개변수 버전) 또는 원래 `x`(3-매개변수 버전)를 반환합니다.
`array_from`에 일치하는 여러 요소가 있을 경우, 첫 번째 일치 항목에 해당하는 요소를 반환합니다.

요구 사항:
- `array_from` 및 `array_to`는 동일한 수의 요소를 가져야 합니다.
- 4-매개변수 버전: `transform(T, Array(T), Array(U), U) -> U` 여기서 `T`와 `U`는 서로 다른 호환 유형일 수 있습니다.
- 3-매개변수 버전: `transform(T, Array(T), Array(T)) -> T` 모든 유형은 동일해야 합니다.


**문법**

```sql
transform(x, array_from, array_to[, default])
```

**인수**

- `x` — 변환할 값. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Decimal`](/sql-reference/data-types/decimal) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`String`](/sql-reference/data-types/string) 또는 [`Date`](/sql-reference/data-types/date) 또는 [`DateTime`](/sql-reference/data-types/datetime)
- `array_from` — 일치 항목을 찾기 위한 값의 상수 배열. [`Array((U)Int*)`](/sql-reference/data-types/array) 또는 [`Array(Decimal)`](/sql-reference/data-types/array) 또는 [`Array(Float*)`](/sql-reference/data-types/array) 또는 [`Array(String)`](/sql-reference/data-types/array) 또는 [`Array(Date)`](/sql-reference/data-types/array) 또는 [`Array(DateTime)`](/sql-reference/data-types/array)
- `array_to` — `array_from`에서의 일치 항목에 대해 반환할 값을 위한 상수 배열. [`Array((U)Int*)`](/sql-reference/data-types/array) 또는 [`Array(Decimal)`](/sql-reference/data-types/array) 또는 [`Array(Float*)`](/sql-reference/data-types/array) 또는 [`Array(String)`](/sql-reference/data-types/array) 또는 [`Array(Date)`](/sql-reference/data-types/array) 또는 [`Array(DateTime)`](/sql-reference/data-types/array)
- `default` — 선택 사항. `x`가 `array_from`에서 발견되지 않았을 때 반환할 값. 생략하면 `x`는 변경되지 않고 반환됩니다. [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Decimal`](/sql-reference/data-types/decimal) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`String`](/sql-reference/data-types/string) 또는 [`Date`](/sql-reference/data-types/date) 또는 [`DateTime`](/sql-reference/data-types/datetime)


**반환 값**

`array_from`에서 요소와 일치하는 경우, `array_to`에서 해당 값을 반환하고, 그렇지 않으면 기본값(제공된 경우) 또는 `x`(기본값 제공되지 않은 경우)를 반환합니다. [`Any`](/sql-reference/data-types)

**예제**

**transform(T, Array(T), Array(U), U) -> U**

```sql title=Query
SELECT
transform(SearchEngineID, [2, 3], ['Yandex', 'Google'], 'Other') AS title,
count() AS c
FROM test.hits
WHERE SearchEngineID != 0
GROUP BY title
ORDER BY c DESC
```

```response title=Response
┌─title─────┬──────c─┐
│ Yandex    │ 498635 │
│ Google    │ 229872 │
│ Other     │ 104472 │
└───────────┴────────┘
```

**transform(T, Array(T), Array(T)) -> T**

```sql title=Query
SELECT
transform(domain(Referer), ['yandex.ru', 'google.ru', 'vkontakte.ru'], ['www.yandex', 'example.com', 'vk.com']) AS s, count() AS c
FROM test.hits
GROUP BY domain(Referer)
ORDER BY count() DESC
LIMIT 10
```

```response title=Response
┌─s──────────────┬───────c─┐
│                │ 2906259 │
│ www.yandex     │  867767 │
│ ███████.ru     │  313599 │
│ mail.yandex.ru │  107147 │
│ ██████.ru      │  100355 │
│ █████████.ru   │   65040 │
│ news.yandex.ru │   64515 │
│ ██████.net     │   59141 │
│ example.com    │   57316 │
└────────────────┴─────────┘
```
## uniqThetaIntersect {#uniqThetaIntersect}

Introduced in: v22.9


두 개의 uniqThetaSketch 객체로 교차 계산(집합 연산 ∩) 을 수행하며, 결과는 새로운 uniqThetaSketch입니다.
    

**문법**

```sql
uniqThetaIntersect(uniqThetaSketch,uniqThetaSketch)
```

**인수**

- `uniqThetaSketch` — uniqThetaSketch 객체. [`Tuple`](/sql-reference/data-types/tuple) 또는 [`Array`](/sql-reference/data-types/array) 또는 [`Date`](/sql-reference/data-types/date) 또는 [`DateTime`](/sql-reference/data-types/datetime) 또는 [`String`](/sql-reference/data-types/string) 또는 [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Decimal`](/sql-reference/data-types/decimal)


**반환 값**

교차 결과를 포함하는 새로운 uniqThetaSketch를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT finalizeAggregation(uniqThetaIntersect(a, b)) AS a_intersect_b, finalizeAggregation(a) AS a_cardinality, finalizeAggregation(b) AS b_cardinality
FROM
(SELECT arrayReduce('uniqThetaState', [1, 2]) AS a, arrayReduce('uniqThetaState', [2, 3, 4]) AS b);
```

```response title=Response
┌─a_intersect_b─┬─a_cardinality─┬─b_cardinality─┐
│             1 │             2 │             3 │
└───────────────┴───────────────┴───────────────┘
```
## uniqThetaNot {#uniqThetaNot}

Introduced in: v22.9


두 개의 uniqThetaSketch 객체로 a_not_b 계산(집합 연산 ×)을 수행하며, 결과는 새로운 uniqThetaSketch입니다.
    

**문법**

```sql
uniqThetaNot(uniqThetaSketch,uniqThetaSketch)
```

**인수**

- `uniqThetaSketch` — uniqThetaSketch 객체. [`Tuple`](/sql-reference/data-types/tuple) 또는 [`Array`](/sql-reference/data-types/array) 또는 [`Date`](/sql-reference/data-types/date) 또는 [`DateTime`](/sql-reference/data-types/datetime) 또는 [`String`](/sql-reference/data-types/string) 또는 [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Decimal`](/sql-reference/data-types/decimal)


**반환 값**

a_not_b 결과를 포함하는 새로운 uniqThetaSketch를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT finalizeAggregation(uniqThetaNot(a, b)) AS a_not_b, finalizeAggregation(a) AS a_cardinality, finalizeAggregation(b) AS b_cardinality
FROM
(SELECT arrayReduce('uniqThetaState', [2, 3, 4]) AS a, arrayReduce('uniqThetaState', [1, 2]) AS b);
```

```response title=Response
┌─a_not_b─┬─a_cardinality─┬─b_cardinality─┐
│       2 │             3 │             2 │
└─────────┴───────────────┴───────────────┘
```
## uniqThetaUnion {#uniqThetaUnion}

Introduced in: v22.9


두 개의 uniqThetaSketch 객체로 합집합 계산(집합 연산 ∪) 을 수행하며, 결과는 새로운 uniqThetaSketch입니다.
    

**문법**

```sql
uniqThetaUnion(uniqThetaSketch,uniqThetaSketch)
```

**인수**

- `uniqThetaSketch` — uniqThetaSketch 객체. [`Tuple`](/sql-reference/data-types/tuple) 또는 [`Array`](/sql-reference/data-types/array) 또는 [`Date`](/sql-reference/data-types/date) 또는 [`DateTime`](/sql-reference/data-types/datetime) 또는 [`String`](/sql-reference/data-types/string) 또는 [`(U)Int*`](/sql-reference/data-types/int-uint) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`Decimal`](/sql-reference/data-types/decimal)


**반환 값**

합집합 결과를 포함하는 새로운 uniqThetaSketch를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT finalizeAggregation(uniqThetaUnion(a, b)) AS a_union_b, finalizeAggregation(a) AS a_cardinality, finalizeAggregation(b) AS b_cardinality
FROM
(SELECT arrayReduce('uniqThetaState', [1, 2]) AS a, arrayReduce('uniqThetaState', [2, 3, 4]) AS b);
```

```response title=Response
┌─a_union_b─┬─a_cardinality─┬─b_cardinality─┐
│         4 │             2 │             3 │
└───────────┴───────────────┴───────────────┘
```
## uptime {#uptime}

Introduced in: v1.1


서버의 가동 시간을 초 단위로 반환합니다.
분산 테이블의 맥락에서 실행되는 경우, 이 함수는 각 샤드와 관련된 값을 가진 정상 열을 생성합니다.
그렇지 않으면 상수 값을 생성합니다.
    

**문법**

```sql
uptime()
```

**인수**

- 없음.

**반환 값**

서버의 가동 시간을 초 단위로 반환합니다. [`UInt32`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT uptime() AS Uptime
```

```response title=Response
┌─Uptime─┐
│  55867 │
└────────┘
```
## variantElement {#variantElement}

Introduced in: v25.2


`Variant` 컬럼에서 지정된 타입의 컬럼을 추출합니다.


**문법**

```sql
variantElement(variant, type_name[, default_value])
```

**인수**

- `variant` — Variant 컬럼. [`Variant`](/sql-reference/data-types/variant)
- `type_name` — 추출할 변형 타입의 이름. [`String`](/sql-reference/data-types/string)
- `default_value` — 변형이 지정된 타입의 변형을 포함하지 않는 경우 사용할 기본값. 어떤 타입도 될 수 있습니다. 선택적입니다. [`Any`](/sql-reference/data-types)


**반환 값**

Variant 컬럼에서 추출된 지정된 변형 타입의 컬럼을 반환합니다. [`Any`](/sql-reference/data-types)

**예시**

**사용 예시**

```sql title=Query
CREATE TABLE test (v Variant(UInt64, String, Array(UInt64))) ENGINE = Memory;
INSERT INTO test VALUES (NULL), (42), ('Hello, World!'), ([1, 2, 3]);
SELECT v, variantElement(v, 'String'), variantElement(v, 'UInt64'), variantElement(v, 'Array(UInt64)') FROM test;
```

```response title=Response
┌─v─────────────┬─variantElement(v, 'String')─┬─variantElement(v, 'UInt64')─┬─variantElement(v, 'Array(UInt64)')─┐
│ ᴺᵁᴸᴸ          │ ᴺᵁᴸᴸ                        │                        ᴺᵁᴸᴸ │ []                                 │
│ 42            │ ᴺᵁᴸᴸ                        │                          42 │ []                                 │
│ Hello, World! │ Hello, World!               │                        ᴺᵁᴸᴸ │ []                                 │
│ [1,2,3]       │ ᴺᵁᴸᴸ                        │                        ᴺᵁᴸᴸ │ [1,2,3]                            │
└───────────────┴─────────────────────────────┴─────────────────────────────┴────────────────────────────────────┘
```
## variantType {#variantType}

Introduced in: v24.2


`Variant` 컬럼의 각 행에 대한 변형 타입 이름을 반환합니다. 행에 NULL이 포함된 경우 'None'을 반환합니다.


**문법**

```sql
variantType(variant)
```

**인수**

- `variant` — Variant 컬럼. [`Variant`](/sql-reference/data-types/variant)


**반환 값**

각 행에 대한 변형 타입 이름이 포함된 열거형 컬럼을 반환합니다. [`Enum`](/sql-reference/data-types/enum)

**예시**

**사용 예시**

```sql title=Query
CREATE TABLE test (v Variant(UInt64, String, Array(UInt64))) ENGINE = Memory;
INSERT INTO test VALUES (NULL), (42), ('Hello, World!'), ([1, 2, 3]);
SELECT variantType(v) FROM test;
```

```response title=Response
┌─variantType(v)─┐
│ None           │
│ UInt64         │
│ String         │
│ Array(UInt64)  │
└────────────────┘
```
## version {#version}

Introduced in: v1.1


현재 ClickHouse의 버전을 문자열 형태로 반환합니다: `major_version.minor_version.patch_version.number_of_commits_since_the_previous_stable_release`.
분산 테이블의 맥락에서 실행되는 경우, 이 함수는 각 샤드와 관련된 값을 가진 정상 열을 생성합니다.
그렇지 않으면 상수 값을 생성합니다.
    

**문법**

```sql
version()
```

**인수**

- 없음.

**반환 값**

현재 ClickHouse의 버전을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**사용 예시**

```sql title=Query
SELECT version()
```

```response title=Response
┌─version()─┐
│ 24.2.1.1  │
└───────────┘
```
## visibleWidth {#visibleWidth}

Introduced in: v1.1


텍스트 형식(탭으로 구분됨)으로 값을 출력할 때의 대략적인 너비를 계산합니다.
이 함수는 시스템이 Pretty 형식을 구현하는 데 사용됩니다.
`NULL`은 Pretty 형식에서 `NULL`에 해당하는 문자열로 표현됩니다.
    

**문법**

```sql
visibleWidth(x)
```

**인수**

- `x` — 모든 데이터 타입의 값. [`Any`](/sql-reference/data-types)


**반환 값**

텍스트 형식으로 표시될 때 값의 대략적인 너비를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**NULL의 가시적 너비 계산**

```sql title=Query
SELECT visibleWidth(NULL)
```

```response title=Response
┌─visibleWidth(NULL)─┐
│                  4 │
└────────────────────┘
```
## zookeeperSessionUptime {#zookeeperSessionUptime}

Introduced in: v21.11


현재 ZooKeeper 세션의 가동 시간을 초 단위로 반환합니다.


**문법**

```sql
zookeeperSessionUptime()
```

**인수**

- 없음.

**반환 값**

현재 ZooKeeper 세션의 가동 시간을 초 단위로 반환합니다. [`UInt32`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT zookeeperSessionUptime();
```

```response title=Response
┌─zookeeperSessionUptime()─┐
│                      286 │
└──────────────────────────┘
```



<!--AUTOGENERATED_END-->
