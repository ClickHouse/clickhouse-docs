---
'description': 'URL과 함께 작업하는 데 사용되는 함수에 대한 Documentation'
'sidebar_label': 'URLs'
'slug': '/sql-reference/functions/url-functions'
'title': 'URL 작업을 위한 함수'
'doc_type': 'reference'
---


# URL 작업을 위한 함수

## 개요 {#overview}

:::note
이 섹션에서 언급된 함수들은 최대 성능을 위해 최적화되어 있으며 대부분 RFC-3986 표준을 따르지 않습니다.
RFC-3986을 구현하는 함수는 함수 이름에 `RFC`가 추가되며 일반적으로 느립니다.
:::

일반적으로 사용자 문자열이나 `@` 기호가 포함되지 않은 공개 등록 도메인 작업 시 비 `RFC` 함수 변형을 사용할 수 있습니다.
아래 표는 URL에서 각각의 `RFC` 및 비 `RFC` 변형에 의해 파싱할 수 있는(`✔`) 및 없는(`✗`) 기호를 자세히 설명합니다:

| 기호   | 비 `RFC` | `RFC` |
|-------|----------|-------|
| ' '   | ✗        |✗      |
|  \t   | ✗        |✗      |
|  &lt; | ✗        |✗      |
|  >    | ✗        |✗      |
|  %    | ✗        |✔*     |
|  \{   | ✗        |✗      |
|  }    | ✗        |✗      |
|  \|   | ✗        |✗      |
|  \\\  | ✗        |✗      |
|  ^    | ✗        |✗      |
|  ~    | ✗        |✔*     |
|  [    | ✗        |✗      |
|  ]    | ✗        |✔      |
|  ;    | ✗        |✔*     |
|  =    | ✗        |✔*     |
|  &    | ✗        |✔*     |

`*`로 표시된 기호들은 RFC 3986에서 서브 구분자로, `@` 기호 다음의 사용자 정보에 대해 허용됩니다.

URL 함수에는 두 가지 유형이 있습니다:
- URL의 일부를 추출하는 함수입니다. 관련 부분이 URL에 없으면 빈 문자열이 반환됩니다.
- URL의 일부를 제거하는 함수입니다. URL에 유사한 것이 없으면 URL은 변경되지 않습니다.

:::note
아래 함수는 `system.functions` 시스템 테이블에서 생성됩니다.
:::

<!-- 
The inner content of the tags below are replaced at doc framework build time with 
docs generated from system.functions. Please do not modify or remove the tags.
See: https://github.com/ClickHouse/clickhouse-docs/blob/main/contribute/autogenerated-documentation-from-source.md
-->

<!--AUTOGENERATED_START-->
## cutFragment {#cutFragment}

도입 버전: v1.1


URL에서 숫자 기호를 포함한 프래그먼트 식별자를 제거합니다.
    

**구문**

```sql
cutFragment(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

프래그먼트 식별자가 제거된 URL을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT cutFragment('http://example.com/path?query=value#fragment123');
```

```response title=Response
┌─cutFragment('http://example.com/path?query=value#fragment123')─┐
│ http://example.com/path?query=value                            │
└────────────────────────────────────────────────────────────────┘
```



## cutQueryString {#cutQueryString}

도입 버전: v1.1


URL에서 물음표를 포함한 쿼리 문자열을 제거합니다.
    

**구문**

```sql
cutQueryString(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

쿼리 문자열이 제거된 URL을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT cutQueryString('http://example.com/path?query=value&param=123#fragment');
```

```response title=Response
┌─cutQueryString('http://example.com/path?query=value&param=123#fragment')─┐
│ http://example.com/path#fragment                                         │
└──────────────────────────────────────────────────────────────────────────┘
```



## cutQueryStringAndFragment {#cutQueryStringAndFragment}

도입 버전: v1.1


URL에서 물음표와 숫자 기호를 포함한 쿼리 문자열 및 프래그먼트 식별자를 제거합니다.
    

**구문**

```sql
cutQueryStringAndFragment(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

쿼리 문자열 및 프래그먼트 식별자가 제거된 URL을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT cutQueryStringAndFragment('http://example.com/path?query=value&param=123#fragment');
```

```response title=Response
┌─cutQueryStringAndFragment('http://example.com/path?query=value&param=123#fragment')─┐
│ http://example.com/path                                                             │
└─────────────────────────────────────────────────────────────────────────────────────┘
```



## cutToFirstSignificantSubdomain {#cutToFirstSignificantSubdomain}

도입 버전: v1.1


최상위 서브 도메인을 포함하여 "첫 번째 유의미한 서브 도메인"까지의 도메인 부분을 반환합니다. [첫 번째 유의미한 서브 도메인](/sql-reference/functions/url-functions#firstSignificantSubdomain).

    

**구문**

```sql
cutToFirstSignificantSubdomain(url)
```

**인수**

- `url` — 처리할 URL 또는 도메인 문자열. [`String`](/sql-reference/data-types/string)


**반환 값**

첫 번째 유의미한 서브 도메인까지의 최상위 서브 도메인을 포함하는 도메인 부분을 반환합니다. 가능하지 않을 경우 빈 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT
    cutToFirstSignificantSubdomain('https://news.clickhouse.com.tr/'),
    cutToFirstSignificantSubdomain('www.tr'),
    cutToFirstSignificantSubdomain('tr');
```

```response title=Response
┌─cutToFirstSignificantSubdomain('https://news.clickhouse.com.tr/')─┬─cutToFirstSignificantSubdomain('www.tr')─┬─cutToFirstSignificantSubdomain('tr')─┐
│ clickhouse.com.tr                                                 │ tr                                       │                                      │
└───────────────────────────────────────────────────────────────────┴──────────────────────────────────────────┴──────────────────────────────────────┘
```



## cutToFirstSignificantSubdomainCustom {#cutToFirstSignificantSubdomainCustom}

도입 버전: v21.1


첫 번째 유의미한 서브 도메인까지의 최상위 서브 도메인을 포함하는 도메인 부분을 반환합니다. 사용자 지정 [TLD 목록](https://en.wikipedia.org/wiki/List_of_Internet_top-level_domains) 이름을 허용합니다. 새 TLD 목록이 필요하거나 커스텀 목록이 있는 경우 이 함수가 유용할 수 있습니다.

**구성 예제**

```yaml
<!-- <top_level_domains_path>/var/lib/clickhouse/top_level_domains/</top_level_domains_path> -->
<top_level_domains_lists>
    <!-- https://publicsuffix.org/list/public_suffix_list.dat -->
    <public_suffix_list>public_suffix_list.dat</public_suffix_list>
    <!-- NOTE: path is under top_level_domains_path -->
</top_level_domains_lists>
```
    

**구문**

```sql
cutToFirstSignificantSubdomainCustom(url, tld_list_name)
```

**인수**

- `url` — 처리할 URL 또는 도메인 문자열. [`String`](/sql-reference/data-types/string)
- `tld_list_name` — ClickHouse에 설정된 사용자 지정 TLD 목록의 이름. [`const String`](/sql-reference/data-types/string)


**반환 값**

첫 번째 유의미한 서브 도메인까지의 최상위 서브 도메인을 포함하는 도메인 부분을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**비표준 도메인에 대한 사용자 지정 TLD 목록 사용**

```sql title=Query
SELECT cutToFirstSignificantSubdomainCustom('bar.foo.there-is-no-such-domain', 'public_suffix_list')
```

```response title=Response
foo.there-is-no-such-domain
```



## cutToFirstSignificantSubdomainCustomRFC {#cutToFirstSignificantSubdomainCustomRFC}

도입 버전: v22.10


첫 번째 유의미한 서브 도메인까지의 최상위 서브 도메인을 포함하는 도메인 부분을 반환합니다.
사용자 지정 [TLD 목록](https://en.wikipedia.org/wiki/List_of_Internet_top-level_domains) 이름을 허용합니다.
새 TLD 목록이 필요하거나 커스텀 목록이 있는 경우 이 함수가 유용할 수 있습니다.
[cˈutToFirstSignificantSubdomainCustom](#cutToFirstSignificantSubdomainCustom)와 유사하나 RFC 3986을 준수합니다.

**구성 예제**

```xml
<!-- <top_level_domains_path>/var/lib/clickhouse/top_level_domains/</top_level_domains_path> -->
<top_level_domains_lists>
    <!-- https://publicsuffix.org/list/public_suffix_list.dat -->
    <public_suffix_list>public_suffix_list.dat</public_suffix_list>
    <!-- NOTE: path is under top_level_domains_path -->
</top_level_domains_lists>
```
    

**구문**

```sql
cutToFirstSignificantSubdomainCustomRFC(url, tld_list_name)
```

**인수**

- `url` — RFC 3986에 따라 처리할 URL 또는 도메인 문자열. 
- `tld_list_name` — ClickHouse에 설정된 사용자 지정 TLD 목록의 이름. 

**반환 값**

첫 번째 유의미한 서브 도메인까지의 최상위 서브 도메인을 포함하는 도메인 부분을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT cutToFirstSignificantSubdomainCustomRFC('www.foo', 'public_suffix_list');
```

```response title=Response
┌─cutToFirstSignificantSubdomainCustomRFC('www.foo', 'public_suffix_list')─────┐
│ www.foo                                                                      │
└──────────────────────────────────────────────────────────────────────────────┘
```



## cutToFirstSignificantSubdomainCustomWithWWW {#cutToFirstSignificantSubdomainCustomWithWWW}

도입 버전: v21.1


'www'를 제거하지 않고 첫 번째 유의미한 서브 도메인까지의 최상위 서브 도메인을 포함하는 도메인 부분을 반환합니다. 사용자 지정 TLD 목록 이름을 허용합니다. 새 TLD 목록이 필요하거나 커스텀 목록이 있는 경우 이 함수가 유용할 수 있습니다.

**구성 예제**

```yaml
<!-- <top_level_domains_path>/var/lib/clickhouse/top_level_domains/</top_level_domains_path> -->
<top_level_domains_lists>
    <!-- https://publicsuffix.org/list/public_suffix_list.dat -->
    <public_suffix_list>public_suffix_list.dat</public_suffix_list>
    <!-- NOTE: path is under top_level_domains_path -->
</top_level_domains_lists>


**Syntax**

```sql
cutToFirstSignificantSubdomainCustomWithWWW(url, tld_list_name)
```

**인수**

- `url` — 처리할 URL 또는 도메인 문자열. 
- `tld_list_name` — ClickHouse에 설정된 사용자 지정 TLD 목록의 이름. 

**반환 값**

'www'를 제거하지 않고 첫 번째 유의미한 서브 도메인까지의 최상위 서브 도메인을 포함하는 도메인 부분을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT cutToFirstSignificantSubdomainCustomWithWWW('www.foo', 'public_suffix_list');
```

```response title=Response
┌─cutToFirstSignificantSubdomainCustomWithWWW('www.foo', 'public_suffix_list')─┐
│ www.foo                                                                      │
└──────────────────────────────────────────────────────────────────────────────┘
```



## cutToFirstSignificantSubdomainCustomWithWWWRFC {#cutToFirstSignificantSubdomainCustomWithWWWRFC}

도입 버전: v22.10


첫 번째 유의미한 서브 도메인까지의 최상위 서브 도메인을 포함하는 도메인 부분을 반환합니다. 
'www'를 제거하지 않으며 사용자 지정 TLD 목록 이름을 허용합니다.
새 TLD 목록이 필요하거나 커스텀 목록이 있는 경우 이 함수가 유용할 수 있습니다.
[cutToFirstSignificantSubdomainCustomWithWWW](#cutToFirstSignificantSubdomainCustomWithWWW)와 유사하나 [RFC 3986](https://datatracker.ietf.org/doc/html/rfc3986)를 준수합니다.

**구성 예제**

```xml
<!-- <top_level_domains_path>/var/lib/clickhouse/top_level_domains/</top_level_domains_path> -->
<top_level_domains_lists>
    <!-- https://publicsuffix.org/list/public_suffix_list.dat -->
    <public_suffix_list>public_suffix_list.dat</public_suffix_list>
    <!-- NOTE: path is under top_level_domains_path -->
</top_level_domains_lists>


**Syntax**

```sql
cutToFirstSignificantSubdomainCustomWithWWWRFC(url, tld_list_name)
```

**인수**

- `url` — RFC 3986에 따라 처리할 URL 또는 도메인 문자열. 
- `tld_list_name` — ClickHouse에 설정된 사용자 지정 TLD 목록의 이름. 

**반환 값**

'www'를 제거하지 않고 첫 번째 유의미한 서브 도메인까지의 최상위 서브 도메인을 포함하는 도메인 부분을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**RFC 3986 파싱으로 www 보존, 사용자 지정 TLD 목록을 사용**

```sql title=Query
SELECT cutToFirstSignificantSubdomainCustomWithWWWRFC('https://www.subdomain.example.custom', 'public_suffix_list')
```

```response title=Response
www.example.custom
```



## cutToFirstSignificantSubdomainRFC {#cutToFirstSignificantSubdomainRFC}

도입 버전: v22.10


최상위 서브 도메인을 포함하여 "첫 번째 유의미한 서브 도메인"까지의 도메인 부분을 반환합니다. ["first significant subdomain"](/sql-reference/functions/url-functions#firstSignificantSubdomain)을 기준으로 하며 [`cutToFirstSignificantSubdomain`](#cutToFirstSignificantSubdomain)과 유사하나 [RFC 3986](https://datatracker.ietf.org/doc/html/rfc3986)에 준수합니다.
    

**구문**

```sql
cutToFirstSignificantSubdomainRFC(url)
```

**인수**

- `url` — RFC 3986에 따라 처리할 URL 또는 도메인 문자열. [`String`](/sql-reference/data-types/string)


**반환 값**

가능한 경우 첫 번째 유의미한 서브 도메인까지의 최상위 서브 도메인을 포함하는 도메인 부분을 반환하며, 이럴 경우 빈 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT
    cutToFirstSignificantSubdomain('http://user:password@example.com:8080'),
    cutToFirstSignificantSubdomainRFC('http://user:password@example.com:8080');
```

```response title=Response
┌─cutToFirstSignificantSubdomain('http://user:password@example.com:8080')─┬─cutToFirstSignificantSubdomainRFC('http://user:password@example.com:8080')─┐
│                                                                         │ example.com                                                                │
└─────────────────────────────────────────────────────────────────────────┴────────────────────────────────────────────────────────────────────────────┘
```



## cutToFirstSignificantSubdomainWithWWW {#cutToFirstSignificantSubdomainWithWWW}

도입 버전: v20.12


'www.'를 제거하지 않고 "첫 번째 유의미한 서브 도메인"까지의 최상위 서브 도메인을 포함하는 도메인 부분을 반환합니다.
[`cutToFirstSignificantSubdomain`](#cutToFirstSignificantSubdomain)와 유사하지만 'www.' 접두사를 포함합니다.
    

**구문**

```sql
cutToFirstSignificantSubdomainWithWWW(url)
```

**인수**

- `url` — 처리할 URL 또는 도메인 문자열. [`String`](/sql-reference/data-types/string)


**반환 값**

가능한 경우 첫 번째 유의미한 서브 도메인까지의 최상위 서브 도메인을 포함하는 도메인 부분을 반환하며, 이럴 경우 빈 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT
    cutToFirstSignificantSubdomainWithWWW('https://news.clickhouse.com.tr/'),
    cutToFirstSignificantSubdomainWithWWW('www.tr'),
    cutToFirstSignificantSubdomainWithWWW('tr');
```

```response title=Response
┌─cutToFirstSignificantSubdomainWithWWW('https://news.clickhouse.com.tr/')─┬─cutToFirstSignificantSubdomainWithWWW('www.tr')─┬─cutToFirstSignificantSubdomainWithWWW('tr')─┐
│ clickhouse.com.tr                                                        │ www.tr                                          │                                             │
└──────────────────────────────────────────────────────────────────────────┴─────────────────────────────────────────────────┴─────────────────────────────────────────────┘
```



## cutToFirstSignificantSubdomainWithWWWRFC {#cutToFirstSignificantSubdomainWithWWWRFC}

도입 버전: v22.10


'www.'를 제거하지 않고 "첫 번째 유의미한 서브 도메인"까지의 최상위 서브 도메인을 포함하는 도메인 부분을 반환합니다. 
[`cutToFirstSignificantSubdomainWithWWW`](#cutToFirstSignificantSubdomainWithWWW)와 유사하나 [RFC 3986](https://datatracker.ietf.org/doc/html/rfc3986)를 준수합니다.
    

**구문**

```sql
cutToFirstSignificantSubdomainWithWWWRFC(url)
```

**인수**

- `url` — RFC 3986에 따라 처리할 URL 또는 도메인 문자열. 

**반환 값**

가능한 경우 첫 번째 유의미한 서브 도메인까지의 최상위 서브 도메인을 포함하는 도메인 부분을 반환하며, 이럴 경우 빈 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT
    cutToFirstSignificantSubdomainWithWWW('http:%2F%2Fwwwww.nova@mail.ru/economicheskiy'),
    cutToFirstSignificantSubdomainWithWWWRFC('http:%2F%2Fwwwww.nova@mail.ru/economicheskiy');
```

```response title=Response
┌─cutToFirstSignificantSubdomainWithWWW('http:%2F%2Fwwwww.nova@mail.ru/economicheskiy')─┬─cutToFirstSignificantSubdomainWithWWWRFC('http:%2F%2Fwwwww.nova@mail.ru/economicheskiy')─┐
│                                                                                       │ mail.ru                                                                                  │
└───────────────────────────────────────────────────────────────────────────────────────┴──────────────────────────────────────────────────────────────────────────────────────────┘
```



## cutURLParameter {#cutURLParameter}

도입 버전: v1.1


URL에서 `name` 매개변수를 제거합니다. 매개변수가 존재하는 경우에만 적용됩니다.
이 함수는 매개변수 이름의 문자를 인코딩하거나 디코딩하지 않으며 예를 들어 `Client ID`와 `Client%20ID`는 서로 다른 매개변수 이름으로 처리됩니다.
    

**구문**

```sql
cutURLParameter(url, name)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)
- `name` — URL 매개변수 이름. [`String`](/sql-reference/data-types/string) 또는 [`Array(String)`](/sql-reference/data-types/array)


**반환 값**

`name` URL 매개변수가 제거된 URL을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT
    cutURLParameter('http://bigmir.net/?a=b&c=d&e=f#g', 'a') AS url_without_a,
    cutURLParameter('http://bigmir.net/?a=b&c=d&e=f#g', ['c', 'e']) AS url_without_c_and_e;
```

```response title=Response
┌─url_without_a────────────────┬─url_without_c_and_e──────┐
│ http://bigmir.net/?c=d&e=f#g │ http://bigmir.net/?a=b#g │
└──────────────────────────────┴──────────────────────────┘
```



## cutWWW {#cutWWW}

도입 버전: v1.1


URL의 도메인에서 존재하는 경우 선행 `www.`를 제거합니다.
    

**구문**

```sql
cutWWW(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

도메인에서 선행 `www.`가 제거된 URL을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT cutWWW('http://www.example.com/path?query=value#fragment');
```

```response title=Response
┌─cutWWW('http://www.example.com/path?query=value#fragment')─┐
│ http://example.com/path?query=value#fragment               │
└────────────────────────────────────────────────────────────┘
```



## decodeURLComponent {#decodeURLComponent}

도입 버전: v1.1


URL-인코딩된 문자열을 입력으로 받아 원래의 읽기 가능한 형식으로 디코딩합니다.
    

**구문**

```sql
decodeURLComponent(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

디코딩된 URL을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT decodeURLComponent('http://127.0.0.1:8123/?query=SELECT%201%3B') AS DecodedURL;
```

```response title=Response
┌─DecodedURL─────────────────────────────┐
│ http://127.0.0.1:8123/?query=SELECT 1; │
└────────────────────────────────────────┘
```



## decodeURLFormComponent {#decodeURLFormComponent}

도입 버전: v1.1


형식 인코딩 규칙 ([RFC-1866](https://www.rfc-editor.org/rfc/rfc1866.html))을 사용하여 URL-인코딩된 문자열을 디코딩합니다. 여기서 `+` 기호는 공백으로 변환되고 퍼센트-인코딩된 문자는 디코딩됩니다.
    

**구문**

```sql
decodeURLFormComponent(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

디코딩된 URL을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT decodeURLFormComponent('http://127.0.0.1:8123/?query=SELECT%201+2%2B3') AS DecodedURL;
```

```response title=Response
┌─DecodedURL────────────────────────────────┐
│ http://127.0.0.1:8123/?query=SELECT 1 2+3 │
└───────────────────────────────────────────┘
```



## domain {#domain}

도입 버전: v1.1


URL에서 호스트 이름을 추출합니다.

URL은 프로토콜 유무에 관계없이 지정될 수 있습니다.
    

**구문**

```sql
domain(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

입력 문자열이 URL로 파싱될 수 있는 경우 호스트 이름을 반환하고 그렇지 않으면 빈 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT domain('svn+ssh://some.svn-hosting.com:80/repo/trunk');
```

```response title=Response
┌─domain('svn+ssh://some.svn-hosting.com:80/repo/trunk')─┐
│ some.svn-hosting.com                                   │
└────────────────────────────────────────────────────────┘
```



## domainRFC {#domainRFC}

도입 버전: v22.10


URL에서 호스트 이름을 추출합니다.
[`domain`](#domain)과 유사하지만 [RFC 3986](https://datatracker.ietf.org/doc/html/rfc3986) 준수합니다.
    

**구문**

```sql
domainRFC(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

입력 문자열이 URL로 파싱될 수 있는 경우 호스트 이름을 반환하고 그렇지 않으면 빈 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT
    domain('http://user:password@example.com:8080/path?query=value#fragment'),
    domainRFC('http://user:password@example.com:8080/path?query=value#fragment');
```

```response title=Response
┌─domain('http://user:password@example.com:8080/path?query=value#fragment')─┬─domainRFC('http://user:password@example.com:8080/path?query=value#fragment')─┐
│                                                                           │ example.com                                                                  │
└───────────────────────────────────────────────────────────────────────────┴──────────────────────────────────────────────────────────────────────────────┘
```



## domainWithoutWWW {#domainWithoutWWW}

도입 버전: v1.1


존재하는 경우 선행 `www.`가 없는 URL의 도메인을 반환합니다.
    

**구문**

```sql
domainWithoutWWW(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

입력 문자열이 URL로 파싱될 수 있는 경우 도메인 이름을 반환하고 (선행 `www.`가 없는), 그렇지 않으면 빈 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT domainWithoutWWW('http://paul@www.example.com:80/');
```

```response title=Response
┌─domainWithoutWWW('http://paul@www.example.com:80/')─┐
│ example.com                                         │
└─────────────────────────────────────────────────────┘
```



## domainWithoutWWWRFC {#domainWithoutWWWRFC}

도입 버전: v1.1


존재하는 경우 선행 `www.`가 없는 도메인을 반환합니다. [`domainWithoutWWW`](#domainWithoutWWW)과 유사하지만 [RFC 3986](https://datatracker.ietf.org/doc/html/rfc3986)를 준수합니다.
    

**구문**

```sql
domainWithoutWWWRFC(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

입력 문자열이 URL로 파싱될 수 있는 경우 도메인 이름을 반환하고 (선행 `www.`가 없는), 그렇지 않으면 빈 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT
    domainWithoutWWW('http://user:password@www.example.com:8080/path?query=value#fragment'),
    domainWithoutWWWRFC('http://user:password@www.example.com:8080/path?query=value#fragment');
```

```response title=Response
┌─domainWithoutWWW('http://user:password@www.example.com:8080/path?query=value#fragment')─┬─domainWithoutWWWRFC('http://user:password@www.example.com:8080/path?query=value#fragment')─┐
│                                                                                         │ example.com                                                                                │
└─────────────────────────────────────────────────────────────────────────────────────────┴────────────────────────────────────────────────────────────────────────────────────────────┘
```



## encodeURLComponent {#encodeURLComponent}

도입 버전: v22.3


일반 문자열을 받아 URL-인코딩(백분율 인코딩) 형식으로 변환합니다. 이때 특수 문자는 해당 백분율 인코딩된 동등물로 대체됩니다.
    

**구문**

```sql
encodeURLComponent(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

인코딩된 URL을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT encodeURLComponent('http://127.0.0.1:8123/?query=SELECT 1;') AS EncodedURL;
```

```response title=Response
┌─EncodedURL───────────────────────────────────────────────┐
│ http%3A%2F%2F127.0.0.1%3A8123%2F%3Fquery%3DSELECT%201%3B │
└──────────────────────────────────────────────────────────┘
```



## encodeURLFormComponent {#encodeURLFormComponent}

도입 버전: v22.3


형식 인코딩 규칙 ([RFC-1866](https://www.rfc-editor.org/rfc/rfc1866.html))을 사용하여 문자열을 인코딩합니다. 이때 공백은 `+` 기호로 변환되고 특수 문자는 퍼센트 인코딩됩니다.
    

**구문**

```sql
encodeURLFormComponent(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

인코딩된 URL을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT encodeURLFormComponent('http://127.0.0.1:8123/?query=SELECT 1 2+3') AS EncodedURL;
```

```response title=Response
┌─EncodedURL────────────────────────────────────────────────┐
│ http%3A%2F%2F127.0.0.1%3A8123%2F%3Fquery%3DSELECT+1+2%2B3 │
└───────────────────────────────────────────────────────────┘
```



## extractURLParameter {#extractURLParameter}

도입 버전: v1.1


존재하는 경우 URL에서 `name` 매개변수의 값을 반환하고, 그렇지 않으면 빈 문자열이 반환됩니다.
매개변수가 여러 개 있을 경우, 첫 번째 발생을 반환합니다.
함수는 `url` 매개변수의 매개변수가 `name` 인수와 동일한 방식으로 인코딩되어 있다고 가정합니다.
    

**구문**

```sql
extractURLParameter(url, name)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)
- `name` — 매개변수 이름. [`String`](/sql-reference/data-types/string)


**반환 값**

지정된 이름의 URL 매개변수 값을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT extractURLParameter('http://example.com/?param1=value1&param2=value2', 'param1');
```

```response title=Response
┌─extractURLPa⋯, 'param1')─┐
│ value1                   │
└──────────────────────────┘
```



## extractURLParameterNames {#extractURLParameterNames}

도입 버전: v1.1


URL 매개변수 이름에 해당하는 이름 문자열의 배열을 반환합니다.
값은 디코딩되지 않습니다.
    

**구문**

```sql
extractURLParameterNames(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

URL 매개변수의 이름에 해당하는 문자열 배열을 반환합니다. [`Array(String)`](/sql-reference/data-types/array)

**예제**

**사용 예제**

```sql title=Query
SELECT extractURLParameterNames('http://example.com/?param1=value1&param2=value2');
```

```response title=Response
┌─extractURLPa⋯m2=value2')─┐
│ ['param1','param2']      │
└──────────────────────────┘
```



## extractURLParameters {#extractURLParameters}

도입 버전: v1.1


URL 매개변수에 해당하는 `name=value` 문자열 배열을 반환합니다.
값은 디코딩되지 않습니다.
    

**구문**

```sql
extractURLParameters(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

URL 매개변수에 해당하는 `name=value` 문자열 배열을 반환합니다. [`Array(String)`](/sql-reference/data-types/array)

**예제**

**사용 예제**

```sql title=Query
SELECT extractURLParameters('http://example.com/?param1=value1&param2=value2');
```

```response title=Response
┌─extractURLParame⋯&param2=value2')─┐
│ ['param1=value1','param2=value2'] │
└───────────────────────────────────┘
```



## firstSignificantSubdomain {#firstSignificantSubdomain}

도입 버전: v


"첫 번째 유의미한 서브 도메인"을 반환합니다.

첫 번째 유의미한 서브 도메인은 'com', 'net', 'org' 또는 'co'일 경우 두 번째 수준 도메인입니다.
그렇지 않은 경우 세 번째 수준 도메인입니다.

예를 들어, firstSignificantSubdomain('https://news.clickhouse.com/') = 'clickhouse', firstSignificantSubdomain ('https://news.clickhouse.com.tr/') = 'clickhouse'.

"비유의미한" 두 번째 수준 도메인 목록 및 기타 구현 세부 사항은 향후 변경될 수 있습니다.
        

**구문**

```sql

```

**인수**

- 없음.

**반환 값**



**예제**

**firstSignificantSubdomain**

```sql title=Query
SELECT firstSignificantSubdomain('https://news.clickhouse.com/')
```

```response title=Response

```



## firstSignificantSubdomainRFC {#firstSignificantSubdomainRFC}

도입 버전: v

RFC 1034에 따라 "첫 번째 유의미한 서브 도메인"을 반환합니다.

**구문**

```sql

```

**인수**

- 없음.

**반환 값**



**예제**



## fragment {#fragment}

도입 버전: v1.1


초기 해시 기호 없이 프래그먼트 식별자를 반환합니다.
    

**구문**

```sql
fragment(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

초기 해시 기호 없이 프래그먼트 식별자를 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT fragment('https://clickhouse.com/docs/getting-started/quick-start/cloud#1-create-a-clickhouse-service');
```

```response title=Response
┌─fragment('http⋯ouse-service')─┐
│ 1-create-a-clickhouse-service │
└───────────────────────────────┘
```



## netloc {#netloc}

도입 버전: v20.5


URL에서 네트워크 로컬리티(`username:password@host:port`)를 추출합니다.
    

**구문**

```sql
netloc(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

주어진 URL에서 `username:password@host:port`를 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT netloc('http://paul@www.example.com:80/');
```

```response title=Response
┌─netloc('http⋯e.com:80/')─┐
│ paul@www.example.com:80  │
└──────────────────────────┘
```



## path {#path}

도입 버전: v1.1


URL에서 쿼리 문자열 없이 경로를 반환합니다.
    

**구문**

```sql
path(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

쿼리 문자열 없이 URL의 경로를 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT path('https://clickhouse.com/docs/sql-reference/functions/url-functions/?query=value');
```

```response title=Response
┌─path('https://clickhouse.com/en/sql-reference/functions/url-functions/?query=value')─┐
│ /docs/sql-reference/functions/url-functions/                                         │
└──────────────────────────────────────────────────────────────────────────────────────┘
```



## pathFull {#pathFull}

도입 버전: v1.1


[`path`](#path)와 동일하지만 URL의 쿼리 문자열과 프래그먼트를 포함합니다.
    

**구문**

```sql
pathFull(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

쿼리 문자열과 프래그먼트를 포함한 URL의 경로를 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT pathFull('https://clickhouse.com/docs/sql-reference/functions/url-functions/?query=value#section');
```

```response title=Response
┌─pathFull('https://clickhouse.com⋯unctions/?query=value#section')─┐
│ /docs/sql-reference/functions/url-functions/?query=value#section │
└──────────────────────────────────────────────────────────────────┘
```



## port {#port}

도입 버전: v20.5


URL의 포트를 반환하거나 포트가 없거나 파싱할 수 없는 경우 `default_port`를 반환합니다.
    

**구문**

```sql
port(url[, default_port])
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)
- `default_port` — 선택 사항. 반환할 기본 포트 번호, 기본값은 `0`입니다. [`UInt16`](/sql-reference/data-types/int-uint)


**반환 값**

URL의 포트를 반환하거나 URL에 포트가 없거나 유효성 검사 오류의 경우 기본 포트를 반환합니다. [`UInt16`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT port('https://clickhouse.com:8443/docs'), port('https://clickhouse.com/docs', 443);
```

```response title=Response
┌─port('https://clickhouse.com:8443/docs')─┬─port('https://clickhouse.com/docs', 443)─┐
│                                     8443 │                                      443 │
└──────────────────────────────────────────┴──────────────────────────────────────────┘
```



## portRFC {#portRFC}

도입 버전: v22.10


URL의 포트를 반환하거나 포트가 없거나 파싱할 수 없는 경우 `default_port`를 반환합니다. 
[`port`](#port)와 유사하지만 [RFC 3986](https://datatracker.ietf.org/doc/html/rfc3986) 준수합니다.
    

**구문**

```sql
portRFC(url[, default_port])
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)
- `default_port` — 선택 사항. 반환할 기본 포트 번호, 기본값은 `0`입니다. [`UInt16`](/sql-reference/data-types/int-uint)


**반환 값**

URL의 포트를 반환하거나 URL에 포트가 없거나 유효성 검사 오류의 경우 기본 포트를 반환합니다. [`UInt16`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT port('http://user:password@example.com:8080/'), portRFC('http://user:password@example.com:8080/');
```

```response title=Response
┌─port('http:/⋯com:8080/')─┬─portRFC('htt⋯com:8080/')─┐
│                        0 │                     8080 │
└──────────────────────────┴──────────────────────────┘
```



## protocol {#protocol}

도입 버전: v1.1


URL에서 프로토콜을 추출합니다.

일반적인 반환 값의 예: http, https, ftp, mailto, tel, magnet.
    

**구문**

```sql
protocol(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

URL의 프로토콜을 반환하며, 이를 결정할 수 없는 경우 빈 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT protocol('https://clickhouse.com/');
```

```response title=Response
┌─protocol('https://clickhouse.com/')─┐
│ https                               │
└─────────────────────────────────────┘
```



## queryString {#queryString}

도입 버전: v1.1


URL의 쿼리 문자열을 초기 물음표 없이 반환하며, `#`와 `#` 이후의 모든 것을 제외합니다.
    

**구문**

```sql
queryString(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

초기 물음표와 프래그먼트 없이 URL의 쿼리 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT queryString('https://clickhouse.com/docs?query=value&param=123#section');
```

```response title=Response
┌─queryString(⋯3#section')─┐
│ query=value&param=123    │
└──────────────────────────┘
```



## queryStringAndFragment {#queryStringAndFragment}

도입 버전: v1.1


URL의 쿼리 문자열과 프래그먼트 식별자를 반환합니다.
    

**구문**

```sql
queryStringAndFragment(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

URL의 쿼리 문자열과 프래그먼트 식별자를 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT queryStringAndFragment('https://clickhouse.com/docs?query=value&param=123#section');
```

```response title=Response
┌─queryStringAnd⋯=123#section')─┐
│ query=value&param=123#section │
└───────────────────────────────┘
```



## topLevelDomain {#topLevelDomain}

도입 버전: v1.1


URL에서 최상위 도메인을 추출합니다.

:::note
URL은 프로토콜 유무에 관계없이 지정될 수 있습니다.
예를 들어:

```text
svn+ssh://some.svn-hosting.com:80/repo/trunk
some.svn-hosting.com:80/repo/trunk
https://clickhouse.com/time/
```
:::
    

**구문**

```sql
topLevelDomain(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

입력 문자열이 URL로 파싱될 수 있는 경우 도메인 이름을 반환합니다. 그렇지 않으면 빈 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT topLevelDomain('svn+ssh://www.some.svn-hosting.com:80/repo/trunk');
```

```response title=Response
┌─topLevelDomain('svn+ssh://www.some.svn-hosting.com:80/repo/trunk')─┐
│ com                                                                │
└────────────────────────────────────────────────────────────────────┘
```



## topLevelDomainRFC {#topLevelDomainRFC}

도입 버전: v22.10


URL에서 최상위 도메인을 추출합니다.
[`topLevelDomain`](#topLevelDomain)과 유사하지만 [RFC 3986](https://datatracker.ietf.org/doc/html/rfc3986)에 준수합니다.
    

**구문**

```sql
topLevelDomainRFC(url)
```

**인수**

- `url` — URL. [`String`](/sql-reference/data-types/string)


**반환 값**

입력 문자열이 URL로 파싱될 수 있는 경우 도메인 이름을 반환합니다. 그렇지 않으면 빈 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예제**

**사용 예제**

```sql title=Query
SELECT topLevelDomain('http://foo:foo%41bar@foo.com'), topLevelDomainRFC('http://foo:foo%41bar@foo.com');
```

```response title=Response
┌─topLevelDomain('http://foo:foo%41bar@foo.com')─┬─topLevelDomainRFC('http://foo:foo%41bar@foo.com')─┐
│                                                │ com                                               │
└────────────────────────────────────────────────┴───────────────────────────────────────────────────┘
```



<!--AUTOGENERATED_END-->
