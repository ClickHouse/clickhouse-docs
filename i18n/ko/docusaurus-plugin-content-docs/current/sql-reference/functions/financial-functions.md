---
'description': '재무 함수에 대한 Documentation'
'sidebar_label': 'Financial'
'slug': '/sql-reference/functions/financial-functions'
'title': '재무 함수'
'keywords':
- 'Financial'
- 'rate of return'
- 'net present value'
'doc_type': 'reference'
---


# 금융 함수

:::note
아래 문서는 `system.functions` 시스템 테이블에서 생성됩니다.
:::

<!-- 
아래 태그의 내부 내용은 doc 프레임워크 빌드 시 system.functions에서 생성된 문서로 대체됩니다. 
태그를 수정하거나 제거하지 마십시오.
자세한 내용은: https://github.com/ClickHouse/clickhouse-docs/blob/main/contribute/autogenerated-documentation-from-source.md
-->

<!--AUTOGENERATED_START-->
## financialInternalRateOfReturn {#financialInternalRateOfReturn}

도입 버전: v25.7


정기적으로 발생하는 현금 흐름 시리즈에 대한 내부 수익률 (IRR)을 계산합니다.
IRR은 순 현재 가치 (NPV)가 0이 되는 할인율입니다.

IRR은 다음 방정식을 해결하려고 시도합니다:

$$
\sum_{i=0}^n \frac{cashflow_i}{(1 + irr)^i} = 0
$$
    

**구문**

```sql
financialInternalRateOfReturn(cashflows[, guess])
```

**인수**

- `cashflows` — 현금 흐름 배열. 각 값은 지불 (음수) 또는 수입 (양수)을 나타냅니다. [`Array(Int8/16/32/64)`](/sql-reference/data-types/array) 또는 [`Array(Float*)`](/sql-reference/data-types/array)
- `[, guess]` — 내부 수익률에 대한 선택적 초기 추정(상수 값) (기본값 0.1). [`Float*`](/sql-reference/data-types/float)


**반환값**

내부 수익률을 반환하거나 계산이 수렴할 수 없는 경우, 입력 배열이 비어 있거나 요소가 하나만 있을 경우, 모든 현금 흐름이 0일 경우, 또는 기타 계산 오류가 발생한 경우 `NaN`을 반환합니다. [`Float64`](/sql-reference/data-types/float)

**예제**

**simple_example**

```sql title=Query
SELECT financialInternalRateOfReturn([-100, 39, 59, 55, 20])
```

```response title=Response
0.2809484211599611
```

**simple_example_with_guess**

```sql title=Query
SELECT financialInternalRateOfReturn([-100, 39, 59, 55, 20], 0.1)
```

```response title=Response
0.2809484211599611
```



## financialInternalRateOfReturnExtended {#financialInternalRateOfReturnExtended}

도입 버전: v25.7


비정기적으로 발생하는 현금 흐름 시리즈에 대한 확장 내부 수익률 (XIRR)을 계산합니다. XIRR은 모든 현금 흐름의 순 현재 가치 (NPV)가 0이 되는 할인율입니다.

XIRR은 다음 방정식을 해결하려고 시도합니다 (예시: `ACT_365F`):

$$
\sum_{i=0}^n \frac{cashflow_i}{(1 + rate)^{(date_i - date_0)/365}} = 0
$$

배열은 날짜에 따라 오름차순으로 정렬되어야 하며, 날짜는 고유해야 합니다.
    

**구문**

```sql
financialInternalRateOfReturnExtended(cashflow, date [, guess, daycount])
```

**인수**

- `cashflow` — 두 번째 매개변수의 날짜에 해당하는 현금 흐름 배열. [`Array(Int8/16/32/64)`](/sql-reference/data-types/array) 또는 [`Array(Float*)`](/sql-reference/data-types/array)
- `date` — 현금 흐름에 해당하는 고유한 날짜의 정렬된 배열. [`Array(Date)`](/sql-reference/data-types/array) 또는 [`Array(Date32)`](/sql-reference/data-types/array)
- `[, guess]` — 선택적. XIRR 계산에 대한 초기 추정(상수 값). [`Float*`](/sql-reference/data-types/float)
- `[, daycount]` — 
선택적 일수 계산 방식 (기본값 'ACT_365F'). 지원하는 값은:
- 'ACT_365F' - 실제/365 고정: 날짜 사이의 실제 일수를 365로 나눈 값 사용
- 'ACT_365_25' - 실제/365.25: 날짜 사이의 실제 일수를 365.25로 나눈 값 사용
             [`String`](/sql-reference/data-types/string)


**반환값**

XIRR 값을 반환합니다. 계산을 수행할 수 없는 경우 NaN을 반환합니다. [`Float64`](/sql-reference/data-types/float)

**예제**

**simple_example**

```sql title=Query
SELECT financialInternalRateOfReturnExtended([-10000, 5750, 4250, 3250], [toDate('2020-01-01'), toDate('2020-03-01'), toDate('2020-10-30'), toDate('2021-02-15')])
```

```response title=Response
0.6342972615260243
```

**simple_example_with_guess**

```sql title=Query
SELECT financialInternalRateOfReturnExtended([-10000, 5750, 4250, 3250], [toDate('2020-01-01'), toDate('2020-03-01'), toDate('2020-10-30'), toDate('2021-02-15')], 0.5)
```

```response title=Response
0.6342972615260243
```

**simple_example_daycount**

```sql title=Query
SELECT round(financialInternalRateOfReturnExtended([100000, -110000], [toDate('2020-01-01'), toDate('2021-01-01')], 0.1, 'ACT_365_25'), 6) AS xirr_365_25
```

```response title=Response
0.099785
```



## financialNetPresentValue {#financialNetPresentValue}

도입 버전: v25.7


각 현금 흐름 사이에 평등한 시간 간격이 있다고 가정할 때, 현금 흐름 시리즈의 순 현재 가치 (NPV)를 계산합니다.

기본 변형 (`start_from_zero` = true):

$$
\sum_{i=0}^{N-1} \frac{values_i}{(1 + rate)^i}
$$

Excel 호환 변형 (`start_from_zero` = false):

$$
\sum_{i=1}^{N} \frac{values_i}{(1 + rate)^i}
$$
    

**구문**

```sql
financialNetPresentValue(rate, cashflows[, start_from_zero])
```

**인수**

- `rate` — 적용할 할인율. [`Float*`](/sql-reference/data-types/float)
- `cashflows` — 현금 흐름 배열. 각 값은 지불 (음수) 또는 수입 (양수)을 나타냅니다. [`Array(Int8/16/32/64)`](/sql-reference/data-types/array) 또는 [`Array(Float*)`](/sql-reference/data-types/array)
- `[, start_from_zero]` — NPV 계산을 기간 `0` (true)에서 시작할지 또는 기간 `1` (false, Excel 호환)에서 시작할지를 나타내는 선택적 boolean 매개변수. 기본값: true. [`Bool`](/sql-reference/data-types/boolean)


**반환값**

Float64 값으로 순 현재 가치를 반환합니다. [`Float64`](/sql-reference/data-types/float)

**예제**

**default_calculation**

```sql title=Query
SELECT financialNetPresentValue(0.08, [-40000., 5000., 8000., 12000., 30000.])
```

```response title=Response
3065.2226681795255
```

**excel_compatible_calculation**

```sql title=Query
SELECT financialNetPresentValue(0.08, [-40000., 5000., 8000., 12000., 30000.], false)
```

```response title=Response
2838.1691372032656
```



## financialNetPresentValueExtended {#financialNetPresentValueExtended}

도입 버전: v25.7


비정기적으로 발생하는 현금 흐름 시리즈에 대한 확장 순 현재 가치 (XNPV)를 계산합니다. XNPV는 현재 가치를 계산할 때 각 현금 흐름의 특정 타이밍을 고려합니다.

`ACT_365F`에 대한 XNPV 방정식:

$$
XNPV=\sum_{i=1}^n \frac{cashflow_i}{(1 + rate)^{(date_i - date_0)/365}}
$$

배열은 날짜에 따라 오름차순으로 정렬되어야 하며, 날짜는 고유해야 합니다.
    

**구문**

```sql
financialNetPresentValueExtended(rate, cashflows, dates[, daycount])
```

**인수**

- `rate` — 적용할 할인율. [`Float*`](/sql-reference/data-types/float)
- `cashflows` — 현금 흐름 배열. 각 값은 지불 (음수) 또는 수입 (양수)을 나타냅니다. 최소한 하나의 양수 값과 하나의 음수 값을 포함해야 합니다. [`Array(Int8/16/32/64)`](/sql-reference/data-types/array) 또는 [`Array(Float*)`](/sql-reference/data-types/array)
- `dates` — 각 현금 흐름에 해당하는 날짜 배열. cashflows 배열과 동일한 크기를 가져야 합니다. [`Array(Date)`](/sql-reference/data-types/array) 또는 [`Array(Date32)`](/sql-reference/data-types/array)
- `[, daycount]` — 선택적 일수 계산 방식. 지원하는 값: `'ACT_365F'` (기본값) — 실제/365 고정, `'ACT_365_25'` — 실제/365.25. [`String`](/sql-reference/data-types/string)


**반환값**

Float64 값으로 순 현재 가치를 반환합니다. [`Float64`](/sql-reference/data-types/float)

**예제**

**기본 사용법**

```sql title=Query
SELECT financialNetPresentValueExtended(0.1, [-10000., 5750., 4250., 3250.], [toDate('2020-01-01'), toDate('2020-03-01'), toDate('2020-10-30'), toDate('2021-02-15')])
```

```response title=Response
2506.579458169746
```

**다른 일수 계산 방식을 사용할 때**

```sql title=Query
SELECT financialNetPresentValueExtended(0.1, [-10000., 5750., 4250., 3250.], [toDate('2020-01-01'), toDate('2020-03-01'), toDate('2020-10-30'), toDate('2021-02-15')], 'ACT_365_25')
```

```response title=Response
2507.067268742502
```



<!--AUTOGENERATED_END-->

## 관련 자료 {#related-resources}

- [ClickHouse의 금융 함수 비디오](https://www.youtube.com/watch?v=BePLPVa0w_o)
