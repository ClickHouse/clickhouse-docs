---
description: '재무 함수에 대한 문서'
sidebar_label: '재무'
slug: /sql-reference/functions/financial-functions
title: '재무 함수'
keywords: ['재무', '수익률', '순현재가치']
doc_type: 'reference'
---



# 금융 함수 \{#financial-functions\}

:::note
아래 문서는 `system.functions` 시스템 테이블을 기반으로 생성되었습니다
:::

{/* 
  아래 태그 안의 내용은 문서 프레임워크를 빌드할 때 
  system.functions에서 생성된 문서로 대체됩니다. 태그는 수정하거나 제거하지 마십시오.
  참고: https://github.com/ClickHouse/clickhouse-docs/blob/main/contribute/autogenerated-documentation-from-source.md
  */ }


{/*AUTOGENERATED_START*/ }

## financialInternalRateOfReturn \{#financialInternalRateOfReturn\}

도입된 버전: v25.7

일정한 간격으로 발생하는 일련의 현금 흐름에 대한 내부수익률(Internal Rate of Return, IRR)을 계산합니다.
IRR은 순현재가치(Net Present Value, NPV)가 0이 되도록 하는 할인율입니다.

IRR은 다음 방정식을 만족하도록 하는 값을 구합니다:

$$
\sum&#95;{i=0}^n \frac{cashflow_i}{(1 + irr)^i} = 0
$$

**구문**

```sql
financialInternalRateOfReturn(cashflows[, guess])
```

**인수**

* `cashflows` — 현금 흐름 배열입니다. 각 값은 지급(음수 값) 또는 수입(양수 값)을 나타냅니다. [`Array(Int8/16/32/64)`](/sql-reference/data-types/array) 또는 [`Array(Float*)`](/sql-reference/data-types/array)
* `[, guess]` — 내부 수익률 계산을 위한 선택적 초기 추정값(상수 값)입니다(기본값 0.1). [`Float*`](/sql-reference/data-types/float)

**반환 값**

내부 수익률을 반환하며, 계산이 수렴하지 않거나, 입력 배열이 비어 있거나 요소가 하나뿐이거나, 모든 현금 흐름이 0이거나, 기타 계산 오류가 발생한 경우 `NaN`을 반환합니다. [`Float64`](/sql-reference/data-types/float)

**예시**

**simple&#95;example**

```sql title=Query
SELECT financialInternalRateOfReturn([-100, 39, 59, 55, 20])
```

```response title=Response
0.2809484211599611
```

**simple&#95;example&#95;with&#95;guess**

```sql title=Query
SELECT financialInternalRateOfReturn([-100, 39, 59, 55, 20], 0.1)
```

```response title=Response
0.2809484211599611
```


## financialInternalRateOfReturnExtended \{#financialInternalRateOfReturnExtended\}

Introduced in: v25.7

Calculates the Extended Internal Rate of Return (XIRR) for a series of cash flows occurring at irregular intervals. XIRR is the discount rate at which the net present value (NPV) of all cash flows equals zero.

XIRR attempts to solve the following equation (example for `ACT_365F`):

$$
\sum_{i=0}^n \frac{cashflow_i}{(1 + rate)^{(date_i - date_0)/365}} = 0
$$

Arrays should be sorted by date in ascending order. Dates need to be unique.

**Syntax**

```sql
financialInternalRateOfReturnExtended(cashflow, date [, guess, daycount])
```

**인수**

- `cashflow` — 두 번째 매개변수의 날짜에 대응하는 현금 흐름 배열입니다. [`Array(Int8/16/32/64)`](/sql-reference/data-types/array) 또는 [`Array(Float*)`](/sql-reference/data-types/array)
- `date` — 현금 흐름에 대응하는 고유한 날짜의 정렬된 배열입니다. [`Array(Date)`](/sql-reference/data-types/array) 또는 [`Array(Date32)`](/sql-reference/data-types/array)
- `[, guess]` — 선택 사항입니다. XIRR 계산을 위한 초기 추정값(상수 값)입니다. [`Float*`](/sql-reference/data-types/float)
- `[, daycount]` —
  선택 사항인 일수 계산 규칙입니다(기본값 'ACT_365F'). 지원되는 값:
- 'ACT_365F' - Actual/365 Fixed: 날짜 간 실제 일수를 365로 나눈 값을 사용합니다
- 'ACT_365_25' - Actual/365.25: 날짜 간 실제 일수를 365.25로 나눈 값을 사용합니다
  [`String`](/sql-reference/data-types/string)

**Returned value**

Returns the XIRR value. If the calculation cannot be performed, it returns NaN. [`Float64`](/sql-reference/data-types/float)

**Examples**

**simple_example**

```sql title=Query
SELECT financialInternalRateOfReturnExtended([-10000, 5750, 4250, 3250], [toDate('2020-01-01'), toDate('2020-03-01'), toDate('2020-10-30'), toDate('2021-02-15')])
```

```response title=Response
0.6342972615260243
```

**simple_example_with_guess**

```sql title=Query
SELECT financialInternalRateOfReturnExtended([-10000, 5750, 4250, 3250], [toDate('2020-01-01'), toDate('2020-03-01'), toDate('2020-10-30'), toDate('2021-02-15')], 0.5)
```

```response title=Response
0.6342972615260243
```

**simple_example_daycount**

```sql title=Query
SELECT round(financialInternalRateOfReturnExtended([100000, -110000], [toDate('2020-01-01'), toDate('2021-01-01')], 0.1, 'ACT_365_25'), 6) AS xirr_365_25
```

```response title=Response
0.099785
```


## financialNetPresentValue \{#financialNetPresentValue\}

도입 버전: v25.7

각 현금 흐름 사이의 시간 간격이 동일하다고 가정하고, 일련의 현금 흐름에 대한 순현재가치(Net Present Value, NPV)를 계산합니다.

기본 형태 (`start_from_zero` = true):

$$
\sum&#95;{i=0}^{N-1} \frac{values_i}{(1 + rate)^i}
$$

Excel 호환 형태 (`start_from_zero` = false):

$$
\sum&#95;{i=1}^{N} \frac{values_i}{(1 + rate)^i}
$$

**구문**

```sql
financialNetPresentValue(rate, cashflows[, start_from_zero])
```

**인수(Arguments)**

* `rate` — 적용할 할인율입니다. [`Float*`](/sql-reference/data-types/float)
* `cashflows` — 현금흐름 배열입니다. 각 값은 지출(음수 값) 또는 수입(양수 값)을 나타냅니다. [`Array(Int8/16/32/64)`](/sql-reference/data-types/array) 또는 [`Array(Float*)`](/sql-reference/data-types/array)
* `[, start_from_zero]` — NPV 계산을 기간 `0`(true)에서 시작할지, 기간 `1`(false, Excel과 호환)에서 시작할지 나타내는 선택적 불리언(boolean) 매개변수입니다. 기본값: true. [`Bool`](/sql-reference/data-types/boolean)

**반환 값(Returned value)**

NPV(순현재가치)를 Float64 값으로 반환합니다. [`Float64`](/sql-reference/data-types/float)

**예시(Examples)**

**default&#95;calculation**

```sql title=Query
SELECT financialNetPresentValue(0.08, [-40000., 5000., 8000., 12000., 30000.])
```

```response title=Response
3065.2226681795255
```

**excel&#95;compatible&#95;calculation**

```sql title=Query
SELECT financialNetPresentValue(0.08, [-40000., 5000., 8000., 12000., 30000.], false)
```

```response title=Response
2838.1691372032656
```


## financialNetPresentValueExtended \{#financialNetPresentValueExtended\}

도입 버전: v25.7

불규칙한 간격으로 발생하는 일련의 현금 흐름에 대한 확장 순현재가치(Extended Net Present Value, XNPV)를 계산합니다. XNPV는 순현재가치를 계산할 때 각 현금 흐름의 구체적인 시점을 고려합니다.

`ACT_365F`에 대한 XNPV 방정식:

$$
XNPV=\sum_{i=1}^n \frac{cashflow_i}{(1 + rate)^{(date_i - date_0)/365}}
$$

배열은 날짜 기준 오름차순으로 정렬되어야 합니다. 날짜는 고유해야 합니다.

**구문**

```sql
financialNetPresentValueExtended(rate, cashflows, dates[, daycount])
```

**인수**

- `rate` — 적용할 할인율. [`Float*`](/sql-reference/data-types/float)
- `cashflows` — 현금 흐름 배열. 각 값은 지출(음수 값) 또는 수입(양수 값)을 나타냅니다. 최소 하나의 양수 값과 하나의 음수 값을 포함해야 합니다. [`Array(Int8/16/32/64)`](/sql-reference/data-types/array) 또는 [`Array(Float*)`](/sql-reference/data-types/array)
- `dates` — 각 현금 흐름에 해당하는 날짜 배열. cashflows 배열과 동일한 크기여야 합니다. [`Array(Date)`](/sql-reference/data-types/array) 또는 [`Array(Date32)`](/sql-reference/data-types/array)
- `[, daycount]` — 선택적 일수 계산 규칙. 지원되는 값: `'ACT_365F'` (기본값) — Actual/365 Fixed, `'ACT_365_25'` — Actual/365.25. [`String`](/sql-reference/data-types/string)

**반환 값**

순현재가치를 Float64 값으로 반환합니다. [`Float64`](/sql-reference/data-types/float)

**예제**

**기본 사용법**

```sql title=Query
SELECT financialNetPresentValueExtended(0.1, [-10000., 5750., 4250., 3250.], [toDate('2020-01-01'), toDate('2020-03-01'), toDate('2020-10-30'), toDate('2021-02-15')])
```

```response title=Response
2506.579458169746
```

**다른 일수 계산 규칙 사용**

```sql title=Query
SELECT financialNetPresentValueExtended(0.1, [-10000., 5750., 4250., 3250.], [toDate('2020-01-01'), toDate('2020-03-01'), toDate('2020-10-30'), toDate('2021-02-15')], 'ACT_365_25')
```

```response title=Response
2507.067268742502
```

<!--AUTOGENERATED_END-->


## 관련 자료 \{#related-resources\}

- [ClickHouse의 금융 함수 관련 비디오](https://www.youtube.com/watch?v=BePLPVa0w_o)
