---
'description': '정규 함수에 대한 Documentation'
'sidebar_label': '개요'
'sidebar_position': 1
'slug': '/sql-reference/functions/overview'
'title': '정규 함수'
'doc_type': 'reference'
---


# 정규 함수

함수의 유형은 최소한 두 가지가 있습니다* - 정규 함수(단순히 "함수"라고 불립니다)와 집계 함수. 이들은 완전히 다른 개념입니다. 정규 함수는 각 행에 각각 적용되는 것처럼 작동합니다(각 행에 대해 함수의 결과는 다른 행에 의존하지 않습니다). 반면 집계 함수는 다양한 행의 값 집합을 누적합니다(즉, 전체 행 집합에 의존함).

이 섹션에서는 정규 함수에 대해 논의합니다. 집계 함수에 대한 내용은 "집계 함수" 섹션을 참조하십시오.

:::note
'arrayJoin' 함수는 세 번째 유형의 함수에 속합니다. 그리고 [테이블 함수](../table-functions/index.md)도 별도로 언급될 수 있습니다.
:::

## 강한 타입 {#strong-typing}

표준 SQL과는 달리, ClickHouse는 강한 타입을 가지고 있습니다. 다시 말해, 타입 간에 암시적 변환을 하지 않습니다. 각 함수는 특정 타입 집합에 대해 작동합니다. 이 때문에 때때로 타입 변환 함수를 사용해야 할 수도 있습니다.

## 공통 서브 표현 제거 {#common-subexpression-elimination}

쿼리의 모든 표현식 중 동일한 AST(동일한 레코드 또는 동일한 구문 분석 결과)를 가진 표현식은 동일한 값으로 간주됩니다. 이러한 표현식은 연결되어 한 번 실행됩니다. 동일한 서브쿼리 역시 이 방식으로 제거됩니다.

## 결과 유형 {#types-of-results}

모든 함수는 단일 값을 결과로 반환합니다(여러 값이나 0값이 아님). 결과의 유형은 일반적으로 인수의 유형에 의해 정의되며, 값에 의해 정의되지 않습니다. 예외로는 tupleElement 함수( a.N 연산자)와 toFixedString 함수가 있습니다.

## 상수 {#constants}

단순성을 위해 특정 함수는 일부 인수에 대해 상수만 사용할 수 있습니다. 예를 들어, LIKE 연산자의 오른쪽 인수는 상수여야 합니다. 거의 모든 함수는 상수 인수에 대해 상수를 반환합니다. 예외는 난수 생성 함수입니다. 'now' 함수는 서로 다른 시간에 실행된 쿼리에서 서로 다른 값을 반환하지만, 결과는 단일 쿼리 내에서의 일관성이 중요하므로 상수로 간주됩니다. 상수 표현식도 상수로 간주됩니다(예 : LIKE 연산자의 오른쪽 절반은 여러 상수로 구성될 수 있습니다).

함수는 상수 인수와 비상수 인수에 대해 서로 다른 방식으로 구현될 수 있습니다(서로 다른 코드가 실행됨). 하지만 상수에 대한 결과는 동일한 값을 포함하는 실제 컬럼에 대한 결과와 일치해야 합니다.

## NULL 처리 {#null-processing}

함수는 다음과 같은 동작을 합니다:

- 함수의 인수 중 적어도 하나가 `NULL`인 경우, 함수의 결과도 `NULL`입니다.
- 각 함수의 설명에서 개별적으로 지정된 특별한 동작이 있습니다. ClickHouse 소스 코드에서 이러한 함수는 `UseDefaultImplementationForNulls=false`를 가집니다.

## 상수성 {#constancy}

함수는 인수 값을 변경할 수 없으며 – 모든 변경 사항은 결과로 반환됩니다. 따라서 개별 함수 계산의 결과는 쿼리에서 함수가 작성된 순서에 의존하지 않습니다.

## 고차 함수 {#higher-order-functions}

### `->` 연산자 및 lambda(params, expr) 함수 {#arrow-operator-and-lambda}

고차 함수는 lambda 함수만을 기능적 인수로 받아들입니다. 고차 함수에 lambda 함수 전달 시 `->` 연산자를 사용하십시오. 화살표의 왼쪽에는 공식 매개변수가 있으며, 이 매개변수는任意 ID이거나 튜플 내의 여러 공식 매개변수입니다. 화살표의 오른쪽에는 이러한 공식 매개변수를 사용할 수 있는 표현식이 있으며, 테이블의 컬럼도 포함할 수 있습니다.

예시:

```python
x -> 2 * x
str -> str != Referer
```

여러 인수를 수용할 수 있는 lambda 함수도 고차 함수에 전달될 수 있습니다. 이 경우, 고차 함수는 이러한 인수에 해당하는 동일한 길이의 여러 배열을 받습니다.

일부 함수에서는 첫 번째 인수(즉, lambda 함수)를 생략할 수 있습니다. 이 경우, 동일한 매핑이 가정됩니다.

## 사용자 정의 함수( UDF) {#user-defined-functions-udfs}

ClickHouse는 사용자 정의 함수를 지원합니다. [UDFs](../functions/udf.md)를 참조하십시오.
