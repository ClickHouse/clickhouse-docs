---
'description': '문자열 치환 함수에 대한 Documentation'
'sidebar_label': '문자열 치환'
'slug': '/sql-reference/functions/string-replace-functions'
'title': '문자열 치환 함수'
'doc_type': 'reference'
'keywords':
- 'string replacement'
---


# 문자열 교체를 위한 함수

[일반 문자열 함수](string-functions.md)와 [문자열 검색 함수](string-search-functions.md)는 별도로 설명됩니다.

:::note
아래 문서는 `system.functions` 시스템 테이블에서 생성되었습니다.
:::

<!-- 
The inner content of the tags below are replaced at doc framework build time with 
docs generated from system.functions. Please do not modify or remove the tags.
See: https://github.com/ClickHouse/clickhouse-docs/blob/main/contribute/autogenerated-documentation-from-source.md
-->

<!--AUTOGENERATED_START-->
## format {#format}

Introduced in: v20.1


`pattern` 문자열을 인수로 나열된 값(문자열, 정수 등)과 함께 포맷합니다. 파이썬에서의 포맷과 유사합니다.
패턴 문자열은 중괄호 `{}`로 둘러싸인 교체 필드를 포함할 수 있습니다.
중괄호에 포함되지 않은 모든 것은 리터럴 텍스트로 간주되며 출력에 있는 그대로 복사됩니다.
리터럴 중괄호 문자는 두 개의 중괄호로 이스케이프할 수 있습니다: `{{` 및 `}}`.
필드 이름은 숫자(0부터 시작) 또는 비어 있을 수 있으며(이 경우 암묵적으로 증가하는 숫자가 할당됨) 사용됩니다.


**구문**

```sql
format(pattern, s0[, s1, ...])
```

**인수**

- `pattern` — 플레이스홀더를 포함하는 포맷 문자열. [`String`](/sql-reference/data-types/string)
- `s0[, s1, ...]` — 패턴에 대체할 하나 이상의 값. [`Any`](/sql-reference/data-types)


**반환 값**

포맷된 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**번호가 매겨진 플레이스홀더**

```sql title=Query
SELECT format('{1} {0} {1}', 'World', 'Hello')
```

```response title=Response
┌─format('{1} {0} {1}', 'World', 'Hello')─┐
│ Hello World Hello                       │
└─────────────────────────────────────────┘
```

**암묵적 번호 매기기**

```sql title=Query
SELECT format('{} {}', 'Hello', 'World')
```

```response title=Response
┌─format('{} {}', 'Hello', 'World')─┐
│ Hello World                       │
└───────────────────────────────────┘
```



## overlay {#overlay}

Introduced in: v24.9


문자열 `input`의 일부를 문자열 `replace`로 교체하며, 1부터 시작하는 인덱스 `offset`에서 시작합니다.


**구문**

```sql
overlay(s, replace, offset[, length])
```

**인수**

- `s` — 입력 문자열. [`String`](/sql-reference/data-types/string)
- `replace` — 교체 문자열. [`const String`](/sql-reference/data-types/string)
- `offset` — 정수형 타입 `Int` (1부터 시작). `offset`이 음수이면 문자열 `s`의 끝에서부터 계산됩니다. [`Int`](/sql-reference/data-types/int-uint)
- `length` — 선택 사항. 정수형 타입 `Int`. `length`는 입력 문자열 `s`에서 교체할 부분의 길이를 지정합니다. `length`가 지정되지 않으면 `s`에서 제거되는 바이트 수는 `replace`의 길이와 같으며, 그 외에는 `length` 바이트가 제거됩니다. [`Int`](/sql-reference/data-types/int-uint)


**반환 값**

교체된 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**기본 교체**

```sql title=Query
SELECT overlay('My father is from Mexico.', 'mother', 4) AS res;
```

```response title=Response
┌─res──────────────────────┐
│ My mother is from Mexico.│
└──────────────────────────┘
```

**길이를 가진 교체**

```sql title=Query
SELECT overlay('My father is from Mexico.', 'dad', 4, 6) AS res;
```

```response title=Response
┌─res───────────────────┐
│ My dad is from Mexico.│
└───────────────────────┘
```



## overlayUTF8 {#overlayUTF8}

Introduced in: v24.9


문자열 `s`의 일부를 문자열 `replace`로 교체하며, 1부터 시작하는 인덱스 `offset`에서 시작합니다.
문자열이 유효한 UTF-8 인코딩 텍스트를 포함하고 있다고 가정합니다.
이 가정이 위반되면 예외가 발생하지 않으며 결과는 정의되지 않습니다.


**구문**

```sql
overlayUTF8(s, replace, offset[, length])
```

**인수**

- `s` — 입력 문자열. [`String`](/sql-reference/data-types/string)
- `replace` — 교체 문자열. [`const String`](/sql-reference/data-types/string)
- `offset` — 정수형 타입 `Int` (1부터 시작). `offset`이 음수이면 입력 문자열 `s`의 끝에서부터 계산됩니다. [`(U)Int*`](/sql-reference/data-types/int-uint)
- `length` — 선택 사항. 입력 문자열 `s`에서 교체할 부분의 길이를 지정합니다. `length`가 지정되지 않으면 `s`에서 제거되는 문자 수는 `replace`의 길이와 같으며, 그 외에는 `length` 문자가 제거됩니다. [`(U)Int*`](/sql-reference/data-types/int-uint)


**반환 값**

교체된 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**UTF-8 교체**

```sql title=Query
SELECT overlayUTF8('Mein Vater ist aus Österreich.', 'der Türkei', 20) AS res;
```

```response title=Response
┌─res───────────────────────────┐
│ Mein Vater ist aus der Türkei.│
└───────────────────────────────┘
```



## printf {#printf}

Introduced in: v24.8


`printf` 함수는 주어진 문자열을 인수에 나열된 값(문자열, 정수, 부동소수점 등)으로 포맷합니다. C++의 printf 함수와 유사합니다.
포맷 문자열은 `%` 문자로 시작하는 형식 지정자를 포함할 수 있습니다.
`%`와 그 다음 형식 지정자에 포함되지 않은 모든 것은 리터럴 텍스트로 간주되며 있는 그대로 출력에 복사됩니다.
리터럴 `%` 문자는 `%%`로 이스케이프할 수 있습니다.


**구문**

```sql
printf(format[, sub1, sub2, ...])
```

**인수**

- `format` — `%` 형식 지정자가 포함된 포맷 문자열. [`String`](/sql-reference/data-types/string)
- `sub1, sub2, ...` — 선택 사항. 포맷 문자열에 대체할 0개 이상의 값. [`Any`](/sql-reference/data-types)


**반환 값**

포맷된 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**C++ 스타일 포맷**

```sql title=Query
SELECT printf('%%%s %s %d', 'Hello', 'World', 2024);
```

```response title=Response
┌─printf('%%%s %s %d', 'Hello', 'World', 2024)─┐
│ %Hello World 2024                            │
└──────────────────────────────────────────────┘
```



## regexpQuoteMeta {#regexpQuoteMeta}

Introduced in: v20.1


정규 표현식에서 특별한 의미를 가지는 다음 문자 앞에 백슬래시를 추가합니다: `\0`, `\\`, `|`, `(`, `)`, `^`, `$`, `.`, `[`, `]`, `?`, `*`, `+`, `{`, `:`, `-`.
이 구현은 re2::RE2::QuoteMeta와 약간 다릅니다.
제로 바이트는 `\0`으로 이스케이프되며, `\x00`으로 이스케이프되지 않으며, 필요한 문자만 이스케이프합니다.
    

**구문**

```sql
regexpQuoteMeta(s)
```

**인수**

- `s` — regex를 위해 이스케이프할 문자를 포함하는 입력 문자열. [`String`](/sql-reference/data-types/string)


**반환 값**

이스케이프된 정규 표현식 특별 문자가 포함된 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**정규 표현식 특별 문자 이스케이프**

```sql title=Query
SELECT regexpQuoteMeta('Hello. [World]? (Yes)*') AS res
```

```response title=Response
┌─res───────────────────────────┐
│ Hello\. \[World\]\? \(Yes\)\* │
└───────────────────────────────┘
```



## replaceAll {#replaceAll}

Introduced in: v1.1


`haystack` 내의 하위 문자열 `pattern`의 모든 발생을 `replacement` 문자열로 교체합니다.


**구문**

```sql
replaceAll(haystack, pattern, replacement)
```

**별칭**: `replace`

**인수**

- `haystack` — 검색할 입력 문자열. [`String`](/sql-reference/data-types/string)
- `pattern` — 찾고 교체할 하위 문자열. [`const String`](/sql-reference/data-types/string)
- `replacement` — 패턴을 교체할 문자열. [`const String`](/sql-reference/data-types/string)


**반환 값**

모든 발생이 교체된 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**모든 발생 교체**

```sql title=Query
SELECT replaceAll('Hello, Hello world', 'Hello', 'Hi') AS res;
```

```response title=Response
┌─res──────────┐
│ Hi, Hi world │
└──────────────┘
```



## replaceOne {#replaceOne}

Introduced in: v1.1


`haystack` 내의 하위 문자열 `pattern`의 첫 번째 발생을 `replacement` 문자열로 교체합니다.
    

**구문**

```sql
replaceOne(haystack, pattern, replacement)
```

**인수**

- `haystack` — 검색할 입력 문자열. [`String`](/sql-reference/data-types/string)
- `pattern` — 찾고 교체할 하위 문자열. [`const String`](/sql-reference/data-types/string)
- `replacement` — 패턴을 교체할 문자열. [`const String`](/sql-reference/data-types/string)


**반환 값**

패턴이 교체된 첫 번째 발생을 포함하는 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**첫 번째 발생 교체**

```sql title=Query
SELECT replaceOne('Hello, Hello world', 'Hello', 'Hi') AS res;
```

```response title=Response
┌─res─────────────┐
│ Hi, Hello world │
└─────────────────┘
```



## replaceRegexpAll {#replaceRegexpAll}

Introduced in: v1.1


`replaceRegexpOne`과 유사하지만 모든 발생을 교체합니다.
예외적으로, 정규 표현식이 빈 하위 문자열에서 작동하는 경우 교체는 한 번만 수행됩니다.


**구문**

```sql
replaceRegexpAll(haystack, pattern, replacement)
```

**별칭**: `REGEXP_REPLACE`

**인수**

- `haystack` — 검색할 입력 문자열. [`String`](/sql-reference/data-types/string)
- `pattern` — 찾을 정규 표현식 패턴. [`const String`](/sql-reference/data-types/string)
- `replacement` — 패턴을 교체할 문자열, 대체를 포함할 수 있습니다. [`const String`](/sql-reference/data-types/string)


**반환 값**

모든 정규식 일치가 교체된 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**모든 문자를 두 배 버전으로 교체**

```sql title=Query
SELECT replaceRegexpAll('Hello123', '.', '\\\\0\\\\0') AS res
```

```response title=Response
┌─res──────────────────┐
│ HHeelllloo112233     │
└──────────────────────┘
```

**빈 하위 문자열 교체 예시**

```sql title=Query
SELECT replaceRegexpAll('Hello, World!', '^', 'here: ') AS res
```

```response title=Response
┌─res─────────────────┐
│ here: Hello, World! │
└─────────────────────┘
```



## replaceRegexpOne {#replaceRegexpOne}

Introduced in: v1.1


정규 표현식 `pattern` (re2 문법)과 일치하는 하위 문자열의 첫 번째 발생을 `haystack` 내에서 `replacement` 문자열로 교체합니다.
`replacement`는 대체 `\0-\9`를 포함할 수 있습니다.
대체 `\1-\9`는 1번째에서 9번째 캡처 그룹(서브매치)에 해당하며, 대체 `\0`는 전체 일치에 해당합니다.
`pattern` 또는 `replacement` 문자열에서 리터럴 `\` 문자를 사용하려면 이스케이프해야 합니다.
또한 문자열 리터럴은 추가 이스케이프가 필요함을 기억하십시오.


**구문**

```sql
replaceRegexpOne(haystack, pattern, replacement)
```

**인수**

- `haystack` — 검색할 입력 문자열. [`String`](/sql-reference/data-types/string)
- `pattern` — 찾을 정규 표현식 패턴. [`const String`](/sql-reference/data-types/string)
- `replacement` — 패턴을 교체할 문자열, 대체를 포함할 수 있습니다. [`const String`](/sql-reference/data-types/string)


**반환 값**

첫 번째 정규 표현식 일치가 교체된 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**ISO 날짜를 미국 형식으로 변환**

```sql title=Query
SELECT DISTINCT
    EventDate,
    replaceRegexpOne(toString(EventDate), '(\\d{4})-(\\d{2})-(\\d{2})', '\\2/\\3/\\1') AS res
FROM test.hits
LIMIT 7
FORMAT TabSeparated
```

```response title=Response
2014-03-17      03/17/2014
2014-03-18      03/18/2014
2014-03-19      03/19/2014
2014-03-20      03/20/2014
2014-03-21      03/21/2014
2014-03-22      03/22/2014
2014-03-23      03/23/2014
```

**문자열을 열 번 복사하기**

```sql title=Query
SELECT replaceRegexpOne('Hello, World!', '.*', '\\\\0\\\\0\\\\0\\\\0\\\\0\\\\0\\\\0\\\\0\\\\0\\\\0') AS res
```

```response title=Response
┌─res────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│ Hello, World!Hello, World!Hello, World!Hello, World!Hello, World!Hello, World!Hello, World!Hello, World!Hello, World!Hello, World! │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```



## translate {#translate}

Introduced in: v22.7


문자열 `s`의 문자를 `from` 및 `to` 문자열로 정의된 일대일 문자 매핑을 사용하여 교체합니다.
`from`과 `to`는 상수 ASCII 문자열이어야 합니다.
`from`과 `to`의 크기가 같을 경우, `first`의 첫 번째 문자가 `s` 내에서 `to`의 첫 번째 문자로 교체되고, `first`의 두 번째 문자는 `s` 내에서 `to`의 두 번째 문자로 교체되는 식입니다.
`from`에 `to`에 해당하는 문자가 없는 경우, `from`의 끝에 있는 모든 문자가 `s`에서 삭제됩니다.
`s` 내의 비 ASCII 문자는 함수에 의해 수정되지 않습니다.


**구문**

```sql
translate(s, from, to)
```

**인수**

- `s` — 변환할 입력 문자열. [`String`](/sql-reference/data-types/string)
- `from` — 교체할 문자를 포함하는 상수 ASCII 문자열. [`const String`](/sql-reference/data-types/string)
- `to` — 교체 문자를 포함하는 상수 ASCII 문자열. [`const String`](/sql-reference/data-types/string)


**반환 값**

문자 변환이 적용된 문자열을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**문자 매핑**

```sql title=Query
SELECT translate('Hello, World!', 'delor', 'DELOR') AS res
```

```response title=Response
┌─res───────────┐
│ HELLO, WORLD! │
└───────────────┘
```

**다른 길이**

```sql title=Query
SELECT translate('clickhouse', 'clickhouse', 'CLICK') AS res
```

```response title=Response
┌─res───┐
│ CLICK │
└───────┘
```



## translateUTF8 {#translateUTF8}

Introduced in: v22.7


[`translate`](#translate)와 유사하지만 `s`, `from`, 및 `to`가 UTF-8 인코딩 문자열인 것으로 가정합니다.


**구문**

```sql
translateUTF8(s, from, to)
```

**인수**

- `s` — UTF-8 입력 문자열. [`String`](/sql-reference/data-types/string)
- `from` — 교체할 문자를 포함하는 상수 UTF-8 문자열. [`const String`](/sql-reference/data-types/string)
- `to` — 교체 문자를 포함하는 상수 UTF-8 문자열. [`const String`](/sql-reference/data-types/string)


**반환 값**

`String` 데이터 타입 값을 반환합니다. [`String`](/sql-reference/data-types/string)

**예시**

**UTF-8 문자 변환**

```sql title=Query
SELECT translateUTF8('Münchener Straße', 'üß', 'us') AS res;
```

```response title=Response
┌─res──────────────┐
│ Munchener Strase │
└──────────────────┘
```



<!--AUTOGENERATED_END-->
