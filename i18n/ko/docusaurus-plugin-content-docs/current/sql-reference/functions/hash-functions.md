---
description: '해시 함수 문서'
sidebar_label: '해시'
slug: /sql-reference/functions/hash-functions
title: '해시 함수'
doc_type: '참고'
---

# 해시 함수 \{#hash-functions\}

해시 함수는 요소들을 결정론적인 의사 난수 방식으로 섞는 데 사용할 수 있습니다.

Simhash는 비슷한(유사한) 인자에 대해 서로 가까운 해시 값을 반환하는 해시 함수입니다.

대부분의 해시 함수는 임의의 타입을 가진 임의 개수의 인자를 허용합니다.

:::note
NULL의 해시는 NULL입니다. 널 허용(Nullable) 컬럼에 대해 NULL이 아닌 해시 값을 얻으려면, 컬럼을 튜플로 감싸십시오:

```sql
SELECT cityHash64(tuple(NULL))
```

:::

:::note
테이블 전체 내용의 해시 값을 계산하려면 `sum(cityHash64(tuple(*)))`(또는 다른 해시 함수)을 사용합니다. `tuple`은 NULL 값이 있는 행이 건너뛰어지지 않도록 보장합니다. `sum`은 행의 순서에 영향을 받지 않도록 보장합니다.
:::

{/* 
  아래 태그 안의 내용은 문서 프레임워크 빌드 시점에 
  system.functions에서 생성된 문서로 대체됩니다. 태그를 수정하거나 삭제하지 마십시오.
  참고: https://github.com/ClickHouse/clickhouse-docs/blob/main/contribute/autogenerated-documentation-from-source.md
  */ }

{/*AUTOGENERATED_START*/ }

## BLAKE3 \{#BLAKE3\}

도입 버전: v22.10

BLAKE3 해시 문자열을 계산하고, 결과 바이트 시퀀스를 `FixedString` 형식으로 반환합니다.
이 암호화 해시 함수는 BLAKE3 Rust 라이브러리를 사용하여 ClickHouse에 통합되어 있습니다.
이 함수는 상당히 빠르며, SHA-2와 비교해 대략 2배 빠른 성능을 보이는 동시에 SHA-256과 동일한 길이의 해시를 생성합니다.
길이 32의 `FixedString` 형식 바이트 배열로 BLAKE3 해시를 반환합니다.

**구문**

```sql
BLAKE3(message)
```

**인수**

* `message` — 해시할 입력 문자열입니다. [`String`](/sql-reference/data-types/string)

**반환 값**

입력 문자열의 32바이트 BLAKE3 해시값을 고정 길이 문자열로 반환합니다. [`FixedString(32)`](/sql-reference/data-types/fixedstring)

**예시**

**hash**

```sql title=Query
SELECT hex(BLAKE3('ABC'))
```

```response title=Response
┌─hex(BLAKE3('ABC'))───────────────────────────────────────────────┐
│ D1717274597CF0289694F75D96D444B992A096F1AFD8E7BBFA6EBB1D360FEDFC │
└──────────────────────────────────────────────────────────────────┘
```

## MD4 \{#MD4\}

도입된 버전: v21.11

지정한 문자열의 MD4 해시를 계산합니다.

**구문**

```sql
MD4(s)
```

**인수**

* `s` — 해시할 입력 문자열입니다. [`String`](/sql-reference/data-types/string)

**반환 값**

주어진 입력 문자열의 MD4 해시를 고정 길이 문자열로 반환합니다. [`FixedString(16)`](/sql-reference/data-types/fixedstring)

**예시**

**사용 예시**

```sql title=Query
SELECT HEX(MD4('abc'));
```

```response title=Response
┌─hex(MD4('abc'))──────────────────┐
│ A448017AAF21D8525FC10AE87AA6729D │
└──────────────────────────────────┘
```

## MD5 \{#MD5\}

도입된 버전: v1.1

지정된 문자열의 MD5 해시를 계산합니다.

**구문**

```sql
MD5(s)
```

**인자**

* `s` — 해시할 입력 문자열입니다. [`String`](/sql-reference/data-types/string)

**반환 값**

주어진 입력 문자열의 MD5 해시를 길이가 고정된 문자열로 반환합니다. [`FixedString(16)`](/sql-reference/data-types/fixedstring)

**예시**

**사용 예시**

```sql title=Query
SELECT HEX(MD5('abc'));
```

```response title=Response
┌─hex(MD5('abc'))──────────────────┐
│ 900150983CD24FB0D6963F7D28E17F72 │
└──────────────────────────────────┘
```

## RIPEMD160 \{#RIPEMD160\}

도입된 버전: v24.10

주어진 문자열의 RIPEMD-160 해시를 계산합니다.

**구문**

```sql
RIPEMD160(s)
```

**인자**

* `s` — 해시할 입력 문자열입니다. [`String`](/sql-reference/data-types/string)

**반환 값**

주어진 입력 문자열의 RIPEMD160 해시를 고정 길이 문자열로 반환합니다. [`FixedString(20)`](/sql-reference/data-types/fixedstring)

**예시**

**사용 예시**

```sql title=Query
SELECT HEX(RIPEMD160('The quick brown fox jumps over the lazy dog'));
```

```response title=Response
┌─HEX(RIPEMD160('The quick brown fox jumps over the lazy dog'))─┐
│ 37F332F68DB77BD9D7EDD4969571AD671CF9DD3B                      │
└───────────────────────────────────────────────────────────────┘
```

## SHA1 \{#SHA1\}

도입된 버전: v1.1

입력 문자열의 SHA1 해시를 계산합니다.

**구문**

```sql
SHA1(s)
```

**인수**

* `s` — 해시할 입력 문자열 [`String`](/sql-reference/data-types/string)

**반환 값**

주어진 입력 문자열의 SHA1 해시 값을 고정 길이 문자열로 반환합니다. [`FixedString(20)`](/sql-reference/data-types/fixedstring)

**예시**

**사용 예시**

```sql title=Query
SELECT HEX(SHA1('abc'));
```

```response title=Response
┌─hex(SHA1('abc'))─────────────────────────┐
│ A9993E364706816ABA3E25717850C26C9CD0D89D │
└──────────────────────────────────────────┘
```

## SHA224 \{#SHA224\}

도입된 버전: v1.1

지정한 문자열의 SHA224 해시를 계산합니다.

**구문**

```sql
SHA224(s)
```

**인수**

* `s` — 해시할 입력값. [`String`](/sql-reference/data-types/string)

**반환 값**

주어진 입력 문자열의 SHA224 해시를 고정 길이의 문자열로 반환합니다. [`FixedString(28)`](/sql-reference/data-types/fixedstring)

**예시**

**사용 예시**

```sql title=Query
SELECT HEX(SHA224('abc'));
```

```response title=Response
┌─hex(SHA224('abc'))───────────────────────────────────────┐
│ 23097D223405D8228642A477BDA255B32AADBCE4BDA0B3F7E36C9DA7 │
└──────────────────────────────────────────────────────────┘
```

## SHA256 \{#SHA256\}

도입 버전: v1.1

입력 문자열의 SHA256 해시를 계산합니다.

**구문**

```sql
SHA256(s)
```

**인수**

* `s` — 해시할 입력 문자열입니다. [`String`](/sql-reference/data-types/string)

**반환 값**

주어진 입력 문자열의 SHA256 해시를 고정 길이 문자열로 반환합니다. [`FixedString(32)`](/sql-reference/data-types/fixedstring)

**예시**

**사용 예시**

```sql title=Query
SELECT HEX(SHA256('abc'));
```

```response title=Response
┌─hex(SHA256('abc'))───────────────────────────────────────────────┐
│ BA7816BF8F01CFEA414140DE5DAE2223B00361A396177A9CB410FF61F20015AD │
└──────────────────────────────────────────────────────────────────┘
```

## SHA384 \{#SHA384\}

도입 버전: v1.1

주어진 문자열에 대한 SHA384 해시를 계산합니다.

**구문**

```sql
SHA384(s)
```

**인수**

* `s` — 해싱할 입력 문자열입니다. [`String`](/sql-reference/data-types/string)

**반환 값**

주어진 입력 문자열의 SHA384 해시 값을 고정 길이 문자열로 반환합니다. [`FixedString(48)`](/sql-reference/data-types/fixedstring)

**예제**

**사용 예제**

```sql title=Query
SELECT HEX(SHA384('abc'));
```

```response title=Response
┌─hex(SHA384('abc'))───────────────────────────────────────────────────────────────────────────────┐
│ CB00753F45A35E8BB5A03D699AC65007272C32AB0EDED1631A8B605A43FF5BED8086072BA1E7CC2358BAECA134C825A7 │
└──────────────────────────────────────────────────────────────────────────────────────────────────┘
```

## SHA512 \{#SHA512\}

도입된 버전: v1.1

지정한 문자열의 SHA512 해시 값을 계산합니다.

**구문**

```sql
SHA512(s)
```

**인수**

* `s` — 해시할 입력 문자열 [`String`](/sql-reference/data-types/string)

**반환값**

주어진 입력 문자열의 SHA512 해시 값을 고정 길이 문자열로 반환합니다. [`FixedString(64)`](/sql-reference/data-types/fixedstring)

**예제**

**사용 예제**

```sql title=Query
SELECT HEX(SHA512('abc'));
```

```response title=Response
┌─hex(SHA512('abc'))───────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│ DDAF35A193617ABACC417349AE20413112E6FA4E89A97EA20A9EEEE64B55D39A2192992A274FC1A836BA3C23A3FEEBBD454D4423643CE80E2A9AC94FA54CA49F │
└──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

## SHA512_256 \{#SHA512_256\}

도입 버전: v1.1

주어진 문자열의 SHA512&#95;256 해시를 계산합니다.

**구문**

```sql
SHA512_256(s)
```

**인수**

* `s` — 해시할 입력 문자열입니다. [`String`](/sql-reference/data-types/string)

**반환 값**

지정된 입력 문자열의 SHA512&#95;256 해시를 고정 길이의 문자열로 반환합니다. [`FixedString(32)`](/sql-reference/data-types/fixedstring)

**예시**

**사용 예시**

```sql title=Query
SELECT HEX(SHA512_256('abc'));
```

```response title=Response
┌─hex(SHA512_256('abc'))───────────────────────────────────────────┐
│ 53048E2681941EF99B2E29B76B4C7DABE4C2D0C634FC6D46E0E2F13107E7AF23 │
└──────────────────────────────────────────────────────────────────┘
```

## URLHash \{#URLHash\}

도입 버전: v1.1

URL에서 얻은 문자열을 일정한 방식으로 정규화(normalization)한 뒤 사용하는, 빠르고 품질이 괜찮은 비암호화 해시 함수입니다.

이 해시 함수는 두 가지 모드를 지원합니다:

| Mode              | Description                                                                                                                       |
| ----------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| `URLHash(url)`    | 문자열 끝에 `/`, `?`, `#` 중 하나가 있는 경우, 해당 기호 하나를 제거한 문자열로부터 해시를 계산합니다.                                                                 |
| `URLHash(url, N)` | URL 계층 구조에서 N번째 레벨까지 포함하는 부분 문자열에 대해, 문자열 끝에 `/`, `?`, `#` 중 하나가 있는 경우 해당 기호 하나를 제거한 문자열로부터 해시를 계산합니다. 레벨은 `URLHierarchy`와 동일합니다. |

**구문**

```sql
URLHash(url[, N])
```

**인수(Arguments)**

* `url` — 해싱할 URL 문자열입니다. [`String`](/sql-reference/data-types/string)
* `N` — 선택적 인수입니다. URL 계층 구조상의 단계입니다. [`(U)Int*`](/sql-reference/data-types/int-uint)

**반환 값(Returned value)**

`url`의 계산된 해시값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시(Examples)**

**사용 예시(Usage example)**

```sql title=Query
SELECT URLHash('https://www.clickhouse.com')
```

```response title=Response
┌─URLHash('htt⋯house.com')─┐
│     13614512636072854701 │
└──────────────────────────┘
```

**지정한 단계까지의 URL 해시**

```sql title=Query
SELECT URLHash('https://www.clickhouse.com/docs', 0);
SELECT URLHash('https://www.clickhouse.com/docs', 1);
```

```response title=Response
-- hash of https://www.clickhouse.com
┌─URLHash('htt⋯m/docs', 0)─┐
│     13614512636072854701 │
└──────────────────────────┘
-- hash of https://www.clickhouse.com/docs
┌─URLHash('htt⋯m/docs', 1)─┐
│     13167253331440520598 │
└──────────────────────────┘
```

## cityHash64 \{#cityHash64\}

도입된 버전: v1.1

64비트 [CityHash](https://github.com/google/cityhash) 해시 값을 생성합니다.

이 함수는 빠른 비암호화 해시 함수입니다.
문자열 인자에는 CityHash 알고리즘을 사용하고, 그 외 데이터 타입의 인자에는 구현별 빠른 비암호화 해시 함수를 사용합니다.
최종 결과를 얻기 위해 CityHash 조합기(combinator)를 사용합니다.

:::info
Google은 CityHash가 ClickHouse에 추가된 이후 CityHash 알고리즘을 변경했습니다.
즉, ClickHouse의 cityHash64와 Google의 업스트림(upstream) CityHash는 이제 서로 다른 결과를 생성합니다.
ClickHouse의 cityHash64는 CityHash v1.0.2에 해당합니다.
:::

:::note
서로 다른 인자 타입에서 동일한 입력 값일 때, 계산된 해시 값이 동일할 수 있습니다.
예를 들어 크기가 다른 정수 타입, 동일한 데이터를 가진 이름 있는 `Tuple`과 이름 없는 `Tuple`, 동일한 데이터를 가진 맵(`Map`)과 이에 대응하는 `Array(Tuple(key, value))` 타입이 이에 해당합니다.
:::

**구문**

```sql
cityHash64(arg1[, arg2, ...])
```

**인수**

* `arg1[, arg2, ...]` — 해시를 계산할 가변 개수의 입력 인수입니다. [`Any`](/sql-reference/data-types)

**반환 값**

입력 인수에 대해 계산된 해시 값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제**

**호출 예제**

```sql title=Query
SELECT cityHash64(array('e','x','a'), 'mple', 10, toDateTime('2019-06-15 23:00:00')) AS CityHash, toTypeName(CityHash) AS type;
```

```response title=Response
┌─────────────CityHash─┬─type───┐
│ 12072650598913549138 │ UInt64 │
└──────────────────────┴────────┘
```

**행 순서까지 정확히 반영하여 전체 테이블의 체크섬을 계산**

```sql title=Query
CREATE TABLE users (
    id UInt32,
    name String,
    age UInt8,
    city String
)
ENGINE = MergeTree
ORDER BY tuple();

INSERT INTO users VALUES
(1, 'Alice', 25, 'New York'),
(2, 'Bob', 30, 'London'),
(3, 'Charlie', 35, 'Tokyo');

SELECT groupBitXor(cityHash64(*)) FROM users;
```

```response title=Response
┌─groupBitXor(⋯age, city))─┐
│     11639977218258521182 │
└──────────────────────────┘
```

## farmFingerprint64 \{#farmFingerprint64\}

도입 버전: v20.12

`Fingerprint64` 메서드를 사용하여 64비트 [FarmHash](https://github.com/google/farmhash) 값을 생성합니다.

:::tip
`farmFingerprint64`는 안정적이고 이식 가능한 값을 제공하므로 [`farmHash64`](#farmHash64)보다 권장됩니다.
:::

:::note
계산된 해시 값은 서로 다른 인수 타입이라도 동일한 입력 값에 대해 같을 수 있습니다.
예를 들어, 크기가 다른 정수 타입, 동일한 데이터를 가진 이름 있는 `Tuple`과 이름 없는 `Tuple`, 동일한 데이터를 가진 `Map`과 이에 해당하는 `Array(Tuple(key, value))` 타입 등이 이에 해당합니다.
:::

**구문**

```sql
farmFingerprint64(arg1[, arg2, ...])
```

**인수**

* `arg1[, arg2, ...]` — 해시를 계산할 가변 개수의 입력 인수입니다. [`Any`](/sql-reference/data-types)

**반환 값**

입력 인수에 대해 계산된 해시값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT farmFingerprint64(array('e','x','a'), 'mple', 10, toDateTime('2019-06-15 23:00:00')) AS FarmFingerprint, toTypeName(FarmFingerprint) AS type;
```

```response title=Response
┌─────FarmFingerprint─┬─type───┐
│ 5752020380710916328 │ UInt64 │
└─────────────────────┴────────┘
```

## farmHash64 \{#farmHash64\}

도입 버전: v1.1

`Hash64` 메서드를 사용하여 64비트 [FarmHash](https://github.com/google/farmhash)를 생성합니다.

:::tip
안정적이고 이식 가능한 값을 위해서는 [`farmFingerprint64`](#farmFingerprint64)를 사용하는 것이 더 좋습니다.
:::

:::note
계산된 해시 값은 서로 다른 인수 타입이라도 동일한 입력 값에 대해 같게 계산될 수 있습니다.
예를 들어, 크기가 다른 정수 타입, 동일한 데이터를 가진 이름이 있는 `Tuple`과 이름이 없는 `Tuple`, 동일한 데이터를 가진 `Map`과 이에 대응하는 `Array(Tuple(key, value))` 타입 등이 이에 해당합니다.
:::

**구문**

```sql
farmHash64(arg1[, arg2, ...])
```

**인수**

* `arg1[, arg2, ...]` — 해시를 계산할 때 사용할 입력 인수를 가변 개수로 받습니다. [`Any`](/sql-reference/data-types)

**반환 값**

입력 인수에 대해 계산된 해시 값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT farmHash64(array('e','x','a'), 'mple', 10, toDateTime('2019-06-15 23:00:00')) AS FarmHash, toTypeName(FarmHash) AS type;
```

```response title=Response
┌─────────────FarmHash─┬─type───┐
│ 18125596431186471178 │ UInt64 │
└──────────────────────┴────────┘
```

## gccMurmurHash \{#gccMurmurHash\}

도입 버전: v20.1

입력값에 대해 [GCC](https://github.com/gcc-mirror/gcc/blob/41d6b10e96a1de98e90a7c0378437c3255814b16/libstdc%2B%2B-v3/include/bits/functional_hash.h#L191)에서 사용하는 것과 동일한 시드를 사용하여 64비트 [MurmurHash2](https://github.com/aappleby/smhasher) 해시를 계산합니다.

Clang과 GCC로 빌드한 경우 모두 이식성이 보장됩니다.

**구문**

```sql
gccMurmurHash(arg1[, arg2, ...])
```

**인자**

* `arg1[, arg2, ...]` — 해시를 계산할 인자를 여러 개 지정할 수 있습니다. [`Any`](/sql-reference/data-types)

**반환값**

입력 인자들에 대해 계산된 해시값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT
    gccMurmurHash(1, 2, 3) AS res1,
    gccMurmurHash(('a', [1, 2, 3], 4, (4, ['foo', 'bar'], 1, (1, 2)))) AS res2
```

```response title=Response
┌─────────────────res1─┬────────────────res2─┐
│ 12384823029245979431 │ 1188926775431157506 │
└──────────────────────┴─────────────────────┘
```

## halfMD5 \{#halfMD5\}

도입 버전: v1.1

모든 입력 파라미터를 문자열로 [재해석](/sql-reference/functions/type-conversion-functions#reinterpretAsString)한 후 각각에 대해 MD5 해시 값을 계산합니다. 그런 다음 이 해시들을 결합하고, 결과 문자열에 대한 해시의 처음 8바이트를 가져와 빅엔디언 바이트 순서의 [UInt64](/sql-reference/data-types/int-uint)로 해석합니다. 이 함수는 상대적으로 느린 함수입니다(프로세서 코어당 초당 약 500만 개의 짧은 문자열 처리).

대신 [`sipHash64`](#sipHash64) 함수를 사용하는 것을 고려하십시오.

이 함수는 가변 개수의 입력 파라미터를 받습니다.
인자는 지원되는 어떤 데이터 타입이든 될 수 있습니다.
일부 데이터 타입의 경우, 인자의 타입이 서로 다르더라도(서로 다른 크기의 정수, 동일한 데이터를 가지는 이름 있는 Tuple 및 이름 없는 Tuple, 동일한 데이터를 가지는 Map 및 이에 대응하는 Array(Tuple(key, value)) 타입 등) 같은 값에 대해 해시 함수의 계산 결과가 동일할 수 있습니다.

**구문**

```sql
halfMD5(arg1[, arg2, ..., argN])
```

**인자**

* `arg1[, arg2, ..., argN]` — 해시를 계산할 가변 개수의 인수입니다. [`Any`](/sql-reference/data-types)

**반환 값**

지정된 입력 인수에 대해 계산된 half MD5 해시를 big-endian 바이트 순서의 `UInt64` 값으로 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT HEX(halfMD5('abc', 'cde', 'fgh'));
```

```response title=Response
┌─hex(halfMD5('abc', 'cde', 'fgh'))─┐
│ 2C9506B7374CFAF4                  │
└───────────────────────────────────┘
```

## hiveHash \{#hiveHash\}

도입된 버전: v20.1

문자열로부터 「HiveHash」를 계산합니다.
부호 비트를 0으로 만든 [`JavaHash`](#javaHash)와 같습니다.
이 함수는 3.0 이전 버전의 [Apache Hive](https://en.wikipedia.org/wiki/Apache_Hive)에서 사용되었습니다.

:::caution
이 해시 함수는 성능이 떨어집니다.
이미 다른 시스템에서 이 알고리즘을 사용 중이며 동일한 결과를 계산해야 하는 경우에만 사용하십시오.
:::

**구문**

```sql
hiveHash(arg)
```

**인수**

* `arg` — 해시할 입력 문자열. [`String`](/sql-reference/data-types/string)

**반환 값**

입력 문자열의 「hive 해시」 계산 결과를 반환합니다. [`Int32`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT hiveHash('Hello, world!');
```

```response title=Response
┌─hiveHash('Hello, world!')─┐
│                 267439093 │
└───────────────────────────┘
```

## icebergHash \{#icebergHash\}

도입 버전: v25.5

Iceberg의 [hashing transform](https://iceberg.apache.org/spec/#appendix-b-32-bit-hash-requirements) 로직을 구현합니다.

**구문**

```sql
icebergHash(value)
```

**인자**

* `value` — 해시를 계산할 원본 값. [`Integer`](/sql-reference/data-types/int-uint) 또는 [`Bool`](/sql-reference/data-types/boolean) 또는 [`Decimal`](/sql-reference/data-types/decimal) 또는 [`Float*`](/sql-reference/data-types/float) 또는 [`String`](/sql-reference/data-types/string) 또는 [`FixedString`](/sql-reference/data-types/fixedstring) 또는 [`UUID`](/sql-reference/data-types/uuid) 또는 [`Date`](/sql-reference/data-types/date) 또는 [`Time`](/sql-reference/data-types/time) 또는 [`DateTime`](/sql-reference/data-types/datetime)

**반환 값**

32비트 Murmur3 해시값을 반환합니다. x86 변형이며 시드(seed)는 0입니다. 반환 타입은 [`Int32`](/sql-reference/data-types/int-uint)입니다.

**예시**

**예시**

```sql title=Query
SELECT icebergHash(1.0 :: Float32)
```

```response title=Response
-142385009
```

## intHash32 \{#intHash32\}

도입된 버전: v1.1

정수의 32비트 해시를 계산합니다.

이 해시 함수는 비교적 빠르지만 암호학적 해시 함수로 설계된 것은 아닙니다.

**구문**

```sql
intHash32(arg)
```

**인수**

* `arg` — 해시할 정수입니다. [`(U)Int*`](/sql-reference/data-types/int-uint)

**반환 값**

입력 정수에 대해 계산된 32비트 해시 코드인 [`UInt32`](/sql-reference/data-types/int-uint) 값을 반환합니다.

**예시**

**사용 예시**

```sql title=Query
SELECT intHash32(42);
```

```response title=Response
┌─intHash32(42)─┐
│    1228623923 │
└───────────────┘
```

## intHash64 \{#intHash64\}

도입 버전: v1.1

정수의 64비트 해시를 계산합니다.

이 해시 함수는 비교적 빠르며( [`intHash32`](#intHash32)보다도 빠름) 암호학적 해시 함수는 아닙니다.

**구문**

```sql
intHash64(int)
```

**인수**

* `int` — 해시할 정수 값. [`(U)Int*`](/sql-reference/data-types/int-uint)

**반환값**

64비트 해시 코드. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT intHash64(42);
```

```response title=Response
┌────────intHash64(42)─┐
│ 11490350930367293593 │
└──────────────────────┘
```

## javaHash \{#javaHash\}

도입: v20.1

다음 타입에서 JavaHash를 계산합니다:

* [string](http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/478a4add975b/src/share/classes/java/lang/String.java#l1452),
* [Byte](https://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/478a4add975b/src/share/classes/java/lang/Byte.java#l405),
* [Short](https://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/478a4add975b/src/share/classes/java/lang/Short.java#l410),
* [Integer](https://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/478a4add975b/src/share/classes/java/lang/Integer.java#l959),
* [Long](https://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/478a4add975b/src/share/classes/java/lang/Long.java#l1060).

:::caution
이 해시 함수는 성능이 좋지 않습니다.
다른 시스템에서 이미 이 알고리즘을 사용 중이고 동일한 결과를 계산해야 할 때만 사용하십시오.
:::

:::note
Java는 부호 있는 정수의 해시 계산만 지원합니다.
따라서 부호 없는 정수의 해시를 계산하려면 해당 값을 적절한 부호 있는 ClickHouse 타입으로 캐스팅해야 합니다.
:::

**구문**

```sql
javaHash(arg)
```

**인수**

* `arg` — 해시할 입력 값입니다. [`Any`](/sql-reference/data-types)

**반환 값**

`arg`의 해시를 계산한 값을 반환합니다. [`Int32`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시 1**

```sql title=Query
SELECT javaHash(toInt32(123));
```

```response title=Response
┌─javaHash(toInt32(123))─┐
│               123      │
└────────────────────────┘
```

**사용 예 2**

```sql title=Query
SELECT javaHash('Hello, world!');
```

```response title=Response
┌─javaHash('Hello, world!')─┐
│               -1880044555 │
└───────────────────────────┘
```

## javaHashUTF16LE \{#javaHashUTF16LE\}

도입된 버전: v20.1

문자열이 UTF-16LE로 인코딩된 문자열을 나타내는 바이트를 포함한다고 가정하고, 해당 문자열에 대한 [JavaHash](http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/478a4add975b/src/share/classes/java/lang/String.java#l1452)를 계산합니다.

**구문**

```sql
javaHashUTF16LE(arg)
```

**인수**

* `arg` — UTF-16LE 인코딩의 문자열. [`String`](/sql-reference/data-types/string)

**반환 값**

UTF-16LE로 인코딩된 문자열의 해시 값을 반환합니다. [`Int32`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT javaHashUTF16LE(convertCharset('test', 'utf-8', 'utf-16le'));
```

```response title=Response
┌─javaHashUTF16LE(convertCharset('test', 'utf-8', 'utf-16le'))─┐
│                                                      3556498 │
└──────────────────────────────────────────────────────────────┘
```

## jumpConsistentHash \{#jumpConsistentHash\}

도입된 버전: v1.1

정수에 대해 [jump consistent hash](https://arxiv.org/pdf/1406.2294.pdf)를 계산합니다.

**구문**

```sql
jumpConsistentHash(key, buckets)
```

**매개변수**

* `key` — 입력 키입니다. [`UInt64`](/sql-reference/data-types/int-uint)
* `buckets` — 버킷 개수입니다. [`Int32`](/sql-reference/data-types/int-uint)

**반환값**

계산된 해시 값을 반환합니다. [`Int32`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT jumpConsistentHash(256, 4)
```

```response title=Response
┌─jumpConsistentHash(256, 4)─┐
│                          3 │
└────────────────────────────┘
```

## kafkaMurmurHash \{#kafkaMurmurHash\}

도입 버전: v23.4

입력 값에 대해 [Kafka](https://github.com/apache/kafka/blob/461c5cfe056db0951d9b74f5adc45973670404d7/clients/src/main/java/org/apache/kafka/common/utils/Utils.java#L482)에서 사용하는 것과 동일한 seed를 사용하고, [Default Partitioner](https://github.com/apache/kafka/blob/139f7709bd3f5926901a21e55043388728ccca78/clients/src/main/java/org/apache/kafka/clients/producer/internals/BuiltInPartitioner.java#L328)와의 호환성을 위해 최상위 비트를 제거하여 32비트 [MurmurHash2](https://github.com/aappleby/smhasher) 해시를 계산합니다.

**구문**

```sql
kafkaMurmurHash(arg1[, arg2, ...])
```

**인수**

* `arg1[, arg2, ...]` — 해시를 계산할 가변 개수의 매개변수입니다. [`Any`](/sql-reference/data-types)

**반환 값**

입력 인수에 대한 해시 값을 계산하여 반환합니다. [`UInt32`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT
    kafkaMurmurHash('foobar') AS res1,
    kafkaMurmurHash(array('e','x','a'), 'mple', 10, toDateTime('2019-06-15 23:00:00')) AS res2
```

```response title=Response
┌───────res1─┬─────res2─┐
│ 1357151166 │ 85479775 │
└────────────┴──────────┘
```

## keccak256 \{#keccak256\}

도입 버전: v25.4

지정된 문자열의 Keccak-256 암호화 해시값을 계산합니다.
이 해시 함수는 블록체인 애플리케이션, 특히 Ethereum에서 널리 사용됩니다.

**구문**

```sql
keccak256(message)
```

**인수**

* `message` — 해시할 입력 문자열입니다. [`String`](/sql-reference/data-types/string)

**반환 값**

입력 문자열에 대한 32바이트 Keccak-256 해시값을 고정 길이 문자열로 반환합니다. [`FixedString(32)`](/sql-reference/data-types/fixedstring)

**예시**

**사용 예시**

```sql title=Query
SELECT hex(keccak256('hello'))
```

```response title=Response
┌─hex(keccak256('hello'))──────────────────────────────────────────┐
│ 1C8AFF950685C2ED4BC3174F3472287B56D9517B9C948127319A09A7A36DEAC8 │
└──────────────────────────────────────────────────────────────────┘
```

## kostikConsistentHash \{#kostikConsistentHash\}

도입 버전: v22.6

Konstantin &#39;Kostik&#39; Oblakov이 만든 O(1) 시간 및 공간 복잡도를 갖는 컨시스턴트 해싱 알고리즘입니다.
`n <= 32768`인 경우에만 효율적입니다.

**구문**

```sql
kostikConsistentHash(input, n)
```

**별칭**: `yandexConsistentHash`

**인수**

* `input` — 정수형 키입니다. [`UInt64`](/sql-reference/data-types/int-uint)
* `n` — 버킷의 개수입니다. [`UInt16`](/sql-reference/data-types/int-uint)

**반환값**

계산된 해시 값을 반환합니다. [`UInt16`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT kostikConsistentHash(16045690984833335023, 2);
```

```response title=Response
┌─kostikConsistentHash(16045690984833335023, 2)─┐
│                                             1 │
└───────────────────────────────────────────────┘
```

## metroHash64 \{#metroHash64\}

도입 버전: v1.1

64비트 [MetroHash](http://www.jandrewrogers.com/2015/05/27/metrohash/) 해시 값을 생성합니다.

:::note
계산된 해시 값은 서로 다른 인자 타입이라도 동일한 입력 값에 대해 같을 수 있습니다.
예를 들어, 크기가 다른 정수 타입, 동일한 데이터를 가진 이름 있는 `Tuple`과 이름 없는 `Tuple`, 동일한 데이터를 가진 `Map`과 이에 해당하는 `Array(Tuple(key, value))` 타입 등이 이에 해당합니다.
:::

**구문**

```sql
metroHash64(arg1[, arg2, ...])
```

**인수**

* `arg1[, arg2, ...]` — 해시를 계산할 가변 개수의 입력 인수입니다. [`Any`](/sql-reference/data-types)

**반환 값**

입력 인수에 대해 계산된 해시 값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT metroHash64(array('e','x','a'), 'mple', 10, toDateTime('2019-06-15 23:00:00')) AS MetroHash, toTypeName(MetroHash) AS type;
```

```response title=Response
┌────────────MetroHash─┬─type───┐
│ 14235658766382344533 │ UInt64 │
└──────────────────────┴────────┘
```

## murmurHash2_32 \{#murmurHash2_32\}

도입 버전: v18.5

입력값의 [MurmurHash2](https://github.com/aappleby/smhasher) 해시를 계산합니다.

:::note
계산된 해시 값은 서로 다른 인수 유형이라도 동일한 입력값에 대해 동일할 수 있습니다.
예를 들어, 크기가 다른 정수형, 동일한 데이터를 가진 이름 있는 `Tuple`과 이름 없는 `Tuple`, 동일한 데이터를 가진 `Map`과 이에 대응하는 `Array(Tuple(key, value))` 유형에 해당합니다.
:::

**구문**

```sql
murmurHash2_32(arg1[, arg2, ...])
```

**인수**

* `arg1[, arg2, ...]` — 해시를 계산할 입력 인수의 임의 개수. [`Any`](/sql-reference/data-types)

**반환 값**

입력 인수들의 해시 값을 계산하여 반환합니다. [`UInt32`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT murmurHash2_32(array('e','x','a'), 'mple', 10, toDateTime('2019-06-15 23:00:00')) AS MurmurHash2, toTypeName(MurmurHash2) AS type;
```

```response title=Response
┌─MurmurHash2─┬─type───┐
│  3681770635 │ UInt32 │
└─────────────┴────────┘
```

## murmurHash2_64 \{#murmurHash2_64\}

도입된 버전: v18.10

입력값의 [MurmurHash2](https://github.com/aappleby/smhasher) 해시를 계산합니다.

:::note
계산된 해시 값은 서로 다른 인수 타입에서 동일한 입력값을 사용하더라도 같을 수 있습니다.
이는 예를 들어 크기가 다른 정수형 타입, 동일한 데이터를 가진 이름 있는 `Tuple`과 이름 없는 `Tuple`, 동일한 데이터를 가진 `Map`과 해당하는 `Array(Tuple(key, value))` 타입에 영향을 줍니다.
:::

**구문**

```sql
murmurHash2_64(arg1[, arg2, ...])
```

**인자**

* `arg1[, arg2, ...]` — 해시를 계산할 가변 개수의 입력 인자. [`Any`](/sql-reference/data-types)

**반환 값**

입력 인자에 대해 계산된 해시를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT murmurHash2_64(array('e','x','a'), 'mple', 10, toDateTime('2019-06-15 23:00:00')) AS MurmurHash2, toTypeName(MurmurHash2) AS type;
```

```response title=Response
┌──────────MurmurHash2─┬─type───┐
│ 11832096901709403633 │ UInt64 │
└──────────────────────┴────────┘
```

## murmurHash3_128 \{#murmurHash3_128\}

도입 버전: v18.10

입력 값에 대해 128비트 [MurmurHash3](https://github.com/aappleby/smhasher) 해시를 계산합니다.

**구문**

```sql
murmurHash3_128(arg1[, arg2, ...])
```

**인수**

* `arg1[, arg2, ...]` — 해시를 계산할 가변 개수의 입력 인수입니다. [`Any`](/sql-reference/data-types)

**반환 값**

입력 인수에 대해 계산된 128비트 `MurmurHash3` 해시값을 반환합니다. [`FixedString(16)`](/sql-reference/data-types/fixedstring)

**예제**

**사용 예제**

```sql title=Query
SELECT hex(murmurHash3_128('foo', 'foo', 'foo'));
```

```response title=Response
┌─hex(murmurHash3_128('foo', 'foo', 'foo'))─┐
│ F8F7AD9B6CD4CF117A71E277E2EC2931          │
└───────────────────────────────────────────┘
```

## murmurHash3_32 \{#murmurHash3_32\}

도입된 버전: v18.10

[MurmurHash3](https://github.com/aappleby/smhasher) 해시값을 생성합니다.

:::note
계산된 해시값은 서로 다른 인수 타입이라도 동일한 입력값에 대해 같을 수 있습니다.
예를 들어, 크기가 다른 정수 타입, 동일한 데이터를 가지는 이름이 있는 `Tuple`과 이름이 없는 `Tuple`, 동일한 데이터를 가지는 `Map` 타입과 이에 상응하는 `Array(Tuple(key, value))` 타입에서 이러한 현상이 발생할 수 있습니다.
:::

**문법**

```sql
murmurHash3_32(arg1[, arg2, ...])
```

**인자**

* `arg1[, arg2, ...]` — 해시를 계산할 가변 개수의 입력 인자입니다. [`Any`](/sql-reference/data-types)

**반환 값**

입력 인자에 대해 계산된 해시 값을 반환합니다. [`UInt32`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT murmurHash3_32(array('e','x','a'), 'mple', 10, toDateTime('2019-06-15 23:00:00')) AS MurmurHash3, toTypeName(MurmurHash3) AS type;
```

```response title=Response
┌─MurmurHash3─┬─type───┐
│     2152717 │ UInt32 │
└─────────────┴────────┘
```

## murmurHash3_64 \{#murmurHash3_64\}

도입 버전: v18.10

입력값에 대해 [MurmurHash3](https://github.com/aappleby/smhasher) 해시를 계산합니다.

:::note
계산된 해시 값은 인수 타입이 서로 다른 경우에도 동일한 입력값에 대해 같을 수 있습니다.
이는 예를 들어 크기가 다른 정수 타입, 동일한 데이터를 가진 이름 있는 `Tuple`과 이름 없는 `Tuple`, 동일한 데이터를 가진 `Map`과 해당 `Array(Tuple(key, value))` 타입에도 해당됩니다.
:::

**구문**

```sql
murmurHash3_64(arg1[, arg2, ...])
```

**인수**

* `arg1[, arg2, ...]` — 해시를 계산할 가변 개수의 입력 인수입니다. [`Any`](/sql-reference/data-types)

**반환 값**

입력 인수에 대해 계산된 해시 값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제**

**사용 예**

```sql title=Query
SELECT murmurHash3_64(array('e','x','a'), 'mple', 10, toDateTime('2019-06-15 23:00:00')) AS MurmurHash3, toTypeName(MurmurHash3) AS type;
```

```response title=Response
┌──────────MurmurHash3─┬─type───┐
│ 11832096901709403633 │ UInt64 │
└──────────────────────┴────────┘
```

## ngramMinHash \{#ngramMinHash\}

도입 버전: v21.1

ASCII 문자열을 길이 `ngramsize`의 n-그램으로 분할하고, 각 n-그램에 대한 해시 값을 계산하여 이 해시들을 포함하는 튜플을 반환합니다.
최소 해시를 계산하기 위해 `hashnum`개의 최소 해시 값과 최대 해시를 계산하기 위해 `hashnum`개의 최대 해시 값을 사용합니다.
대소문자를 구분합니다.

[`tupleHammingDistance`](../functions/tuple-functions.md#tupleHammingDistance)를 사용하여 부분적으로 중복된 문자열을 탐지하는 데 사용할 수 있습니다.
두 문자열에 대해 반환된 해시가 두 문자열 모두에서 동일하다면 그 문자열들은 동일한 것으로 간주됩니다.

**구문**

```sql
ngramMinHash(string[, ngramsize, hashnum])
```

**인수**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `ngramsize` — 선택 사항입니다. n-그램의 크기로, `1`에서 `25` 사이의 정수입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)
* `hashnum` — 선택 사항입니다. 결과를 계산하는 데 사용되는 최소 및 최대 해시의 개수로, `1`에서 `25` 사이의 정수입니다. 기본값은 `6`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환값**

두 개의 해시(최소값과 최대값)를 요소로 갖는 튜플을 반환합니다. [`Tuple`](/sql-reference/data-types/tuple)

**예시**

**사용 예시**

```sql title=Query
SELECT ngramMinHash('ClickHouse') AS Tuple;
```

```response title=Response
┌─Tuple──────────────────────────────────────┐
│ (18333312859352735453,9054248444481805918) │
└────────────────────────────────────────────┘
```

## ngramMinHashArg \{#ngramMinHashArg\}

도입된 버전: v21.1

ASCII 문자열을 `ngramsize` 문자 단위의 n-그램으로 나눈 다음, 동일한 입력에 대해 [`ngramMinHash`](#ngramMinHash) 함수로 계산된 최소 및 최대 해시를 갖는 n-그램을 반환합니다.
대소문자를 구분합니다.

**구문**

```sql
ngramMinHashArg(string[, ngramsize, hashnum])
```

**인자**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `ngramsize` — 선택 사항입니다. n-그램의 크기이며, `1`에서 `25` 사이의 값입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)
* `hashnum` — 선택 사항입니다. 결과를 계산하는 데 사용되는 최소/최대 해시 수이며, `1`에서 `25` 사이의 값입니다. 기본값은 `6`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

각각 `hashnum`개의 n-그램을 포함하는 두 개의 튜플로 이루어진 튜플을 반환합니다. [`Tuple(String)`](/sql-reference/data-types/tuple)

**예시**

**사용 예시**

```sql title=Query
SELECT ngramMinHashArg('ClickHouse') AS Tuple;
```

```response title=Response
┌─Tuple─────────────────────────────────────────────────────────────────────────┐
│ (('ous','ick','lic','Hou','kHo','use'),('Hou','lic','ick','ous','ckH','Cli')) │
└───────────────────────────────────────────────────────────────────────────────┘
```

## ngramMinHashArgCaseInsensitive \{#ngramMinHashArgCaseInsensitive\}

도입 버전: v21.1

ASCII 문자열을 `ngramsize` 개의 문자로 이루어진 n그램으로 분할하고, 동일한 입력에 대해 [`ngramMinHashCaseInsensitive`](#ngramMinHashCaseInsensitive) FUNCTION에서 계산된 최소 및 최대 해시 값을 갖는 n그램을 반환합니다.
대소문자를 구분하지 않습니다.

**구문**

```sql
ngramMinHashArgCaseInsensitive(string[, ngramsize, hashnum])
```

**인수**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `ngramsize` — 선택 사항입니다. n-그램의 크기이며, `1`부터 `25`까지의 값입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)
* `hashnum` — 선택 사항입니다. 결과를 계산하는 데 사용되는 최소 및 최대 해시의 개수이며, `1`부터 `25`까지의 값입니다. 기본값은 `6`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

각각 `hashnum`개의 n-그램을 포함하는 두 개의 튜플로 구성된 튜플을 반환합니다. [`Tuple(Tuple(String))`](/sql-reference/data-types/tuple)

**예시**

**사용 예시**

```sql title=Query
SELECT ngramMinHashArgCaseInsensitive('ClickHouse') AS Tuple;
```

```response title=Response
┌─Tuple─────────────────────────────────────────────────────────────────────────┐
│ (('ous','ick','lic','kHo','use','Cli'),('kHo','lic','ick','ous','ckH','Hou')) │
└───────────────────────────────────────────────────────────────────────────────┘
```

## ngramMinHashArgCaseInsensitiveUTF8 \{#ngramMinHashArgCaseInsensitiveUTF8\}

도입 버전: v21.1

UTF-8 문자열을 `ngramsize`개의 문자로 이루어진 n-그램으로 분할하고, 동일한 입력에 대해 ngramMinHashCaseInsensitiveUTF8 함수로 계산한 최소 및 최대 해시 값을 가지는 n-그램을 반환합니다.
대소문자를 구분하지 않습니다.

**구문**

```sql
ngramMinHashArgCaseInsensitiveUTF8(string[, ngramsize, hashnum])
```

**인수(Arguments)**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `ngramsize` — 선택 사항입니다. n-그램의 크기이며, `1`에서 `25` 사이의 어떤 값이든 사용할 수 있습니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)
* `hashnum` — 선택 사항입니다. 결과를 계산하는 데 사용되는 최소 해시와 최대 해시의 개수이며, `1`에서 `25` 사이의 어떤 값이든 사용할 수 있습니다. 기본값은 `6`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값(Returned value)**

각각 `hashnum` 개의 n-그램을 포함하는 두 개의 튜플로 구성된 튜플을 반환합니다. [`Tuple(Tuple(String))`](/sql-reference/data-types/tuple)

**예시(Examples)**

**사용 예시(Usage example)**

```sql title=Query
SELECT ngramMinHashArgCaseInsensitiveUTF8('ClickHouse') AS Tuple;
```

```response title=Response
┌─Tuple─────────────────────────────────────────────────────────────────────────┐
│ (('ckH','ous','ick','lic','kHo','use'),('kHo','lic','ick','ous','ckH','Hou')) │
└───────────────────────────────────────────────────────────────────────────────┘
```

## ngramMinHashArgUTF8 \{#ngramMinHashArgUTF8\}

도입된 버전: v21.1

UTF-8 문자열을 길이가 `ngramsize`인 n-그램으로 분리한 다음, 동일한 입력에 대해 `ngramMinHashUTF8` FUNCTION으로 계산된 최소 및 최대 해시 값을 갖는 n-그램을 반환합니다.
대소문자를 구분합니다.

**구문**

```sql
ngramMinHashArgUTF8(string[, ngramsize, hashnum])
```

**인수(Arguments)**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `ngramsize` — 선택적입니다. n-gram의 크기로, `1`에서 `25` 사이의 값입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)
* `hashnum` — 선택적입니다. 결과를 계산하는 데 사용되는 최소 해시와 최대 해시의 개수로, `1`에서 `25` 사이의 값입니다. 기본값은 `6`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

두 개의 튜플을 요소로 가지는 튜플을 반환하며, 각 튜플에는 `hashnum`개의 n-gram이 포함됩니다. [`Tuple(Tuple(String))`](/sql-reference/data-types/tuple)

**예시(Examples)**

**사용 예시(Usage example)**

```sql title=Query
SELECT ngramMinHashArgUTF8('ClickHouse') AS Tuple;
```

```response title=Response
┌─Tuple─────────────────────────────────────────────────────────────────────────┐
│ (('ous','ick','lic','Hou','kHo','use'),('kHo','Hou','lic','ick','ous','ckH')) │
└───────────────────────────────────────────────────────────────────────────────┘
```

## ngramMinHashCaseInsensitive \{#ngramMinHashCaseInsensitive\}

도입 버전: v21.1

ASCII 문자열을 `ngramsize`개의 문자로 이루어진 n-그램으로 분할한 후, 각 n-그램에 대한 해시 값을 계산하고 이 해시 값들을 포함하는 튜플을 반환합니다.
최소 해시값을 계산하기 위해 `hashnum`개의 최소 해시를 사용하고, 최대 해시값을 계산하기 위해 `hashnum`개의 최대 해시를 사용합니다.
대소문자를 구분하지 않습니다.

[`tupleHammingDistance`](../functions/tuple-functions.md#tupleHammingDistance)를 사용하여 준중복(semi-duplicate) 문자열을 탐지하는 데 사용할 수 있습니다.
두 문자열에 대해 반환된 해시 값들이 모두 동일하다면, 그 두 문자열은 동일한 문자열입니다.

**구문**

```sql
ngramMinHashCaseInsensitive(string[, ngramsize, hashnum])
```

**인수**

* `string` — 문자열. [String](../data-types/string.md). - `ngramsize` — n그램의 크기입니다. 옵션입니다. 가능한 값: `1`에서 `25` 사이의 임의의 수. 기본값: `3`. [UInt8](../data-types/int-uint.md). - `hashnum` — 결과 계산에 사용되는 최소 해시와 최대 해시의 개수입니다. 옵션입니다. 가능한 값: `1`에서 `25` 사이의 임의의 수. 기본값: `6`. [UInt8](../data-types/int-uint.md).

**반환 값**

두 개의 해시(최솟값과 최댓값)를 포함하는 Tuple입니다. [Tuple](../data-types/tuple.md)([UInt64](../data-types/int-uint.md), [UInt64](../data-types/int-uint.md)). [`Tuple`](/sql-reference/data-types/tuple)

**예시**

**사용 예시**

```sql title=Query
SELECT ngramMinHashCaseInsensitive('ClickHouse') AS Tuple;
```

```response title=Response
┌─Tuple──────────────────────────────────────┐
│ (2106263556442004574,13203602793651726206) │
└────────────────────────────────────────────┘
```

## ngramMinHashCaseInsensitiveUTF8 \{#ngramMinHashCaseInsensitiveUTF8\}

도입 버전: v21.1

UTF-8 문자열을 `ngramsize` 길이의 n-그램으로 분할한 뒤 각 n-그램에 대한 해시 값을 계산하고, 이 해시들을 포함하는 튜플을 반환합니다.
최솟값 해시(min-hash)를 계산하기 위해 `hashnum`개의 최소 해시 값을 사용하고, 최댓값 해시를 계산하기 위해 `hashnum`개의 최대 해시 값을 사용합니다.
대소문자를 구분하지 않습니다.

[`tupleHammingDistance`](../functions/tuple-functions.md#tupleHammingDistance)를 사용하여 준중복(semi-duplicate) 문자열을 탐지하는 데 사용할 수 있습니다.
두 문자열에 대해 반환된 해시가 동일하다면, 두 문자열은 동일한 것으로 간주할 수 있습니다.

**구문**

```sql
ngramMinHashCaseInsensitiveUTF8(string [, ngramsize, hashnum])
```

**인수**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `ngramsize` — 선택 사항입니다. n-그램의 크기이며, `1`부터 `25`까지의 값입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)
* `hashnum` — 선택 사항입니다. 결과 계산에 사용되는 최소 및 최대 해시의 개수이며, `1`부터 `25`까지의 값입니다. 기본값은 `6`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

최소 해시와 최대 해시, 두 개의 해시를 포함하는 튜플을 반환합니다. [`Tuple`](/sql-reference/data-types/tuple)

**예제**

**사용 예제**

```sql title=Query
SELECT ngramMinHashCaseInsensitiveUTF8('ClickHouse') AS Tuple;
```

```response title=Response
┌─Tuple───────────────────────────────────────┐
│ (12493625717655877135,13203602793651726206) │
└─────────────────────────────────────────────┘
```

## ngramMinHashUTF8 \{#ngramMinHashUTF8\}

도입 버전: v21.1

UTF-8 문자열을 `ngramsize` 개의 심볼로 이루어진 n-그램으로 분할한 뒤, 각 n-그램에 대한 해시 값을 계산하고 이 해시들로 구성된 튜플을 반환합니다.
`hashnum` 개의 최소 해시를 사용하여 최소 해시를 계산하고, `hashnum` 개의 최대 해시를 사용하여 최대 해시를 계산합니다.
대소문자를 구분합니다.

[`tupleHammingDistance`](../functions/tuple-functions.md#tupleHammingDistance)를 사용하여 유사 중복 문자열을 탐지하는 데 사용할 수 있습니다.
두 문자열에 대해 반환된 해시 튜플이 두 문자열에서 모두 동일하다면, 그 문자열들은 동일한 것으로 간주됩니다.

**구문**

```sql
ngramMinHashUTF8(string[, ngramsize, hashnum])
```

**인수**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `ngramsize` — 선택 사항입니다. n-그램의 크기이며, `1`부터 `25`까지의 임의의 수입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)
* `hashnum` — 선택 사항입니다. 결과를 계산하는 데 사용되는 최소 및 최대 해시의 개수이며, `1`부터 `25`까지의 임의의 수입니다. 기본값은 `6`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

두 개의 해시 값(최솟값과 최댓값)이 포함된 튜플을 반환합니다. [`Tuple`](/sql-reference/data-types/tuple)

**예시**

**사용 예시**

```sql title=Query
SELECT ngramMinHashUTF8('ClickHouse') AS Tuple;
```

```response title=Response
┌─Tuple──────────────────────────────────────┐
│ (18333312859352735453,6742163577938632877) │
└────────────────────────────────────────────┘
```

## ngramSimHash \{#ngramSimHash\}

도입 버전: v21.1

ASCII 문자열을 `ngramsize`개의 기호(문자)로 이루어진 n-그램으로 분할하고 n-그램 `simhash`를 반환합니다.

[`bitHammingDistance`](../functions/bit-functions.md/#bitHammingDistance)를 사용하여 부분적으로 중복된 문자열을 감지하는 데 사용할 수 있습니다.
두 문자열에 대해 계산된 `simhashes`의 [해밍 거리(Hamming distance)](https://en.wikipedia.org/wiki/Hamming_distance)가 작을수록 해당 문자열이 동일할 가능성이 높아집니다.

**구문**

```sql
ngramSimHash(string[, ngramsize])
```

**인수**

* `string` — 대소문자를 구분하여 `simhash`를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `ngramsize` — 선택 매개변수입니다. n-그램의 크기로, `1`부터 `25` 사이의 정수입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

입력 문자열에 대해 계산된 해시 값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT ngramSimHash('ClickHouse') AS Hash;
```

```response title=Response
┌───────Hash─┐
│ 1627567969 │
└────────────┘
```

## ngramSimHashCaseInsensitive \{#ngramSimHashCaseInsensitive\}

도입 버전: v21.1

ASCII 문자열을 길이가 `ngramsize`인 기호 단위 n-그램으로 분할하고 n-그램 `simhash`를 반환합니다.
대소문자를 구분하지 않습니다.

[`bitHammingDistance`](/sql-reference/functions/bit-functions#bitHammingDistance)를 사용하여 부분적으로 중복된 문자열을 감지하는 데 사용할 수 있습니다.
서로 다른 두 문자열에 대해 계산된 `simhashes`의 [해밍 거리(Hamming distance)](https://en.wikipedia.org/wiki/Hamming_distance)가 작을수록 두 문자열이 동일할 가능성이 더 높습니다.

**구문**

```sql
ngramSimHashCaseInsensitive(string[, ngramsize])
```

**인수**

* `string` — 대소문자를 구분하지 않고 `simhash`를 계산할 문자열. [`String`](/sql-reference/data-types/string)
* `ngramsize` — 선택적 매개변수. n-그램의 크기로, `1`부터 `25` 사이의 값이며 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

해시 값. [UInt64](../data-types/int-uint.md). [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT ngramSimHashCaseInsensitive('ClickHouse') AS Hash;
```

```response title=Response
┌──────Hash─┐
│ 562180645 │
└───────────┘
```

## ngramSimHashCaseInsensitiveUTF8 \{#ngramSimHashCaseInsensitiveUTF8\}

도입 버전: v21.1

UTF-8 문자열을 `ngramsize`개의 문자로 이루어진 n-그램으로 분할하고, n-그램 `simhash`를 반환합니다.
대소문자를 구분하지 않습니다.

[bitHammingDistance](../functions/bit-functions.md/#bitHammingDistance)를 사용하여 부분적으로 중복된 문자열을 감지하는 데 사용할 수 있습니다. 두 문자열에 대해 계산된 `simhashes`의 [해밍 거리(Hamming Distance)](https://en.wikipedia.org/wiki/Hamming_distance)가 작을수록 두 문자열이 같을 가능성이 더 높습니다.

**구문**

```sql
ngramSimHashCaseInsensitiveUTF8(string[, ngramsize])
```

**인자**

* `string` — 해시를 계산할 문자열. [`String`](/sql-reference/data-types/string)
* `ngramsize` — 선택적 매개변수입니다. n-그램의 크기로, `1`부터 `25`까지의 임의의 값입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

계산된 해시 값이 반환됩니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT ngramSimHashCaseInsensitiveUTF8('ClickHouse') AS Hash;
```

```response title=Response
┌───────Hash─┐
│ 1636742693 │
└────────────┘
```

## ngramSimHashUTF8 \{#ngramSimHashUTF8\}

도입 버전: v21.1

UTF-8로 인코딩된 문자열을 `ngramsize` 문자 크기의 n-그램으로 나눈 후 n-그램 `simhash`를 반환합니다.
대소문자를 구분합니다.

[`bitHammingDistance`](../functions/bit-functions.md/#bitHammingDistance)를 사용하여 유사 중복 문자열을 탐지하는 데 사용할 수 있습니다.
두 문자열에 대해 계산된 `simhashes`의 [해밍 거리(Hamming distance)](https://en.wikipedia.org/wiki/Hamming_distance)가 작을수록 두 문자열이 동일할 가능성이 높습니다.

**구문**

```sql
ngramSimHashUTF8(string[, ngramsize])
```

**인수**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `ngramsize` — 선택 사항입니다. n-그램의 크기로, `1`에서 `25` 사이의 값입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

계산된 해시 값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT ngramSimHashUTF8('ClickHouse') AS Hash;
```

```response title=Response
┌───────Hash─┐
│ 1628157797 │
└────────────┘
```

## sipHash128 \{#sipHash128\}

도입: v1.1

[`sipHash64`](#sipHash64)와 유사하지만 128비트 해시값을 생성합니다. 즉, 최종 xor-folding 상태 갱신이 128비트까지 수행됩니다.

:::tip 새 프로젝트에는 sipHash128Reference 사용
이 128비트 버전은 레퍼런스 구현과 다르며 더 취약합니다.
이 버전은 작성 당시 SipHash에 대한 공식적인 128비트 확장이 없었기 때문에 제공되었습니다.
새로운 프로젝트에서는 [`sipHash128Reference`](#sipHash128Reference)를 사용하는 것이 좋습니다.
:::

**구문**

```sql
sipHash128(arg1[, arg2, ...])
```

**인수**

* `arg1[, arg2, ...]` — 해시를 계산할 가변 개수의 입력 인수입니다. [`Any`](/sql-reference/data-types)

**반환 값**

128비트 `SipHash` 해시 값을 반환합니다. [`FixedString(16)`](/sql-reference/data-types/fixedstring)

**예시**

**사용 예시**

```sql title=Query
SELECT hex(sipHash128('foo', '\x01', 3));
```

```response title=Response
┌─hex(sipHash128('foo', '', 3))────┐
│ 9DE516A64A414D4B1B609415E4523F24 │
└──────────────────────────────────┘
```

## sipHash128Keyed \{#sipHash128Keyed\}

도입된 버전: v23.2

[`sipHash128`](#sipHash128)과 동일하지만, 고정 키를 사용하는 대신 명시적인 키 인수를 추가로 받습니다.

:::tip 새로운 프로젝트에는 sipHash128ReferenceKeyed 사용을 권장합니다
이 128비트 버전은 기준(reference) 구현과 다르며 보안 강도가 더 낮습니다.
이 버전이 존재하는 이유는 작성 당시 SipHash에 대한 공식 128비트 확장이 없었기 때문입니다.
새로운 프로젝트에서는 [`sipHash128ReferenceKeyed`](#sipHash128ReferenceKeyed)를 사용하는 것이 좋습니다.
:::

**문법**

```sql
sipHash128Keyed((k0, k1), [arg1, arg2, ...])
```

**인자**

* `(k0, k1)` — 키를 나타내는 두 개의 UInt64 값으로 구성된 튜플입니다. [`Tuple(UInt64, UInt64)`](/sql-reference/data-types/tuple)
* `arg1[, arg2, ...]` — 해시를 계산할 대상이 되는 가변 개수의 입력 매개변수입니다. [`Any`](/sql-reference/data-types)

**반환 값**

[FixedString(16)](../data-types/fixedstring.md) 타입의 128비트 `SipHash` 해시 값입니다. [`FixedString(16)`](/sql-reference/data-types/fixedstring)

**예제**

**사용 예제**

```sql title=Query
SELECT hex(sipHash128Keyed((506097522914230528, 1084818905618843912),'foo', '\x01', 3));
```

```response title=Response
┌─hex(sipHash128Keyed((506097522914230528, 1084818905618843912), 'foo', '', 3))─┐
│ B8467F65C8B4CFD9A5F8BD733917D9BF                                              │
└───────────────────────────────────────────────────────────────────────────────┘
```

## sipHash128Reference \{#sipHash128Reference\}

도입된 버전: v23.2

[`sipHash128`](/sql-reference/functions/hash-functions#sipHash128)과 유사하지만, SipHash 원저자가 정의한 128비트 알고리즘을 구현합니다.

**구문**

```sql
sipHash128Reference(arg1[, arg2, ...])
```

**인수**

* `arg1[, arg2, ...]` — 해시를 계산할 가변 개수의 입력 인수입니다. [`Any`](/sql-reference/data-types)

**반환 값**

입력 인수에 대해 계산된 128비트 `SipHash` 해시 값을 반환합니다. [`FixedString(16)`](/sql-reference/data-types/fixedstring)

**예시**

**사용 예시**

```sql title=Query
SELECT hex(sipHash128Reference('foo', '', 3));
```

```response title=Response
┌─hex(sipHash128Reference('foo', '', 3))─┐
│ 4D1BE1A22D7F5933C0873E1698426260       │
└────────────────────────────────────────┘
```

## sipHash128ReferenceKeyed \{#sipHash128ReferenceKeyed\}

도입된 버전: v23.2

[`sipHash128Reference`](#sipHash128Reference)와 동일하지만, 고정 키를 사용하는 대신 명시적으로 지정하는 키 인수를 추가로 받습니다.

**구문**

```sql
sipHash128ReferenceKeyed((k0, k1), arg1[, arg2, ...])
```

**인수**

* `(k0, k1)` — 키를 나타내는 두 값으로 구성된 튜플. [`Tuple(UInt64, UInt64)`](/sql-reference/data-types/tuple)
* `arg1[, arg2, ...]` — 해시를 계산할 때 사용할 가변 개수의 입력 인수. [`Any`](/sql-reference/data-types)

**반환 값**

입력 인수들에 대해 계산된 128비트 `SipHash` 해시 값을 반환합니다. [`FixedString(16)`](/sql-reference/data-types/fixedstring)

**예시**

**사용 예시**

```sql title=Query
SELECT hex(sipHash128Reference('foo', '', 3));
```

```response title=Response
┌─hex(sipHash128Reference('foo', '', 3))─┐
│ 4D1BE1A22D7F5933C0873E1698426260       │
└────────────────────────────────────────┘
```

## sipHash64 \{#sipHash64\}

도입 버전: v1.1

64비트 [SipHash](https://en.wikipedia.org/wiki/SipHash) 해시 값을 생성합니다.

이 함수는 암호화 해시 함수입니다. [`MD5`](#MD5) 해시 함수보다 최소 3배 이상 빠르게 동작합니다.

함수는 모든 입력 매개변수를 문자열로 [해석한 뒤](/sql-reference/functions/type-conversion-functions#reinterpretAsString) 각각에 대해 해시 값을 계산합니다.
그 후 다음 알고리즘을 사용하여 해시들을 결합합니다:

1. 첫 번째와 두 번째 해시 값을 배열로 이어 붙인 후, 이 배열을 해시합니다.
2. 직전에 계산한 해시 값과 세 번째 입력 매개변수의 해시 값을 동일한 방식으로 다시 해시합니다.
3. 이 계산을 원래 입력의 나머지 모든 해시 값에 대해 반복합니다.

:::note
계산된 해시 값은 인수 타입이 다르더라도 동일한 입력 값에 대해 같을 수 있습니다.
예를 들어 크기가 다른 정수 타입, 동일한 데이터를 가진 이름 있는 `Tuple`과 이름 없는 `Tuple`, 동일한 데이터를 가진 `Map`과 이에 대응하는 `Array(Tuple(key, value))` 타입 등이 이에 해당합니다.
:::

**구문**

```sql
sipHash64(arg1[, arg2, ...])
```

**인수(Arguments)**

* `arg1[, arg2, ...]` — 임의 개수의 입력 인수입니다. [`Any`](/sql-reference/data-types)

**반환 값**

입력 인수의 해시값을 계산하여 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT sipHash64(array('e','x','a'), 'mple', 10, toDateTime('2019-06-15 23:00:00')) AS SipHash, toTypeName(SipHash) AS type;
```

```response title=Response
┌──────────────SipHash─┬─type───┐
│ 11400366955626497465 │ UInt64 │
└──────────────────────┴────────┘
```

## sipHash64Keyed \{#sipHash64Keyed\}

도입된 버전: v23.2

[`sipHash64`](#sipHash64)와 유사하지만, 고정 키를 사용하는 대신 키를 명시적으로 인수로 받습니다.

**구문**

```sql
sipHash64Keyed((k0, k1), arg1[,arg2, ...])
```

**인수**

* `(k0, k1)` — 키를 나타내는 두 값의 튜플입니다. [`Tuple(UInt64, UInt64)`](/sql-reference/data-types/tuple)
* `arg1[,arg2, ...]` — 임의 개수의 입력 인수입니다. [`Any`](/sql-reference/data-types)

**반환 값**

입력 값에 대해 계산된 해시를 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT sipHash64Keyed((506097522914230528, 1084818905618843912), array('e','x','a'), 'mple', 10, toDateTime('2019-06-15 23:00:00')) AS SipHash, toTypeName(SipHash) AS type;
```

```response title=Response
┌─────────────SipHash─┬─type───┐
│ 8017656310194184311 │ UInt64 │
└─────────────────────┴────────┘
```

## wordShingleMinHash \{#wordShingleMinHash\}

도입 버전: v21.1

ASCII 문자열을 `shinglesize` 개의 단어로 이루어진 파트(shingle)로 분할하고, 각 단어 shingle에 대해 해시 값을 계산하여 이 해시들로 구성된 튜플을 반환합니다.
`hashnum`개의 최소 해시를 사용하여 최소 해시를 계산하고, `hashnum`개의 최대 해시를 사용하여 최대 해시를 계산합니다.
대소문자를 구분합니다.

[`tupleHammingDistance`](../functions/tuple-functions.md#tupleHammingDistance)를 사용하여 부분적으로 중복된 문자열을 감지하는 데 사용할 수 있습니다.
두 문자열에 대해 반환된 해시가 동일하다면, 그 문자열들은 동일한 문자열입니다.

**구문**

```sql
wordShingleMinHash(string[, shinglesize, hashnum])
```

**인수**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `shinglesize` — 선택 사항입니다. word shingle의 크기이며 `1`부터 `25`까지의 값입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)
* `hashnum` — 선택 사항입니다. 결과 계산에 사용되는 최소 및 최대 해시의 개수이며 `1`부터 `25`까지의 값입니다. 기본값은 `6`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

두 개의 해시 값(최솟값과 최댓값)이 포함된 튜플을 반환합니다. [`Tuple(UInt64, UInt64)`](/sql-reference/data-types/tuple)

**예시**

**사용 예시**

```sql title=Query
SELECT wordShingleMinHash('ClickHouse® is a column-oriented database management system (DBMS) for online analytical processing of queries (OLAP).') AS Tuple;
```

```response title=Response
┌─Tuple──────────────────────────────────────┐
│ (16452112859864147620,5844417301642981317) │
└────────────────────────────────────────────┘
```

## wordShingleMinHashArg \{#wordShingleMinHashArg\}

도입 버전: v1.1

ASCII 문자열을 `shinglesize` 단어씩 이루어진 부분(shingle)으로 분할하고, 동일한 입력으로 wordShingleMinHash 함수에서 계산한 단어 해시 값 중 최소값과 최대값을 갖는 shingle들을 반환합니다.
이 함수는 대소문자를 구분합니다.

**구문**

```sql
wordShingleMinHashArg(string[, shinglesize, hashnum])
```

**인수**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `shinglesize` — 선택 사항입니다. word shingle의 크기이며, `1`에서 `25` 사이의 값입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)
* `hashnum` — 선택 사항입니다. 결과 계산에 사용되는 최소 및 최대 해시의 개수로, `1`에서 `25` 사이의 값입니다. 기본값은 `6`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

각각 `hashnum` 개의 word shingle을 포함하는 두 개의 튜플을 요소로 가지는 튜플을 반환합니다. [`Tuple(Tuple(String))`](/sql-reference/data-types/tuple)

**예시**

**사용 예시**

```sql title=Query
SELECT wordShingleMinHashArg('ClickHouse® is a column-oriented database management system (DBMS) for online analytical processing of queries (OLAP).', 1, 3) AS Tuple;
```

```response title=Response
┌─Tuple─────────────────────────────────────────────────────────────────┐
│ (('OLAP','database','analytical'),('online','oriented','processing')) │
└───────────────────────────────────────────────────────────────────────┘
```

## wordShingleMinHashArgCaseInsensitive \{#wordShingleMinHashArgCaseInsensitive\}

도입 버전: v21.1

ASCII 문자열을 각 `shinglesize`개 단어로 이루어진 shingle 파트로 분할하고, 동일한 입력에 대해 [`wordShingleMinHashCaseInsensitive`](#wordShingleMinHashCaseInsensitive) 함수로 계산된 최소 단어 해시와 최대 단어 해시를 가지는 shingle을 반환합니다.
대소문자를 구분하지 않습니다.

**구문**

```sql
wordShingleMinHashArgCaseInsensitive(string[, shinglesize, hashnum])
```

**인수**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `shinglesize` — 선택 사항입니다. 단어 shingle(단어 조각)의 크기이며 `1`부터 `25` 사이의 값 중 하나를 사용할 수 있습니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)
* `hashnum` — 선택 사항입니다. 결과를 계산하는 데 사용되는 최소 및 최대 해시 개수로, `1`부터 `25` 사이의 값 중 하나를 사용할 수 있습니다. 기본값은 `6`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

두 개의 튜플을 요소로 가지는 튜플을 반환하며, 각 튜플에는 `hashnum`개의 단어 shingle이 포함됩니다. [`Tuple(Tuple(String))`](/sql-reference/data-types/tuple)

**예시**

**사용 예시**

```sql title=Query
SELECT wordShingleMinHashArgCaseInsensitive('ClickHouse® is a column-oriented database management system (DBMS) for online analytical processing of queries (OLAP).', 1, 3) AS Tuple;
```

```response title=Response
┌─Tuple──────────────────────────────────────────────────────────────────┐
│ (('queries','database','analytical'),('oriented','processing','DBMS')) │
└────────────────────────────────────────────────────────────────────────┘
```

## wordShingleMinHashArgCaseInsensitiveUTF8 \{#wordShingleMinHashArgCaseInsensitiveUTF8\}

도입 버전: v21.1

UTF-8 문자열을 `shinglesize` 단어씩 하나의 파트(shingle)로 분할하고, 동일한 입력에 대해 [`wordShingleMinHashCaseInsensitiveUTF8`](#wordShingleMinHashCaseInsensitiveUTF8) 함수로 계산된 최소 및 최대 단어 해시를 갖는 shingle들을 반환합니다.
대소문자를 구분하지 않습니다.

**구문**

```sql
wordShingleMinHashArgCaseInsensitiveUTF8(string[, shinglesize, hashnum])
```

**인자**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `shinglesize` — 선택적입니다. 단어 shingle의 크기이며, `1`부터 `25`까지의 숫자입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)
* `hashnum` — 선택적입니다. 결과를 계산하는 데 사용되는 최소 및 최대 해시의 개수이며, `1`부터 `25`까지의 숫자입니다. 기본값은 `6`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

각각 `hashnum`개의 단어 shingle을 포함하는 두 개의 튜플로 구성된 튜플을 반환합니다. [`Tuple(Tuple(String))`](/sql-reference/data-types/tuple)

**예시**

**사용 예시**

```sql title=Query
SELECT wordShingleMinHashArgCaseInsensitiveUTF8('ClickHouse® is a column-oriented database management system (DBMS) for online analytical processing of queries (OLAP).', 1, 3) AS Tuple;
```

```response title=Response
┌─Tuple──────────────────────────────────────────────────────────────────┐
│ (('queries','database','analytical'),('oriented','processing','DBMS')) │
└────────────────────────────────────────────────────────────────────────┘
```

## wordShingleMinHashArgUTF8 \{#wordShingleMinHashArgUTF8\}

도입 버전: v21.1

UTF-8 문자열을 단어 `shinglesize`개로 이루어진 부분(shingle)으로 분할하고, 동일한 입력에 대해 [`wordShingleMinHashUTF8`](#wordShingleMinHashUTF8) 함수로 계산된 최소 및 최대 단어 해시를 갖는 shingle을 반환합니다.
대소문자를 구분합니다.

**구문**

```sql
wordShingleMinHashArgUTF8(string[, shinglesize, hashnum])
```

**인수**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `shinglesize` — 선택 사항입니다. 단어 shingle의 크기이며, `1`부터 `25` 사이의 숫자입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)
* `hashnum` — 선택 사항입니다. 결과를 계산하는 데 사용되는 최소 및 최대 해시의 개수이며, `1`부터 `25` 사이의 숫자입니다. 기본값은 `6`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

두 개의 튜플을 요소로 가지는 튜플을 반환하며, 각 튜플에는 `hashnum`개의 단어 shingle이 포함됩니다. [`Tuple(Tuple(String))`](/sql-reference/data-types/tuple)

**예시**

**사용 예시**

```sql title=Query
SELECT wordShingleMinHashArgUTF8('ClickHouse® is a column-oriented database management system (DBMS) for online analytical processing of queries (OLAP).', 1, 3) AS Tuple;
```

```response title=Response
┌─Tuple─────────────────────────────────────────────────────────────────┐
│ (('OLAP','database','analytical'),('online','oriented','processing')) │
└───────────────────────────────────────────────────────────────────────┘
```

## wordShingleMinHashCaseInsensitive \{#wordShingleMinHashCaseInsensitive\}

도입 버전: v21.1

ASCII 문자열을 `shinglesize` 단어로 이루어진 부분 문자열(shingle) 단위로 분할한 후, 각 단어 shingle에 대해 해시 값을 계산하고 이 해시들을 요소로 갖는 튜플을 반환합니다.
최소 해시 계산에는 `hashnum`개의 최소 해시를, 최대 해시 계산에는 `hashnum`개의 최대 해시를 사용합니다.
대소문자를 구분하지 않습니다.

[`tupleHammingDistance`](../functions/tuple-functions.md#tupleHammingDistance)를 사용하여 유사 중복 문자열을 탐지하는 데 사용할 수 있습니다.
두 문자열에 대해 반환된 해시 튜플이 동일하다면, 두 문자열은 동일한 문자열입니다.

**구문**

```sql
wordShingleMinHashCaseInsensitive(string[, shinglesize, hashnum])
```

**인자**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `shinglesize` — 선택 사항입니다. 단어 shingle의 크기로, `1`에서 `25` 사이의 값입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)
* `hashnum` — 선택 사항입니다. 결과를 계산하는 데 사용되는 최소 및 최대 해시의 개수로, `1`에서 `25` 사이의 값입니다. 기본값은 `6`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

두 개의 해시(최솟값과 최댓값)를 포함하는 튜플을 반환합니다. [`Tuple(UInt64, UInt64)`](/sql-reference/data-types/tuple)

**예시**

**사용 예시**

```sql title=Query
SELECT wordShingleMinHashCaseInsensitive('ClickHouse® is a column-oriented database management system (DBMS) for online analytical processing of queries (OLAP).') AS Tuple;
```

```response title=Response
┌─Tuple─────────────────────────────────────┐
│ (3065874883688416519,1634050779997673240) │
└───────────────────────────────────────────┘
```

## wordShingleMinHashCaseInsensitiveUTF8 \{#wordShingleMinHashCaseInsensitiveUTF8\}

도입 버전: v21.1

UTF-8 문자열을 `shinglesize` 단어로 이루어진 부분(shingle)으로 분할하고, 각 단어 shingle에 대해 해시 값을 계산한 뒤 이 해시들을 포함하는 튜플을 반환합니다.
`hashnum`개의 최소 해시를 사용하여 최소 해시를, `hashnum`개의 최대 해시를 사용하여 최대 해시를 계산합니다.
대소문자를 구분하지 않습니다.

[`tupleHammingDistance`](../functions/tuple-functions.md#tupleHammingDistance)를 사용하여 부분 중복 문자열을 탐지하는 데 사용할 수 있습니다.
두 문자열에 대해 반환된 해시가 동일하다면, 두 문자열은 동일한 것으로 간주할 수 있습니다.

**구문**

```sql
wordShingleMinHashCaseInsensitiveUTF8(string[, shinglesize, hashnum])
```

**인수**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `shinglesize` — 선택 사항입니다. 단어 shingle의 길이로, `1`부터 `25`까지의 값이 가능합니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)
* `hashnum` — 선택 사항입니다. 결과 계산에 사용하는 최소 및 최대 해시의 개수로, `1`부터 `25`까지의 값이 가능합니다. 기본값은 `6`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

최솟값과 최댓값 두 개의 해시를 포함하는 튜플을 반환합니다. [`Tuple(UInt64, UInt64)`](/sql-reference/data-types/tuple)

**예시**

**사용 예시**

```sql title=Query
SELECT wordShingleMinHashCaseInsensitiveUTF8('ClickHouse® is a column-oriented database management system (DBMS) for online analytical processing of queries (OLAP).') AS Tuple;
```

```response title=Response
┌─Tuple─────────────────────────────────────┐
│ (3065874883688416519,1634050779997673240) │
└───────────────────────────────────────────┘
```

## wordShingleMinHashUTF8 \{#wordShingleMinHashUTF8\}

도입 버전: v21.1

UTF-8 문자열을 `shinglesize` 단어로 이루어진 shingle(부분 문자열)로 분할하고, 각 워드 shingle의 해시 값을 계산한 뒤 이 해시들을 포함하는 튜플을 반환합니다.
최소 해시를 계산하기 위해 `hashnum`개의 최소 해시를 사용하고, 최대 해시를 계산하기 위해 `hashnum`개의 최대 해시를 사용합니다.
대소문자를 구분합니다.

[`tupleHammingDistance`](../functions/tuple-functions.md#tupleHammingDistance)를 사용하여 유사한(반복되는 부분이 많은) 문자열을 탐지하는 데 사용할 수 있습니다.
두 문자열에 대해, 반환된 해시가 두 문자열에서 모두 동일하다면, 해당 문자열은 동일한 것으로 간주할 수 있습니다.

**구문**

```sql
wordShingleMinHashUTF8(string[, shinglesize, hashnum])
```

**인수**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `shinglesize` — 선택 사항입니다. word shingle의 크기이며, `1`부터 `25`까지의 값입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)
* `hashnum` — 선택 사항입니다. 결과를 계산하는 데 사용되는 최소 및 최대 해시의 개수이며, `1`부터 `25`까지의 값입니다. 기본값은 `6`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

최소 해시와 최대 해시, 두 개의 해시 값으로 구성된 튜플을 반환합니다. [`Tuple(UInt64, UInt64)`](/sql-reference/data-types/tuple)

**예시**

**사용 예시**

```sql title=Query
SELECT wordShingleMinHashUTF8('ClickHouse® is a column-oriented database management system (DBMS) for online analytical processing of queries (OLAP).') AS Tuple;
```

```response title=Response
┌─Tuple──────────────────────────────────────┐
│ (16452112859864147620,5844417301642981317) │
└────────────────────────────────────────────┘
```

## wordShingleSimHash \{#wordShingleSimHash\}

도입 버전: v21.1

ASCII 문자열을 `shinglesize`개의 단어로 이루어진 시글(shingle) 단위로 분할하고, 각 단어 시글의 `simhash`를 반환합니다.
대소문자를 구분합니다.

[`bitHammingDistance`](../functions/bit-functions.md/#bitHammingDistance)를 사용하여 부분적으로 중복된 문자열을 탐지하는 데 사용할 수 있습니다.
두 문자열에 대해 계산된 `simhashes`의 [해밍 거리(Hamming distance)](https://en.wikipedia.org/wiki/Hamming_distance)가 작을수록, 두 문자열이 동일한 문자열일 가능성이 더 높습니다.

**구문**

```sql
wordShingleSimHash(string[, shinglesize])
```

**인수(Arguments)**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `shinglesize` — 선택 인수입니다. 워드 shingle(단어 묶음)의 크기로, `1`부터 `25` 사이의 값을 사용합니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값(Returned value)**

계산된 해시값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시(Examples)**

**사용 예시(Usage example)**

```sql title=Query
SELECT wordShingleSimHash('ClickHouse® is a column-oriented database management system (DBMS) for online analytical processing of queries (OLAP).') AS Hash;
```

```response title=Response
┌───────Hash─┐
│ 2328277067 │
└────────────┘
```

## wordShingleSimHashCaseInsensitive \{#wordShingleSimHashCaseInsensitive\}

도입 버전: v21.1

ASCII 문자열을 `shinglesize` 개의 단어로 이루어진 부분 문자열(shingle)로 분할하고, 해당 단어 shingle의 `simhash`를 반환합니다.
대소문자를 구분하지 않습니다.

[`bitHammingDistance`](../functions/bit-functions.md/#bitHammingDistance)를 사용하여 부분적으로 중복된 문자열을 탐지하는 데 사용할 수 있습니다.
두 문자열에 대해 계산된 `simhashes`의 [해밍 거리(Hamming distance)](https://en.wikipedia.org/wiki/Hamming_distance)가 작을수록 두 문자열이 같을 가능성이 더 높습니다.

**구문**

```sql
wordShingleSimHashCaseInsensitive(string[, shinglesize])
```

**인수(Arguments)**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `shinglesize` — 선택 사항입니다. 단어 shingle의 크기로, `1`에서 `25` 사이의 값입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값(Returned value)**

계산된 해시 값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제(Examples)**

**사용 예(Usage example)**

```sql title=Query
SELECT wordShingleSimHashCaseInsensitive('ClickHouse® is a column-oriented database management system (DBMS) for online analytical processing of queries (OLAP).') AS Hash;
```

```response title=Response
┌───────Hash─┐
│ 2194812424 │
└────────────┘
```

## wordShingleSimHashCaseInsensitiveUTF8 \{#wordShingleSimHashCaseInsensitiveUTF8\}

도입: v1.1

UTF-8로 인코딩된 문자열을 `shinglesize` 단어 길이의 파트(shingle)로 분할하고, 단어 shingle의 `simhash`를 반환합니다.
대소문자를 구분하지 않습니다.

[`bitHammingDistance`](../functions/bit-functions.md/#bitHammingDistance)를 사용해 부분적으로 중복된 문자열을 탐지하는 데 사용할 수 있습니다.
두 문자열에 대해 계산된 `simhashes`의 [해밍 거리(Hamming Distance)](https://en.wikipedia.org/wiki/Hamming_distance)가 작을수록 두 문자열이 동일할 가능성이 높습니다.

**구문**

```sql
wordShingleSimHashCaseInsensitiveUTF8(string[, shinglesize])
```

**인수**

* `string` — 해시를 계산할 대상 문자열입니다. [`String`](/sql-reference/data-types/string)
* `shinglesize` — 선택적 인수입니다. 단어 shingle의 크기이며, `1`에서 `25` 사이의 값입니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

계산된 해시 값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT wordShingleSimHashCaseInsensitiveUTF8('ClickHouse® is a column-oriented database management system (DBMS) for online analytical processing of queries (OLAP).') AS Hash;
```

```response title=Response
┌───────Hash─┐
│ 2194812424 │
└────────────┘
```

## wordShingleSimHashUTF8 \{#wordShingleSimHashUTF8\}

도입 버전: v21.1

UTF-8 문자열을 `shinglesize` 단어 크기의 파트(shingle)로 분할한 뒤, 단어 shingle의 `simhash`를 반환합니다.
대소문자를 구분합니다.

[`bitHammingDistance`](../functions/bit-functions.md/#bitHammingDistance)를 사용하여 부분적으로 중복된 문자열을 탐지하는 데 사용할 수 있습니다.
두 문자열에 대해 계산된 `simhashes`의 [해밍 거리](https://en.wikipedia.org/wiki/Hamming_distance)가 작을수록 두 문자열이 동일할 가능성이 더 높습니다.

**구문**

```sql
wordShingleSimHashUTF8(string[, shinglesize])
```

**인수**

* `string` — 해시를 계산할 문자열입니다. [`String`](/sql-reference/data-types/string)
* `shinglesize` — 선택 사항입니다. 단어 shingle의 크기로, `1`부터 `25`까지의 숫자를 사용할 수 있습니다. 기본값은 `3`입니다. [`UInt8`](/sql-reference/data-types/int-uint)

**반환 값**

계산된 해시 값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예시**

**사용 예시**

```sql title=Query
SELECT wordShingleSimHashUTF8('ClickHouse® is a column-oriented database management system (DBMS) for online analytical processing of queries (OLAP).') AS Hash;
```

```response title=Response
┌───────Hash─┐
│ 2328277067 │
└────────────┘
```

## wyHash64 \{#wyHash64\}

도입 버전: v22.7

64비트 [wyHash64](https://github.com/wangyi-fudan/wyhash) 해시값을 계산합니다.

**구문**

```sql
wyHash64(arg)
```

**인자**

* `arg` — 해시를 계산할 문자열 인자입니다. [`String`](/sql-reference/data-types/string)

**반환 값**

계산된 64비트 해시값 [`UInt64`](/sql-reference/data-types/int-uint)을 반환합니다.

**예시**

**사용 예시**

```sql title=Query
SELECT wyHash64('ClickHouse') AS Hash;
```

```response title=Response
12336419557878201794
```

## xxHash32 \{#xxHash32\}

도입 버전: v20.1

문자열에 대해 [xxHash](http://cyan4973.github.io/xxHash/)를 계산합니다.

64비트 버전은 [`xxHash64`](#xxHash64)를 참조하십시오.

**구문**

```sql
xxHash32(arg)
```

**인수**

* `arg` — 해시할 입력 문자열입니다. [`String`](/sql-reference/data-types/string)

**반환 값**

입력 문자열의 계산된 32비트 해시 값을 반환합니다. [`UInt32`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT xxHash32('Hello, world!');
```

```response title=Response
┌─xxHash32('Hello, world!')─┐
│                 834093149 │
└───────────────────────────┘
```

## xxHash64 \{#xxHash64\}

도입 버전: v20.1

문자열에 대한 [xxHash](http://cyan4973.github.io/xxHash/)를 계산합니다.

32비트 버전은 [`xxHash32`](#xxHash32)를 참조하십시오.

**구문**

```sql
xxHash64(arg)
```

**인수**

* `arg` — 해시할 입력 문자열입니다. [`String`](/sql-reference/data-types/string)

**반환 값**

입력 문자열에 대해 계산된 64비트 해시값을 반환합니다. [`UInt64`](/sql-reference/data-types/int-uint)

**예제**

**사용 예제**

```sql title=Query
SELECT xxHash64('Hello, world!');
```

```response title=Response
┌─xxHash64('Hello, world!')─┐
│      17691043854468224118 │
└───────────────────────────┘
```

## xxh3 \{#xxh3\}

도입된 버전: v22.12

[XXH3](https://github.com/Cyan4973/xxHash) 64비트 해시값을 계산합니다.

**구문**

```sql
xxh3(expr)
```

**인수**

* `expr` — 임의의 데이터 타입의 표현식 목록입니다. [`Any`](/sql-reference/data-types)

**반환 값**

계산된 64비트 `xxh3` 해시 값인 [`UInt64`](/sql-reference/data-types/int-uint)을 반환합니다.

**예시**

**사용 예시**

```sql title=Query
SELECT xxh3('ClickHouse')
```

```response title=Response
18009318874338624809
```

## xxh3_128 \{#xxh3_128\}

도입 버전: v26.2

[XXH3](https://github.com/Cyan4973/xxHash) 128비트 해시값을 계산합니다.

**문법**

```sql
xxh3_128(expr)
```

**인수**

* `expr` — 임의의 데이터 타입의 표현식 목록입니다. [`Any`](/sql-reference/data-types)

**반환 값**

계산된 128비트 `xxh3` 해시 값인 [`UInt128`](/sql-reference/data-types/int-uint)을 반환합니다.

**예시**

**사용 예시**

```sql title=Query
SELECT hex(xxh3_128('ClickHouse'))
```

```response title=Response
3A038784C52804B4DBA43A038784C528
```

{/*AUTOGENERATED_END*/ }
