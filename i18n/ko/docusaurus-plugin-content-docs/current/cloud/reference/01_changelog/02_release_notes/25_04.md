---
slug: /changelogs/25.4
title: 'v25.4 Cloud 변경 로그'
description: 'v25.4 빠른 릴리스 변경 로그'
keywords: ['changelog', 'cloud']
sidebar_label: '25.4'
sidebar_position: 5
doc_type: 'changelog'
---

## 하위 호환성이 없는 변경 사항 \{#backward-incompatible-changes\}

* Parquet 출력 형식은 Date 및 DateTime 컬럼을 원시 숫자로 기록하는 대신 Parquet에서 지원하는 날짜/시간 타입으로 변환합니다. DateTime은 DateTime64(3)로 변환됩니다(기존: UInt32). `output_format_parquet_datetime_as_uint32` 설정을 사용하면 이전 동작으로 되돌릴 수 있습니다. Date는 Date32로 변환됩니다(기존: UInt16). [#70950](https://github.com/ClickHouse/ClickHouse/pull/70950) ([Michael Kolupaev](https://github.com/al13n321)).
* 기본적으로 ORDER BY 및 `less/greater/equal/etc`와 같은 비교 함수에서 JSON/Object/AggregateFunction 등의 비교 가능한 타입을 허용하지 않습니다. [#73276](https://github.com/ClickHouse/ClickHouse/pull/73276) ([Pavel Kruglov](https://github.com/Avogar)).
* `JSONEachRowWithProgress`는 진행 상황이 업데이트될 때마다 그 내용을 출력합니다. 이전 버전에서는 결과의 각 블록이 끝난 뒤에만 진행 상황이 표시되어 사실상 쓸모가 없었습니다. 진행 상황이 표시되는 방식을 변경하여, 값이 0인 항목은 표시하지 않습니다. 진행 상황은 매우 자주 발생하더라도 계속 전송된다는 점을 염두에 두어야 합니다. 이는 상당한 양의 트래픽을 유발할 수 있습니다. 출력이 압축되는 경우에는 진행 상황이 플러시(flush)되지 않는다는 점도 유의해야 합니다. 이로써 [#70800](https://github.com/ClickHouse/ClickHouse/issues/70800)이(가) 해결됩니다. [#73834](https://github.com/ClickHouse/ClickHouse/pull/73834) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `mysql` 딕셔너리 소스는 더 이상 `SHOW TABLE STATUS` 쿼리를 실행하지 않습니다. 이는 InnoDB 테이블과 최신 MySQL 버전들에서는 아무런 유용한 값을 제공하지 않기 때문입니다. 이 변경으로 [#72636](https://github.com/ClickHouse/ClickHouse/issues/72636)이 해결됩니다. 이 변경은 하위 호환성을 유지하지만, 사용자가 이를 인지할 수 있도록 이 범주에 포함되었습니다. [#73914](https://github.com/ClickHouse/ClickHouse/pull/73914) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `Merge` 테이블은 컬럼의 합집합을 사용하고 공통 타입을 도출하여 하위 테이블의 구조를 통합합니다. 이 변경으로 [#64864](https://github.com/ClickHouse/ClickHouse/issues/64864)가 해결됩니다. 또한 [#35307](https://github.com/ClickHouse/ClickHouse/issues/35307)도 해결됩니다. 특정 경우에는 이 변경으로 인해 이전 버전과의 호환성이 깨질 수 있습니다. 예를 들어, 테이블 간에 공통 타입은 없지만 첫 번째 테이블의 타입으로의 변환은 여전히 가능한 경우가 있습니다. 이는 UInt64와 Int64, 또는 임의의 숫자 타입과 String의 경우와 같습니다. 이전 동작으로 되돌리고 싶다면 `merge_table_max_tables_to_look_for_schema_inference`를 `1`로 설정하거나 `compatibility`를 `24.12` 이하로 설정하십시오. [#73956](https://github.com/ClickHouse/ClickHouse/pull/73956) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `CHECK TABLE` 쿼리는 이제 별도의 `CHECK` 권한이 필요합니다. 이전 버전에서는 이러한 쿼리를 실행하기 위해 `SHOW TABLES` 권한만으로도 충분했습니다. 그러나 `CHECK TABLE` 쿼리는 무거울 수 있으며, 통상적인 `SELECT` 쿼리에 적용되는 쿼리 복잡도 제한이 여기에 적용되지 않습니다. 이로 인해 서비스 거부(DoS) 가능성이 생길 수 있었습니다. [#74471](https://github.com/ClickHouse/ClickHouse/pull/74471) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `allow_materialized_view_with_bad_select`가 `false`인 경우, materialized view의 모든 컬럼이 대상 테이블의 컬럼과 일치하는지 검사합니다. [#74481](https://github.com/ClickHouse/ClickHouse/pull/74481) ([Christoph Wurm](https://github.com/cwurm)).
* 이제 `h3ToGeo()` 함수는 결과를 `(lat, lon)` 순서로 반환합니다(기하 함수의 표준 순서입니다). 기존의 결과 순서 `(lon, lat)`를 유지하려는 사용자는 설정값 `h3togeo_lon_lat_result_order = true`를 설정할 수 있습니다. [#74719](https://github.com/ClickHouse/ClickHouse/pull/74719) ([Manish Gill](https://github.com/mgill25)).
* `JSONCompactEachRowWithProgress` 및 `JSONCompactStringsEachRowWithProgress` 포맷이 추가되었습니다. 이는 [#69989](https://github.com/ClickHouse/ClickHouse/issues/69989)의 후속 작업입니다. `JSONCompactWithNames` 및 `JSONCompactWithNamesAndTypes`는 더 이상 「totals」를 출력하지 않습니다. 이는 구현상의 실수였던 것으로 보입니다. [#75037](https://github.com/ClickHouse/ClickHouse/pull/75037) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `format_alter_operations_with_parentheses` 기본값을 true로 변경하여 ALTER 명령 목록의 해석이 모호하지 않도록 했습니다(https://github.com/ClickHouse/ClickHouse/pull/59532 참조). 이 변경으로 인해 24.3 이전 버전 클러스터와의 복제가 동작하지 않습니다. 이전 릴리스를 사용하는 클러스터를 업그레이드하는 경우, 서버 설정에서 해당 설정을 비활성화하거나 먼저 24.3으로 업그레이드하십시오. [#75302](https://github.com/ClickHouse/ClickHouse/pull/75302) ([Raúl Marín](https://github.com/Algunenano)).
* 복제 데이터베이스에서는 TRUNCATE DATABASE 문을 사용할 수 없습니다. [#76651](https://github.com/ClickHouse/ClickHouse/pull/76651) ([Bharat Nallan](https://github.com/bharatnc)).
* analyzer가 비활성화된 경우에는 `compatibility` 설정과 관계없이 기본값으로 병렬 레플리카 기능이 비활성화됩니다. 이 동작은 `parallel_replicas_only_with_analyzer`를 `false`로 명시적으로 설정하여 변경할 수 있습니다. [#77115](https://github.com/ClickHouse/ClickHouse/pull/77115) ([Igor Nikonov](https://github.com/devcrafter)).
* 이제는 설정의 float 값으로 `NaN` 또는 `inf`를 더 이상 사용할 수 없습니다. [#77546](https://github.com/ClickHouse/ClickHouse/pull/77546) ([Yarik Briukhovetskyi](https://github.com/yariks5s)).
* `dateTrunc`이 음수 date/datetime 인수와 함께 사용될 때의 동작을 수정합니다. [#77622](https://github.com/ClickHouse/ClickHouse/pull/77622) ([Yarik Briukhovetskyi](https://github.com/yariks5s)).
* 레거시 MongoDB 통합이 제거되었습니다. 서버 설정 `use_legacy_mongodb_integration`은 이제 더 이상 의미가 없으며 아무 동작도 하지 않습니다. [#77895](https://github.com/ClickHouse/ClickHouse/pull/77895) ([Robert Schulze](https://github.com/rschu1ze)).
* SummingMergeTree 검증 로직을 개선하여 파티션 키 또는 정렬 키로 사용되는 컬럼에는 집계를 수행하지 않도록 했습니다. [#78022](https://github.com/ClickHouse/ClickHouse/pull/78022) ([Pervakov Grigorii](https://github.com/GrigoryPervakov)).

## 새로운 기능 \{#new-features\}

* 역직렬화된 skipping 인덱스 그래뉼용 인메모리 캐시가 추가되었습니다. 이를 통해 skipping 인덱스를 사용하는 반복 쿼리가 더 빠르게 실행됩니다. 새 캐시의 크기는 서버 설정 `skipping_index_cache_size` 및 `skipping_index_cache_max_entries`로 제어됩니다. 이 캐시를 도입한 원래 동기는 벡터 유사도 인덱스였으며, 이제 해당 인덱스의 성능이 크게 향상되었습니다. [#70102](https://github.com/ClickHouse/ClickHouse/pull/70102) ([Robert Schulze](https://github.com/rschu1ze)).
* Userspace Page Cache의 새로운 구현으로, OS 페이지 캐시에 의존하지 않고 프로세스 내 메모리에서 데이터를 캐시할 수 있습니다. 로컬 파일시스템 캐시 없이 원격 가상 파일시스템에 데이터가 저장되어 있는 경우에 유용합니다. [#70509](https://github.com/ClickHouse/ClickHouse/pull/70509) ([Michael Kolupaev](https://github.com/al13n321)).
* 특정 타임스탬프 시점의 Iceberg 테이블을 쿼리할 수 있는 설정을 추가합니다. [#71072](https://github.com/ClickHouse/ClickHouse/pull/71072) ([Brett Hoerner](https://github.com/bretthoerner)).
* Iceberg 테이블의 시간 관련 변환 파티션 연산에 대한 파티션 프루닝을 구현합니다. [#72044](https://github.com/ClickHouse/ClickHouse/pull/72044) ([Daniil Ivanik](https://github.com/divanik)).
* MergeTree에서 관리하는 컬럼에 대해, 기본값으로 min-max(스키핑) 인덱스를 생성할 수 있는 기능이 추가되었습니다. 숫자 컬럼에는 `enable_minmax_index_for_all_numeric_columns`, 문자열 컬럼에는 `enable_minmax_index_for_all_string_columns` 설정을 사용합니다. 현재는 두 설정 모두 비활성화되어 있으므로 아직 동작상의 변화는 없습니다. [#72090](https://github.com/ClickHouse/ClickHouse/pull/72090) ([Smita Kulkarni](https://github.com/SmitaRKulkarni)).
* 패턴 내에서 가장 긴 이벤트 체인에 대해 일치하는 이벤트의 타임스탬프를 반환하는 집계 함수 sequenceMatchEvents가 추가되었습니다. [#72349](https://github.com/ClickHouse/ClickHouse/pull/72349) ([UnamedRus](https://github.com/UnamedRus)).
* `SELECT` 및 `VIEW` SQL 문에서 이제 별칭을 지원합니다. 예를 들어 `SELECT b FROM (SELECT number, number*2 FROM numbers(2)) AS x (a, b);`와 같습니다. 이를 통해 TPC-H 쿼리 15를 수정 없이 실행할 수 있습니다. [#72480](https://github.com/ClickHouse/ClickHouse/pull/72480) ([Yarik Briukhovetskyi](https://github.com/yariks5s)).
* 새로운 설정 `enable_adaptive_memory_spill_scheduler`가 추가되어, 동일한 쿼리에서 여러 개의 grace 조인을 사용할 때 이들의 전체 메모리 사용량을 모니터링하고, MEMORY&#95;LIMIT&#95;EXCEEDED를 방지하기 위해 외부 스토리지로 데이터를 스필(spill)하도록 적응적으로 트리거할 수 있게 합니다. [#72728](https://github.com/ClickHouse/ClickHouse/pull/72728) ([lgbo](https://github.com/lgbo-ustc)).
* 함수 `arrayNormalizedGini`가 추가되었습니다. [#72823](https://github.com/ClickHouse/ClickHouse/pull/72823) ([flynn](https://github.com/ucasfl)).
* 낮은 카디널리티 Decimal(10진수) 데이터 타입을 지원합니다. [#72256](https://github.com/ClickHouse/ClickHouse/issues/72256)을(를) 수정합니다. [#72833](https://github.com/ClickHouse/ClickHouse/pull/72833) ([zhanglistar](https://github.com/zhanglistar)).
* `min_age_to_force_merge_seconds`와 `min_age_to_force_merge_on_partition_only`가 모두 활성화된 경우, 파트 병합 작업은 최대 바이트 제한을 무시합니다. [#73656](https://github.com/ClickHouse/ClickHouse/pull/73656) ([Kai Zhu](https://github.com/nauu)).
* Apache Arrow/Parquet/ORC에서 HALF&#95;FLOAT 값을 읽을 수 있도록 지원합니다(값은 Float32로 읽힙니다). 이로써 [#72960](https://github.com/ClickHouse/ClickHouse/issues/72960)가 해결됩니다. IEEE-754 half float은 BFloat16과 동일하지 않다는 점에 유의하십시오. [#73835](https://github.com/ClickHouse/ClickHouse/issues/73835)를 해결합니다. [#73836](https://github.com/ClickHouse/ClickHouse/pull/73836) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `system.trace_log` 테이블에는 심볼화된 스택 트레이스를 저장하는 두 개의 새로운 컬럼인 `symbols`와 `lines`가 추가됩니다. 이를 통해 프로파일링 정보의 수집과 내보내기를 쉽게 수행할 수 있습니다. 이 기능은 `trace_log` 내부의 서버 설정 값 `symbolize`에 의해 제어되며, 기본적으로 활성화되어 있습니다. [#73896](https://github.com/ClickHouse/ClickHouse/pull/73896) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 테이블에서 자동 증가하는 숫자를 생성하는 데 사용할 수 있는 새로운 함수 `generateSerialID`를 추가합니다. [kazalika](https://github.com/kazalika)가 작업한 [#64310](https://github.com/ClickHouse/ClickHouse/issues/64310)에 이은 변경 사항입니다. 이 변경으로 [#62485](https://github.com/ClickHouse/ClickHouse/issues/62485)가 해결됩니다. [#73950](https://github.com/ClickHouse/ClickHouse/pull/73950) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `query1 PARALLEL WITH query2 PARALLEL WITH query3 ... PARALLEL WITH queryN` 구문을 추가합니다. 이는 서브쿼리 `{query1, query2, ... queryN}`가 서로 병렬로 실행될 수 있음을 의미하며, 이렇게 하는 것이 바람직합니다. [#73983](https://github.com/ClickHouse/ClickHouse/pull/73983) ([Vitaly Baranov](https://github.com/vitlibar)).
* 이제 Play UI는 쿼리가 실행되는 동안 진행률 표시줄을 제공합니다. 이를 통해 쿼리를 취소할 수 있습니다. 전체 레코드 수와 속도에 대한 상세 정보를 표시합니다. 데이터가 도착하는 즉시 테이블을 점진적으로 렌더링할 수 있습니다. HTTP 압축을 활성화했습니다. 테이블 렌더링 속도가 더 빨라졌습니다. 테이블 헤더가 상단에 고정되도록(sticky) 변경되었습니다. 셀을 선택하고 방향 키로 이동할 수 있습니다. 선택된 셀의 윤곽선(outline) 때문에 셀이 더 작아지는 문제를 수정했습니다. 이제 셀은 마우스를 올렸을 때가 아니라 선택되었을 때만 확장됩니다. 들어오는 데이터를 언제까지 렌더링할지는 서버 측이 아니라 클라이언트에서 결정합니다. 숫자의 자릿수 구분을 강조하여 표시합니다. 전체 디자인을 새로 다듬어 보다 대담한 스타일로 변경했습니다. 서버에 접속 가능한지와 자격 증명 정보의 정확성을 확인하고, 서버 버전과 가동 시간(uptime)을 표시합니다. 클라우드 아이콘은 Safari를 포함해 모든 글꼴에서 윤곽선으로 표시됩니다. 중첩 데이터 타입 안의 큰 정수는 더 잘 렌더링됩니다. `inf`/`nan`을 올바르게 표시합니다. 컬럼 헤더에 마우스를 올리면 데이터 타입을 표시합니다. [#74204](https://github.com/ClickHouse/ClickHouse/pull/74204) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* MergeTree에서 관리하는 컬럼에 대해, 기본적으로 min-max(스키핑) 인덱스를 생성할 수 있는 기능이 추가되었습니다. 숫자 컬럼에는 `add_minmax_index_for_numeric_columns`, 문자열 컬럼에는 `add_minmax_index_for_string_columns` 설정을 사용합니다. 현재는 두 설정이 모두 비활성화되어 있으므로, 아직 동작에는 아무런 변경 사항이 없습니다. [#74266](https://github.com/ClickHouse/ClickHouse/pull/74266) ([Smita Kulkarni](https://github.com/SmitaRKulkarni)).
* `script_query_number` 및 `script_line_number` 필드를 `system.query_log`, 네이티브 프로토콜의 ClientInfo, 그리고 서버 로그에 추가합니다. 이를 통해 [#67542](https://github.com/ClickHouse/ClickHouse/issues/67542)가 해결됩니다. 이 기능을 [#68133](https://github.com/ClickHouse/ClickHouse/issues/68133)에서 먼저 제안하고 시작한 [pinsvin00](https://github.com/pinsvin00)에게 감사드립니다. [#74477](https://github.com/ClickHouse/ClickHouse/pull/74477) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* DateTime64에 대한 minus 연산자 지원을 추가하여 DateTime64 값 간의 뺄셈뿐만 아니라 DateTime 값과의 뺄셈도 가능하도록 합니다. [#74482](https://github.com/ClickHouse/ClickHouse/pull/74482) ([Li Yin](https://github.com/liyinsg)).
* AzureBlobStorage에서 DeltaLake 테이블 엔진을 지원합니다. [#68043](https://github.com/ClickHouse/ClickHouse/issues/68043)를 수정합니다. [#74541](https://github.com/ClickHouse/ClickHouse/pull/74541) ([Smita Kulkarni](https://github.com/SmitaRKulkarni)).
* ClickHouse 클라이언트 연결의 소스 IP 주소를 지정할 수 있도록 bind&#95;host 설정을 추가합니다. [#74741](https://github.com/ClickHouse/ClickHouse/pull/74741) ([Todd Yocum](https://github.com/toddyocum)).
* `SELECT` 쿼리를 제출한 직후, 아직 완료되지 않은(백그라운드 프로세스에서 구체화되지 않은) 뮤테이션을 즉시 적용할 수 있는 기능이 추가되었습니다. 이 기능은 `apply_mutations_on_fly`를 설정하여 활성화할 수 있습니다. [#74877](https://github.com/ClickHouse/ClickHouse/pull/74877) ([Anton Popov](https://github.com/CurtizJ)).
* `toStartOfInterval` datetime 인수가 음수일 때 발생하던 일부 예기치 않은 동작을 수정했습니다. 이를 위해 거의 동일하게 동작하지만 Date32/DateTime64만 반환하는 새로운 함수 toStartOfIntervalAllowNegative를 구현했습니다. [#74933](https://github.com/ClickHouse/ClickHouse/pull/74933) ([Yarik Briukhovetskyi](https://github.com/yariks5s)).
* 새 `initialQueryStartTime` 함수가 추가되었습니다. 이 함수는 현재 실행 중인 쿼리의 시작 시간을 반환합니다. 분산 쿼리에서는 모든 세그먼트에서 값이 동일합니다. [#75087](https://github.com/ClickHouse/ClickHouse/pull/75087) ([Roman Lomonosov](https://github.com/lomik)).
* system.tables에 parametrized&#95;view&#95;parameters를 도입했습니다. https://github.com/clickhouse/clickhouse/issues/66756 이슈를 해결합니다. [#75112](https://github.com/ClickHouse/ClickHouse/pull/75112) ([NamNguyenHoai](https://github.com/NamHoaiNguyen)).
* 데이터베이스 주석을 변경할 수 있도록 허용합니다. [#73351](https://github.com/ClickHouse/ClickHouse/issues/73351) 이슈를 종료합니다.
* 데이터베이스 계층 없이 테이블을 ATTACH할 수 있는 기능을 추가하여 UUID hack을 피할 수 있습니다. [#75788](https://github.com/ClickHouse/ClickHouse/pull/75788) ([Azat Khuzhin](https://github.com/azat)).
* 동시 실행되는 쿼리 간에 CPU 슬롯을 어떻게 분배할지 제어하는 `concurrent_threads_scheduler` 서버 설정이 추가되었습니다. 이 설정은 `round_robin`(이전 동작) 또는 `fair_round_robin`으로 설정할 수 있으며, INSERT와 SELECT 간 CPU 분배가 불공정한 문제를 해결합니다. [#75949](https://github.com/ClickHouse/ClickHouse/pull/75949) ([Sergei Trifonov](https://github.com/serxa)).
* 라이선스 문제로 v24.10에서 제거되었던 QPL 코덱을 복원했습니다. [#76021](https://github.com/ClickHouse/ClickHouse/pull/76021) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* `arraySymmetricDifference` FUNCTION이 추가되었습니다. 이 FUNCTION은 여러 배열 인수에서 모든 인수에 공통으로 포함되지 않는 모든 요소를 반환합니다. 예: `SELECT arraySymmetricDifference([1, 2], [2, 3])`은 `[1, 3]`을 반환합니다. (issue [#61673](https://github.com/ClickHouse/ClickHouse/issues/61673)). [#76231](https://github.com/ClickHouse/ClickHouse/pull/76231) ([Filipp Abapolov](https://github.com/pheepa)).
* `estimatecompressionratio` 집계 FUNCTION을 추가했습니다 - [#70801](https://github.com/ClickHouse/ClickHouse/issues/70801)를 참조하십시오. [#76661](https://github.com/ClickHouse/ClickHouse/pull/76661) ([Tariq Almawash](https://github.com/talmawash)).
* `FilterTransformPassedRows` 및 `FilterTransformPassedBytes` 프로파일링 이벤트는 쿼리 실행 중에 필터링된 행 수와 바이트 수를 보여줍니다. [#76662](https://github.com/ClickHouse/ClickHouse/pull/76662) ([Onkar Deshpande](https://github.com/onkar)).
* 블록체인 구현에서, 특히 EVM 기반 시스템에서 널리 사용되는 keccak256 해시 함수가 추가되었습니다. [#76669](https://github.com/ClickHouse/ClickHouse/pull/76669) ([Arnaud Briche](https://github.com/arnaudbriche)).
* SCRAM SHA256 및 Postgres wire 인증을 업데이트했습니다. [#76839](https://github.com/ClickHouse/ClickHouse/pull/76839) ([scanhex12](https://github.com/scanhex12)).
* 이 기능을 통해 클라이언트 요청 헤더에서 외부 HTTP 인증자로 전달할 헤더 목록을 정의할 수 있습니다. [#77054](https://github.com/ClickHouse/ClickHouse/pull/77054) ([inv2004](https://github.com/inv2004)).
* `IcebergMetadataFilesCache`를 지원하여 매니페스트 파일/목록과 metadata.json을 단일 캐시에 저장합니다. [#77156](https://github.com/ClickHouse/ClickHouse/pull/77156) ([Han Fei](https://github.com/hanfei1991)).
* `arrayLevenshteinDistance`, `arrayLevenshteinDistanceWeighted`, `arraySimilarity` FUNCTION을 추가했습니다. [#77187](https://github.com/ClickHouse/ClickHouse/pull/77187) ([Mikhail f. Shiryaev](https://github.com/Felixoid)).
* 세 가지 새로운 FUNCTION이 추가되었습니다. 사양(https://iceberg.apache.org/spec/#truncate-transform-details)에 따른 `icebergTruncate`와 `toYearNumSinceEpoch`, `toMonthNumSinceEpoch`입니다. `Iceberg` 엔진에서 파티션 프루닝 시 `truncate` 변환을 지원합니다. [#77403](https://github.com/ClickHouse/ClickHouse/pull/77403) ([alesapin](https://github.com/alesapin)).
* 이전 시점의 Iceberg 테이블 상태를 쿼리할 수 있습니다. [#77439](https://github.com/ClickHouse/ClickHouse/pull/77439) ([Daniil Ivanik](https://github.com/divanik)).
* 워크로드용 CPU 슬롯 스케줄링이 추가되었습니다. 자세한 내용은 https://clickhouse.com/docs/operations/workload-scheduling#cpu&#95;scheduling을 참조하십시오. [#77595](https://github.com/ClickHouse/ClickHouse/pull/77595) ([Sergei Trifonov](https://github.com/serxa)).
* `hasAll()` function이 이제 tokenbf&#95;v1, ngrambf&#95;v1 전문 검색 스키핑 인덱스를 활용할 수 있습니다. [#77662](https://github.com/ClickHouse/ClickHouse/pull/77662) ([UnamedRus](https://github.com/UnamedRus)).
* `JSON` 데이터 타입이 프로덕션 환경에서 사용 가능합니다. https://jsonbench.com/ 을 참조하십시오. `Dynamic` 및 `Variant` 데이터 타입도 프로덕션 환경에서 사용 가능합니다. [#77785](https://github.com/ClickHouse/ClickHouse/pull/77785) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 역직렬화된 벡터 유사도 인덱스를 위한 메모리 내 캐시가 추가되었습니다. 이를 통해 반복적인 근사 최근접 이웃(ANN) 검색 쿼리가 더 빠르게 실행됩니다. 새 캐시의 크기는 서버 설정 `vector_similarity_index_cache_size` 및 `vector_similarity_index_cache_max_entries`로 제어됩니다. 이 기능은 이전 릴리스의 건너뛰기 인덱스 캐시 기능을 대체합니다. [#77905](https://github.com/ClickHouse/ClickHouse/pull/77905) ([Shankar Iyer](https://github.com/shankar-iyer)).
* 함수 sparseGrams 및 sparseGramsHashes와 해당 UTF8 버전이 추가되었습니다. 작성자: [scanhex12](https://github.com/scanhex12). [#78176](https://github.com/ClickHouse/ClickHouse/pull/78176) ([Pervakov Grigorii](https://github.com/GrigoryPervakov)).
* `toInterval` FUNCTION이 도입되었습니다. 이 FUNCTION은 두 개의 인수(값과 단위)를 받아 값을 특정 `Interval` 타입으로 변환합니다. [#78723](https://github.com/ClickHouse/ClickHouse/pull/78723) ([Andrew Davis](https://github.com/pulpdrew)).

## 실험적 기능 \{#experimental-features\}

* 새로운 설정값 `enable_replacing_merge_with_cleanup_for_min_age_to_force_merge`를 통해, 설정 가능한 타임아웃 이후 전체 파티션에 대한 자동 정리 머지 작업을 허용합니다. [#76440](https://github.com/ClickHouse/ClickHouse/pull/76440) ([Christoph Wurm](https://github.com/cwurm)).
* AWS S3 및 로컬 파일 시스템에서 사용하는 DeltaLake 테이블에 대해 [Unity Catalog 지원](https://www.databricks.com/product/unity-catalog)을 추가합니다. [#76988](https://github.com/ClickHouse/ClickHouse/pull/76988) ([alesapin](https://github.com/alesapin)).
* Iceberg 테이블용 AWS Glue 서비스 카탈로그와의 실험적 통합 기능을 도입합니다. [#77257](https://github.com/ClickHouse/ClickHouse/pull/77257) ([alesapin](https://github.com/alesapin)).

## 성능 개선 \{#performance-improvements\}

* lazy projection을 사용해 사용되지 않는 컬럼 읽기를 피함으로써 성능을 최적화합니다. [#55518](https://github.com/ClickHouse/ClickHouse/pull/55518) ([Xiaozhe Yu](https://github.com/wudidapaopao)).
* 행을 비교할 때, 서로 다를 가능성이 가장 높은 컬럼부터 비교를 시작합니다. [#63780](https://github.com/ClickHouse/ClickHouse/pull/63780) ([UnamedRus](https://github.com/UnamedRus)).
* RowBinary 입력 포맷을 최적화했습니다. [#63805](https://github.com/ClickHouse/ClickHouse/issues/63805) 이슈를 해결했습니다. [#65059](https://github.com/ClickHouse/ClickHouse/pull/65059) ([Pavel Kruglov](https://github.com/Avogar)).
* 일부 저수준 최적화를 통해 문자열 역직렬화 속도를 향상했습니다. [#65948](https://github.com/ClickHouse/ClickHouse/pull/65948) ([Nikita Taranov](https://github.com/nickitat)).
* 코드 일부에 `preserve_most` 속성을 적용했습니다. [#67778](https://github.com/ClickHouse/ClickHouse/pull/67778) ([Nikita Taranov](https://github.com/nickitat)).
* 반복적으로 사용되는 조건을 위한 쿼리 조건 캐시를 구현하여 쿼리 성능을 향상합니다. 조건을 만족하지 않는 데이터 구간의 범위를 메모리에 임시 인덱스로 저장합니다. 이후 쿼리는 이 인덱스를 사용합니다. [#67768](https://github.com/ClickHouse/ClickHouse/issues/67768) 이슈를 종료합니다. ### 사용자에게 노출되는 변경 사항에 대한 문서 항목입니다. [#69236](https://github.com/ClickHouse/ClickHouse/pull/69236) ([zhongyuankai](https://github.com/zhongyuankai)).
* `NativeORCBlockInputFormat`에 대해 비동기 I/O 프리페치(async io prefetch)를 지원하여 원격 I/O 지연(remote io latency)을 숨김으로써 전체 성능을 향상합니다. 제 테스트 케이스에서 속도 향상 비율은 최대 1.47배까지 도달했습니다. [#70534](https://github.com/ClickHouse/ClickHouse/pull/70534) ([李扬](https://github.com/taiyang-li)).
* 오른쪽 조인 테이블을 키별로 다시 범위 분할하여 grace hash join 성능을 개선합니다. [#72237](https://github.com/ClickHouse/ClickHouse/pull/72237) ([kevinyhzou](https://github.com/KevinyhZou)).
* `materialize ttl`에서 `ttl_only_drop_parts` 설정을 다시 적용하고, TTL 재계산에 필요한 컬럼만 읽어 해당 파트를 빈 파트로 교체하는 방식으로 삭제합니다. [#72751](https://github.com/ClickHouse/ClickHouse/pull/72751) ([Andrey Zvonov](https://github.com/zvonand)).
* `arrayROCAUC`와 `arrayAUCPR`가 전체 곡선의 일부 구간의 면적을 계산할 수 있도록 하여, 대규모 데이터셋에 대한 계산을 병렬화할 수 있게 합니다. [#72904](https://github.com/ClickHouse/ClickHouse/pull/72904) ([Emmanuel](https://github.com/emmanuelsdias)).
* 불필요하게 많은 유휴 스레드가 생성되지 않도록 했습니다. [#72920](https://github.com/ClickHouse/ClickHouse/pull/72920) ([Guo Wangyang](https://github.com/guowangy)).
* `parallel_hash` JOIN 알고리즘의 probe 단계에서 왼쪽 테이블 블록을 해시 기준으로 분할하던 동작이 제거되었습니다. [#73089](https://github.com/ClickHouse/ClickHouse/pull/73089) ([Nikita Taranov](https://github.com/nickitat)).
* table function에서 중괄호 확장만 사용하는 경우 blob storage 키를 나열하지 않습니다. [#73333](https://github.com/ClickHouse/ClickHouse/issues/73333)를 종료합니다. [#73518](https://github.com/ClickHouse/ClickHouse/pull/73518) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* [#70502](https://github.com/ClickHouse/ClickHouse/issues/70502)의 테스트에 따라 산술 계산에서 사용되는 Int256 및 UInt256을 clang 내장 타입 i256으로 교체했습니다. [#73658](https://github.com/ClickHouse/ClickHouse/pull/73658) ([李扬](https://github.com/taiyang-li)).
* 모든 인자 타입이 숫자인 함수에 대해 빠른 코드 경로를 추가합니다. https://github.com/ClickHouse/ClickHouse/pull/72258의 성능 문제를 수정합니다. [#73820](https://github.com/ClickHouse/ClickHouse/pull/73820) ([李扬](https://github.com/taiyang-li)).
* 함수 컬럼이 아닌 컬럼에는 `maskedExecute`를 적용하지 않고, 단락 평가(short-circuit evaluation)의 성능을 개선했습니다. [#73965](https://github.com/ClickHouse/ClickHouse/pull/73965) ([lgbo](https://github.com/lgbo-ustc)).
* Kafka/NATS/RabbitMQ/FileLog에 대해 헤더 감지를 비활성화하여 성능을 개선합니다. [#74006](https://github.com/ClickHouse/ClickHouse/pull/74006) ([Azat Khuzhin](https://github.com/azat)).
* `log` wrapper를 값으로 사용하도록 하고 힙에 할당하지 않도록 했습니다. [#74034](https://github.com/ClickHouse/ClickHouse/pull/74034) ([Mikhail Artemenko](https://github.com/Michicosun)).
* GROUPING SETS를 사용한 집계 이후 파이프라인을 더 높은 수준의 병렬성으로 실행합니다. [#74082](https://github.com/ClickHouse/ClickHouse/pull/74082) ([Nikita Taranov](https://github.com/nickitat)).
* `MergeTreeReadPool`의 임계 구역 범위를 줄입니다. [#74202](https://github.com/ClickHouse/ClickHouse/pull/74202) ([Guo Wangyang](https://github.com/guowangy)).
* `indexHint` 함수를 최적화했습니다. 이제 함수 `indexHint`의 인자로만 사용되는 컬럼은 테이블에서 읽어 오지 않습니다. [#74314](https://github.com/ClickHouse/ClickHouse/pull/74314) ([Anton Popov](https://github.com/CurtizJ)).
* 병렬 레플리카의 성능이 향상되었습니다. 병렬 레플리카 프로토콜과 관련이 없는 패킷을 쿼리 이니시에이터에서 역직렬화하는 작업은 이제 항상 파이프라인 스레드에서 수행됩니다. 이전에는 파이프라인 스케줄링을 담당하는 스레드에서 수행될 수 있었으며, 이로 인해 이니시에이터의 응답성이 떨어지고 파이프라인 실행이 지연될 수 있었습니다. [#74398](https://github.com/ClickHouse/ClickHouse/pull/74398) ([Igor Nikonov](https://github.com/devcrafter)).
* `LowCardinality` 컬럼의 메모리 내 크기 계산을 수정했습니다. [#74688](https://github.com/ClickHouse/ClickHouse/pull/74688) ([Nikita Taranov](https://github.com/nickitat)).
* S3에 있는 Wide 파트에서 전체 JSON 컬럼을 읽는 성능을 개선합니다. 이는 서브 컬럼 접두사(prefix) 역직렬화를 위한 prefetch 추가, 역직렬화된 접두사(prefix) 캐시, 서브 컬럼 접두사(prefix)의 병렬 역직렬화를 통해 구현되었습니다. 이로 인해 `SELECT data FROM table`과 같은 쿼리에서 S3의 JSON 컬럼 읽기 성능이 4배, `SELECT data FROM table LIMIT 10`과 같은 쿼리에서는 약 10배까지 향상됩니다. [#74827](https://github.com/ClickHouse/ClickHouse/pull/74827) ([Pavel Kruglov](https://github.com/Avogar)).
* 비동기 insert에서 사용하는 메모리를 미리 할당하여 성능을 개선합니다. [#74945](https://github.com/ClickHouse/ClickHouse/pull/74945) ([Ilya Golshtein](https://github.com/ilejn)).
* 옵티마이저가 조인의 양측을 서로 바꾸는 경우 `ConcurrentHashJoin`에서 발생하던 이중 사전 할당 문제를 수정했습니다. [#75149](https://github.com/ClickHouse/ClickHouse/pull/75149) ([Nikita Taranov](https://github.com/nickitat)).
* `max_rows_in_join = max_bytes_in_join = 0`일 때 `parallel_hash`에서 발생하던 불필요한 경합을 수정했습니다. [#75155](https://github.com/ClickHouse/ClickHouse/pull/75155) ([Nikita Taranov](https://github.com/nickitat)).
* 일부 JOIN 시나리오에서 성능이 약간 향상되었습니다. 출력 행 수를 미리 계산하여 그에 맞게 메모리를 예약합니다. [#75376](https://github.com/ClickHouse/ClickHouse/pull/75376) ([Alexander Gololobov](https://github.com/davenger)).
* `plain_rewritable` 메타데이터 파일은 작아서 큰 기본 버퍼가 필요하지 않습니다. 주어진 경로를 담을 수 있을 만큼만 적절히 크기를 조정한 쓰기 버퍼를 사용하여, 많은 활성 파트에서 메모리 활용도를 개선합니다. ### 사용자에게 노출되는 변경 사항에 대한 문서 항목입니다. [#75758](https://github.com/ClickHouse/ClickHouse/pull/75758) ([Julia Kartseva](https://github.com/jkartseva)).
* 일부 상황(예: 빈 배열 컬럼)에서는 데이터 파트에 빈 파일이 포함될 수 있습니다. 테이블이 메타데이터와 객체 스토리지가 분리된 디스크에 존재하는 경우, 이러한 파일에 대해서는 빈 blob을 ObjectStorage에 기록하지 않고 메타데이터만 저장하도록 생략할 수 있습니다. [#75860](https://github.com/ClickHouse/ClickHouse/pull/75860) ([Alexander Gololobov](https://github.com/davenger)).
* 동시성 제어로 인해 INSERT와 SELECT 간에 CPU 분배가 불공정해질 수 있음이 발견되었습니다. 모든 CPU 슬롯이 `max_threads` = 1인 INSERT에 (경쟁 없이) 무조건적으로 할당되고, 높은 `max_threads` 값을 가진 SELECT는 실제로 단일 스레드만 사용하게 되어 성능 저하가 발생하는 문제가 있었습니다. [#75941](https://github.com/ClickHouse/ClickHouse/pull/75941) ([Sergei Trifonov](https://github.com/serxa)).
* 불필요한 널 허용 맵 할당을 피하기 위해 `wrapInNullable`에 단순한 최적화를 적용합니다. [#76489](https://github.com/ClickHouse/ClickHouse/pull/76489) ([李扬](https://github.com/taiyang-li)).
* Decimal32/Decimal64/DateTime64에 대한 최솟값/최댓값 연산 성능을 개선합니다. [#76570](https://github.com/ClickHouse/ClickHouse/pull/76570) ([李扬](https://github.com/taiyang-li)).
* 파트 제거 시 캐시에서 데이터를 적극적으로 제거하여, 데이터 양이 더 적을 경우 캐시가 최대 크기까지 커지지 않도록 합니다. [#76641](https://github.com/ClickHouse/ClickHouse/pull/76641) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 쿼리 컴파일(SETTING `compile_expressions`)이 이제 머신 유형을 고려하여 수행됩니다. 이를 통해 이러한 쿼리가 크게 빨라집니다. [#76753](https://github.com/ClickHouse/ClickHouse/pull/76753) ([Robert Schulze](https://github.com/rschu1ze)).
* arraySort를 최적화했습니다. [#76850](https://github.com/ClickHouse/ClickHouse/pull/76850) ([李扬](https://github.com/taiyang-li)).
* `col->insertFrom()`의 가상 호출을 제거하여 JOIN 결과 생성 속도를 높였습니다. [#77350](https://github.com/ClickHouse/ClickHouse/pull/77350) ([Alexander Gololobov](https://github.com/davenger)).
* 동일한 파트의 마크를 병합하여 한 번에 쿼리 조건 캐시에 기록함으로써 락 사용량을 줄입니다. [#77377](https://github.com/ClickHouse/ClickHouse/pull/77377) ([zhongyuankai](https://github.com/zhongyuankai)).
* 단일 널 허용 컬럼 또는 낮은 카디널리티 컬럼에 대한 ORDER BY를 최적화합니다. [#77789](https://github.com/ClickHouse/ClickHouse/pull/77789) ([李扬](https://github.com/taiyang-li)).
* 캐시가 머지 작업 등에서 수동적으로 사용되는 경우 `filesystem_cache_prefer_bigger_buffer_size`를 비활성화합니다. [#77898](https://github.com/ClickHouse/ClickHouse/pull/77898) ([Kseniia Sumarokova](https://github.com/kssenii)).
* Iceberg에 대해 단순 count 최적화를 구현했습니다. 이제 `count()`만 사용하며 필터가 없는 쿼리는 더 빠르게 실행됩니다. 이를 통해 [#77639](https://github.com/ClickHouse/ClickHouse/issues/77639) 이슈가 해결되었습니다. [#78090](https://github.com/ClickHouse/ClickHouse/pull/78090) ([alesapin](https://github.com/alesapin)).
* 컬럼의 lower&#95;bound 및 upper&#95;bound 값을 기반으로 Iceberg 데이터 프루닝을 지원합니다. [#77638](https://github.com/ClickHouse/ClickHouse/issues/77638)이(가) 수정되었습니다. [#78242](https://github.com/ClickHouse/ClickHouse/pull/78242) ([alesapin](https://github.com/alesapin)).
* NativeReader의 메모리 사용을 최적화했습니다. [#78442](https://github.com/ClickHouse/ClickHouse/pull/78442) ([Azat Khuzhin](https://github.com/azat)).
* 단순한 최적화: `CAST`가 필요한 경우 `count(if())`를 countIf로 변환하지 않습니다. [#78564](https://github.com/ClickHouse/ClickHouse/issues/78564)를 종료했습니다. [#78565](https://github.com/ClickHouse/ClickHouse/pull/78565) ([李扬](https://github.com/taiyang-li)).

## 개선 사항 \{#improvements\}

* 레플리카 수가 증가할 때 Keeper에 상당한 부하를 줄 수 있던 단일 `get` 요청의 사용을, `multiRead`를 사용할 수 있는 부분에서는 제거하여 Keeper 요청 수를 줄였습니다. [#56862](https://github.com/ClickHouse/ClickHouse/pull/56862) ([Nikolay Degterinsky](https://github.com/evillique)).
* MySQL에서 named collections를 사용한 SSL 인증을 지원하도록 기능을 추가했습니다. [#59111](https://github.com/ClickHouse/ClickHouse/issues/59111) 이슈를 해결했습니다. [#59452](https://github.com/ClickHouse/ClickHouse/pull/59452) ([Nikolay Degterinsky](https://github.com/evillique)).
* `ConstantNode`에서 `Field` 대신 `ColumnPtr`를 저장하여 새로운 analyzer 인프라의 성능을 향상합니다. [#62245](https://github.com/ClickHouse/ClickHouse/issues/62245)와 관련됩니다. [#63198](https://github.com/ClickHouse/ClickHouse/pull/63198) ([Dmitry Novik](https://github.com/novikd)).
* 서버가 과부하 상태일 때 쿼리를 거부합니다. 결정은 대기 시간(`OSCPUWaitMicroseconds`)과 사용 시간(`OSCPUVirtualTimeMicroseconds`)의 비율에 따라 이루어집니다. 이 비율이 `min_os_cpu_wait_time_ratio_to_throw`와 `max_os_cpu_wait_time_ratio_to_throw` 사이에 있을 때, 일정 확률로 쿼리가 폐기됩니다(이는 쿼리 수준 설정입니다). [#63206](https://github.com/ClickHouse/ClickHouse/pull/63206) ([Alexey Katsman](https://github.com/alexkats)).
* 메모리 사용량을 줄이기 위해 블록을 가능한 한 빨리 삭제하도록 했습니다. [#65647](https://github.com/ClickHouse/ClickHouse/pull/65647) ([lgbo](https://github.com/lgbo-ustc)).
* `processors_profile_log` 테이블에는 이제 30일 TTL이 적용된 기본 구성이 설정되었습니다. [#66139](https://github.com/ClickHouse/ClickHouse/pull/66139) ([Ilya Yatsishin](https://github.com/qoega)).
* DateTime64 데이터 타입의 컬럼에 `bloom_filter` 인덱스를 생성할 수 있게 되었습니다. [#66416](https://github.com/ClickHouse/ClickHouse/pull/66416) ([Yutong Xiao](https://github.com/YutSean)).
* S3 요청에 대해 첫 바이트 읽기/쓰기 및 연결 시간을 추적할 수 있도록 지연 시간 버킷을 도입하여 활용합니다. 이렇게 하면 이후에 수집된 데이터를 사용하여 대략적인 퍼센타일을 계산하고 타임아웃 값을 조정할 수 있습니다. [#69783](https://github.com/ClickHouse/ClickHouse/pull/69783) ([Alexey Katsman](https://github.com/alexkats)).
* `Executable` 스토리지에 전달되는 쿼리가 더 이상 단일 스레드에서의 실행으로 제한되지 않습니다. [#70084](https://github.com/ClickHouse/ClickHouse/pull/70084) ([yawnt](https://github.com/yawnt)).
* 추적성을 향상하기 위해 OpenTelemetry 스팬 로그 테이블에 HTTP 헤더를 추가했습니다. [#70516](https://github.com/ClickHouse/ClickHouse/pull/70516) ([jonymohajanGmail](https://github.com/jonymohajanGmail)).
* ORC 파일을 작성할 때 항상 `GMT` 시간대만 사용하는 것이 아니라, 사용자 지정 시간대를 사용할 수 있도록 지원합니다. [#70615](https://github.com/ClickHouse/ClickHouse/pull/70615) ([kevinyhzou](https://github.com/KevinyhZou)).
* 병렬 레플리카가 활성화된 경우 테이블 함수를 해당하는 `-Cluster` 버전으로 교체합니다. [#65024](https://github.com/ClickHouse/ClickHouse/issues/65024)를 해결합니다. [#70659](https://github.com/ClickHouse/ClickHouse/pull/70659) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* 클라우드 간에 백업을 생성할 때 I/O 스케줄링 설정을 준수합니다. [#71093](https://github.com/ClickHouse/ClickHouse/pull/71093) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* MySQL 및 Postgres 딕셔너리 레플리카에 대한 연결을 백그라운드에서 재수립하여 해당 딕셔너리에 대한 요청이 지연되지 않도록 했습니다. [#71101](https://github.com/ClickHouse/ClickHouse/pull/71101) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* `system.asynchronous_metrics`에 메트릭 별칭(alias) 이름을 추가했습니다. [#71164](https://github.com/ClickHouse/ClickHouse/pull/71164) ([megao](https://github.com/jetgm)).
* 이제 갱신 가능 구체화 뷰(refreshable materialized view)의 갱신 작업이 `system.query_log`에 기록됩니다. [#71333](https://github.com/ClickHouse/ClickHouse/pull/71333) ([Michael Kolupaev](https://github.com/al13n321)).
* Parquet 블룸 필터와 min/max 인덱스를 함께 평가하도록 했습니다. 이는 데이터 = [1, 2, 4, 5]인 경우 `x = 3 or x > 5`를 올바르게 지원하는 데 필요합니다. [#71383](https://github.com/ClickHouse/ClickHouse/pull/71383) ([Arthur Passos](https://github.com/arthurpassos)).
* 대화형 메트릭 기능 개선. 병렬 레플리카의 메트릭이 전체 표시되지 않던 문제를 수정합니다. 메트릭을 가장 최근 업데이트 순으로, 그다음 이름의 사전순으로 정렬해 표시합니다. 더 이상 갱신되지 않은 메트릭은 표시하지 않습니다. [#71631](https://github.com/ClickHouse/ClickHouse/pull/71631) ([Julia Kartseva](https://github.com/jkartseva)).
* 과거에는 어떤 이유에서인지 `ALTER TABLE MOVE PARTITION TO TABLE` 쿼리가 전용 권한인 `ALTER_MOVE_PARTITION`이 아니라 `SELECT` 및 `ALTER DELETE` 권한을 확인했습니다. 이 PR은 이 접근 권한 유형을 사용하도록 변경합니다. 호환성을 위해 `SELECT`와 `ALTER DELETE` 권한이 부여된 경우 이 권한도 암묵적으로 부여되지만, 이 동작은 향후 릴리스에서 제거될 예정입니다. [#16403](https://github.com/ClickHouse/ClickHouse/issues/16403)를 해결합니다. [#71632](https://github.com/ClickHouse/ClickHouse/pull/71632) ([pufit](https://github.com/pufit)).
* `use_hive_partitioning`을 기본값으로 설정할 수 있게 합니다. [#71636](https://github.com/ClickHouse/ClickHouse/pull/71636) ([Yarik Briukhovetskyi](https://github.com/yariks5s)).
* 정렬 키에 있는 컬럼을 구체화(materialize)하려고 할 때 정렬 순서를 망가뜨리는 것을 허용하는 대신 예외를 던지도록 했습니다. 다만 [#71777](https://github.com/ClickHouse/ClickHouse/issues/71777)은 여전히 해결되지 않았습니다. [#71891](https://github.com/ClickHouse/ClickHouse/pull/71891) ([Peter Nguyen](https://github.com/petern48)).
* 해시 조인 알고리즘이 활성화되어 있을 때 보다 일반적인 조인 계획 알고리즘을 사용할 수 있도록 했습니다. [#71926](https://github.com/ClickHouse/ClickHouse/pull/71926) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* `EXPLAIN QUERY TREE`에서 시크릿 값을 숨깁니다. [#72025](https://github.com/ClickHouse/ClickHouse/pull/72025) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* 데이터베이스와 테이블의 메타데이터 파일을 저장하기 위해 구성 가능한 디스크를 사용할 수 있습니다. 디스크 이름은 `database_disk.disk` 설정 파라미터를 통해 지정할 수 있습니다. [#72027](https://github.com/ClickHouse/ClickHouse/pull/72027) ([Tuan Pham Anh](https://github.com/tuanpach)).
* 네이티브 리더에서 Parquet의 정수 논리 타입(logical types)을 지원합니다. [#72105](https://github.com/ClickHouse/ClickHouse/pull/72105) ([Arthur Passos](https://github.com/arthurpassos)).
* JSON 출력 형식을 기본적으로 가독성이 높은 형식(pretty print)으로 출력하도록 변경했습니다. 이를 제어하기 위한 새로운 설정인 `output_format_json_pretty_print`를 추가하고 기본값으로 활성화했습니다. [#72148](https://github.com/ClickHouse/ClickHouse/pull/72148) ([Pavel Kruglov](https://github.com/Avogar)).
* 기본 사용자에게 비밀번호가 필요한 경우 브라우저에서 대화형으로 자격 증명을 요청합니다. 이전 버전에서는 서버가 HTTP 403을 반환했으나 이제는 HTTP 401을 반환합니다. [#72198](https://github.com/ClickHouse/ClickHouse/pull/72198) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 이 PR은 `CREATE_USER`, `ALTER_USER`, `DROP_USER`, `CREATE_ROLE`, `ALTER_ROLE`, `DROP_ROLE` 접근 유형을 전역(global)에서 파라미터화(parameterized) 방식으로 변환합니다. 이는 이제 접근 관리용 권한 부여를 더 세밀하게 제어할 수 있음을 의미합니다. [#72246](https://github.com/ClickHouse/ClickHouse/pull/72246) ([pufit](https://github.com/pufit)).
* 클러스터 설정에서 세그먼트 이름을 사용할 수 있도록 허용합니다. [#72276](https://github.com/ClickHouse/ClickHouse/pull/72276) ([MikhailBurdukov](https://github.com/MikhailBurdukov)).
* 서로 다른 매개변수를 사용하는 JSON 타입 간 CAST 및 ALTER를 지원합니다. [#72303](https://github.com/ClickHouse/ClickHouse/pull/72303) ([Pavel Kruglov](https://github.com/Avogar)).
* `system.mutations`에 `latest_fail_error_code_name` 컬럼을 추가합니다. 이 컬럼은 중단된 뮤테이션에 대한 새로운 메트릭을 도입하고, Cloud에서 발생한 오류를 그래프로 시각화하며, 선택적으로는 불필요한 알림이 적은 새로운 알림을 추가하는 데 필요합니다. [#72398](https://github.com/ClickHouse/ClickHouse/pull/72398) ([Miсhael Stetsyuk](https://github.com/mstetsyuk)).
* 파티션을 ATTACH할 때 발생하는 메모리 할당량을 줄였습니다. [#72583](https://github.com/ClickHouse/ClickHouse/pull/72583) ([Konstantin Morozov](https://github.com/k-morozov)).
* `max_bytes_before_external_sort` 제한이 전체 쿼리 메모리 사용량에 따라 달라지도록 변경되었습니다(이전에는 하나의 정렬 스레드에 대한 정렬 블록의 바이트 수를 의미했으나, 이제는 `max_bytes_before_external_group_by`와 동일한 의미를 가지며 모든 스레드를 포함한 전체 쿼리 메모리에 대한 총 한도입니다). 또한 디스크에 저장되는 블록 크기를 제어하기 위한 설정 항목 `min_external_sort_block_bytes`가 추가되었습니다. [#72598](https://github.com/ClickHouse/ClickHouse/pull/72598) ([Azat Khuzhin](https://github.com/azat)).
* 트레이스 컬렉터의 메모리 제한을 무시하도록 변경합니다. [#72606](https://github.com/ClickHouse/ClickHouse/pull/72606) ([Azat Khuzhin](https://github.com/azat)).
* MergeTree 정렬 키 및 스킵 인덱스에서 서브컬럼을 지원합니다. [#72644](https://github.com/ClickHouse/ClickHouse/pull/72644) ([Pavel Kruglov](https://github.com/Avogar)).
* 서버 설정 `dictionaries_lazy_load` 및 `wait_dictionaries_load_at_startup`를 `system.server_settings`에 추가했습니다. [#72664](https://github.com/ClickHouse/ClickHouse/pull/72664) ([Christoph Wurm](https://github.com/cwurm)).
* `BACKUP`/`RESTORE` 쿼리의 일부로 지정할 수 있는 설정 목록에 `max_backup_bandwidth` 설정을 추가했습니다. [#72665](https://github.com/ClickHouse/ClickHouse/pull/72665) ([Christoph Wurm](https://github.com/cwurm)).
* 병렬 레플리카에서는 레플리카 선택을 개선하기 위해 레플리카 가용성에 대한 과거 정보를 사용했지만, 연결이 불가능할 때 해당 레플리카의 오류 횟수를 업데이트하지 않았습니다. 이 PR에서는 레플리카를 사용할 수 없을 때 오류 횟수가 업데이트되도록 수정했습니다. [#72666](https://github.com/ClickHouse/ClickHouse/pull/72666) ([zoomxi](https://github.com/zoomxi)).
* ReplicatedMergeTree 엔진에서 새로 생성되는 레플리카 파트의 로그 레벨을 낮춰, 복제 클러스터에서 생성되는 로그 양을 최소화했습니다. [#72876](https://github.com/ClickHouse/ClickHouse/pull/72876) ([mor-akamai](https://github.com/morkalfon)).
* 많은 새로운 기능에서는 Iceberg 메타데이터와 관련된 코드의 캡슐화와 추상화를 개선할 필요가 있습니다. [#72941](https://github.com/ClickHouse/ClickHouse/pull/72941) ([Daniil Ivanik](https://github.com/divanik)).
* JSON 컬럼 값의 동등성 비교를 지원합니다. [#72991](https://github.com/ClickHouse/ClickHouse/pull/72991) ([Pavel Kruglov](https://github.com/Avogar)).
* JSON 서브컬럼을 포함한 식별자의 형식을 개선하여 불필요한 백틱(`) 사용을 피합니다. [#73085](https://github.com/ClickHouse/ClickHouse/pull/73085) ([Pavel Kruglov](https://github.com/Avogar)).
* `PREWHERE` 조건을 `Test` 레벨에서 로깅합니다. [#73116](https://github.com/ClickHouse/ClickHouse/pull/73116) ([Vladimir Cherkasov](https://github.com/vdimir)).
* 암시적 ENGINE 사용 및 엔진 설정과 쿼리 설정을 혼용하는 경우에도 SETTINGS를 지원합니다. [#73120](https://github.com/ClickHouse/ClickHouse/pull/73120) ([Raúl Marín](https://github.com/Algunenano)).
* `optimize_on_insert`가 활성화된 경우 파트를 레벨 1로 기록합니다. 이렇게 하면 새로 기록된 파트에 대해 `FINAL`이 포함된 쿼리에 여러 가지 최적화를 적용할 수 있습니다. [#73132](https://github.com/ClickHouse/ClickHouse/pull/73132) ([Anton Popov](https://github.com/CurtizJ)).
* `WHERE a<b AND b<c AND c<5`와 같은 쿼리에 대해, 더 나은 필터링 성능을 위해 새로운 비교 조건(`a<5 AND b<5`)을 생성할 수 있습니다. [#73164](https://github.com/ClickHouse/ClickHouse/pull/73164) ([Shichao Jin](https://github.com/jsc0218)).
* 논리합에서 공통 표현식 추출을 개선합니다. 모든 항(disjunct)에 공통 부분 표현식이 없더라도 결과 필터 표현식을 단순화할 수 있도록 합니다. [#71537](https://github.com/ClickHouse/ClickHouse/issues/71537)의 후속 작업입니다. [#73271](https://github.com/ClickHouse/ClickHouse/pull/73271) ([Dmitry Novik](https://github.com/novikd)).
* Storage `S3(Azure)Queue`에서 settings 없이 생성된 테이블에도 settings를 추가할 수 있도록 했습니다. [#73283](https://github.com/ClickHouse/ClickHouse/pull/73283) ([Kseniia Sumarokova](https://github.com/kssenii)).
* ClickHouse-client에서는 쿼리를 종료하기 위해 Ctrl+D를 지원합니다. 세미콜론을 입력하고 Enter를 누르는 대신 Ctrl+D를 사용할 수 있습니다. 또한 단일 라인 모드에서는 Ctrl+D가 Enter처럼 동작하도록 했습니다. [#73293](https://github.com/ClickHouse/ClickHouse/pull/73293) ([Xiaozhe Yu](https://github.com/wudidapaopao)).
* `least_greatest_legacy_null_behavior` 설정(기본값: `false`)을 도입하여 `least` 및 `greatest` 함수가 `NULL` 인자를 처리하는 방식을 제어합니다. `true`인 경우 항상 `NULL`을 반환하고, `false`인 경우 `NULL` 인자를 무시합니다. [#73344](https://github.com/ClickHouse/ClickHouse/pull/73344) ([Robert Schulze](https://github.com/rschu1ze)).
* ObjectStorageQueueMetadata 정리(cleanup) 스레드에서 Keeper 멀티 요청을 사용하도록 했습니다. [#73357](https://github.com/ClickHouse/ClickHouse/pull/73357) ([Antonio Andelic](https://github.com/antonio2368)).
* 새로운 MongoDB 드라이버가 이제 기본 드라이버로 사용됩니다. 기존 드라이버를 계속 사용하려면 서버 SETTING `use_legacy_mongodb_integration`을 true로 설정하면 됩니다. [#73359](https://github.com/ClickHouse/ClickHouse/pull/73359) ([Robert Schulze](https://github.com/rschu1ze)).
* ClickHouse가 cgroup 환경에서 실행될 때에도 시스템 부하, 프로세스 스케줄링, 메모리 등과 관련된 시스템 전역 비동기 메트릭을 계속 수집합니다. 이는 ClickHouse가 호스트에서 리소스를 많이 사용하는 유일한 프로세스일 때 유용한 신호를 제공할 수 있습니다. [#73369](https://github.com/ClickHouse/ClickHouse/pull/73369) ([Nikita Taranov](https://github.com/nickitat)).
* 스토리지 S3Queue에서 24.6 이전에 생성된 기존 정렬 테이블을 버킷이 있는 새로운 구조로 이전할 수 있도록 했습니다. [#73467](https://github.com/ClickHouse/ClickHouse/pull/73467) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 기존 `system.s3queue`와 유사한 `system.azure_queue`를 추가했습니다. [#73477](https://github.com/ClickHouse/ClickHouse/pull/73477) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 수정자와 함께 정렬 규칙 로케일(collation locales)을 사용할 때 오류가 발생하던 회귀(regression) 문제를 수정했습니다. 예를 들어 `SELECT arrayJoin(['kk 50', 'KK 01', ' KK 2', ' KK 3', 'kk 1', 'x9y99', 'x9y100']) item ORDER BY item ASC COLLATE 'tr-u-kn-true-ka-shifted` 쿼리가 이제 정상적으로 동작합니다. [#73544](https://github.com/ClickHouse/ClickHouse/pull/73544) ([Robert Schulze](https://github.com/rschu1ze)).
* 널 허용(JSON) 타입을 지원합니다. [#73556](https://github.com/ClickHouse/ClickHouse/pull/73556) ([Pavel Kruglov](https://github.com/Avogar)).
* `parseDateTime64` FUNCTION(및 그 변형)은 이제 1970년 이전 또는 2106년 이후의 입력 날짜에 대해서도 올바른 결과를 반환합니다. 예: `SELECT parseDateTime64InJodaSyntax('2200-01-01 00:00:00.000', 'yyyy-MM-dd HH:mm:ss.SSS')`. [#73594](https://github.com/ClickHouse/ClickHouse/pull/73594) ([zhanglistar](https://github.com/zhanglistar)).
* 사용자가 보고한 clickhouse-disks 사용성 관련 몇 가지 문제를 해결합니다. [#67136](https://github.com/ClickHouse/ClickHouse/issues/67136) 이슈를 종료합니다. [#73616](https://github.com/ClickHouse/ClickHouse/pull/73616) ([Daniil Ivanik](https://github.com/divanik)).
* storage S3(Azure)Queue에서 커밋 설정을 변경할 수 있도록 했습니다. (커밋 설정에는 max&#95;processed&#95;files&#95;before&#95;commit, max&#95;processed&#95;rows&#95;before&#95;commit, max&#95;processed&#95;bytes&#95;before&#95;commit, max&#95;processing&#95;time&#95;sec&#95;before&#95;commit이 포함됩니다.) [#73635](https://github.com/ClickHouse/ClickHouse/pull/73635) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 저장소 S3(Azure)Queue에서 소스별 진행 상황을 집계해 커밋 제한 SETTINGS와 비교합니다. [#73641](https://github.com/ClickHouse/ClickHouse/pull/73641) ([Kseniia Sumarokova](https://github.com/kssenii)).
* `BACKUP`/`RESTORE` 쿼리에서 핵심 설정을 지원합니다. [#73650](https://github.com/ClickHouse/ClickHouse/pull/73650) ([Vitaly Baranov](https://github.com/vitlibar)).
* Parquet 출력 시 `output_format_compression_level`을 읽도록 했습니다. [#73651](https://github.com/ClickHouse/ClickHouse/pull/73651) ([Arthur Passos](https://github.com/arthurpassos)).
* 지원되지 않는 타입으로 취급하는 대신 arrow fixed&#95;size&#95;list를 Array로 읽도록 했습니다. [#73654](https://github.com/ClickHouse/ClickHouse/pull/73654) ([Julian Meyers](https://github.com/J-Meyers)).
* 이 PR은 두 가지 백업 엔진을 추가합니다: `Memory`(현재 사용자 세션 내에 백업을 보관), 그리고 `Null`(어디에도 백업을 보관하지 않음). [#73690](https://github.com/ClickHouse/ClickHouse/pull/73690) ([Vitaly Baranov](https://github.com/vitlibar)).
* `concurrent_threads_soft_limit_num` 및 `concurrent_threads_soft_limit_num_ratio_to_cores`는 서버를 다시 시작하지 않고도 변경할 수 있습니다. [#73713](https://github.com/ClickHouse/ClickHouse/pull/73713) ([Sergei Trifonov](https://github.com/serxa)).
* formatReadable 함수에서 확장된 숫자형 타입(Decimal, 큰 정수형)에 대한 지원을 추가합니다. [#73765](https://github.com/ClickHouse/ClickHouse/pull/73765) ([Raúl Marín](https://github.com/Algunenano)).
* 튜플 컬럼의 필드에 대해 컬럼 이름 대소문자 비구분(column insensitive) 매칭을 적용합니다. https://github.com/apache/incubator-gluten/issues/8324를 종료합니다. [#73780](https://github.com/ClickHouse/ClickHouse/pull/73780) ([李扬](https://github.com/taiyang-li)).
* Postgres 와이어 프로토콜에서 TLS를 지원하도록 했습니다. [#73812](https://github.com/ClickHouse/ClickHouse/pull/73812) ([scanhex12](https://github.com/scanhex12)).
* 기본적으로 `LowCardinality(UUID)`를 허용합니다. 이는 ClickHouse Cloud 고객들 사이에서 실용성이 입증되었습니다. [#73826](https://github.com/ClickHouse/ClickHouse/pull/73826) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 설치 과정에서 표시되는 메시지를 개선했습니다. [#73827](https://github.com/ClickHouse/ClickHouse/pull/73827) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* ClickHouse Cloud 비밀번호 재설정 관련 메시지를 개선했습니다. [#73831](https://github.com/ClickHouse/ClickHouse/pull/73831) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 파일에 데이터를 추가할 수 없는 File 테이블에 대한 오류 메시지를 개선합니다. [#73832](https://github.com/ClickHouse/ClickHouse/pull/73832) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 사용자가 터미널에서 Native, Parquet, Avro와 같은 바이너리 포맷으로의 출력을 실수로 요청했을 때 확인 메시지를 표시하도록 했습니다. 이 변경으로 [#59524](https://github.com/ClickHouse/ClickHouse/issues/59524)가 해결되었습니다. [#73833](https://github.com/ClickHouse/ClickHouse/pull/73833) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `BFloat16` 데이터 형식이 프로덕션 환경에서 사용 가능한 상태가 되었습니다. [#73840](https://github.com/ClickHouse/ClickHouse/pull/73840) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 터미널에서 가독성을 높이기 위해 Pretty 및 Vertical 포맷에서 후행 공백을 강조 표시합니다. 이는 `output_format_pretty_highlight_trailing_spaces` 설정으로 제어됩니다. 초기 구현은 [#72996](https://github.com/ClickHouse/ClickHouse/issues/72996)의 [Braden Burns](https://github.com/bradenburns)가 기여했습니다. [#71590](https://github.com/ClickHouse/ClickHouse/issues/71590) 이슈를 종료합니다. [#73847](https://github.com/ClickHouse/ClickHouse/pull/73847) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `clickhouse-client`와 `clickhouse-local`은(는) 파일에서 리디렉션된 stdin의 압축 형식을 자동으로 감지합니다. 이로써 [#70865](https://github.com/ClickHouse/ClickHouse/issues/70865)가 해결되었습니다. [#73848](https://github.com/ClickHouse/ClickHouse/pull/73848) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Pretty 포맷에서 기본 동작으로 너무 긴 컬럼 이름을 잘라냅니다. 이는 `output_format_pretty_max_column_name_width_cut_to` 및 `output_format_pretty_max_column_name_width_min_chars_to_cut` 설정으로 제어됩니다. 이는 [#66502](https://github.com/ClickHouse/ClickHouse/issues/66502)에서 [tanmaydatta](https://github.com/tanmaydatta)가 수행한 작업의 연속입니다. 이 변경으로 [#65968](https://github.com/ClickHouse/ClickHouse/issues/65968) 이슈가 해결되었습니다. [#73851](https://github.com/ClickHouse/ClickHouse/pull/73851) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `Pretty` 포맷을 더 보기 좋게 만들었습니다. 이전 블록이 출력된 이후 경과 시간이 크지 않은 경우 블록을 합칩니다. 이는 새로운 설정 `output_format_pretty_squash_consecutive_ms`(기본값 50 ms)와 `output_format_pretty_squash_max_wait_ms`(기본값 1000 ms)로 제어됩니다. [#49537](https://github.com/ClickHouse/ClickHouse/issues/49537)의 후속 작업입니다. 이 변경으로 [#49153](https://github.com/ClickHouse/ClickHouse/issues/49153)가 해결되었습니다. [#73852](https://github.com/ClickHouse/ClickHouse/pull/73852) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* SQLite에 대한 타입 매핑을 수정했습니다(`integer` 타입은 `int64`, 부동소수점 타입은 `float64`로 매핑). [#73853](https://github.com/ClickHouse/ClickHouse/pull/73853) ([Joanna Hulboj](https://github.com/jh0x)).
* 현재 머지 중인 소스 파트 수를 나타내는 메트릭을 추가합니다. 이로써 [#70809](https://github.com/ClickHouse/ClickHouse/issues/70809) 이슈가 해결됩니다. [#73868](https://github.com/ClickHouse/ClickHouse/pull/73868) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 출력이 터미널로 나가는 경우 `Vertical` 포맷에서 컬럼을 강조 표시합니다. 이는 `output_format_pretty_color` 설정으로 비활성화할 수 있습니다. [#73898](https://github.com/ClickHouse/ClickHouse/pull/73898) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* MySQL 호환성이 향상되어 이제 `mysqlsh`(Oracle에서 제공하는 고급 MySQL CLI)를 ClickHouse에 연결할 수 있게 되었습니다. 이는 테스트를 용이하게 하기 위해서입니다. [#73912](https://github.com/ClickHouse/ClickHouse/pull/73912) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 출력 레코드 수가 N = `output_format_pretty_max_rows`를 초과하면, 처음 N개의 행만 표시하는 대신 출력 테이블을 중간에서 잘라 처음 N/2개의 행과 마지막 N/2개의 행을 표시합니다. [#64200](https://github.com/ClickHouse/ClickHouse/issues/64200)의 후속 변경입니다. 이 변경으로 [#59502](https://github.com/ClickHouse/ClickHouse/issues/59502)가 종료됩니다. [#73929](https://github.com/ClickHouse/ClickHouse/pull/73929) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `isIPv4String` FUNCTION은 올바른 IPv4 주소 뒤에 널 바이트가 오는 경우에도 true를 반환했으나, 이때는 false를 반환해야 합니다. [#65387](https://github.com/ClickHouse/ClickHouse/issues/65387)의 후속 변경입니다. [#73946](https://github.com/ClickHouse/ClickHouse/pull/73946) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* MySQL wire protocol의 에러 코드를 MySQL과 호환되도록 수정합니다. [#56831](https://github.com/ClickHouse/ClickHouse/issues/56831)의 후속 작업입니다. [#50957](https://github.com/ClickHouse/ClickHouse/issues/50957)를 해결합니다. [#73948](https://github.com/ClickHouse/ClickHouse/pull/73948) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `IN`, `NOT IN`과 같은 연산자에서 enum 리터럴을 enum 타입과 비교해 검증하고, 리터럴이 유효한 enum 값이 아닐 경우 예외를 발생시키도록 하는 `validate_enum_literals_in_opearators` 설정을 추가합니다. [#73985](https://github.com/ClickHouse/ClickHouse/pull/73985) ([Vladimir Cherkasov](https://github.com/vdimir)).
* Storage `S3(Azure)Queue`에서 커밋 설정으로 정의된 단일 배치의 모든 파일을 단일 Keeper 트랜잭션에서 커밋합니다. [#73991](https://github.com/ClickHouse/ClickHouse/pull/73991) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 실행 가능한 UDF 및 딕셔너리에 대한 헤더 감지를 비활성화합니다(이는 Function &#39;X&#39;: wrong result, expected Y row(s), actual Y-1 과 같은 문제를 유발할 수 있습니다). [#73992](https://github.com/ClickHouse/ClickHouse/pull/73992) ([Azat Khuzhin](https://github.com/azat)).
* `EXPLAIN PLAN`에 `distributed` 옵션이 추가되었습니다. 이제 `EXPLAIN distributed=1 ...`은 `ReadFromParallelRemote*` 단계에 원격 실행 계획을 추가합니다. [#73994](https://github.com/ClickHouse/ClickHouse/pull/73994) ([Nikolai Kochetov](https://github.com/KochetovNicolai)).
* Dynamic 인자를 사용하는 not/xor 연산에 대해 올바른 반환 타입을 사용하도록 합니다. [#74013](https://github.com/ClickHouse/ClickHouse/pull/74013) ([Pavel Kruglov](https://github.com/Avogar)).
* 테이블 생성 후에도 `add_implicit_sign_column_constraint_for_collapsing_engine` 설정을 변경할 수 있도록 했습니다. [#74014](https://github.com/ClickHouse/ClickHouse/pull/74014) ([Christoph Wurm](https://github.com/cwurm)).
* materialized view의 SELECT 쿼리에서 서브컬럼을 지원합니다. [#74030](https://github.com/ClickHouse/ClickHouse/pull/74030) ([Pavel Kruglov](https://github.com/Avogar)).
* Pretty 포맷은 테이블 셀 내에서 여러 줄 필드를 렌더링할 수 있어 가독성이 향상됩니다. 기본적으로 활성화되어 있으며 `output_format_pretty_multiline_fields` 설정으로 제어할 수 있습니다. [#64094](https://github.com/ClickHouse/ClickHouse/issues/64094)에서 [Volodyachan](https://github.com/Volodyachan)의 작업을 이어간 것입니다. 이 변경으로 [#56912](https://github.com/ClickHouse/ClickHouse/issues/56912)가 종료됩니다. [#74032](https://github.com/ClickHouse/ClickHouse/pull/74032) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `MergingAggregated` 단계에 대해 쿼리 플랜 단계에서 `predicate-push-down` 최적화를 지원합니다. 이는 새로운 analyzer를 사용하는 일부 쿼리의 성능을 개선합니다. [#74073](https://github.com/ClickHouse/ClickHouse/pull/74073) ([Nikolai Kochetov](https://github.com/KochetovNicolai)).
* 이제 `clickhouse-client`에서 사용자 지정 프롬프트를 설정하는 간단한 방법이 세 가지 있습니다. 1. 명령줄 인자 `--prompt`를 사용하는 방법, 2. 설정 파일에서 `<prompt>[...]</prompt>` 설정을 사용하는 방법, 3. 마찬가지로 설정 파일에서 연결별 설정인 `<connections_credentials><prompt>[...]</prompt></connections_credentials>`을 사용하는 방법입니다. [#74168](https://github.com/ClickHouse/ClickHouse/pull/74168) ([Christoph Wurm](https://github.com/cwurm)).
* Prometheus remote write 응답의 성공 상태 코드를 200/OK에서 204/NoContent로 변경합니다. [#74170](https://github.com/ClickHouse/ClickHouse/pull/74170) ([Michael Dempsey](https://github.com/bluestealth)).
* 브라우저에서 실행되는 JavaScript에 X-ClickHouse HTTP 헤더를 노출합니다. 애플리케이션을 작성하기가 더 편리해집니다. [#74180](https://github.com/ClickHouse/ClickHouse/pull/74180) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `JSONEachRowWithProgress` 형식은 메타데이터가 포함된 이벤트뿐만 아니라 totals 및 extremes도 포함합니다. 또한 `rows_before_limit_at_least`와 `rows_before_aggregation`도 포함합니다. 이 형식은 부분 결과 이후에 예외가 도착하는 경우 예외를 올바르게 출력합니다. 이제 progress 정보에는 경과 나노초가 포함됩니다. 마지막에 최종 progress 이벤트가 한 번 발생합니다. 쿼리 실행 중 progress는 `interactive_delay` 설정 값보다 더 자주 출력되지 않습니다. [#74181](https://github.com/ClickHouse/ClickHouse/pull/74181) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 모래시계가 Play UI에서 부드럽게 회전하도록 개선되었습니다. [#74182](https://github.com/ClickHouse/ClickHouse/pull/74182) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* HTTP 응답이 압축되어 있더라도 패킷을 도착하는 대로 즉시 전송합니다. 이렇게 하면 브라우저가 진행 상황을 나타내는 패킷과 압축된 데이터를 모두 받을 수 있습니다. [#74201](https://github.com/ClickHouse/ClickHouse/pull/74201) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 서버를 재시작하지 않고도 실행 중에 `max_remote_read_network_bandwidth_for_serve` 및 `max_remote_write_network_bandwidth_for_server`를 다시 로드할 수 있도록 기능을 추가했습니다. [#74206](https://github.com/ClickHouse/ClickHouse/pull/74206) ([Kai Zhu](https://github.com/nauu)).
* ClickHouse Client에서 포트 9440으로 연결하는 경우 이를 기반으로 보안 연결을 자동으로 감지합니다. [#74212](https://github.com/ClickHouse/ClickHouse/pull/74212) ([Christoph Wurm](https://github.com/cwurm)).
* http&#95;handlers에 대해 사용자 인증 시 사용자 이름만으로 가능하도록 했습니다(이전에는 비밀번호 입력도 필요했습니다). [#74221](https://github.com/ClickHouse/ClickHouse/pull/74221) ([Azat Khuzhin](https://github.com/azat)).
* 대체 쿼리 언어인 PRQL과 KQL에 대한 지원이 실험적 기능으로 표시되었습니다. 이를 사용하려면 `allow_experimental_prql_dialect = 1` 및 `allow_experimental_kusto_dialect = 1` 설정을 지정하십시오. [#74224](https://github.com/ClickHouse/ClickHouse/pull/74224) ([Robert Schulze](https://github.com/rschu1ze)).
* 더 많은 집계 함수에서 기본 Enum 타입 반환을 지원합니다. [#74272](https://github.com/ClickHouse/ClickHouse/pull/74272) ([Raúl Marín](https://github.com/Algunenano)).
* `OPTIMIZE TABLE` 명령에서 기존 키워드 `FINAL` 대신 키워드 `FORCE`를 지정할 수 있게 되었습니다. [#74342](https://github.com/ClickHouse/ClickHouse/pull/74342) ([Robert Schulze](https://github.com/rschu1ze)).
* MergeTree 설정 `materialize_skip_indexes_on_merge`가 추가되었습니다. 이 설정은 머지 시 스킵 인덱스 생성을 하지 않도록 합니다. 이를 통해 스킵 인덱스가 언제 생성될지(`ALTER TABLE [..] MATERIALIZE INDEX [...]`를 통해) 명시적으로 제어할 수 있습니다. 스킵 인덱스 생성 비용이 큰 경우(예: 벡터 유사도 인덱스)에 유용합니다. [#74401](https://github.com/ClickHouse/ClickHouse/pull/74401) ([Robert Schulze](https://github.com/rschu1ze)).
* 기본(default) 및 구체화된(materialized) 표현식에서 서브컬럼을 지원합니다. [#74403](https://github.com/ClickHouse/ClickHouse/pull/74403) ([Pavel Kruglov](https://github.com/Avogar)).
* Storage(S3/Azure)Queue의 Keeper 요청을 최적화합니다. [#74410](https://github.com/ClickHouse/ClickHouse/pull/74410) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 서버 종료가 너무 오래 걸리는 경우 알림을 발생시키는 데 필요한 `IsServerShuttingDown` 메트릭을 추가합니다. [#74429](https://github.com/ClickHouse/ClickHouse/pull/74429) ([Miсhael Stetsyuk](https://github.com/mstetsyuk)).
* `EXPLAIN` 결과에 iceberg 테이블 이름을 추가했습니다. [#74485](https://github.com/ClickHouse/ClickHouse/pull/74485) ([alekseev-maksim](https://github.com/alekseev-maksim)).
* 기본적으로 최대 `1000`개의 병렬 레플리카를 사용합니다. [#74504](https://github.com/ClickHouse/ClickHouse/pull/74504) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* 이전 analyzer에서 RECURSIVE CTE를 사용할 때 표시되는 오류 메시지를 개선했습니다. [#74523](https://github.com/ClickHouse/ClickHouse/pull/74523) ([Raúl Marín](https://github.com/Algunenano)).
* Storage(S3/Azure)Queue의 Keeper 요청 처리를 최적화합니다. [#74538](https://github.com/ClickHouse/ClickHouse/pull/74538) ([Kseniia Sumarokova](https://github.com/kssenii)).
* S3 디스크에서 데이터를 읽을 때 HTTP 세션 재사용을 개선합니다([#72401](https://github.com/ClickHouse/ClickHouse/issues/72401)). [#74548](https://github.com/ClickHouse/ClickHouse/pull/74548) ([Julian Maicher](https://github.com/jmaicher)).
* `system.errors`에서 자세한 오류 메시지를 보여줍니다. [#74574](https://github.com/ClickHouse/ClickHouse/pull/74574) ([Vitaly Baranov](https://github.com/vitlibar)).
* 모든 유형의 복제 태스크에 대해 백오프 로직을 활성화했습니다. 이를 통해 CPU 사용량, 메모리 사용량 및 로그 파일 크기를 줄일 수 있습니다. 새로운 설정 `max_postpone_time_for_failed_replicated_fetches_ms`, `max_postpone_time_for_failed_replicated_merges_ms`, `max_postpone_time_for_failed_replicated_tasks_ms`를 추가했으며, 이는 `max_postpone_time_for_failed_mutations_ms`와 유사합니다. [#74576](https://github.com/ClickHouse/ClickHouse/pull/74576) ([MikhailBurdukov](https://github.com/MikhailBurdukov)).
* `parallel_hash` JOIN 알고리즘에서 `max_joined_block_size_rows` 설정을 보다 정확하게 적용하도록 개선했습니다. 이를 통해 `hash` 알고리즘 대비 메모리 사용량이 증가하는 문제를 방지하는 데 도움이 됩니다. [#74630](https://github.com/ClickHouse/ClickHouse/pull/74630) ([Nikita Taranov](https://github.com/nickitat)).
* libhdfs3 설정 옵션 `dfs.client.use.datanode.hostname` 지원을 추가했습니다. [#74635](https://github.com/ClickHouse/ClickHouse/pull/74635) ([Mikhail Tiukavkin](https://github.com/freshertm)).
* Invalid 오류 수정: 코덱 &#39;snappy&#39;는 압축 레벨 설정을 지원하지 않습니다. [#74659](https://github.com/ClickHouse/ClickHouse/pull/74659) ([Arthur Passos](https://github.com/arthurpassos)).
* clickhouse-keeper와의 클라이언트 통신에 비밀번호를 사용할 수 있도록 허용합니다. 서버와 클라이언트에 적절한 SSL 구성을 지정하는 경우 이 기능은 그다지 유용하지 않지만, 일부 상황에서는 여전히 유용할 수 있습니다. 비밀번호 길이는 16자를 초과할 수 없습니다. Keeper 인증 모델과는 관련이 없습니다. [#74673](https://github.com/ClickHouse/ClickHouse/pull/74673) ([alesapin](https://github.com/alesapin)).
* 백업 생성 시 체크섬을 계산할 때 blob 경로를 사용할 수 있게 했습니다. [#74729](https://github.com/ClickHouse/ClickHouse/pull/74729) ([Vitaly Baranov](https://github.com/vitlibar)).
* 두 파트 모두에서 JOIN 키가 PK의 접두사인 경우 JOIN에 대해 동적 세그먼트 분할(sharding)을 사용합니다. 이 최적화는 `query_plan_join_shard_by_pk_ranges` 설정(기본값은 비활성화됨)으로 활성화할 수 있습니다. [#74733](https://github.com/ClickHouse/ClickHouse/pull/74733) ([Nikolai Kochetov](https://github.com/KochetovNicolai)).
* config reloader에 오류 코드를 추가했습니다. [#74746](https://github.com/ClickHouse/ClickHouse/pull/74746) ([Garrett Thomas](https://github.com/garrettthomaskth)).
* MySQL 및 PostgreSQL 테이블 함수와 엔진에서 IPv6 주소 지원을 추가했습니다. [#74796](https://github.com/ClickHouse/ClickHouse/pull/74796) ([Mikhail Koviazin](https://github.com/mkmkme)).
* Gorilla 코덱의 매개변수는 이제 항상 .sql 파일의 테이블 메타데이터에 저장됩니다. 이로써 다음 이슈가 해결되었습니다: [#70072](https://github.com/ClickHouse/ClickHouse/issues/70072). [#74814](https://github.com/ClickHouse/ClickHouse/pull/74814) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* `divideDecimal`에 대한 단락(short-circuit) 최적화를 구현합니다. [#74280](https://github.com/ClickHouse/ClickHouse/issues/74280)을(를) 수정합니다. [#74843](https://github.com/ClickHouse/ClickHouse/pull/74843) ([Kevin Mingtarja](https://github.com/kevinmingtarja)).
* Keeper에서 대규모 다중 요청 처리 성능을 개선했습니다. [#74849](https://github.com/ClickHouse/ClickHouse/pull/74849) ([Antonio Andelic](https://github.com/antonio2368)).
* 이제 시작 스크립트에서 USER를 지정할 수 있습니다. [#74894](https://github.com/ClickHouse/ClickHouse/pull/74894) ([pufit](https://github.com/pufit)).
* `ALTER TABLE FETCH PARTITION` 실행 시 파트를 병렬로 가져옵니다(스레드 풀 크기는 `max_fetch_partition_thread_pool_size` 설정으로 제어됩니다). [#74978](https://github.com/ClickHouse/ClickHouse/pull/74978) ([Azat Khuzhin](https://github.com/azat)).
* `system.query_cache`에 쿼리 ID 컬럼을 추가했습니다(이슈 [#68205](https://github.com/ClickHouse/ClickHouse/issues/68205)). [#74982](https://github.com/ClickHouse/ClickHouse/pull/74982) ([NamNguyenHoai](https://github.com/NamHoaiNguyen)).
* SSH 프로토콜을 다시 활성화했습니다. 몇 가지 주요 취약점을 수정하여 더 이상 사용자 정의 pager를 사용하거나 `server-logs-file`을 지정할 수 없도록 했습니다. 기본적으로 환경 변수로 클라이언트 옵션을 전달하는 기능을 비활성화했습니다(여전히 config.xml의 `ssh-server.enable_client_options_passing`을 통해 설정할 수 있습니다). progress 테이블, 쿼리 취소, 자동 완성, 프로필 이벤트 진행 상황, stdin 및 `send_logs_level` 옵션을 지원하도록 했습니다. 다음 이슈가 해결되었습니다: [#74340](https://github.com/ClickHouse/ClickHouse/issues/74340). [#74989](https://github.com/ClickHouse/ClickHouse/pull/74989) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* 쿼리 해석 중 예외가 발생하는 경우, 사용자 지정 포맷으로 예외가 포맷되도록 수정했습니다. 이전 버전에서는 쿼리에서 지정한 포맷이 아니라 기본 포맷으로 예외가 포맷되었습니다. 이로써 [#55422](https://github.com/ClickHouse/ClickHouse/issues/55422) 이슈가 해결되었습니다. [#74994](https://github.com/ClickHouse/ClickHouse/pull/74994) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 파싱 기능을 개선했습니다(시퀀스 ID 파싱: 매니페스트 파일에서 시퀀스 식별자를 파싱하는 기능을 추가하고, Avro 메타데이터 파싱: 향후 기능 확장을 위해 Avro 메타데이터 파서를 쉽게 확장 가능한 구조로 재설계했습니다). [#75010](https://github.com/ClickHouse/ClickHouse/pull/75010) ([Daniil Ivanik](https://github.com/divanik)).
* 이제 `ALTER TABLE ... FREEZE ...` 쿼리를 `KILL QUERY`와 타임아웃(`max_execution_time`)으로 취소할 수 있습니다. [#75016](https://github.com/ClickHouse/ClickHouse/pull/75016) ([Kirill](https://github.com/kirillgarbar)).
* `groupUniqArrayArrayMap`을 `SimpleAggregateFunction`으로 사용할 수 있도록 지원을 추가했습니다. [#75034](https://github.com/ClickHouse/ClickHouse/pull/75034) ([Miel Donkers](https://github.com/mdonkers)).
* Postgres wire protocol에서 prepared SQL 문을 지원합니다. [#75035](https://github.com/ClickHouse/ClickHouse/pull/75035) ([scanhex12](https://github.com/scanhex12)).
* 데이터베이스 엔진 `Iceberg`에서 카탈로그 자격 증명 설정을 숨깁니다. [#74559](https://github.com/ClickHouse/ClickHouse/issues/74559) 이슈를 해결합니다. [#75080](https://github.com/ClickHouse/ClickHouse/pull/75080) ([Kseniia Sumarokova](https://github.com/kssenii)).
* BuzzHouse에 누락되어 있던 몇 가지 기능을 추가했습니다: `ILIKE`와 `REGEXP` 연산자, `<=>`와 `IS NOT DISTINCT FROM`. [#75168](https://github.com/ClickHouse/ClickHouse/pull/75168) ([Pedro Ferreira](https://github.com/PedroTadim)).
* `min_chunk_bytes_for_parallel_parsing` 설정은 더 이상 0으로 설정할 수 없습니다. 이를 통해 다음 문제가 해결되었습니다: [#71110](https://github.com/ClickHouse/ClickHouse/issues/71110). [#75239](https://github.com/ClickHouse/ClickHouse/pull/75239) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* `intExp2` / `intExp10`: 정의되지 않았던 동작을 정의했습니다. 인자가 너무 작은 경우 0을 반환하고, 너무 큰 경우 `18446744073709551615`를 반환하며, `nan`인 경우 예외를 발생시킵니다. [#75312](https://github.com/ClickHouse/ClickHouse/pull/75312) ([Vitaly Baranov](https://github.com/vitlibar)).
* `DatabaseIceberg`의 카탈로그 설정에서 `s3.endpoint`를 네이티브로 지원하도록 했습니다. [#74558](https://github.com/ClickHouse/ClickHouse/issues/74558)를 해결합니다. [#75375](https://github.com/ClickHouse/ClickHouse/pull/75375) ([Kseniia Sumarokova](https://github.com/kssenii)).
* `SYSTEM DROP REPLICA`를 실행하는 사용자에게 권한이 부족한 경우 아무런 오류 없이 실패하지 않도록 했습니다. [#75377](https://github.com/ClickHouse/ClickHouse/pull/75377) ([Bharat Nallan](https://github.com/bharatnc)).
* 어떤 시스템 로그든 플러시(flush)에 실패한 횟수에 대한 ProfileEvent를 추가했습니다. [#75466](https://github.com/ClickHouse/ClickHouse/pull/75466) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 복호화 및 압축 해제 과정에 대한 검사와 로깅을 추가합니다. [#75471](https://github.com/ClickHouse/ClickHouse/pull/75471) ([Vitaly Baranov](https://github.com/vitlibar)).
* `parseTimeDelta` 함수에 마이크로 기호(U+00B5) 지원을 추가했습니다. 이제 마이크로 기호(U+00B5)와 그리스 문자 ‘뮤’(U+03BC) 모두 마이크로초를 나타내는 유효한 표기로 인식되어, ClickHouse의 동작이 Go 구현과 일치합니다([time.go 참고](https://github.com/golang/go/blob/ad7b46ee4ac1cee5095d64b01e8cf7fcda8bee5e/src/time/time.go#L983C19-L983C20) 및 [time/format.go](https://github.com/golang/go/blob/ad7b46ee4ac1cee5095d64b01e8cf7fcda8bee5e/src/time/format.go#L1608-L1609)). [#75472](https://github.com/ClickHouse/ClickHouse/pull/75472) ([Vitaly Orlov](https://github.com/orloffv)).
* 서버 설정(`send_settings_to_client`)을, 클라이언트 측 코드(예: `INSERT` 데이터 파싱 및 쿼리 출력 포맷팅)가 서버의 `users.xml` 및 사용자 프로필에 정의된 설정을 사용할지 여부를 제어하는 클라이언트 설정(`apply_settings_from_server`)으로 교체했습니다. 그렇지 않은 경우에는 클라이언트 명령줄, 세션, 그리고 쿼리에서 지정한 설정만 사용됩니다. 이는 네이티브 클라이언트에만 적용되며(예: HTTP에는 적용되지 않음), 쿼리 처리의 대부분(서버에서 수행됨)에는 적용되지 않습니다. [#75478](https://github.com/ClickHouse/ClickHouse/pull/75478) ([Michael Kolupaev](https://github.com/al13n321)).
* Keeper 개선: 인메모리 스토리지에 커밋할 때 digest 계산을 비활성화하여 성능을 개선했습니다. 이 기능은 `keeper_server.digest_enabled_on_commit` 설정으로 활성화할 수 있습니다. 요청을 전처리할 때는 여전히 digest가 계산됩니다. [#75490](https://github.com/ClickHouse/ClickHouse/pull/75490) ([Antonio Andelic](https://github.com/antonio2368)).
* 가능한 경우 JOIN ON 절의 필터 조건을 푸시다운합니다. [#75536](https://github.com/ClickHouse/ClickHouse/pull/75536) ([Vladimir Cherkasov](https://github.com/vdimir)).
* 구문 오류 발생 시 오류 메시지를 더욱 명확하게 개선했습니다. 이전에는 쿼리가 너무 크고, 길이 제한을 초과하는 토큰이 매우 긴 문자열 리터럴인 경우, 이 매우 긴 토큰의 두 예시 사이에 실제 원인에 대한 메시지가 사라지는 문제가 있었습니다. UTF-8을 사용하는 쿼리에서 오류 메시지에 출력되는 내용이 잘못 잘리는 문제를 수정했습니다. 쿼리 조각에 대한 과도한 인용(quoting)을 수정했습니다. 이 변경으로 [#75473](https://github.com/ClickHouse/ClickHouse/issues/75473)이(가) 해결되었습니다. [#75561](https://github.com/ClickHouse/ClickHouse/pull/75561) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 스토리지 `S3(Azure)Queue`에 프로파일 이벤트를 추가합니다. [#75618](https://github.com/ClickHouse/ClickHouse/pull/75618) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 호환성을 위해 서버에서 클라이언트로 설정을 전송하는 기능을 비활성화합니다 (`send_settings_to_client=false`)(이 기능은 향후 더 나은 사용성을 위해 클라이언트 측 설정으로 다시 구현될 예정입니다). [#75648](https://github.com/ClickHouse/ClickHouse/pull/75648) ([Michael Kolupaev](https://github.com/al13n321)).
* 백그라운드 스레드에서 주기적으로 읽어 오는 다양한 소스의 정보를 사용해 내부 메모리 트래커를 보정할 수 있도록 `memory_worker_correct_memory_tracker` 설정을 추가했습니다. [#75714](https://github.com/ClickHouse/ClickHouse/pull/75714) ([Antonio Andelic](https://github.com/antonio2368)).
* PrometheusRemoteReadProtocol에서 Analyzer를 사용하도록 했습니다. [#75729](https://github.com/ClickHouse/ClickHouse/pull/75729) ([Dmitry Novik](https://github.com/novikd)).
* 게이지/카운터 메트릭 타입은 이미 지원합니다. 그러나 이들만으로는 일부 메트릭(예: Keeper에 대한 요청의 응답 시간)을 표현하기에 충분하지 않으므로, 히스토그램 메트릭 타입에 대한 지원이 필요합니다. 인터페이스는 Prometheus 클라이언트와 매우 유사하며, 값에 해당하는 버킷의 카운터를 증가시키기 위해 `observe(value)`를 호출하기만 하면 됩니다. 히스토그램 메트릭은 system.histogram&#95;metrics를 통해 노출됩니다. [#75736](https://github.com/ClickHouse/ClickHouse/pull/75736) ([Miсhael Stetsyuk](https://github.com/mstetsyuk)).
* `system.processes`에 `normalized_query_hash` 컬럼을 추가합니다. 참고로, `normalizedQueryHash` 함수를 사용하면 즉석에서 쉽게 계산할 수 있지만, 이후 변경 사항을 준비하기 위해 필요합니다. [#75756](https://github.com/ClickHouse/ClickHouse/pull/75756) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `system.tables`를 조회해도 더 이상 존재하지 않는 데이터베이스를 기반으로 생성된 `Merge` 테이블이 있어도 예외를 던지지 않습니다. 복잡한 작업을 허용하지 않으므로 `Hive` 테이블에서 `getTotalRows` 메서드를 제거합니다. [#75772](https://github.com/ClickHouse/ClickHouse/pull/75772) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Web UI에서 이제 대화형 데이터베이스 탐색 기능을 사용할 수 있습니다. [#75777](https://github.com/ClickHouse/ClickHouse/pull/75777) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 스토리지 정책에서 읽기 전용 디스크와 읽기/쓰기 디스크를 함께 사용할 수 있도록 합니다(여러 볼륨 또는 여러 디스크로 구성 가능). 이를 통해 전체 볼륨에 걸쳐 데이터를 읽을 수 있으며, 삽입 작업은 쓰기가 가능한 디스크를 우선적으로 사용합니다(즉, Copy-on-Write 스토리지 정책). [#75862](https://github.com/ClickHouse/ClickHouse/pull/75862) ([Azat Khuzhin](https://github.com/azat)).
* system.opentelemetry&#95;span&#95;log 테이블의 기본 ORDER BY에서 trace&#95;id를 제거합니다. [#75907](https://github.com/ClickHouse/ClickHouse/pull/75907) ([Azat Khuzhin](https://github.com/azat)).
* 이제 암호화 설정(XML 속성 `encrypted_by`)을 모든 설정 파일(config.xml, users.xml, 중첩된 설정 파일)에 적용할 수 있습니다. 이전에는 최상위 config.xml 파일에만 적용되었습니다. [#75911](https://github.com/ClickHouse/ClickHouse/pull/75911) ([Mikhail Gorshkov](https://github.com/mgorshkov)).
* 백업의 start&#95;time/end&#95;time을 마이크로초 단위로 저장합니다. [#75929](https://github.com/ClickHouse/ClickHouse/pull/75929) ([Aleksandr Musorin](https://github.com/AVMusorin)).
* RSS로 보정되지 않은 내부 전역 메모리 트래커의 값을 나타내는 `MemoryTrackingUncorrected` 메트릭을 추가합니다. [#75935](https://github.com/ClickHouse/ClickHouse/pull/75935) ([Antonio Andelic](https://github.com/antonio2368)).
* MergeTree에서 컬럼과 인덱스 크기를 지연(lazy) 방식으로 계산하도록 변경했습니다. [#75938](https://github.com/ClickHouse/ClickHouse/pull/75938) ([Pavel Kruglov](https://github.com/Avogar)).
* 출력 컬럼이 왼쪽 테이블에만 연관된 경우 `JOIN`을 `IN` 서브쿼리로 변환합니다. 이때 먼저 고유성 확보 단계를 수행해야 하므로, 해당 단계가 나중에 추가될 때까지는 기본적으로 비활성화되어 있습니다. [#75942](https://github.com/ClickHouse/ClickHouse/pull/75942) ([Shichao Jin](https://github.com/jsc0218)).
* 서버 설정 `throw_on_unknown_workload`가 추가되었습니다. 이 설정은 `workload` 설정이 알 수 없는 값으로 설정된 쿼리에 대해 동작 방식을 선택할 수 있게 해줍니다. 기본값인 무제한 접근을 허용할 수도 있고, `RESOURCE_ACCESS_DENIED` 오류를 발생시키도록 할 수도 있습니다. 이는 모든 쿼리가 워크로드 스케줄링(workload scheduling)을 사용하도록 강제하는 데 유용합니다. [#75999](https://github.com/ClickHouse/ClickHouse/pull/75999) ([Sergei Trifonov](https://github.com/serxa)).
* 새로운 실험적 Kafka 테이블 엔진이 Keeper 기능 플래그를 완전히 따르도록 했습니다. [#76004](https://github.com/ClickHouse/ClickHouse/pull/76004) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* 불필요한 경우 ARRAY JOIN에서 서브컬럼을 `getSubcolumn`으로 다시 작성하지 않도록 했습니다. [#76018](https://github.com/ClickHouse/ClickHouse/pull/76018) ([Pavel Kruglov](https://github.com/Avogar)).
* 테이블을 로드하는 동안 조정 오류가 발생하면 재시도하도록 했습니다. [#76020](https://github.com/ClickHouse/ClickHouse/pull/76020) ([Alexander Tokmakov](https://github.com/tavplubix)).
* `system.warnings` 테이블을 개선하고, 추가·수정·삭제 가능한 동적 경고 메시지를 추가합니다. [#76029](https://github.com/ClickHouse/ClickHouse/pull/76029) ([Bharat Nallan](https://github.com/bharatnc)).
* SYSTEM FLUSH LOGS에서 개별 로그를 플러시할 수 있도록 지원합니다. [#76132](https://github.com/ClickHouse/ClickHouse/pull/76132) ([Raúl Marín](https://github.com/Algunenano)).
* `/binary` 서버 페이지를 개선했습니다. Morton 곡선 대신 Hilbert 곡선을 사용합니다. 정사각형 안에 512 MB 분량의 주소를 표시하여 정사각형이 더 가득 차도록 했습니다(이전 버전에서는 주소가 정사각형의 절반만 채워졌습니다). 함수 이름이 아니라 라이브러리 이름에 더 가까운 주소에 색을 입힙니다. 표시 영역 바깥까지 조금 더 스크롤할 수 있도록 했습니다. [#76192](https://github.com/ClickHouse/ClickHouse/pull/76192) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 이 PR에서는 모든 `DROP` 연산이 순서상 먼저 와야 하기 때문에 `ALTER USER user1 ADD PROFILES a, DROP ALL PROFILES` 쿼리를 실행할 수 없도록 합니다. [#76242](https://github.com/ClickHouse/ClickHouse/pull/76242) ([pufit](https://github.com/pufit)).
* SYNC REPLICA에 다양한 개선 사항이 적용되었습니다(오류 메시지 개선, 테스트 보강, 기본 검증 추가). [#76307](https://github.com/ClickHouse/ClickHouse/pull/76307) ([Azat Khuzhin](https://github.com/azat)).
* TOO&#95;MANY&#95;SIMULTANEOUS&#95;QUERIES 오류가 발생하면 ON CLUSTER 쿼리를 재시도합니다. [#76352](https://github.com/ClickHouse/ClickHouse/pull/76352) ([Patrick Galbraith](https://github.com/CaptTofu)).
* `output_format_pretty_max_rows`의 기본값을 10000에서 1000으로 변경했습니다. 사용성이 더 좋다고 판단했습니다. [#76407](https://github.com/ClickHouse/ClickHouse/pull/76407) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 읽기 전용 MergeTree 테이블의 리프레시를 지원합니다. [#76467](https://github.com/ClickHouse/ClickHouse/pull/76467) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 백업 중 `Access Denied` 오류로 인해 S3로의 멀티파트 복사가 실패할 때 올바른 폴백(fallback)이 적용되도록 했습니다. 서로 다른 자격 증명을 사용하는 버킷 간에 백업을 수행하면 멀티파트 복사 과정에서 `Access Denied` 오류가 발생할 수 있습니다. [#76515](https://github.com/ClickHouse/ClickHouse/pull/76515) ([Antonio Andelic](https://github.com/antonio2368)).
* ClickHouse 서버 종료가 더 빨라졌습니다(2.5초 지연을 제거했습니다). [#76550](https://github.com/ClickHouse/ClickHouse/pull/76550) ([Azat Khuzhin](https://github.com/azat)).
* system.errors에 query&#95;id를 추가합니다. 관련 이슈 [#75815](https://github.com/ClickHouse/ClickHouse/issues/75815). [#76581](https://github.com/ClickHouse/ClickHouse/pull/76581) ([Vladimir Baikov](https://github.com/bkvvldmr)).
* `librdkafka`를 버전 2.8.0으로 업그레이드하고 Kafka 테이블의 종료 절차를 개선하여 테이블 삭제 및 서버 재시작 시 지연을 줄였습니다. 이제 `engine=Kafka`는 테이블이 삭제될 때 더 이상 명시적으로 컨슈머 그룹을 떠나지 않습니다. 대신 컨슈머는 비활성 상태가 `session_timeout_ms`(기본값: 45초)를 초과할 때까지 그룹에 남아 있다가 자동으로 제거됩니다. [#76621](https://github.com/ClickHouse/ClickHouse/pull/76621) ([filimonov](https://github.com/filimonov)).
* S3 요청 설정 유효성 검사를 수정했습니다. [#76658](https://github.com/ClickHouse/ClickHouse/pull/76658) ([Vitaly Baranov](https://github.com/vitlibar)).
* readbufferfroms3 및 기타 원격 읽기 버퍼에서 과도한 메모리 할당을 방지하여 메모리 사용량을 절반으로 줄였습니다. [#76692](https://github.com/ClickHouse/ClickHouse/pull/76692) ([Sema Checherinda](https://github.com/CheSema)).
* 뷰에서 JSON 타입과 서브컬럼을 읽는 기능을 지원합니다. [#76903](https://github.com/ClickHouse/ClickHouse/pull/76903) ([Pavel Kruglov](https://github.com/Avogar)).
* UInt128를 IPv6로 변환하는 기능을 추가했습니다. 이를 통해 IPv6에 대한 `bitAnd` 연산 및 산술 연산을 수행하고 다시 IPv6로 변환할 수 있습니다. [#76752](https://github.com/ClickHouse/ClickHouse/issues/76752)를 해결합니다. 또한 IPv6에 대한 `bitAnd` 연산 결과 역시 다시 IPv6로 변환할 수 있습니다. 참조: https://github.com/ClickHouse/ClickHouse/pull/57707. [#76928](https://github.com/ClickHouse/ClickHouse/pull/76928) ([Muzammil Abdul Rehman](https://github.com/muzammilar)).
* `server_settings` 또는 `settings`와 같은 시스템 테이블에는 편리한 `default` 값 컬럼이 있습니다. 단, `merge_tree_settings`와 `replicated_merge_tree_settings`에서는 해당 컬럼이 활성화되어 있지 않습니다. [#76942](https://github.com/ClickHouse/ClickHouse/pull/76942) ([Diego Nieto](https://github.com/lesandie)).
* 기본값으로 Variant 타입 내부의 텍스트 포맷에서 특수 Bool 값을 파싱하지 않습니다. 설정 `allow_special_bool_values_inside_variant`를 사용하면 활성화할 수 있습니다. [#76974](https://github.com/ClickHouse/ClickHouse/pull/76974) ([Pavel Kruglov](https://github.com/Avogar)).
* 세션 및 서버 수준에서 낮은 우선순위 쿼리의 작업별 대기 시간을 구성할 수 있도록 지원합니다. [#77013](https://github.com/ClickHouse/ClickHouse/pull/77013) ([VicoWu](https://github.com/VicoWu)).
* `CurrentMetrics::QueryPreempted`와 로직이 동일한 `ProfileEvents::QueryPreempted`가 추가되었습니다. [#77015](https://github.com/ClickHouse/ClickHouse/pull/77015) ([VicoWu](https://github.com/VicoWu)).
* 이전에 DatabaseReplicated 엔진에서 쿼리에 지정된 자격 증명이 로그에 출력될 수 있었습니다. 이 동작이 수정되었습니다. 다음 이슈가 종료되었습니다: [#77123](https://github.com/ClickHouse/ClickHouse/issues/77123). [#77133](https://github.com/ClickHouse/ClickHouse/pull/77133) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* zstd를 1.5.5에서 1.5.7로 업데이트했으며, 이 버전에는 상당한 [성능 향상](https://github.com/facebook/zstd/releases/tag/v1.5.7)이 포함되어 있습니다. [#77137](https://github.com/ClickHouse/ClickHouse/pull/77137) ([Pradeep Chhetri](https://github.com/chhetripradeep)).
* plain&#95;rewritable 디스크에서 ALTER TABLE DROP PARTITION을 사용할 수 있도록 허용합니다. [#77138](https://github.com/ClickHouse/ClickHouse/pull/77138) ([Julia Kartseva](https://github.com/jkartseva)).
* zero-copy 복제가 사용되는 경우, 파트 크기와 관계없이 머지/뮤테이션 실행 전에 최대 500ms까지 임의로 대기할 수 있는 기능을 추가했습니다. [#77165](https://github.com/ClickHouse/ClickHouse/pull/77165) ([Alexey Katsman](https://github.com/alexkats)).
* `TRUNCATE`가 `INTO OUTFILE`과 함께 사용될 때 이름을 원자적으로 변경하는 기능을 지원합니다. [#70323](https://github.com/ClickHouse/ClickHouse/issues/70323)를 해결합니다. [#77181](https://github.com/ClickHouse/ClickHouse/pull/77181) ([Onkar Deshpande](https://github.com/onkar)).
* PostgreSQL의 CHARACTER, CHAR 및 BPCHAR에 FixedString을 사용하도록 했습니다. [#77304](https://github.com/ClickHouse/ClickHouse/pull/77304) ([Pablo Marcos](https://github.com/pamarcos)).
* Iceberg용 storage/table function 설정인 `iceberg_metadata_file_path`를 통해 읽을 메타데이터 파일을 명시적으로 지정할 수 있도록 했습니다. [#47412](https://github.com/ClickHouse/ClickHouse/issues/47412)를 수정합니다. [#77318](https://github.com/ClickHouse/ClickHouse/pull/77318) ([alesapin](https://github.com/alesapin)).
* 데이터베이스 메타데이터 파일을 저장하기 위해 원격 디스크 사용을 지원합니다. [#77365](https://github.com/ClickHouse/ClickHouse/pull/77365) ([Tuan Pham Anh](https://github.com/tuanpach)).
* JSON 데이터 타입 값에 대한 비교를 구현했습니다. 이제 JSON 객체도 맵과 유사한 방식으로 비교할 수 있습니다. [#77397](https://github.com/ClickHouse/ClickHouse/pull/77397) ([Pavel Kruglov](https://github.com/Avogar)).
* 변경을 되돌렸습니다. [#77399](https://github.com/ClickHouse/ClickHouse/pull/77399) ([Yarik Briukhovetskyi](https://github.com/yariks5s)).
* 백업/복원 설정 `allow_s3_native_copy`는 이제 세 가지 값을 지원합니다: - `False` - s3 native copy를 사용하지 않습니다. - `True`(이전 기본값) - ClickHouse는 먼저 s3 native copy를 시도하고, 실패하면 읽기+쓰기 방식을 사용합니다. - `'auto'`(새 기본값) - ClickHouse는 먼저 소스와 대상의 자격 증명(credentials)을 비교합니다. 동일한 경우 ClickHouse는 s3 native copy를 시도한 뒤, 실패하면 읽기+쓰기 방식으로 대체할 수 있습니다. 서로 다른 경우 ClickHouse는 바로 읽기+쓰기 방식을 사용합니다. [#77401](https://github.com/ClickHouse/ClickHouse/pull/77401) ([Vitaly Baranov](https://github.com/vitlibar)).
* plain&#95;rewritable 디스크에서 ALTER TABLE ... ATTACH|DETACH|MOVE|REPLACE PARTITION 작업을 지원합니다. [#77406](https://github.com/ClickHouse/ClickHouse/pull/77406) ([Julia Kartseva](https://github.com/jkartseva)).
* 인덱스 캐시를 건너뛰는 기능이 되돌려졌습니다. [#77447](https://github.com/ClickHouse/ClickHouse/pull/77447) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* Wide 파트의 JSON 컬럼을 프리페치할 때 메모리 사용량을 줄입니다. [#77640](https://github.com/ClickHouse/ClickHouse/pull/77640) ([Pavel Kruglov](https://github.com/Avogar)).
* DeltaLake 테이블 엔진용 delta kernel에서 AWS 세션 토큰과 환경 기반 자격 증명 사용을 지원합니다. [#77661](https://github.com/ClickHouse/ClickHouse/pull/77661) ([Kseniia Sumarokova](https://github.com/kssenii)).
* `additional_table_filters` SETTING에서 쿼리 파라미터를 지원하도록 했습니다. 이 변경 이후에는 다음 쿼리가 성공적으로 실행됩니다. [#77680](https://github.com/ClickHouse/ClickHouse/pull/77680) ([wxybear](https://github.com/wxybear)).
* 사용자 정의 함수(UDF)는 이제 XML 정의에 새로운 태그를 사용해 결정적 함수로 표시할 수 있습니다. 또한 쿼리 캐시는 쿼리 내에서 호출되는 UDF가 결정적 함수인지 여부를 확인합니다. 결정적 함수인 경우 쿼리 결과를 쿼리 캐시에 저장합니다. (이슈 [#59988](https://github.com/ClickHouse/ClickHouse/issues/59988)). [#77769](https://github.com/ClickHouse/ClickHouse/pull/77769) ([Jimmy Aguilar Mena](https://github.com/Ergus)).
* Buffer 테이블 엔진 파라미터의 검증이 추가되었습니다. [#77840](https://github.com/ClickHouse/ClickHouse/pull/77840) ([Pervakov Grigorii](https://github.com/GrigoryPervakov)).
* HDFS pread 기능을 활성화하거나 비활성화할 수 있는 `enable_hdfs_pread` 설정을 추가했습니다. [#77885](https://github.com/ClickHouse/ClickHouse/pull/77885) ([kevinyhzou](https://github.com/KevinyhZou)).
* zookeeper의 &#39;multi&#39; 읽기 및 쓰기 요청 횟수에 대한 프로파일 이벤트를 추가합니다. [#77888](https://github.com/ClickHouse/ClickHouse/pull/77888) ([JackyWoo](https://github.com/JackyWoo)).
* disable&#95;insertion&#95;and&#95;mutation이 설정되어 있어도 임시 테이블을 생성하고 데이터 삽입을 허용합니다. [#77901](https://github.com/ClickHouse/ClickHouse/pull/77901) ([Xu Jia](https://github.com/XuJia0210)).
* max&#95;insert&#95;delayed&#95;streams&#95;for&#95;parallel&#95;write 값을 100으로 줄였습니다. [#77919](https://github.com/ClickHouse/ClickHouse/pull/77919) ([Azat Khuzhin](https://github.com/azat)).
* `max_merge_delayed_streams_for_parallel_write`를 사용하여 머지 작업에서 병렬로 플러시할 수 있는 컬럼 수를 설정할 수 있는 기능을 추가합니다(이를 통해 S3로의 수직 병합 시 메모리 사용량이 약 25배 감소합니다). [#77922](https://github.com/ClickHouse/ClickHouse/pull/77922) ([Azat Khuzhin](https://github.com/azat)).
* &#39;yyy&#39;와 같은 Joda 구문에서 연도 파싱을 수정합니다. [#77973](https://github.com/ClickHouse/ClickHouse/pull/77973) ([李扬](https://github.com/taiyang-li)).
* MergeTree 테이블의 파트를 블록 순서대로 연결하도록 동작이 변경되었으며, 이는 ReplacingMergeTree와 같은 특수 병합 알고리즘에서 중요합니다. 이 변경으로 [#71009](https://github.com/ClickHouse/ClickHouse/issues/71009)가 해결되었습니다. [#77976](https://github.com/ClickHouse/ClickHouse/pull/77976) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 쿼리 마스킹 규칙이 이제 일치하는 경우 `LOGICAL_ERROR`를 발생시킬 수 있습니다. 이를 통해 사전에 정의한 비밀번호가 로그 어디에서든 유출되는지 확인하는 데 도움이 됩니다. [#78094](https://github.com/ClickHouse/ClickHouse/pull/78094) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* MySQL과의 더 나은 호환성을 위해 `information_schema.tables`에 컬럼 `index_length_column`을 추가했습니다. [#78119](https://github.com/ClickHouse/ClickHouse/pull/78119) ([Paweł Zakrzewski](https://github.com/KrzaQ)).
* `TotalMergeFailures`와 `NonAbortedMergeFailures`라는 새로운 메트릭 두 개를 도입합니다. 이 메트릭은 짧은 시간 동안 너무 많은 머지 실패가 발생하는 경우를 감지하는 데 필요합니다. [#78150](https://github.com/ClickHouse/ClickHouse/pull/78150) ([Miсhael Stetsyuk](https://github.com/mstetsyuk)).
* 경로 스타일에서 키가 지정되지 않았을 때 S3 URI를 잘못 파싱하던 문제를 수정합니다. [#78185](https://github.com/ClickHouse/ClickHouse/pull/78185) ([Arthur Passos](https://github.com/arthurpassos)).
* 비동기 메트릭인 `BlockActiveTime`, `BlockDiscardTime`, `BlockWriteTime`, `BlockQueueTime`, `BlockReadTime`에서 잘못 보고되던 값을 수정합니다(변경 전에는 1초가 0.001로 잘못 보고되었습니다). [#78211](https://github.com/ClickHouse/ClickHouse/pull/78211) ([filimonov](https://github.com/filimonov)).
* StorageS3(Azure)Queue에서 materialized view로 푸시하는 동안 발생하는 오류에 `loading_retries` 한도가 적용되도록 변경했습니다. 이전에는 이러한 오류가 무기한으로 재시도되었습니다. [#78313](https://github.com/ClickHouse/ClickHouse/pull/78313) ([Kseniia Sumarokova](https://github.com/kssenii)).
* delta-kernel-rs 구현을 사용하는 StorageDeltaLake에서 성능과 진행률 표시줄을 개선했습니다. [#78368](https://github.com/ClickHouse/ClickHouse/pull/78368) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 벡터 유사성 인덱스가 메인 메모리를 최대 2배까지 과다하게 할당하는 문제가 있었습니다. 이 수정에서는 메모리 할당 전략을 재설계하여 메모리 사용량을 줄이고 벡터 유사성 인덱스 캐시의 효율성을 향상합니다(이슈 [#78056](https://github.com/ClickHouse/ClickHouse/issues/78056)). [#78394](https://github.com/ClickHouse/ClickHouse/pull/78394) ([Shankar Iyer](https://github.com/shankar-iyer)).
* `system.metric_log` 테이블에 스키마 타입을 지정하는 설정 `schema_type` SETTING을 도입합니다. 허용되는 스키마는 세 가지입니다. `wide` -- 현재 스키마로, 각 메트릭/이벤트가 개별 컬럼에 저장되며(개별 컬럼 읽기에 가장 효율적), `transposed` -- `system.asynchronous_metric_log`와 유사하게 메트릭/이벤트가 행으로 저장되며, 마지막으로 가장 흥미로운 `transposed_with_wide_view` -- `transposed` 스키마를 사용하는 기본 테이블을 생성하되, 쿼리를 기본 테이블로 변환하는 `wide` 스키마의 VIEW도 함께 제공합니다. `transposed_with_wide_view`에서는 VIEW에 대해 서브초(subsecond) 해상도가 지원되지 않으며, `event_time_microseconds`는 하위 호환성을 위한 별칭일 뿐입니다. [#78412](https://github.com/ClickHouse/ClickHouse/pull/78412) ([alesapin](https://github.com/alesapin)).
* 런타임 디스크에 대해 `include`, `from_env`, `from_zk`를 지원합니다. [#78177](https://github.com/ClickHouse/ClickHouse/issues/78177) 이슈를 해결합니다. [#78470](https://github.com/ClickHouse/ClickHouse/pull/78470) ([Kseniia Sumarokova](https://github.com/kssenii)).
* Iceberg 테이블 함수와 엔진에서 루트 metadata.json 파일을 해석할 수 있는 여러 편리한 방법을 추가합니다. [#78455](https://github.com/ClickHouse/ClickHouse/issues/78455)를 해결합니다. [#78475](https://github.com/ClickHouse/ClickHouse/pull/78475) ([Daniil Ivanik](https://github.com/divanik)).
* Delta Lake의 파티션 프루닝을 지원합니다. [#78486](https://github.com/ClickHouse/ClickHouse/pull/78486) ([Kseniia Sumarokova](https://github.com/kssenii)).
* ClickHouse에서 SSH 프로토콜의 비밀번호 기반 인증을 지원합니다. [#78586](https://github.com/ClickHouse/ClickHouse/pull/78586) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* 장시간 실행되는 뮤테이션에 대해 `system.warnings` 테이블에 동적 경고를 추가합니다. [#78658](https://github.com/ClickHouse/ClickHouse/pull/78658) ([Bharat Nallan](https://github.com/bharatnc)).
* CPU 부하가 매우 높은 경우 연결을 중단합니다. 이 결정은 대기 시간(`OSCPUWaitMicroseconds`)과 사용 시간(`OSCPUVirtualTimeMicroseconds`)의 비율을 기준으로 합니다. 이 비율이 `min_os_cpu_wait_time_ratio_to_drop_connection`과 `max_os_cpu_wait_time_ratio_to_drop_connection` 사이에 있을 때, 일정 확률로 쿼리 처리가 중단됩니다. [#78778](https://github.com/ClickHouse/ClickHouse/pull/78778) ([Alexey Katsman](https://github.com/alexkats)).
* 하이브 파티셔닝에서 빈 값을 허용하도록 했습니다. [#78816](https://github.com/ClickHouse/ClickHouse/pull/78816) ([Arthur Passos](https://github.com/arthurpassos)).
* `BFloat16`에 대한 `IN` 절 타입 강제 변환 동작을 수정했습니다(예: 이제 `SELECT toBFloat16(1) IN [1, 2, 3];`이 `1`을 반환합니다). [#78754](https://github.com/ClickHouse/ClickHouse/issues/78754)를 해결했습니다. [#78839](https://github.com/ClickHouse/ClickHouse/pull/78839) ([Raufs Dunamalijevs](https://github.com/rienath)).
* disk= 가 설정된 경우 MergeTree에서 다른 디스크의 파트를 검사하지 않도록 했습니다. [#78855](https://github.com/ClickHouse/ClickHouse/pull/78855) ([Azat Khuzhin](https://github.com/azat)).
* `system.query_log`의 `used_data_type_families`에 있는 데이터 타입을 정규화했습니다. [#78972](https://github.com/ClickHouse/ClickHouse/pull/78972) ([Kseniia Sumarokova](https://github.com/kssenii)).

## 버그 수정(공식 안정 릴리스에서 사용자가 직접 인지할 수 있는 오동작) \{#bug-fix\}

* keeper-client로 SEQUENTIAL 노드를 생성하지 못하던 문제를 수정했습니다. [#64177](https://github.com/ClickHouse/ClickHouse/pull/64177) ([Duc Canh Le](https://github.com/canhld94)).
* 상위 스코프의 식별자 해석을 수정합니다. WITH 절에서 표현식에 별칭을 사용할 수 있도록 합니다. [#58994](https://github.com/ClickHouse/ClickHouse/issues/58994)를 수정합니다. [#62946](https://github.com/ClickHouse/ClickHouse/issues/62946)를 수정합니다. [#63239](https://github.com/ClickHouse/ClickHouse/issues/63239)를 수정합니다. [#65233](https://github.com/ClickHouse/ClickHouse/issues/65233)를 수정합니다. [#71659](https://github.com/ClickHouse/ClickHouse/issues/71659)를 수정합니다. [#71828](https://github.com/ClickHouse/ClickHouse/issues/71828)를 수정합니다. [#68749](https://github.com/ClickHouse/ClickHouse/issues/68749)를 수정합니다. [#66143](https://github.com/ClickHouse/ClickHouse/pull/66143) ([Dmitry Novik](https://github.com/novikd)).
* PositionImpl::vectorVector의 잘못된 문자 수 계산을 수정했습니다. [#71003](https://github.com/ClickHouse/ClickHouse/pull/71003) ([思维](https://github.com/heymind)).
* `negate` 함수의 단조성을 수정했습니다. 이전 버전에서는 기본 키인 `x`에 대해 `select * from a where -x = -42;` 쿼리가 잘못된 결과를 반환하는 문제가 있었습니다. [#71440](https://github.com/ClickHouse/ClickHouse/pull/71440) ([Michael Kolupaev](https://github.com/al13n321)).
* 처리되지 않은 부분적인 권한 취소(partial revoke) 때문에 액세스 엔티티(access entity)에 대한 `RESTORE` 연산이 필요 이상으로 높은 권한을 요구했습니다. 이 PR은 해당 문제를 수정합니다. [#71853](https://github.com/ClickHouse/ClickHouse/issues/71853) 이슈를 종료합니다. [#71958](https://github.com/ClickHouse/ClickHouse/pull/71958) ([pufit](https://github.com/pufit)).
* `ALTER TABLE REPLACE/MOVE PARTITION FROM/TO TABLE` 실행 후 일시 중단이 발생하지 않도록 했습니다. 백그라운드 작업 스케줄링에 사용되는 설정을 올바르게 조회하도록 수정했습니다. [#72024](https://github.com/ClickHouse/ClickHouse/pull/72024) ([Aleksei Filatov](https://github.com/aalexfvk)).
* arrayIntersect에서 빈 튜플 처리 문제를 수정합니다. 이를 통해 [#72578](https://github.com/ClickHouse/ClickHouse/issues/72578)가 해결됩니다. [#72581](https://github.com/ClickHouse/ClickHouse/pull/72581) ([Amos Bird](https://github.com/amosbird)).
* 일부 입력 및 출력 포맷(예: Parquet, Arrow)에서 빈 튜플에 대한 처리를 수정합니다. [#72616](https://github.com/ClickHouse/ClickHouse/pull/72616) ([Michael Kolupaev](https://github.com/al13n321)).
* 컬럼 수준에서 와일드카드 데이터베이스/테이블에 GRANT SELECT/INSERT SQL 문을 사용할 경우 이제 오류가 발생합니다. [#72646](https://github.com/ClickHouse/ClickHouse/pull/72646) ([Johann Gan](https://github.com/johanngan)).
* 대상 액세스 엔티티에 암시적으로 부여된 권한 때문에 사용자가 `REVOKE ALL ON *.*`를 실행할 수 없었던 문제를 수정합니다. [#72872](https://github.com/ClickHouse/ClickHouse/pull/72872) ([pufit](https://github.com/pufit)).
* 비동기 분산 `INSERT`에서 대기 중인 배치를 처리하는 동안(`No such file or directory` 등으로 인해) 처리가 멈출 수 있는 문제를 수정합니다. [#72939](https://github.com/ClickHouse/ClickHouse/pull/72939) ([Azat Khuzhin](https://github.com/azat)).
* Azure SAS 토큰에 대한 지원을 추가합니다. [#72959](https://github.com/ClickHouse/ClickHouse/pull/72959) ([Azat Khuzhin](https://github.com/azat)).
* formatDateTime 스칼라 FUNCTION에서 양수 시간대 형식을 수정합니다. [#73091](https://github.com/ClickHouse/ClickHouse/pull/73091) ([ollidraese](https://github.com/ollidraese)).
* PROXYv1를 통해 연결이 이루어지고 `auth_use_forwarded_address`가 설정된 경우 소스 포트가 올바르게 반영되도록 수정했습니다. 이전에는 프록시 포트가 잘못 사용되었습니다. `currentQueryID()` 함수를 추가했습니다. [#73095](https://github.com/ClickHouse/ClickHouse/pull/73095) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* TCPHandler에서 NativeWriter로 포맷 설정을 전달하여 `output_format_native_write_json_as_string`과 같은 설정이 올바르게 적용되도록 했습니다. [#73179](https://github.com/ClickHouse/ClickHouse/pull/73179) ([Pavel Kruglov](https://github.com/Avogar)).
* 잘못된 접두사로 인해 JSON 하위 객체 서브컬럼을 읽던 문제를 수정합니다. [#73182](https://github.com/ClickHouse/ClickHouse/pull/73182) ([Pavel Kruglov](https://github.com/Avogar)).
* StorageObjectStorageQueue에서 발생하던 크래시를 수정했습니다. [#73274](https://github.com/ClickHouse/ClickHouse/pull/73274) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 서버 종료 시 갱신 가능 구체화 뷰(refreshable materialized view)에서 드물게 발생하는 크래시를 수정합니다. [#73323](https://github.com/ClickHouse/ClickHouse/pull/73323) ([Michael Kolupaev](https://github.com/al13n321)).
* `formatDateTime` 함수의 `%f` 플레이스홀더가 이제 항상 소수점 이하 6자리의 숫자를 생성합니다. 이로써 MySQL의 `DATE_FORMAT` 함수와 동작이 호환됩니다. 이전 동작은 `formatdatetime_f_prints_scale_number_of_digits = 1` 설정을 사용하여 복원할 수 있습니다. [#73324](https://github.com/ClickHouse/ClickHouse/pull/73324) ([ollidraese](https://github.com/ollidraese)).
* 암시적 Date에서 DateTime으로의 변환에 포화(saturating) 방식을 강제 적용하여 인덱스 분석 중 datetime 변환을 개선했습니다. 이를 통해 datetime 범위 제한으로 인해 발생할 수 있던 인덱스 분석 부정확성이 해결되었습니다. [#73307](https://github.com/ClickHouse/ClickHouse/issues/73307) 이슈를 수정한 내용입니다. 또한 기본값인 `date_time_overflow_behavior = 'ignore'`일 때의 명시적 `toDateTime` 변환 문제도 수정했습니다. [#73326](https://github.com/ClickHouse/ClickHouse/pull/73326) ([Amos Bird](https://github.com/amosbird)).
* S3 스토리지 및 테이블 함수에서 데이터를 읽을 때 `_etag` 컬럼으로 필터링하는 동작을 수정했습니다. [#73353](https://github.com/ClickHouse/ClickHouse/pull/73353) ([Anton Popov](https://github.com/CurtizJ)).
* 이전 analyzer에서 `JOIN ON` 표현식에 `IN (subquery)`를 사용할 때 발생하던 `Not-ready Set is passed as the second argument for function 'in'` 오류를 수정합니다. [#73382](https://github.com/ClickHouse/ClickHouse/pull/73382) ([Nikolai Kochetov](https://github.com/KochetovNicolai)).
* Dynamic 및 JSON 컬럼에 대한 squash 준비 과정을 수정했습니다. 이전에는 일부 경우 타입/경로 제한에 아직 도달하지 않았음에도 새로운 타입이 shared variant/shared data에 삽입될 수 있었습니다. [#73388](https://github.com/ClickHouse/ClickHouse/pull/73388) ([Pavel Kruglov](https://github.com/Avogar)).
* 데이터 타입의 바이너리 디코딩 중 손상된 크기값을 검사하여 지나치게 큰 메모리 할당을 방지합니다. [#73390](https://github.com/ClickHouse/ClickHouse/pull/73390) ([Pavel Kruglov](https://github.com/Avogar)).
* 병렬 레플리카 기능이 활성화된 단일 레플리카 클러스터에서 데이터를 읽을 때 발생하던 논리 오류를 수정했습니다. [#73403](https://github.com/ClickHouse/ClickHouse/pull/73403) ([Michael Kolupaev](https://github.com/al13n321)).
* ZooKeeper 및 이전 버전의 Keeper와 함께 사용할 때 ObjectStorageQueue가 올바르게 동작하지 않는 문제를 수정합니다. [#73420](https://github.com/ClickHouse/ClickHouse/pull/73420) ([Antonio Andelic](https://github.com/antonio2368)).
* 기본적으로 Hive 파티셔닝을 활성화하기 위한 수정 사항을 구현합니다. [#73479](https://github.com/ClickHouse/ClickHouse/pull/73479) ([Yarik Briukhovetskyi](https://github.com/yariks5s)).
* 벡터 유사성 인덱스 생성 시 발생하는 데이터 레이스를 수정했습니다. [#73517](https://github.com/ClickHouse/ClickHouse/pull/73517) ([Antonio Andelic](https://github.com/antonio2368)).
* 딕셔너리 소스에 잘못된 데이터가 들어 있는 FUNCTION이 있을 때 발생하던 세그멘테이션 폴트(segfault)를 수정합니다. [#73535](https://github.com/ClickHouse/ClickHouse/pull/73535) ([Yarik Briukhovetskyi](https://github.com/yariks5s)).
* storage S3(Azure)Queue에서 실패한 insert에 대한 재시도 로직을 수정했습니다. [#70951](https://github.com/ClickHouse/ClickHouse/issues/70951) 이슈를 해결했습니다. [#73546](https://github.com/ClickHouse/ClickHouse/pull/73546) ([Kseniia Sumarokova](https://github.com/kssenii)).
* `LowCardinality` 요소를 가진 튜플에서 `optimize_functions_to_subcolumns` 설정이 활성화된 경우 일부 상황에서 발생할 수 있던 `tupleElement` 함수의 오류를 수정했습니다. [#73548](https://github.com/ClickHouse/ClickHouse/pull/73548) ([Anton Popov](https://github.com/CurtizJ)).
* enum glob 뒤에 단일 range가 오는 경우의 파싱을 수정했습니다. [#73473](https://github.com/ClickHouse/ClickHouse/issues/73473)를 해결했습니다. [#73569](https://github.com/ClickHouse/ClickHouse/pull/73569) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* 비복제 MergeTree 테이블에서 parallel&#95;replicas&#95;for&#95;non&#95;replicated&#95;merge&#95;tree 설정이 비복제 테이블을 사용하는 서브쿼리에서 무시되던 문제를 수정했습니다. [#73584](https://github.com/ClickHouse/ClickHouse/pull/73584) ([Igor Nikonov](https://github.com/devcrafter)).
* 작업을 스케줄링할 수 없을 때 `std::logical_error` 예외가 던져지는 문제를 수정했습니다. 스트레스 테스트 중에 발견된 문제입니다. 예시 스택 트레이스: `2024.12.19 02:05:46.171833 [ 18190 ] {01f0daba-d3cc-4898-9e0e-c2c263306427} <Fatal> : Logical error: 'std::exception. Code: 1001, type: std::__1::future_error, e.what() = The associated promise has been destructed prior to the associated state becoming ready. (version 25.1.1.18724), Stack trace:.` [#73629](https://github.com/ClickHouse/ClickHouse/pull/73629) ([Alexander Gololobov](https://github.com/davenger)).
* `EXPLAIN SYNTAX`에서 쿼리를 해석하지 않도록 처리하여 분산 쿼리에서 잘못된 처리 단계가 선택되어 발생하는 논리 오류를 방지합니다. [#65205](https://github.com/ClickHouse/ClickHouse/issues/65205)를 수정합니다. [#73634](https://github.com/ClickHouse/ClickHouse/pull/73634) ([Dmitry Novik](https://github.com/novikd)).
* Dynamic 컬럼에서 발생할 수 있는 데이터 불일치 문제를 수정합니다. `Nested columns sizes are inconsistent with local_discriminators column size`라는 논리적 오류가 발생할 수 있는 문제를 해결합니다. [#73644](https://github.com/ClickHouse/ClickHouse/pull/73644) ([Pavel Kruglov](https://github.com/Avogar)).
* `FINAL` 및 `SAMPLE`이 포함된 쿼리에서 발생하던 `NOT_FOUND_COLUMN_IN_BLOCK` 문제를 수정했습니다. `CollapsingMergeTree`에서 `FINAL`을 사용하는 SELECT 쿼리의 잘못된 결과를 수정하고 `FINAL` 최적화를 활성화했습니다. [#73682](https://github.com/ClickHouse/ClickHouse/pull/73682) ([Anton Popov](https://github.com/CurtizJ)).
* LIMIT BY COLUMNS에서 발생하던 크래시를 수정했습니다. [#73686](https://github.com/ClickHouse/ClickHouse/pull/73686) ([Raúl Marín](https://github.com/Algunenano)).
* 일반 PROJECTION의 사용이 강제되고 쿼리가 정의된 PROJECTION과 완전히 동일함에도 해당 PROJECTION이 선택되지 않아 오류가 발생하던 버그를 수정합니다. [#73700](https://github.com/ClickHouse/ClickHouse/pull/73700) ([Shichao Jin](https://github.com/jsc0218)).
* Dynamic/Object 구조의 역직렬화 로직을 수정했습니다. 이로 인해 CANNOT&#95;READ&#95;ALL&#95;DATA 예외가 발생할 수 있었습니다. [#73767](https://github.com/ClickHouse/ClickHouse/pull/73767) ([Pavel Kruglov](https://github.com/Avogar)).
* 백업에서 파트를 복원할 때 `metadata_version.txt` 파일을 건너뜁니다. [#73768](https://github.com/ClickHouse/ClickHouse/pull/73768) ([Vitaly Baranov](https://github.com/vitlibar)).
* [#73737](https://github.com/ClickHouse/ClickHouse/issues/73737) 문제를 해결했습니다. [#73775](https://github.com/ClickHouse/ClickHouse/pull/73775) ([zhanglistar](https://github.com/zhanglistar)).
* [#72078](https://github.com/ClickHouse/ClickHouse/issues/72078) ( S3 Express 지원이 올바르게 동작하지 않던 문제 )를 수정합니다. [#73777](https://github.com/ClickHouse/ClickHouse/pull/73777) ([Sameer Tamsekar](https://github.com/stamsekar)).
* CollapsingMergeTree 테이블에서 잘못된 sign 컬럼 값을 가진 행도 병합되도록 허용합니다. [#73864](https://github.com/ClickHouse/ClickHouse/pull/73864) ([Christoph Wurm](https://github.com/cwurm)).
* 다음 오류가 수정되었습니다 `Row 1: ────── hostname: c-test-wy-37-server-nlkyjyb-0.c-test-wy-37-server-headless.ns-test-wy-37.svc.cluster.local type: ExceptionWhileProcessing event_date: 2024-12-23 event_time: 2024-12-23 16:21:19 event_time_microseconds: 2024-12-23 16:21:19.824624 query_start_time: 2024-12-23 16:21:19 query_start_time_microseconds: 2024-12-23 16:21:19.747142 query_duration_ms: 77 read_rows: 1 read_bytes: 134 written_rows: 0 written_bytes: 0 result_rows: 0 result_bytes: 0 memory_usage: 7824 current_database: default query: CREATE DATABASE db0 formatted_query: normalized_query_hash: 7820917191074023511 -- 7.82 quintillion query_kind: Create databases: ['db0'] tables: [] columns: [] partitions: [] projections: [] views: [] exception_code: 170 exception: Code: 170. DB::Exception: Bad get: has Null, requested Int64: While executing DDLOnClusterQueryStatus. (BAD_GET) (version 25.1.1.19134 (official build)) stack_trace: 0. ./build_docker/./src/Common/Exception.cpp:107: DB::Exception::Exception(DB::Exception::MessageMasked&&, int, bool) @ 0x000000000da5e53b 1. DB::Exception::Exception(PreformattedMessage&&, int) @ 0x00000000088aca4c 2. DB::Exception::Exception<std::basic_string_view<char, std::char_traits<char>>, std::basic_string_view<char, std::char_traits<char>>>(int, FormatStringHelperImpl<std::type_identity<std::basic_string_view<char, std::char_traits<char>>>::type, std::type_identity<std::basic_string_view<char, std::char_traits<char>>>::type>, std::basic_string_view<char, std::char_traits<char>>&&, std::basic_string_view<char, std::char_traits<char>>&&) @ 0x00000000088bae8b 3. auto& DB::Field::safeGet<long>() & @ 0x0000000008a3c748 4. ./src/Core/Field.h:484: DB::ColumnVector<long>::insert(DB::Field const&) @ 0x0000000012e44c0f 5. ./build_docker/./src/Interpreters/DDLOnClusterQueryStatusSource.cpp:53: DB::DDLOnClusterQueryStatusSource::generateChunkWithUnfinishedHosts() const @ 0x0000000012a40214 6. ./build_docker/./src/Interpreters/DDLOnClusterQueryStatusSource.cpp:104: DB::DDLOnClusterQueryStatusSource::handleTimeoutExceeded() @ 0x0000000012a41640 7. ./build_docker/./src/Interpreters/DDLOnClusterQueryStatusSource.cpp:109: DB::DDLOnClusterQueryStatusSource::stopWaitingOfflineHosts() @ 0x0000000012a41be9 8. ./build_docker/./src/Interpreters/DistributedQueryStatusSource.cpp:182: DB::DistributedQueryStatusSource::generate() @ 0x0000000011feb3bf 9. ./build_docker/./src/Processors/ISource.cpp:139: DB::ISource::tryGenerate() @ 0x0000000014148f5b 10. ./build_docker/./src/Processors/ISource.cpp:108: DB::ISource::work() @ 0x0000000014148c47 11. ./build_docker/./src/Processors/Executors/ExecutionThreadContext.cpp:49: DB::ExecutionThreadContext::executeTask() @ 0x0000000014164fc7 12. ./build_docker/./src/Processors/Executors/PipelineExecutor.cpp:290: DB::PipelineExecutor::executeStepImpl(unsigned long, std::atomic<bool>*) @ 0x00000000141577e5`. [#73876](https://github.com/ClickHouse/ClickHouse/pull/73876) ([Tuan Pham Anh](https://github.com/tuanpach)).
* 중첩 튜플에 &#39;keys&#39;, &#39;values&#39;와 같은 명시적 이름이 없는 `Map` 맵 타입을 생성할 수 있어 `map()` 타입 비교가 간헐적으로 실패하던 문제를 수정합니다. [#73878](https://github.com/ClickHouse/ClickHouse/pull/73878) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* GROUP BY ALL 절 처리 시 윈도 함수를 무시하도록 수정했습니다. [#73501](https://github.com/ClickHouse/ClickHouse/issues/73501). [#73916](https://github.com/ClickHouse/ClickHouse/pull/73916) ([Dmitry Novik](https://github.com/novikd)).
* 클라이언트-서버 간 통신에서 Native format 설정이 적절히 전달되도록 수정했습니다. [#73924](https://github.com/ClickHouse/ClickHouse/pull/73924) ([Pavel Kruglov](https://github.com/Avogar)).
* 암시적 권한 동작을 수정했습니다(이전에는 와일드카드처럼 동작했습니다). [#73932](https://github.com/ClickHouse/ClickHouse/pull/73932) ([Azat Khuzhin](https://github.com/azat)).
* 중첩 맵 생성 시 발생하는 높은 메모리 사용량 문제를 수정합니다. [#73982](https://github.com/ClickHouse/ClickHouse/pull/73982) ([Pavel Kruglov](https://github.com/Avogar)).
* 빈 키를 포함하는 중첩 JSON 파싱 문제를 수정합니다. [#73993](https://github.com/ClickHouse/ClickHouse/pull/73993) ([Pavel Kruglov](https://github.com/Avogar)).
* 수정: 다른 alias에서 참조되고 역순으로 선택되는 경우 해당 alias가 projection에 추가되지 않는 문제를 수정했습니다. [#74033](https://github.com/ClickHouse/ClickHouse/pull/74033) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* plain&#95;rewritable 메타데이터를 사용하는 디스크는 여러 서버 인스턴스에서 공유해 사용할 수 있습니다. 한 인스턴스가 메타데이터 객체를 읽는 동안 다른 인스턴스가 이를 수정하는 것이 예상된 동작입니다. S3에 대해 이미 구현된 동작과 마찬가지로, Azure 스토리지를 사용하는 plain&#95;rewritable 초기화 중에는 「Object not found」 오류가 무시됩니다. [#74059](https://github.com/ClickHouse/ClickHouse/pull/74059) ([Julia Kartseva](https://github.com/jkartseva)).
* Enum 타입 및 비어 있는 테이블에서의 `any` 및 `anyLast` 동작을 수정했습니다. [#74061](https://github.com/ClickHouse/ClickHouse/pull/74061) ([Joanna Hulboj](https://github.com/jh0x)).
* 사용자가 Kafka 테이블 엔진에서 키워드 인수를 지정할 때 발생하던 문제를 수정했습니다. [#74064](https://github.com/ClickHouse/ClickHouse/pull/74064) ([Yarik Briukhovetskyi](https://github.com/yariks5s)).
* Storage `S3Queue` 설정을 변경할 때 접두사 &quot;s3queue&#95;&quot;가 있는 설정과 없는 설정 간 전환 처리가 올바르게 동작하도록 수정합니다. [#74075](https://github.com/ClickHouse/ClickHouse/pull/74075) ([Kseniia Sumarokova](https://github.com/kssenii)).
* `allow_push_predicate_ast_for_distributed_subqueries` 설정을 추가합니다. 이 설정은 analyzer를 사용하는 분산 쿼리에 대해 AST 기반 프리디케이트 푸시다운(predicate push-down)을 추가합니다. 이는 쿼리 플랜 직렬화가 지원되는 분산 쿼리가 도입될 때까지 사용하는 임시 방안입니다. [#66878](https://github.com/ClickHouse/ClickHouse/issues/66878) [#69472](https://github.com/ClickHouse/ClickHouse/issues/69472) [#65638](https://github.com/ClickHouse/ClickHouse/issues/65638) [#68030](https://github.com/ClickHouse/ClickHouse/issues/68030) [#73718](https://github.com/ClickHouse/ClickHouse/issues/73718). [#74085](https://github.com/ClickHouse/ClickHouse/pull/74085) ([Nikolai Kochetov](https://github.com/KochetovNicolai)).
* [#73095](https://github.com/ClickHouse/ClickHouse/issues/73095) 이후 `forwarded_for` 필드에 포트가 포함될 수 있어, 포트가 포함된 호스트 이름을 해석할 수 없게 되던 문제를 수정합니다. [#74116](https://github.com/ClickHouse/ClickHouse/pull/74116) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* `ALTER TABLE (DROP STATISTICS ...) (DROP STATISTICS ...)`의 잘못된 형식을 수정했습니다. [#74126](https://github.com/ClickHouse/ClickHouse/pull/74126) ([Han Fei](https://github.com/hanfei1991)).
* 이슈 [#66112](https://github.com/ClickHouse/ClickHouse/issues/66112)을(를) 수정했습니다. [#74128](https://github.com/ClickHouse/ClickHouse/pull/74128) ([Anton Ivashkin](https://github.com/ianton-ru)).
* `CREATE TABLE`에서 테이블 엔진으로 `Loop`를 더 이상 사용할 수 없습니다. 이 조합은 이전에 세그멘테이션 폴트(segfault)를 일으켰습니다. [#74137](https://github.com/ClickHouse/ClickHouse/pull/74137) ([Yarik Briukhovetskyi](https://github.com/yariks5s)).
* PostgreSQL 및 SQLite 테이블 함수에서 발생할 수 있는 SQL 인젝션 취약점을 수정합니다. [#74144](https://github.com/ClickHouse/ClickHouse/pull/74144) ([Pablo Marcos](https://github.com/pamarcos)).
* 압축된 Memory 엔진 테이블에서 서브컬럼을 읽을 때 발생하던 충돌을 수정합니다. [#74009](https://github.com/ClickHouse/ClickHouse/issues/74009)를 해결합니다. [#74161](https://github.com/ClickHouse/ClickHouse/pull/74161) ([Nikita Taranov](https://github.com/nickitat)).
* system.detached&#95;tables에 대한 쿼리 실행 시 발생하던 무한 루프를 수정했습니다. [#74190](https://github.com/ClickHouse/ClickHouse/pull/74190) ([Konstantin Morozov](https://github.com/k-morozov)).
* 파일을 실패 상태로 표시할 때 s3queue에서 발생하던 논리 오류를 수정합니다. [#74216](https://github.com/ClickHouse/ClickHouse/pull/74216) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 일부 스토리지에서 지원되지 않는 타입을 확인하도록 했습니다. [#74218](https://github.com/ClickHouse/ClickHouse/pull/74218) ([Pavel Kruglov](https://github.com/Avogar)).
* macOS에서 PostgreSQL 인터페이스를 통해 `INSERT INTO SELECT` 쿼리를 실행할 때 발생하던 크래시를 수정합니다(이슈 [#72938](https://github.com/ClickHouse/ClickHouse/issues/72938)). [#74231](https://github.com/ClickHouse/ClickHouse/pull/74231) ([Artem Yurov](https://github.com/ArtemYurov)).
* 기본 백업에서 `RESTORE`를 수행할 때 사용되는 네이티브 복사 설정(`allow_s3_native_copy`/`allow_azure_native_copy`)을 수정했습니다. [#74286](https://github.com/ClickHouse/ClickHouse/pull/74286) ([Azat Khuzhin](https://github.com/azat)).
* 데이터베이스에서 detached(분리된) 테이블의 수가 `max_block_size`의 배수일 때 발생하던 문제를 수정했습니다. [#74289](https://github.com/ClickHouse/ClickHouse/pull/74289) ([Konstantin Morozov](https://github.com/k-morozov)).
* 소스와 대상의 자격 증명이 서로 다를 때 ObjectStorage(예: S3)를 통한 복사가 올바르게 동작하도록 수정했습니다. [#74331](https://github.com/ClickHouse/ClickHouse/pull/74331) ([Azat Khuzhin](https://github.com/azat)).
* 복제된 데이터베이스에서 초기화되지 않은 `max_log_ptr` 값을 수정했습니다. [#74336](https://github.com/ClickHouse/ClickHouse/pull/74336) ([Konstantin Morozov](https://github.com/k-morozov)).
* GCS에서 네이티브 copy 시 JSON API의 Rewrite 메서드 사용 여부를 감지하는 로직을 수정했습니다. [#74338](https://github.com/ClickHouse/ClickHouse/pull/74338) ([Azat Khuzhin](https://github.com/azat)).
* interval 값을 삽입할 때 발생하던 크래시를 수정했습니다 (issue [#74299](https://github.com/ClickHouse/ClickHouse/issues/74299)). [#74478](https://github.com/ClickHouse/ClickHouse/pull/74478) ([NamNguyenHoai](https://github.com/NamHoaiNguyen)).
* 집계 프로젝션에서 `count(nullable)`을 사용할 때 잘못되던 프로젝션 분석을 수정합니다. 이로써 [#74495](https://github.com/ClickHouse/ClickHouse/issues/74495)를 해결합니다. 이 PR은 또한 프로젝션이 사용되는지 여부와 그 이유를 명확히 하기 위해 프로젝션 분석과 관련된 일부 로그를 추가합니다. [#74498](https://github.com/ClickHouse/ClickHouse/pull/74498) ([Amos Bird](https://github.com/amosbird)).
* `BackgroundMergesAndMutationsPoolSize`의 잘못된 계산을 수정합니다(기존에는 실제 값보다 2배 크게 계산되었습니다). [#74509](https://github.com/ClickHouse/ClickHouse/pull/74509) ([alesapin](https://github.com/alesapin)).
* Cluster Discovery를 활성화했을 때 Keeper watch가 누수되는 버그를 수정했습니다. [#74521](https://github.com/ClickHouse/ClickHouse/pull/74521) ([RinChanNOW](https://github.com/RinChanNOWWW)).
* 상수 JSON 리터럴의 서식을 수정합니다. 이전에는 다른 서버로 쿼리를 전송할 때 구문 오류가 발생할 수 있었습니다. [#74533](https://github.com/ClickHouse/ClickHouse/pull/74533) ([Pavel Kruglov](https://github.com/Avogar)).
* UBSan에서 보고된 메모리 정렬 문제를 수정했습니다 [#74512](https://github.com/ClickHouse/ClickHouse/issues/74512). [#74534](https://github.com/ClickHouse/ClickHouse/pull/74534) ([Arthur Passos](https://github.com/arthurpassos)).
* 테이블 생성 중 발생하는 `KeeperMap`의 동시 정리 문제를 수정했습니다. [#74568](https://github.com/ClickHouse/ClickHouse/pull/74568) ([Antonio Andelic](https://github.com/antonio2368)).
* 올바른 쿼리 결과를 보존하기 위해 `EXCEPT` 또는 `INTERSECT`가 있는 경우 서브쿼리에서 사용되지 않는 projection 컬럼이 제거되지 않도록 했습니다. [#73930](https://github.com/ClickHouse/ClickHouse/issues/73930)를 수정했습니다. [#66465](https://github.com/ClickHouse/ClickHouse/issues/66465)를 수정했습니다. [#74577](https://github.com/ClickHouse/ClickHouse/pull/74577) ([Dmitry Novik](https://github.com/novikd)).
* 상수 파티션 표현식을 사용하는 경우 암시적 프로젝션이 활성화되어 있으면 실패하던 CREATE 쿼리를 수정합니다. 이 변경으로 [#74596](https://github.com/ClickHouse/ClickHouse/issues/74596)이(가) 해결됩니다. [#74634](https://github.com/ClickHouse/ClickHouse/pull/74634) ([Amos Bird](https://github.com/amosbird)).
* `Tuple` 컬럼과 희소 직렬화가 활성화된 테이블 간에 실행되는 `INSERT SELECT` 쿼리의 문제를 수정했습니다. [#74698](https://github.com/ClickHouse/ClickHouse/pull/74698) ([Anton Popov](https://github.com/CurtizJ)).
* 함수 `right`가 상수인 음수 오프셋에 대해 올바르게 동작하지 않았습니다. [#74701](https://github.com/ClickHouse/ClickHouse/pull/74701) ([Daniil Ivanik](https://github.com/divanik)).
* 클라이언트 측의 잘못된 압축 해제로 인해 gzip으로 압축된 데이터 삽입이 때때로 실패하던 문제를 수정했습니다. [#74707](https://github.com/ClickHouse/ClickHouse/pull/74707) ([siyuan](https://github.com/linkwk7)).
* 예외로 인해 INSERT가 종료된 후 연결이 비정상 상태로 남지 않도록 수정했습니다. [#74740](https://github.com/ClickHouse/ClickHouse/pull/74740) ([Azat Khuzhin](https://github.com/azat)).
* 중간 상태에 남겨진 연결을 재사용하지 않도록 했습니다. [#74749](https://github.com/ClickHouse/ClickHouse/pull/74749) ([Azat Khuzhin](https://github.com/azat)).
* 와일드카드 권한 부여(wildcard grants)가 포함된 상태에서 부분 취소(partial revoke)를 수행하면 의도한 것보다 더 많은 권한이 제거될 수 있었습니다. [#74263](https://github.com/ClickHouse/ClickHouse/issues/74263) 이슈를 해결합니다. [#74751](https://github.com/ClickHouse/ClickHouse/pull/74751) ([pufit](https://github.com/pufit)).
* 타입 이름이 대문자가 아닐 때 JSON 타입 선언을 파싱하면 크래시가 발생하던 문제를 수정했습니다. [#74784](https://github.com/ClickHouse/ClickHouse/pull/74784) ([Pavel Kruglov](https://github.com/Avogar)).
* Keeper 수정: 디스크에서 로그 항목을 읽을 때의 문제를 수정했습니다. [#74785](https://github.com/ClickHouse/ClickHouse/pull/74785) ([Antonio Andelic](https://github.com/antonio2368)).
* SYSTEM REFRESH/START/STOP VIEW에 대한 권한 검사 방식이 수정되었습니다. 이제 특정 VIEW에 대해 쿼리를 실행하려면 `*.*`에 대한 권한이 필요하지 않고, 해당 VIEW에 대한 권한만 있으면 됩니다. [#74789](https://github.com/ClickHouse/ClickHouse/pull/74789) ([Alexander Tokmakov](https://github.com/tavplubix)).
* `hasColumnInTable` 함수가 별칭 컬럼을 고려하지 않으므로, 별칭 컬럼에도 동작하도록 수정했습니다. [#74841](https://github.com/ClickHouse/ClickHouse/pull/74841) ([Bharat Nallan](https://github.com/bharatnc)).
* Keeper: 연결이 완료되기 전에 종료된 경우 발생하던 logical&#95;error를 수정했습니다. [#74844](https://github.com/ClickHouse/ClickHouse/pull/74844) ([Michael Kolupaev](https://github.com/al13n321)).
* `AzureBlobStorage`를 사용하는 테이블이 있을 때 서버가 시작되지 못하던 문제를 수정했습니다. 이제 Azure로 요청을 보내지 않고 테이블이 로드됩니다. [#74880](https://github.com/ClickHouse/ClickHouse/pull/74880) ([Alexey Katsman](https://github.com/alexkats)).
* BACKUP 및 RESTORE 작업에 대해 `query_log`에서 누락되었던 `used_privileges` 및 `missing_privileges` 필드 누락 문제를 수정합니다. [#74887](https://github.com/ClickHouse/ClickHouse/pull/74887) ([Alexey Katsman](https://github.com/alexkats)).
* Azure Blob Storage를 사용할 때 빈 컬럼을 포함한 테이블에서 데이터 파트 병합 중 발생하던 FILE&#95;DOESNT&#95;EXIST 오류를 수정했습니다. [#74892](https://github.com/ClickHouse/ClickHouse/pull/74892) ([Julia Kartseva](https://github.com/jkartseva)).
* 임시 테이블 조인 시 프로젝션 컬럼 이름을 수정하고, 관련 이슈 [#68872](https://github.com/ClickHouse/ClickHouse/issues/68872)를 종료했습니다. [#74897](https://github.com/ClickHouse/ClickHouse/pull/74897) ([Vladimir Cherkasov](https://github.com/vdimir)).
* HDFS SELECT 요청 중 SASL 오류가 발생하면 krb 티켓을 갱신합니다. [#74930](https://github.com/ClickHouse/ClickHouse/pull/74930) ([inv2004](https://github.com/inv2004)).
* startup&#95;scripts에서 복제 데이터베이스(Replicated database)에 대한 쿼리를 수정했습니다. [#74942](https://github.com/ClickHouse/ClickHouse/pull/74942) ([Azat Khuzhin](https://github.com/azat)).
* JOIN ON 절에서 null-safe 비교를 사용할 때 타입 별칭이 지정된 표현식과 관련된 문제를 수정합니다. [#74970](https://github.com/ClickHouse/ClickHouse/pull/74970) ([Vladimir Cherkasov](https://github.com/vdimir)).
* 삭제 작업이 실패한 경우 파트의 상태를 「삭제 중」에서 「오래됨」 상태로 되돌립니다. [#74985](https://github.com/ClickHouse/ClickHouse/pull/74985) ([Sema Checherinda](https://github.com/CheSema)).
* 이전 버전에서는 스칼라 서브쿼리가 있을 때, 데이터 포맷을 초기화하는 단계에서 진행 상황(서브쿼리 처리에서 누적된 진행 상태)을 기록하기 시작했으며, 이는 HTTP 헤더가 전송되기 이전이었습니다. 이로 인해 X-ClickHouse-QueryId, X-ClickHouse-Format 및 Content-Type과 같은 HTTP 헤더가 손실되었습니다. [#74991](https://github.com/ClickHouse/ClickHouse/pull/74991) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `database_replicated_allow_replicated_engine_arguments=0` 설정에서 `CREATE TABLE AS...` 쿼리를 수정합니다. [#75000](https://github.com/ClickHouse/ClickHouse/pull/75000) ([Bharat Nallan](https://github.com/bharatnc)).
* INSERT 수행 중 예외가 발생한 후 클라이언트에서 연결 상태가 비정상으로 남는 문제를 수정했습니다. [#75030](https://github.com/ClickHouse/ClickHouse/pull/75030) ([Azat Khuzhin](https://github.com/azat)).
* PSQL 복제에서 처리되지 않은 예외로 인해 발생하던 크래시를 수정했습니다. [#75062](https://github.com/ClickHouse/ClickHouse/pull/75062) ([Azat Khuzhin](https://github.com/azat)).
* SASL이 임의의 RPC 호출에서 실패할 수 있으며, 이 수정으로 krb5 티켓이 만료된 경우 해당 호출을 다시 시도할 수 있습니다. [#75063](https://github.com/ClickHouse/ClickHouse/pull/75063) ([inv2004](https://github.com/inv2004)).
* `optimize_function_to_subcolumns` 설정이 활성화된 상태에서 `Array`, `Map`, `Nullable(..)` 컬럼에 대한 기본(primary) 및 보조(secondary) 인덱스의 동작을 수정했습니다. 이전에는 이러한 컬럼의 인덱스가 무시되는 경우가 있었습니다. [#75081](https://github.com/ClickHouse/ClickHouse/pull/75081) ([Anton Popov](https://github.com/CurtizJ)).
* 내부 테이블을 사용하는 materialized view를 생성할 때는, 이렇게 평탄화된 컬럼을 사용할 수 없으므로 `flatten_nested`를 비활성화하도록 했습니다. [#75085](https://github.com/ClickHouse/ClickHouse/pull/75085) ([Christoph Wurm](https://github.com/cwurm)).
* forwarded&#95;for 필드에서 일부 IPv6 주소(예: ::ffff:1.1.1.1)가 잘못 해석되어 예외가 발생하며 클라이언트 연결이 끊어지던 문제를 수정했습니다. [#75133](https://github.com/ClickHouse/ClickHouse/pull/75133) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* LowCardinality 널 허용 데이터 타입에 대한 null-safe JOIN 처리가 수정되었습니다. 이전에는 `IS NOT DISTINCT FROM`, `<=>`, `a IS NULL AND b IS NULL OR a == b` 와 같은 null-safe 비교를 사용하는 JOIN ON 절이 LowCardinality 컬럼에서 올바르게 동작하지 않았습니다. [#75143](https://github.com/ClickHouse/ClickHouse/pull/75143) ([Vladimir Cherkasov](https://github.com/vdimir)).
* 새로운 analyzer에서 사용되지 않는 interpolation이 포함된 쿼리를 수정했습니다. [#75173](https://github.com/ClickHouse/ClickHouse/pull/75173) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* CTE를 사용하는 Insert 문에서 발생하던 크래시 버그를 수정합니다. [#75188](https://github.com/ClickHouse/ClickHouse/pull/75188) ([Shichao Jin](https://github.com/jsc0218)).
* Keeper 수정: 로그 롤백 시 손상된 changelog에 기록하지 않도록 했습니다. [#75197](https://github.com/ClickHouse/ClickHouse/pull/75197) ([Antonio Andelic](https://github.com/antonio2368)).
* 적절한 경우 `BFloat16`을 슈퍼타입으로 사용합니다. 이를 통해 다음 이슈를 해결합니다: [#74404](https://github.com/ClickHouse/ClickHouse/issues/74404). [#75236](https://github.com/ClickHouse/ClickHouse/pull/75236) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* `any_join_distinct_right_table_keys` 및 JOIN ON 절에서 OR 사용 시 조인 결과에 예기치 않게 기본값이 사용되던 문제를 수정합니다. [#75262](https://github.com/ClickHouse/ClickHouse/pull/75262) ([Vladimir Cherkasov](https://github.com/vdimir)).
* azureblobstorage 테이블 엔진의 자격 증명을 마스킹합니다. [#75319](https://github.com/ClickHouse/ClickHouse/pull/75319) ([Garrett Thomas](https://github.com/garrettthomaskth)).
* PostgreSQL, MySQL, SQLite와 같은 외부 데이터베이스에 대해 ClickHouse가 필터 푸시다운을 잘못 수행하던 동작을 수정했습니다. 다음 이슈를 해결했습니다: [#71423](https://github.com/ClickHouse/ClickHouse/issues/71423). [#75320](https://github.com/ClickHouse/ClickHouse/pull/75320) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* Protobuf 형식으로 데이터를 출력하는 동안 `SYSTEM DROP FORMAT SCHEMA CACHE` 쿼리가 병렬로 실행될 때 발생할 수 있는 Protobuf 스키마 캐시 충돌을 수정합니다. [#75357](https://github.com/ClickHouse/ClickHouse/pull/75357) ([Pavel Kruglov](https://github.com/Avogar)).
* `HAVING` 절의 필터가 병렬 레플리카에 푸시다운될 때 발생할 수 있는 논리적 오류 또는 초기화되지 않은 메모리 사용 문제를 수정합니다. [#75363](https://github.com/ClickHouse/ClickHouse/pull/75363) ([Vladimir Cherkasov](https://github.com/vdimir)).
* `icebergS3`, `icebergAzure` 테이블 함수와 테이블 엔진의 민감한 정보를 숨기도록 수정했습니다. [#75378](https://github.com/ClickHouse/ClickHouse/pull/75378) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 계산 결과가 빈 트림 문자인 경우에 사용하는 `TRIM` FUNCTION이 이제 올바르게 처리됩니다. 예: `SELECT TRIM(LEADING concat('') FROM 'foo')` (이슈 [#69922](https://github.com/ClickHouse/ClickHouse/issues/69922)). [#75399](https://github.com/ClickHouse/ClickHouse/pull/75399) ([Manish Gill](https://github.com/mgill25)).
* IOutputFormat에서 발생하던 데이터 레이스를 수정했습니다. [#75448](https://github.com/ClickHouse/ClickHouse/pull/75448) ([Pavel Kruglov](https://github.com/Avogar)).
* JSON 서브컬럼 중 Array 타입이 분산 테이블에 대한 JOIN에서 사용될 때 발생할 수 있는 `Elements ... and ... of Nested data structure ... (Array columns) have different array sizes` 오류를 수정했습니다. [#75512](https://github.com/ClickHouse/ClickHouse/pull/75512) ([Pavel Kruglov](https://github.com/Avogar)).
* 잘못된 결과 버퍼 크기 계산을 수정합니다. [#70031](https://github.com/ClickHouse/ClickHouse/issues/70031) 이슈를 해결합니다. [#75548](https://github.com/ClickHouse/ClickHouse/pull/75548) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* allow&#95;feature&#95;tier와 compatibility MergeTree 설정 간의 상호작용 문제를 수정했습니다. [#75635](https://github.com/ClickHouse/ClickHouse/pull/75635) ([Raúl Marín](https://github.com/Algunenano)).
* 파일이 재시도된 경우 `system.s3queue_log`에서 잘못 기록되던 `processed_rows` 값을 수정합니다. [#75666](https://github.com/ClickHouse/ClickHouse/pull/75666) ([Kseniia Sumarokova](https://github.com/kssenii)).
* materialized view가 URL engine으로 쓰기를 수행할 때 연결 문제로 오류가 발생하는 경우, `materialized_views_ignore_errors` 설정을 준수하도록 했습니다. [#75679](https://github.com/ClickHouse/ClickHouse/pull/75679) ([Christoph Wurm](https://github.com/cwurm)).
* 서로 다른 타입의 컬럼 간에 여러 비동기 `RENAME` 쿼리(`alter_sync = 0`)를 실행한 후 `MergeTree` 테이블에서 읽는 동안 드물게 발생하던 충돌을 수정했습니다. [#75693](https://github.com/ClickHouse/ClickHouse/pull/75693) ([Anton Popov](https://github.com/CurtizJ)).
* 일부 `UNION ALL`을 사용하는 쿼리에서 발생하던 `Block structure mismatch in QueryPipeline stream` 오류를 수정합니다. [#75715](https://github.com/ClickHouse/ClickHouse/pull/75715) ([Nikolai Kochetov](https://github.com/KochetovNicolai)).
* PK 컬럼을 ALTER MODIFY 할 때 projection을 재구성합니다. 이전에는 projection PK에 사용된 컬럼을 ALTER MODIFY 한 후 SELECT를 실행하면 `CANNOT_READ_ALL_DATA` 오류가 발생할 수 있었습니다. [#75720](https://github.com/ClickHouse/ClickHouse/pull/75720) ([Pavel Kruglov](https://github.com/Avogar)).
* 스칼라 서브쿼리에서(분석기 사용 시) `ARRAY JOIN`이 잘못된 결과를 반환하던 문제를 수정합니다. [#75732](https://github.com/ClickHouse/ClickHouse/pull/75732) ([Nikolai Kochetov](https://github.com/KochetovNicolai)).
* `DistinctSortedStreamTransform`에서 발생하던 null 포인터 역참조 버그를 수정했습니다. [#75734](https://github.com/ClickHouse/ClickHouse/pull/75734) ([Nikita Taranov](https://github.com/nickitat)).
* `allow_suspicious_ttl_expressions` 설정의 동작을 수정합니다. [#75771](https://github.com/ClickHouse/ClickHouse/pull/75771) ([Aleksei Filatov](https://github.com/aalexfvk)).
* `translate` FUNCTION에서 초기화되지 않은 메모리를 읽는 문제를 수정합니다. 이로써 [#75592](https://github.com/ClickHouse/ClickHouse/issues/75592)가 해결됩니다. [#75794](https://github.com/ClickHouse/ClickHouse/pull/75794) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Native 포맷에서 JSON 문자열 포맷팅에 format 설정이 전파되도록 수정했습니다. [#75832](https://github.com/ClickHouse/ClickHouse/pull/75832) ([Pavel Kruglov](https://github.com/Avogar)).
* v24.12에서 조인 알고리즘으로 병렬 해시 조인을 기본값으로 활성화한 사항을 설정 변경 내역에 기록했습니다. 이는 호환성 레벨이 v24.12보다 이전 버전으로 설정된 경우 ClickHouse가 계속해서 비병렬 해시 조인을 사용하여 조인을 수행함을 의미합니다. [#75870](https://github.com/ClickHouse/ClickHouse/pull/75870) ([Robert Schulze](https://github.com/rschu1ze)).
* 암시적으로 추가된 min-max 인덱스가 있는 테이블을 새 테이블로 복사하지 못하던 버그를 수정했습니다 (issue [#75677](https://github.com/ClickHouse/ClickHouse/issues/75677)). [#75877](https://github.com/ClickHouse/ClickHouse/pull/75877) ([Smita Kulkarni](https://github.com/SmitaRKulkarni)).
* `clickhouse-library-bridge`는 파일 시스템에서 임의의 라이브러리를 로드할 수 있도록 허용하므로, 격리된 환경 내에서만 실행하는 것이 안전합니다. 이 컴포넌트를 clickhouse-server와 동일한 환경에서 실행할 때 발생할 수 있는 취약점을 방지하기 위해, 구성에서 지정한 위치로 라이브러리 경로를 제한합니다. 이 취약점은 **Arseniy Dugin**이 [ClickHouse Bug Bounty Program](https://github.com/ClickHouse/ClickHouse/issues/38986)을 통해 발견했습니다. [#75954](https://github.com/ClickHouse/ClickHouse/pull/75954) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 일부 메타데이터를 JSON으로 직렬화했는데, 이는 실수였습니다. JSON은 문자열 리터럴 안에 이진 데이터, 특히 0 바이트를 지원하지 않기 때문입니다. SQL 쿼리에는 이진 데이터와 잘못된 UTF-8이 포함될 수 있으므로 메타데이터 파일에서도 이를 지원해야 합니다. 한편 ClickHouse의 `JSONEachRow` 및 유사한 형식은 이진 데이터에 대해 완전한 왕복(roundtrip)을 보장하기 위해 JSON 표준에서 벗어나는 방식을 사용하여 이 문제를 처리합니다. 이에 대한 배경은 다음에서 확인할 수 있습니다: https://github.com/ClickHouse/ClickHouse/pull/73668#issuecomment-2560501790. 해결 방법은 `Poco::JSON` 라이브러리를 ClickHouse의 JSON 형식 직렬화 방식과 일관되게 만드는 것입니다. 이로써 [#73668](https://github.com/ClickHouse/ClickHouse/issues/73668)이(가) 해결되었습니다. [#75963](https://github.com/ClickHouse/ClickHouse/pull/75963) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* DETACH PART 실행 중 발생하는 `Part <...> does not contain in snapshot of previous virtual parts. (PART_IS_TEMPORARILY_LOCKED)` 오류를 수정합니다. [#76039](https://github.com/ClickHouse/ClickHouse/pull/76039) ([Aleksei Filatov](https://github.com/aalexfvk)).
* 스토리지 `S3Queue`에서 커밋 제한 확인을 수정했습니다. [#76104](https://github.com/ClickHouse/ClickHouse/pull/76104) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 자동 인덱스(`add_minmax_index_for_numeric_columns`/`add_minmax_index_for_string_columns`)가 활성화된 MergeTree 테이블을 attach할 때의 동작을 수정합니다. [#76139](https://github.com/ClickHouse/ClickHouse/pull/76139) ([Azat Khuzhin](https://github.com/azat)).
* 작업의 상위 스레드에서의 스택 트레이스(`enable_job_stack_trace` setting)가 출력되지 않던 문제를 수정했습니다. `enable_job_stack_trace` setting이 스레드로 올바르게 전파되지 않아 스택 트레이스 내용이 항상 이 setting을 반영하지 못하던 문제를 수정했습니다. [#76191](https://github.com/ClickHouse/ClickHouse/pull/76191) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* 빅엔디언 아키텍처에서 FixedString 타입과 함께 사용하는 reinterpretAs의 동작을 수정합니다. [#76253](https://github.com/ClickHouse/ClickHouse/pull/76253) ([Azat Khuzhin](https://github.com/azat)).
* UUID와 테이블 이름 간의 경쟁 상태로 인해 발생할 수 있는 모든 종류의 버그를 수정합니다(예를 들어, `RENAME`과 `RESTART REPLICA` 간의 경쟁 상태를 해결합니다. `SYSTEM RESTART REPLICA`와 동시에 `RENAME`이 실행되는 경우 잘못된 레플리카를 재시작하게 되거나, 테이블 중 하나가 `Table X is being restarted` 상태에 남게 될 수 있습니다). [#76308](https://github.com/ClickHouse/ClickHouse/pull/76308) ([Azat Khuzhin](https://github.com/azat)).
* signal handler에서의 메모리 할당을 제거했습니다. [#76446](https://github.com/ClickHouse/ClickHouse/pull/76446) ([Nikita Taranov](https://github.com/nickitat)).
* Eviction 중 발생하는 예기치 않은 오류 처리와 관련된 동적 파일 시스템 캐시 리사이즈 동작을 수정합니다. [#76466](https://github.com/ClickHouse/ClickHouse/pull/76466) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 병렬 해시에서 `used_flag` 초기화 문제를 수정했습니다. 이로 인해 서버 크래시가 발생할 수 있었습니다. [#76580](https://github.com/ClickHouse/ClickHouse/pull/76580) ([Nikita Taranov](https://github.com/nickitat)).
* `defaultProfiles()` FUNCTION을 프로젝션 내부에서 호출할 때 발생했던 논리 오류를 수정합니다. [#76627](https://github.com/ClickHouse/ClickHouse/pull/76627) ([pufit](https://github.com/pufit)).
* Web UI에서 브라우저의 대화형 기본 인증을 요청하지 않도록 했습니다. [#76319](https://github.com/ClickHouse/ClickHouse/issues/76319)을(를) 해결합니다. [#76637](https://github.com/ClickHouse/ClickHouse/pull/76637) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 분산 테이블에서 불리언 리터럴을 조회할 때 발생하던 THERE&#95;IS&#95;NO&#95;COLUMN 예외를 수정했습니다. [#76656](https://github.com/ClickHouse/ClickHouse/pull/76656) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* 테이블 디렉터리 내부의 하위 경로 선택 방식이 더 정교해졌습니다. [#76681](https://github.com/ClickHouse/ClickHouse/pull/76681) ([Daniil Ivanik](https://github.com/divanik)).
* PK에 서브컬럼이 있는 테이블에서 ALTER TABLE을 수행한 후 발생하던 `Not found column in block` 오류를 수정합니다. https://github.com/ClickHouse/ClickHouse/pull/72644 이후에는 https://github.com/ClickHouse/ClickHouse/pull/74403가 필요합니다. [#76686](https://github.com/ClickHouse/ClickHouse/pull/76686) ([Nikolai Kochetov](https://github.com/KochetovNicolai)).
* NULL 단락(NULL short-circuit)에 대한 성능 테스트를 추가하고 버그를 수정했습니다. [#76708](https://github.com/ClickHouse/ClickHouse/pull/76708) ([李扬](https://github.com/taiyang-li)).
* 출력 쓰기 버퍼를 최종화하기 전에 플러시합니다. 일부 출력 형식(예: `JSONEachRowWithProgressRowOutputFormat`)을 최종화하는 과정에서 발생하던 `LOGICAL_ERROR`를 수정합니다. [#76726](https://github.com/ClickHouse/ClickHouse/pull/76726) ([Antonio Andelic](https://github.com/antonio2368)).
* MongoDB binary UUID 지원을 추가했습니다([#74452](https://github.com/ClickHouse/ClickHouse/issues/74452)) - 테이블 함수 사용 시 MongoDB로의 WHERE 절 푸시다운을 수정했습니다([#72210](https://github.com/ClickHouse/ClickHouse/issues/72210)) - MongoDB의 binary UUID가 ClickHouse의 UUID로만 파싱되도록 MongoDB - ClickHouse 타입 매핑을 변경했습니다. 이를 통해 향후 모호성과 예기치 않은 동작을 방지할 수 있습니다. - 이전 버전과의 호환성을 유지하면서 OID 매핑을 수정했습니다. [#76762](https://github.com/ClickHouse/ClickHouse/pull/76762) ([Kirill Nikiforov](https://github.com/allmazz)).
* JSON 서브컬럼 병렬 프리픽스 역직렬화 과정의 예외 처리를 수정합니다. [#76809](https://github.com/ClickHouse/ClickHouse/pull/76809) ([Pavel Kruglov](https://github.com/Avogar)).
* 음의 정수에 대한 `lgamma` 함수의 동작을 수정합니다. [#76840](https://github.com/ClickHouse/ClickHouse/pull/76840) ([Ilya Kataev](https://github.com/IlyaKataev)).
* 명시적으로 정의된 기본 키에 대한 역방향 키 분석을 수정했습니다. [#76654](https://github.com/ClickHouse/ClickHouse/issues/76654)와 유사합니다. [#76846](https://github.com/ClickHouse/ClickHouse/pull/76846) ([Amos Bird](https://github.com/amosbird)).
* JSON 형식에서 Bool 값의 Pretty 출력 형식을 수정했습니다. [#76905](https://github.com/ClickHouse/ClickHouse/pull/76905) ([Pavel Kruglov](https://github.com/Avogar)).
* 비동기 INSERT 작업 중 오류 발생 시 잘못된 JSON 컬럼 롤백으로 인해 발생할 수 있는 크래시를 수정했습니다. [#76908](https://github.com/ClickHouse/ClickHouse/pull/76908) ([Pavel Kruglov](https://github.com/Avogar)).
* 이전에 `multi_if`는 계획 단계와 주 실행 단계에서 서로 다른 타입의 컬럼을 반환할 수 있었습니다. 이로 인해 C++ 관점에서 보면 정의되지 않은 동작을 일으키는 코드가 생성되었습니다. [#76914](https://github.com/ClickHouse/ClickHouse/pull/76914) ([Nikita Taranov](https://github.com/nickitat)).
* MergeTree에서 상수 널 허용 키의 잘못된 직렬화 문제를 수정했습니다. [#76939](https://github.com/ClickHouse/ClickHouse/issues/76939)를 해결합니다. [#76985](https://github.com/ClickHouse/ClickHouse/pull/76985) ([Amos Bird](https://github.com/amosbird)).
* `BFloat16` 값 정렬 문제를 수정합니다. [#75487](https://github.com/ClickHouse/ClickHouse/issues/75487)을(를) 해결합니다. [#75669](https://github.com/ClickHouse/ClickHouse/issues/75669)을(를) 해결합니다. [#77000](https://github.com/ClickHouse/ClickHouse/pull/77000) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* variant 서브컬럼을 포함한 JSON에서, part 일관성 검사 시 임시 서브컬럼을 건너뛰도록 검사를 추가하여 버그를 수정했습니다. [#72187](https://github.com/ClickHouse/ClickHouse/issues/72187). [#77034](https://github.com/ClickHouse/ClickHouse/pull/77034) ([Smita Kulkarni](https://github.com/SmitaRKulkarni)).
* Values 포맷에서 Template를 파싱할 때 타입이 일치하지 않을 경우 크래시가 발생하던 문제를 수정했습니다. [#77071](https://github.com/ClickHouse/ClickHouse/pull/77071) ([Pavel Kruglov](https://github.com/Avogar)).
* 기본 키에 서브컬럼이 있는 EmbeddedRocksDB 테이블을 생성할 수 없도록 했습니다. 이전에는 이러한 테이블을 생성할 수 있었지만 `SELECT` 쿼리가 실패했습니다. [#77074](https://github.com/ClickHouse/ClickHouse/pull/77074) ([Pavel Kruglov](https://github.com/Avogar)).
* 리터럴 타입을 올바르게 처리하지 못한 상태에서 프리디케이트를 원격에 푸시다운하던 분산 쿼리에서 발생하던 잘못된 비교를 수정합니다. [#77093](https://github.com/ClickHouse/ClickHouse/pull/77093) ([Duc Canh Le](https://github.com/canhld94)).
* 예외 발생으로 Kafka 테이블 생성 시 크래시가 발생하던 문제를 수정합니다. [#77121](https://github.com/ClickHouse/ClickHouse/pull/77121) ([Pavel Kruglov](https://github.com/Avogar)).
* Kafka 및 RabbitMQ 엔진에서 새로운 JSON 및 하위 컬럼을 지원합니다. [#77122](https://github.com/ClickHouse/ClickHouse/pull/77122) ([Pavel Kruglov](https://github.com/Avogar)).
* macOS에서 예외 스택 언와인딩을 수정합니다. [#77126](https://github.com/ClickHouse/ClickHouse/pull/77126) ([Eduard Karacharov](https://github.com/korowa)).
* getSubcolumn 함수에서 &#39;null&#39; 서브컬럼 읽기 동작을 수정합니다. [#77163](https://github.com/ClickHouse/ClickHouse/pull/77163) ([Pavel Kruglov](https://github.com/Avogar)).
* Analyzer에서 리터럴이 포함된 표현식을 사용하는 skip 인덱스가 작동하지 않던 문제를 수정하고, 인덱스 분석 시 발생하는 불필요한 캐스트를 제거합니다. [#77229](https://github.com/ClickHouse/ClickHouse/pull/77229) ([Pavel Kruglov](https://github.com/Avogar)).
* `Array` 및 지원되지 않는 함수와 함께 사용하는 블룸 필터 인덱스를 수정합니다. [#77271](https://github.com/ClickHouse/ClickHouse/pull/77271) ([Pavel Kruglov](https://github.com/Avogar)).
* 초기 CREATE 쿼리를 실행할 때에만 테이블 수에 대한 제한을 검사해야 합니다. [#77274](https://github.com/ClickHouse/ClickHouse/pull/77274) ([Nikolay Degterinsky](https://github.com/evillique)).
* `SELECT toBFloat16(-0.0) == toBFloat16(0.0)`이 이제 올바르게 `true`를 반환합니다(이전에는 `false`를 반환했습니다). 이를 통해 `Float32` 및 `Float64`와의 동작이 일치하게 됩니다. [#77290](https://github.com/ClickHouse/ClickHouse/pull/77290) ([Shankar Iyer](https://github.com/shankar-iyer)).
* 초기화되지 않은 `key_index` 변수에 대한 잘못된 참조를 수정하여 디버그 빌드에서 크래시가 발생할 수 있는 문제를 방지합니다(이 초기화되지 않은 참조는 이후 코드가 오류를 던질 가능성이 높기 때문에 릴리스 빌드에서는 문제를 일으키지 않습니다). ### 사용자에게 노출되는 변경 사항에 대한 문서 항목입니다. [#77305](https://github.com/ClickHouse/ClickHouse/pull/77305) ([wxybear](https://github.com/wxybear)).
* 되돌림. [#77307](https://github.com/ClickHouse/ClickHouse/pull/77307) ([Nikolai Kochetov](https://github.com/KochetovNicolai)).
* Bool 값을 사용하는 파티션의 이름 처리를 수정했습니다. 해당 문제는 https://github.com/ClickHouse/ClickHouse/pull/74533 에서 발생했습니다. [#77319](https://github.com/ClickHouse/ClickHouse/pull/77319) ([Pavel Kruglov](https://github.com/Avogar)).
* 널 허용(Nullable) 요소를 포함한 튜플과 문자열 간의 비교 동작을 수정합니다. 예를 들어, 변경 이전에는 Tuple `(1, null)` 과 String `'(1,null)'` 을 비교하면 오류가 발생했습니다. 또 다른 예로, 널 허용 컬럼인 `a` 를 포함하는 Tuple `(1, a)` 와 String `'(1, 2)'` 를 비교하는 경우가 있습니다. 이 변경으로 이러한 문제가 해결됩니다. [#77323](https://github.com/ClickHouse/ClickHouse/pull/77323) ([Alexey Katsman](https://github.com/alexkats)).
* ObjectStorageQueueSource에서 발생하던 크래시를 수정합니다. 이 문제는 https://github.com/ClickHouse/ClickHouse/pull/76358 에서 도입되었습니다. [#77325](https://github.com/ClickHouse/ClickHouse/pull/77325) ([Pavel Kruglov](https://github.com/Avogar)).
* `close_session` 쿼리 매개변수가 효과가 없어, 이름이 지정된 세션이 `session_timeout`이 지나서야 종료되던 버그를 수정합니다. [#77336](https://github.com/ClickHouse/ClickHouse/pull/77336) ([Alexey Katsman](https://github.com/alexkats)).
* `input()`과 함께 사용할 때의 `async_insert` 동작을 수정합니다. [#77340](https://github.com/ClickHouse/ClickHouse/pull/77340) ([Azat Khuzhin](https://github.com/azat)).
* 수정: 정렬에 사용된 컬럼을 플래너가 제거할 때 `WITH FILL`이 `NOT_FOUND_COLUMN_IN_BLOCK` 오류와 함께 실패할 수 있습니다. `INTERPOLATE` 표현식에 대해 계산된 DAG가 일관되지 않아 발생하던 유사한 문제도 수정되었습니다. [#77343](https://github.com/ClickHouse/ClickHouse/pull/77343) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* 되돌렸습니다. [#77390](https://github.com/ClickHouse/ClickHouse/pull/77390) ([Vladimir Cherkasov](https://github.com/vdimir)).
* 연결된 MV 없이 NATS 서버에서 메시지를 수신하던 문제를 수정했습니다. [#77392](https://github.com/ClickHouse/ClickHouse/pull/77392) ([Dmitry Novikov](https://github.com/dmitry-sles-novikov)).
* `merge` table function을 통해 비어 있는 `FileLog`에서 읽을 때 발생하던 논리 오류를 수정했습니다. [#75575](https://github.com/ClickHouse/ClickHouse/issues/75575) 이슈를 해결했습니다. [#77441](https://github.com/ClickHouse/ClickHouse/pull/77441) ([Vladimir Cherkasov](https://github.com/vdimir)).
* 유효하지 않은 AST 노드에 별칭을 설정할 때 발생하던 여러 `LOGICAL_ERROR`를 수정했습니다. [#77445](https://github.com/ClickHouse/ClickHouse/pull/77445) ([Raúl Marín](https://github.com/Algunenano)).
* filesystem 캐시 구현에서 파일 세그먼트 쓰기 과정의 오류 처리를 수정했습니다. [#77471](https://github.com/ClickHouse/ClickHouse/pull/77471) ([Kseniia Sumarokova](https://github.com/kssenii)).
* DatabaseIceberg가 카탈로그에서 제공한 올바른 메타데이터 파일을 사용하도록 수정했습니다. [#75187](https://github.com/ClickHouse/ClickHouse/issues/75187) 이슈를 해결합니다. [#77486](https://github.com/ClickHouse/ClickHouse/pull/77486) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 공유 variant에서 Dynamic serialization 시 기본 포맷 설정을 사용하도록 했습니다. [#77572](https://github.com/ClickHouse/ClickHouse/pull/77572) ([Pavel Kruglov](https://github.com/Avogar)).
* &#39;스칼라 서브쿼리 실행에서 toAST() 사용을 피하도록 함&#39; 변경을 되돌립니다. [#77584](https://github.com/ClickHouse/ClickHouse/pull/77584) ([Raúl Marín](https://github.com/Algunenano)).
* 테이블 데이터 경로가 로컬 디스크에 존재하는지 확인하는 로직을 수정합니다. [#77608](https://github.com/ClickHouse/ClickHouse/pull/77608) ([Tuan Pham Anh](https://github.com/tuanpach)).
* 이제 쿼리 캐시는 UDF를 비결정적 함수로 간주합니다. 따라서 UDF가 포함된 쿼리 결과는 더 이상 캐시되지 않습니다. 이전에는 사용자가 결과가 잘못 캐시되는 비결정적 UDF를 정의할 수 있는 문제가 있었습니다(이슈 [#77553](https://github.com/ClickHouse/ClickHouse/issues/77553)). [#77633](https://github.com/ClickHouse/ClickHouse/pull/77633) ([Jimmy Aguilar Mena](https://github.com/Ergus)).
* 일부 타입에서 상수 값을 원격 노드로 전송하는 동작을 수정했습니다. [#77634](https://github.com/ClickHouse/ClickHouse/pull/77634) ([Pavel Kruglov](https://github.com/Avogar)).
* `enable_filesystem_cache_log` 설정이 활성화된 경우에만 동작하던 system.filesystem&#95;cache&#95;log 문제를 수정했습니다. [#77650](https://github.com/ClickHouse/ClickHouse/pull/77650) ([Kseniia Sumarokova](https://github.com/kssenii)).
* PROJECTION 내부에서 `defaultRoles()` FUNCTION을 호출할 때 발생한 논리 오류를 수정합니다. [#76627](https://github.com/ClickHouse/ClickHouse/issues/76627)의 후속 작업입니다. [#77667](https://github.com/ClickHouse/ClickHouse/pull/77667) ([pufit](https://github.com/pufit)).
* StorageS3(Azure)Queue에서 만료된 컨텍스트로 인해 발생하던 충돌을 수정했습니다. [#77720](https://github.com/ClickHouse/ClickHouse/pull/77720) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 이제 함수 `arrayResize`의 두 번째 인수로 데이터 타입 `Nullable`을 사용하는 것은 허용되지 않습니다. 이전에는 두 번째 인수가 `Nullable`일 경우 오류가 발생하거나 잘못된 결과가 반환되는 등 다양한 문제가 발생할 수 있었습니다. (이슈 [#48398](https://github.com/ClickHouse/ClickHouse/issues/48398)). [#77724](https://github.com/ClickHouse/ClickHouse/pull/77724) ([Manish Gill](https://github.com/mgill25)).
* RabbitMQ, Nats, Redis, AzureQueue 테이블 엔진에서 자격 증명을 숨기도록 했습니다. [#77755](https://github.com/ClickHouse/ClickHouse/pull/77755) ([Kseniia Sumarokova](https://github.com/kssenii)).
* ArgMin/ArgMax에서 NaN 비교 시 발생하던 정의되지 않은 동작을 수정합니다. [#77756](https://github.com/ClickHouse/ClickHouse/pull/77756) ([Raúl Marín](https://github.com/Algunenano)).
* 작업이 기록할 블록을 생성하지 않는 경우에도 머지 작업과 뮤테이션이 취소되었는지 정기적으로 확인하도록 했습니다. [#77766](https://github.com/ClickHouse/ClickHouse/pull/77766) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* 되돌렸습니다. [#77843](https://github.com/ClickHouse/ClickHouse/pull/77843) ([Vladimir Cherkasov](https://github.com/vdimir)).
* `NOT_FOUND_COLUMN_IN_BLOCK` 오류가 발생할 때 크래시가 발생할 수 있는 문제를 수정합니다. [#77854](https://github.com/ClickHouse/ClickHouse/pull/77854) ([Vladimir Cherkasov](https://github.com/vdimir)).
* 데이터를 채우는 과정에서 `StorageSystemObjectStorageQueueSettings`에서 크래시가 발생하던 문제를 수정합니다. [#77878](https://github.com/ClickHouse/ClickHouse/pull/77878) ([Bharat Nallan](https://github.com/bharatnc)).
* SSH 서버에서 이력에 대한 퍼지(fuzzy) 검색을 비활성화했습니다 (skim이 필요하기 때문입니다). [#78002](https://github.com/ClickHouse/ClickHouse/pull/78002) ([Azat Khuzhin](https://github.com/azat)).
* 인덱스가 없는 컬럼에 대해 수행한 벡터 검색 쿼리가, 동일한 테이블에 벡터 유사도 인덱스가 정의된 다른 벡터 컬럼이 있는 경우 잘못된 결과를 반환하던 버그를 수정합니다. (Issue [#77978](https://github.com/ClickHouse/ClickHouse/issues/77978)). [#78069](https://github.com/ClickHouse/ClickHouse/pull/78069) ([Shankar Iyer](https://github.com/shankar-iyer)).
* `The requested output format {} is binary... Do you want to output it anyway? [y/N]` 프롬프트 메시지를 수정합니다. [#78095](https://github.com/ClickHouse/ClickHouse/pull/78095) ([Azat Khuzhin](https://github.com/azat)).
* `toStartOfInterval`에서 origin 인수가 0일 때 발생하던 버그를 수정했습니다. [#78096](https://github.com/ClickHouse/ClickHouse/pull/78096) ([Yarik Briukhovetskyi](https://github.com/yariks5s)).
* HTTP 인터페이스에서 `session_id` 쿼리 파라미터를 빈 값으로 지정할 수 없도록 했습니다. [#78098](https://github.com/ClickHouse/ClickHouse/pull/78098) ([Alexey Katsman](https://github.com/alexkats)).
* `ALTER` 쿼리 바로 뒤에 `RENAME` 쿼리가 실행될 때 `Database Replicated`에서 발생할 수 있던 메타데이터 재정의 문제를 수정합니다. [#78107](https://github.com/ClickHouse/ClickHouse/pull/78107) ([Nikolay Degterinsky](https://github.com/evillique)).
* NATS 엔진에서 발생하던 충돌을 수정했습니다. [#78108](https://github.com/ClickHouse/ClickHouse/pull/78108) ([Dmitry Novikov](https://github.com/dmitry-sles-novikov)).
* SSH용 임베디드 클라이언트에서 `history_file`을 생성하지 않도록 했습니다. [#78112](https://github.com/ClickHouse/ClickHouse/pull/78112) ([Azat Khuzhin](https://github.com/azat)).
* RENAME DATABASE 또는 DROP TABLE 쿼리를 실행한 후 `system.detached_tables`에 잘못된 정보가 표시되던 문제를 수정했습니다. [#78126](https://github.com/ClickHouse/ClickHouse/pull/78126) ([Nikolay Degterinsky](https://github.com/evillique)).
* https://github.com/ClickHouse/ClickHouse/pull/77274 이후 Database Replicated에서 테이블 수가 너무 많은지 검사하는 로직을 수정합니다. 또한 RMT 또는 KeeperMap 사용 시 ZooKeeper에 관리되지 않는 노드가 생성되지 않도록, 스토리지를 생성하기 전에 이 검사를 수행합니다. [#78127](https://github.com/ClickHouse/ClickHouse/pull/78127) ([Nikolay Degterinsky](https://github.com/evillique)).
* 동시 S3Queue 메타데이터 초기화로 인해 발생할 수 있는 잠재적인 크래시를 수정합니다. [#78131](https://github.com/ClickHouse/ClickHouse/pull/78131) ([Azat Khuzhin](https://github.com/azat)).
* `groupArray*` 함수는 이제 `max_size` 인자의 Int 타입 값이 0인 경우, 이를 사용해 실행을 시도하는 대신, UInt 타입에서 이미 그러했듯이 BAD&#95;ARGUMENTS 오류를 발생시키도록 변경되었습니다. [#78140](https://github.com/ClickHouse/ClickHouse/pull/78140) ([Eduard Karacharov](https://github.com/korowa)).
* `recoverLostReplica` 실행 중 로컬 테이블이 detach되기 전에 제거되더라도 크래시가 발생하지 않도록 했습니다. [#78173](https://github.com/ClickHouse/ClickHouse/pull/78173) ([Raúl Marín](https://github.com/Algunenano)).
* 항상 `false`를 반환하던 system.s3&#95;queue&#95;settings의 「alterable」 컬럼을 수정했습니다. [#78187](https://github.com/ClickHouse/ClickHouse/pull/78187) ([Kseniia Sumarokova](https://github.com/kssenii)).
* Azure 액세스 서명이 사용자에게 노출되거나 로그에 기록되지 않도록 마스킹합니다. [#78189](https://github.com/ClickHouse/ClickHouse/pull/78189) ([Kseniia Sumarokova](https://github.com/kssenii)).
* Wide 파트에서 접두사가 있는 서브스트림의 prefetch 동작을 수정했습니다. [#78205](https://github.com/ClickHouse/ClickHouse/pull/78205) ([Pavel Kruglov](https://github.com/Avogar)).
* 키 배열의 타입이 `LowCardinality(Nullable)`인 경우 `mapFromArrays`에서 발생하던 충돌 또는 잘못된 결과를 수정했습니다. [#78240](https://github.com/ClickHouse/ClickHouse/pull/78240) ([Eduard Karacharov](https://github.com/korowa)).
* delta-kernel 인증 옵션을 수정했습니다. [#78255](https://github.com/ClickHouse/ClickHouse/pull/78255) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 레플리카의 `disable_insertion_and_mutation` 값이 true인 경우 RefreshMV 작업을 스케줄하지 않습니다. 해당 작업은 일부 데이터 삽입을 수행하므로, `disable_insertion_and_mutation` 값이 true이면 실패합니다. [#78277](https://github.com/ClickHouse/ClickHouse/pull/78277) ([Xu Jia](https://github.com/XuJia0210)).
* Merge 엔진의 기반 테이블에 대한 접근을 검증합니다. [#78339](https://github.com/ClickHouse/ClickHouse/pull/78339) ([Pervakov Grigorii](https://github.com/GrigoryPervakov)).
* `Distributed` 엔진 테이블에서 FINAL 수정자가 무시될 수 있습니다. [#78428](https://github.com/ClickHouse/ClickHouse/pull/78428) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* `Bitmapmin`은 비트맵이 `empty(uint64_max when input type >= 8bits)` 상태인 경우 uint32&#95;max를 반환하며, 이는 빈 `roaring_bitmap`의 `minimum()` 동작과 일치합니다. [#78444](https://github.com/ClickHouse/ClickHouse/pull/78444) ([wxybear](https://github.com/wxybear)).
* `preserve_most` 속성을 일부 코드에 적용했던 변경을, 충돌을 유발할 수 있어 되돌렸습니다. [#78449](https://github.com/ClickHouse/ClickHouse/pull/78449) ([Azat Khuzhin](https://github.com/azat)).
* INFILE 스키마 추론 시 삽입용 컬럼을 사용합니다. [#78490](https://github.com/ClickHouse/ClickHouse/pull/78490) ([Pervakov Grigorii](https://github.com/GrigoryPervakov)).
* `distributed_aggregation_memory_efficient`가 활성화된 경우 `FROM`을 읽은 직후에는 쿼리를 병렬 처리하지 않도록 했습니다. 병렬 처리 시 논리적 오류가 발생할 수 있습니다. [#76934](https://github.com/ClickHouse/ClickHouse/issues/76934)를 해결합니다. [#78500](https://github.com/ClickHouse/ClickHouse/pull/78500) ([flynn](https://github.com/ucasfl)).
* `max_streams_to_max_threads_ratio` 설정을 적용한 후 계획된 스트림이 0개인 경우에도 읽기를 위해 최소 한 개의 스트림이 생성되도록 했습니다. [#78505](https://github.com/ClickHouse/ClickHouse/pull/78505) ([Eduard Karacharov](https://github.com/korowa)).
* 스토리지 S3Queue에서 논리 오류 &quot;Cannot unregister: table uuid is not registered&quot;를 수정합니다. [#78285](https://github.com/ClickHouse/ClickHouse/issues/78285)를 해결합니다. [#78541](https://github.com/ClickHouse/ClickHouse/pull/78541) ([Kseniia Sumarokova](https://github.com/kssenii)).
* ClickHouse는 이제 cgroup v1과 v2가 모두 활성화된 시스템에서 자신이 속한 cgroup v2를 식별할 수 있습니다. [#78566](https://github.com/ClickHouse/ClickHouse/pull/78566) ([Grigory Korolev](https://github.com/gkorolev)).
* ObjectStorage 클러스터 테이블 함수가 테이블 수준 설정과 함께 사용될 때 실패하는 문제가 있었습니다. [#78587](https://github.com/ClickHouse/ClickHouse/pull/78587) ([Daniil Ivanik](https://github.com/divanik)).
* ReplicatedMergeTree에서는 `INSERT` 시 향상된 트랜잭션 검사가 지원되지 않습니다. [#78633](https://github.com/ClickHouse/ClickHouse/pull/78633) ([Azat Khuzhin](https://github.com/azat)).
* 첨부 시 쿼리 설정을 적용합니다. [#78637](https://github.com/ClickHouse/ClickHouse/pull/78637) ([Raúl Marín](https://github.com/Algunenano)).
* `iceberg_metadata_file_path`에 잘못된 경로가 지정되었을 때 크래시가 발생하던 문제를 수정합니다. [#78688](https://github.com/ClickHouse/ClickHouse/pull/78688) ([alesapin](https://github.com/alesapin)).
* DeltaLake table engine에서 delta-kernel 구현을 사용할 때, 읽기 스키마가 테이블 스키마와 다르고 파티션 컬럼도 존재하여 컬럼을 찾을 수 없는 오류가 발생하던 문제를 수정합니다. [#78690](https://github.com/ClickHouse/ClickHouse/pull/78690) ([Kseniia Sumarokova](https://github.com/kssenii)).
* 이번 업데이트에서는 동일한 이름을 공유하는 세션에서, 기존 세션의 타임아웃이 만료되기 전에 새 명명된 세션을 생성하면 새 세션이 이전 세션의 예정된 종료 시각에 맞춰 의도치 않게 종료되던 버그를 수정합니다. [#78698](https://github.com/ClickHouse/ClickHouse/pull/78698) ([Alexey Katsman](https://github.com/alexkats)).
* `CHECK TABLE` 실행 중 테이블 종료가 차단되지 않도록 했습니다. [#78782](https://github.com/ClickHouse/ClickHouse/pull/78782) ([Raúl Marín](https://github.com/Algunenano)).
* Keeper 수정: 모든 경우에 ephemeral 카운트를 올바르게 계산하도록 수정했습니다. [#78799](https://github.com/ClickHouse/ClickHouse/pull/78799) ([Antonio Andelic](https://github.com/antonio2368)).
* `view()` 이외의 테이블 함수를 사용할 때 `StorageDistributed`에서 발생하던 잘못된 형 변환을 수정했습니다. [#78464](https://github.com/ClickHouse/ClickHouse/issues/78464)를 해결합니다. [#78828](https://github.com/ClickHouse/ClickHouse/pull/78828) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* `tupleElement(*, 1)`에 대한 포맷팅을 수정했습니다. [#78639](https://github.com/ClickHouse/ClickHouse/issues/78639) 이슈를 종료합니다. [#78832](https://github.com/ClickHouse/ClickHouse/pull/78832) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* `ssd_cache` 유형의 dictionary에서 이제 `block_size` 및 `write_buffer_size` 매개변수에 0 또는 음수 값이 설정되면 이를 거부합니다(이슈 [#78314](https://github.com/ClickHouse/ClickHouse/issues/78314)). [#78854](https://github.com/ClickHouse/ClickHouse/pull/78854) ([Elmi Ahmadov](https://github.com/ahmadov)).
* 잘못된 종료 후 `ALTER`를 수행하면 `REFRESHABLE MV`에서 크래시가 발생하던 문제를 수정합니다. [#78858](https://github.com/ClickHouse/ClickHouse/pull/78858) ([Azat Khuzhin](https://github.com/azat)).
* CSV 형식에서 잘못된 DateTime 값 파싱을 수정했습니다. [#78919](https://github.com/ClickHouse/ClickHouse/pull/78919) ([Pavel Kruglov](https://github.com/Avogar)).

## 빌드/테스트/패키징 개선 \{#build-testing-packaging-improvement\}

* 내부 의존성 LLVM이 16에서 18로 업데이트되었습니다. [#66053](https://github.com/ClickHouse/ClickHouse/pull/66053) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* 삭제된 nats 통합 테스트를 복원하고 오류를 수정했습니다. - nats 엔진에서 일부 레이스 컨디션을 수정했습니다. - 연결이 끊어진 경우 nats로 데이터를 스트리밍할 때 발생하던 데이터 손실을 수정했습니다. - nats에서 스트리밍이 종료될 때 마지막 데이터 청크를 수신하는 과정이 멈추던 문제를 수정했습니다. - nats&#95;max&#95;reconnect는 더 이상 사용되지 않으며 효력이 없고, nats&#95;reconnect&#95;wait 타임아웃을 사용하여 지속적으로 재연결을 시도합니다. [#69772](https://github.com/ClickHouse/ClickHouse/pull/69772) ([Dmitry Novikov](https://github.com/dmitry-sles-novikov)).
* contrib OpenSSL의 asm 파일이 생성되지 않던 문제를 수정합니다. [#72622](https://github.com/ClickHouse/ClickHouse/pull/72622) ([RinChanNOW](https://github.com/RinChanNOWWW)).
* 테스트 03210&#95;variant&#95;with&#95;aggregate&#95;function&#95;type의 안정성을 개선합니다. [#74012](https://github.com/ClickHouse/ClickHouse/pull/74012) ([Anton Ivashkin](https://github.com/ianton-ru)).
* ARM 및 Intel Mac 환경에서 HDFS 빌드를 지원합니다. [#74244](https://github.com/ClickHouse/ClickHouse/pull/74244) ([Yan Xin](https://github.com/yxheartipp)).
* 범용 설치 스크립트는 이제 macOS에서도 설치를 제안합니다. [#74339](https://github.com/ClickHouse/ClickHouse/pull/74339) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Kerberos가 활성화되어 있지 않은 경우에도 빌드가 가능하도록 수정합니다. [#74771](https://github.com/ClickHouse/ClickHouse/pull/74771) ([flynn](https://github.com/ucasfl)).
* 내장 LLVM 버전을 19로 업데이트했습니다. [#75148](https://github.com/ClickHouse/ClickHouse/pull/75148) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* *잠재적으로 비호환적인 변경*: 기본값을 더욱 엄격하게 설정하는 개선입니다. 현재 기본값도 이미 안전합니다. 포트를 외부에 공개하려면 옵션을 명시적으로 지정해야 합니다. 그러나 `default` 사용자에 대해 `CLICKHOUSE_PASSWORD`로 비밀번호를 설정하지 않았거나 `CLICKHOUSE_USER` 환경 변수로 사용자 이름을 변경하지 않은 경우, 추가적인 보호를 위해 로컬 시스템에서만 접근 가능해야 합니다. [#75259](https://github.com/ClickHouse/ClickHouse/pull/75259) ([Mikhail f. Shiryaev](https://github.com/Felixoid)).
* 통합 테스트의 단일 병렬 배치 실행에는 1시간 타임아웃이 설정되어 있습니다. 이 시간이 경과하면 일부 로그가 남지 않은 상태로 `pytest`가 종료됩니다. 세션 결과를 출력하고 외부 타임아웃 신호가 발생하지 않도록 내부 pytest 타임아웃은 55분으로 설정했습니다. [#75532](https://github.com/ClickHouse/ClickHouse/issues/75532) 이슈를 종료합니다. [#75533](https://github.com/ClickHouse/ClickHouse/pull/75533) ([Ilya Yatsishin](https://github.com/qoega)).
* 모든 clickhouse-server 관련 동작을 단일 함수로 묶고, `entrypoint.sh`에서 기본 바이너리를 실행할 때에만 실행되도록 했습니다. 오래 미뤄졌던 개선 사항이 [#50724](https://github.com/ClickHouse/ClickHouse/issues/50724)에서 제안되었습니다. `users.xml`에서 값을 가져올 수 있도록 `clickhouse-extract-from-config`에 `--users` 옵션을 추가했습니다. [#75643](https://github.com/ClickHouse/ClickHouse/pull/75643) ([Mikhail f. Shiryaev](https://github.com/Felixoid)).
* 스트레스 테스트에서 gdb를 통해 스택트레이스를 수집하는 동안 서버가 종료되지 않은 경우, `Possible deadlock on shutdown (see gdb.log)` 감지 시 불필요한 경고가 줄어들도록 추가 대기 시간이 제공됩니다. 이 지연은 테스트가 성공적으로 완료되지 않은 경우에만 추가됩니다. [#75668](https://github.com/ClickHouse/ClickHouse/pull/75668) ([Ilya Yatsishin](https://github.com/qoega)).
* 삭제되었던 nats 통합 테스트를 복원하고 오류를 수정했습니다. - nats 엔진의 일부 레이스 컨디션을 수정함 - 연결이 끊어진 상태에서 nats로 데이터를 스트리밍할 때 발생하던 데이터 손실을 수정함 - nats에서 스트리밍이 종료될 때 마지막 청크를 수신하는 단계에서 멈추던 문제를 수정함 - nats&#95;max&#95;reconnect는 사용 중단(deprecated)되었으며 더 이상 효과가 없고, 재연결은 nats&#95;reconnect&#95;wait 타임아웃을 사용해 지속적으로 수행됩니다. [#75850](https://github.com/ClickHouse/ClickHouse/pull/75850) ([Dmitry Novikov](https://github.com/dmitry-sles-novikov)).
* Darwin 타깃으로 크로스 컴파일할 때 ICU와 GRPC를 활성화합니다. [#75922](https://github.com/ClickHouse/ClickHouse/pull/75922) ([Raúl Marín](https://github.com/Algunenano)).
* 프로세스 그룹을 종료하는 동안 `sleep` 때문에 분할 테스트의 출력이 잘리는 문제를 수정합니다. [#76090](https://github.com/ClickHouse/ClickHouse/pull/76090) ([Mikhail f. Shiryaev](https://github.com/Felixoid)).
* 스크립트가 자주 강제 종료되므로 실행이 끝난 후에 `docker-compose` 로그를 수집하지 않고, 대신 백그라운드에서 수집합니다. [#76140](https://github.com/ClickHouse/ClickHouse/pull/76140) ([Mikhail f. Shiryaev](https://github.com/Felixoid)).
* Kafka 스토리지 테스트를 여러 파일로 분리했습니다. [#69452](https://github.com/ClickHouse/ClickHouse/issues/69452)를 수정했습니다. [#76208](https://github.com/ClickHouse/ClickHouse/pull/76208) ([Mikhail f. Shiryaev](https://github.com/Felixoid)).
* `clickhouse-odbc-bridge`와 `clickhouse-library-bridge`는 별도의 리포지토리인 https://github.com/ClickHouse/odbc-bridge/ 로 이동했습니다. [#76225](https://github.com/ClickHouse/ClickHouse/pull/76225) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* 바이너리에서 약 20MB 분량의 사용되지 않는 코드를 제거했습니다. [#76226](https://github.com/ClickHouse/ClickHouse/pull/76226) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* `block()` 도입에 따라 최소 필요 CMake 버전을 3.25로 상향합니다. [#76316](https://github.com/ClickHouse/ClickHouse/pull/76316) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* fmt를 11.1.3으로 업데이트했습니다. [#76547](https://github.com/ClickHouse/ClickHouse/pull/76547) ([Raúl Marín](https://github.com/Algunenano)).
* `lz4` 버전을 `1.10.0`으로 업데이트합니다. [#76571](https://github.com/ClickHouse/ClickHouse/pull/76571) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* `curl` 버전을 `8.12.1`로 올립니다. [#76572](https://github.com/ClickHouse/ClickHouse/pull/76572) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* `libcpuid`를 `0.7.1`로 업데이트했습니다. [#76573](https://github.com/ClickHouse/ClickHouse/pull/76573) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* pytest 결과를 파싱하기 위해 머신 리더블 형식을 사용합니다. [#76910](https://github.com/ClickHouse/ClickHouse/pull/76910) ([Mikhail f. Shiryaev](https://github.com/Felixoid)).
* Rust 교차 컴파일을 수정하고 Rust를 완전히 비활성화할 수 있게 했습니다. [#76921](https://github.com/ClickHouse/ClickHouse/pull/76921) ([Raúl Marín](https://github.com/Algunenano)).
* 프로젝트 빌드에는 clang 19가 필요합니다. [#76945](https://github.com/ClickHouse/ClickHouse/pull/76945) ([Raúl Marín](https://github.com/Algunenano)).
* 이 테스트는 순차 모드에서 10초 이상 실행됩니다. 빠른 테스트로 사용하기에는 시간이 너무 오래 걸립니다. [#76948](https://github.com/ClickHouse/ClickHouse/pull/76948) ([Mikhail f. Shiryaev](https://github.com/Felixoid)).
* `sccache`를 `0.10.0` 버전으로 업데이트합니다. [#77580](https://github.com/ClickHouse/ClickHouse/pull/77580) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Rust 빌드에서 CPU 타깃 기능을 준수하고 모든 crate에 LTO를 활성화했습니다. [#78590](https://github.com/ClickHouse/ClickHouse/pull/78590) ([Raúl Marín](https://github.com/Algunenano)).
* `minizip-ng`를 `4.0.9`로 업데이트했습니다. [#78917](https://github.com/ClickHouse/ClickHouse/pull/78917) ([Konstantin Bogdanov](https://github.com/thevar1able)).