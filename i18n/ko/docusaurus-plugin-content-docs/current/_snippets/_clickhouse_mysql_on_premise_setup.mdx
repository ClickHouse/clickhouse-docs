아래의 [공식 문서](/interfaces/mysql)를 참조하여 MySQL 인터페이스가 활성화된 ClickHouse 서버를 설정하세요.

서버의 `config.xml`에 항목을 추가하는 것 외에도

```xml
<clickhouse>
    <mysql_port>9004</mysql_port>
</clickhouse>
```

MySQL 인터페이스를 사용할 사용자에 대해
[Double SHA1 비밀번호 암호화](/operations/settings/settings-users#user-namepassword)를 사용하는 것이 _필수_입니다.

쉘에서 Double SHA1로 암호화된 무작위 비밀번호 생성하기:

```shell
PASSWORD=$(base64 < /dev/urandom | head -c16); echo "$PASSWORD"; echo -n "$PASSWORD" | sha1sum | tr -d '-' | xxd -r -p | sha1sum | tr -d '-'
```

출력은 다음과 같이 보여야 합니다:

```
LZOQYnqQN4L/T6L0
fbc958cc745a82188a51f30de69eebfc67c40ee4
```

첫 번째 줄은 생성된 비밀번호이고, 두 번째 줄은 ClickHouse를 구성하는 데 사용할 수 있는 해시입니다.

생성된 해시를 사용하는 `mysql_user`에 대한 예시 구성은 다음과 같습니다:

`/etc/clickhouse-server/users.d/mysql_user.xml`

```xml
<users>
    <mysql_user>
        <password_double_sha1_hex>fbc958cc745a82188a51f30de69eebfc67c40ee4</password_double_sha1_hex>
        <networks>
            <ip>::/0</ip>
        </networks>
        <profile>default</profile>
        <quota>default</quota>
    </mysql_user>
</users>
```

`password_double_sha1_hex` 항목을 생성한 자신의 Double SHA1 해시로 바꾸세요.

또한, `SHOW [FULL] COLUMNS` 쿼리 결과에서 ClickHouse 대신 기본 MySQL 유형을 표시하기 위해 `use_mysql_types_in_show_columns`를 사용하는 것이 권장됩니다. 이는 BI 도구가 MySQL 커넥터를 사용할 때 데이터베이스 스키마를 올바르게 조사할 수 있게 해줍니다.

예를 들어:

`/etc/clickhouse-server/users.d/mysql_user.xml`

```xml
<profiles>
    <default>
        <use_mysql_types_in_show_columns>1</use_mysql_types_in_show_columns>
    </default>
</profiles>
```

또는 기본 프로필 대신 다른 프로필에 할당할 수 있습니다.

`mysql` 바이너리가 사용 가능하다면, 명령줄에서 연결을 테스트할 수 있습니다. 위의 샘플 사용자 이름(`mysql_user`)와 비밀번호(`LZOQYnqQN4L/T6L0`)를 사용하여 명령줄은 다음과 같습니다:

```bash
mysql --protocol tcp -h localhost -u mysql_user -P 9004 --password=LZOQYnqQN4L/T6L0
```

```
mysql> show databases;
+--------------------+
| name               |
+--------------------+
| INFORMATION_SCHEMA |
| default            |
| information_schema |
| system             |
+--------------------+
4 rows in set (0.00 sec)
Read 4 rows, 603.00 B in 0.00156 sec., 2564 rows/sec., 377.48 KiB/sec.
```

마지막으로, Clickhouse 서버가 원하는 IP 주소에서 수신하도록 구성하세요. 예를 들어, `config.xml`에서 모든 주소를 수신하도록 하기 위해 다음 주석을 해제하세요:

```bash
<listen_host>::</listen_host> 
```
