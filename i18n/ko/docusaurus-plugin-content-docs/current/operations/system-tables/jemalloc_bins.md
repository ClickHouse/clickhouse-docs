---
description: 'jemalloc 할당자가 서로 다른 크기 클래스(bin)에서 수행한 메모리 할당 정보를 모든 arena에서 집계한 시스템 테이블입니다.'
keywords: ['시스템 테이블', 'jemalloc_bins']
slug: /operations/system-tables/jemalloc_bins
title: 'system.jemalloc_bins'
doc_type: 'reference'
---

import SystemTableCloud from '@site/i18n/ko/docusaurus-plugin-content-docs/current/_snippets/_system_table_cloud.md';

<SystemTableCloud />

서로 다른 크기 클래스(빈, bins)에서 jemalloc 할당자를 통해 수행된 메모리 할당 정보를 모든 arena에서 집계한 내용입니다.
jemalloc의 스레드 로컬 캐싱 때문에 이 통계는 절대적으로 정확하지 않을 수 있습니다.

컬럼:

{/*AUTOGENERATED_START*/ }

* `index` ([UInt16](../../sql-reference/data-types/)) — 크기 기준으로 정렬된 bin의 인덱스입니다.
* `large` ([UInt8](../../sql-reference/data-types/)) — 큰 할당이면 True, 작은 할당이면 False입니다.
* `size` ([UInt64](../../sql-reference/data-types/)) — 이 bin에서의 할당 크기입니다.
* `allocations` ([Int64](../../sql-reference/data-types/)) — 할당 횟수입니다.
* `deallocations` ([Int64](../../sql-reference/data-types/)) — 할당 해제(deallocation) 횟수입니다.
* `nregs` ([Int64](../../sql-reference/data-types/)) — slab 하나당 region 개수입니다.
* `curslabs` ([Int64](../../sql-reference/data-types/)) — 현재 slab 개수입니다.
* `curregs` ([Int64](../../sql-reference/data-types/)) — 이 size class에 대한 현재 region 개수입니다.

{/*AUTOGENERATED_END*/ }

**예제**

현재 전체 메모리 사용량에서 가장 큰 비중을 차지하는 할당 크기를 찾으십시오.

```sql
SELECT
    *,
    allocations - deallocations AS active_allocations,
    size * active_allocations AS allocated_bytes
FROM system.jemalloc_bins
WHERE allocated_bytes > 0
ORDER BY allocated_bytes DESC
LIMIT 10
```

```text
┌─index─┬─large─┬─────size─┬─allocactions─┬─deallocations─┬─active_allocations─┬─allocated_bytes─┐
│    82 │     1 │ 50331648 │            1 │             0 │                  1 │        50331648 │
│    10 │     0 │      192 │       512336 │        370710 │             141626 │        27192192 │
│    69 │     1 │  5242880 │            6 │             2 │                  4 │        20971520 │
│     3 │     0 │       48 │     16938224 │      16559484 │             378740 │        18179520 │
│    28 │     0 │     4096 │       122924 │        119142 │               3782 │        15491072 │
│    61 │     1 │  1310720 │        44569 │         44558 │                 11 │        14417920 │
│    39 │     1 │    28672 │         1285 │           913 │                372 │        10665984 │
│     4 │     0 │       64 │      2837225 │       2680568 │             156657 │        10026048 │
│     6 │     0 │       96 │      2617803 │       2531435 │              86368 │         8291328 │
│    36 │     1 │    16384 │        22431 │         21970 │                461 │         7553024 │
└───────┴───────┴──────────┴──────────────┴───────────────┴────────────────────┴─────────────────┘
```
