---
description: '이 테이블에는 즉시 계산할 수 있고 Prometheus 형식으로 내보낼 수 있는 히스토그램 메트릭이 포함되어 있습니다. 항상 최신 상태입니다.'
keywords: ['system table', 'histogram_metrics']
slug: /operations/system-tables/histogram_metrics
title: 'system.histogram_metrics'
doc_type: 'reference'
---

import SystemTableCloud from '@site/i18n/ko/docusaurus-plugin-content-docs/current/_snippets/_system_table_cloud.md';


# histogram_metrics \{#histogram_metrics\}

<SystemTableCloud />

이 테이블에는 즉시 계산하여 Prometheus 형식으로 내보낼 수 있는 히스토그램 메트릭이 저장됩니다. 항상 최신 상태입니다. 더 이상 사용되지 않는 `system.latency_log`를 대체합니다.

컬럼:

{/*AUTOGENERATED_START*/ }

* `metric` ([String](../../sql-reference/data-types/)) — 메트릭 이름.
* `value` ([Int64](../../sql-reference/data-types/)) — 메트릭 값.
* `description` ([String](../../sql-reference/data-types/)) — 메트릭 설명.
* `labels` ([Map(String, String)](../../sql-reference/data-types/)) — 메트릭 레이블.

{/*AUTOGENERATED_END*/ }

**예시**

다음 쿼리를 사용하여 모든 히스토그램 메트릭을 Prometheus 형식으로 내보낼 수 있습니다.

```sql
SELECT
  metric AS name,
  toFloat64(value) AS value,
  description AS help,
  labels,
  'histogram' AS type
FROM system.histogram_metrics
FORMAT Prometheus
```


## 메트릭 설명 \{#metric_descriptions\}

### keeper_response_time_ms_bucket \{#keeper_response_time_ms_bucket\}

Keeper의 응답 시간(단위: 밀리초)입니다.

### keeper_client_queue_duration_milliseconds_bucket \{#keeper_client_queue_duration_milliseconds_bucket\}

요청이 Keeper 클라이언트에 의해 처리되기 전에 큐에 추가될 때까지와 큐에서 대기하는 데 소요되는 시간(밀리초)입니다.

### keeper_receive_request_time_milliseconds_bucket \{#keeper_receive_request_time_milliseconds_bucket\}

Keeper TCP 핸들러에서 클라이언트로부터 요청을 수신하여 파싱하는 데 걸리는 시간(밀리초)입니다.

### keeper_dispatcher_requests_queue_time_milliseconds_bucket \{#keeper_dispatcher_requests_queue_time_milliseconds_bucket\}

요청이 Keeper dispatcher 요청 큐에서 대기하는 시간(밀리초)입니다.

### keeper_write_pre_commit_time_milliseconds_bucket \{#keeper_write_pre_commit_time_milliseconds_bucket\}

Raft 커밋 전에 쓰기 요청을 전처리하는 데 걸리는 시간(밀리초)입니다.

### keeper_write_commit_time_milliseconds_bucket \{#keeper_write_commit_time_milliseconds_bucket\}

Raft 커밋이 완료된 후 쓰기 요청을 처리하는 데 걸리는 시간(밀리초)입니다.

### keeper_dispatcher_responses_queue_time_milliseconds_bucket \{#keeper_dispatcher_responses_queue_time_milliseconds_bucket\}

Keeper 디스패처 응답 큐에서 응답이 대기하는 시간(밀리초 단위)입니다.

### keeper_send_response_time_milliseconds_bucket \{#keeper_send_response_time_milliseconds_bucket\}

Keeper TCP 핸들러에서 클라이언트로 응답을 전송하는 데 걸리는 시간(대기열 처리 및 소켓에 쓰는 시간 포함)을 밀리초 단위로 측정합니다.

### keeper_read_wait_for_write_time_milliseconds_bucket \{#keeper_read_wait_for_write_time_milliseconds_bucket\}

읽기 요청이 자신이 의존하는 쓰기 요청이 완료될 때까지 대기하는 시간(밀리초)입니다.

### keeper_read_process_time_milliseconds_bucket \{#keeper_read_process_time_milliseconds_bucket\}

Keeper에서 읽기 요청을 처리하는 데 소요되는 시간(밀리초)입니다.

### keeper_batch_size_elements_bucket \{#keeper_batch_size_elements_bucket\}

Raft로 전송되는 배치의 크기(요소 수 기준)입니다.

### keeper_batch_size_bytes_bucket \{#keeper_batch_size_bytes_bucket\}

Raft로 전송되는 배치의 크기(바이트 단위)입니다.

**함께 보기**

- [system.asynchronous_metrics](/operations/system-tables/asynchronous_metrics) — 주기적으로 계산되는 메트릭을 포함합니다.
- [system.events](/operations/system-tables/events) — 발생한 이벤트 수를 포함합니다.
- [system.metric_log](/operations/system-tables/metric_log) — `system.metrics` 및 `system.events` 테이블의 메트릭 값 이력을 포함합니다.
- [Monitoring](../../operations/monitoring.md) — ClickHouse 모니터링의 기본 개념입니다.