---
'description': '클러스터에서 실행된 분산 ddl 쿼리(ON CLUSTER 절을 사용하는 쿼리)에 대한 정보를 포함하는 시스템 테이블.'
'keywords':
- 'system table'
- 'distributed_ddl_queue'
'slug': '/operations/system-tables/distributed_ddl_queue'
'title': 'system.distributed_ddl_queue'
'doc_type': 'reference'
---

클러스터에서 실행된 [분산 DDL 쿼리 (ON CLUSTER 절)](../../sql-reference/distributed-ddl.md)에 대한 정보를 포함합니다.

컬럼:

<!--AUTOGENERATED_START-->
- `entry` ([String](../../sql-reference/data-types/)) — 쿼리 ID.
- `entry_version` ([Nullable(UInt8)](../../sql-reference/data-types/)) — 엔트리의 버전.
- `initiator_host` ([Nullable(String)](../../sql-reference/data-types/)) — DDL 작업을 시작한 호스트.
- `initiator_port` ([Nullable(UInt16)](../../sql-reference/data-types/)) — 시작자가 사용한 포트.
- `cluster` ([String](../../sql-reference/data-types/)) — 클러스터 이름, 결정되지 않은 경우 비어 있음.
- `query` ([String](../../sql-reference/data-types/)) — 실행된 쿼리.
- `settings` ([Map(String, String)](../../sql-reference/data-types/)) — DDL 작업에 사용된 설정들.
- `query_create_time` ([DateTime](../../sql-reference/data-types/)) — 쿼리 생성 시간.
- `host` ([Nullable(String)](../../sql-reference/data-types/)) — 호스트 이름.
- `port` ([Nullable(UInt16)](../../sql-reference/data-types/)) — 호스트 포트.
- `status` ([Nullable(Enum8('Inactive' = 0, 'Active' = 1, 'Finished' = 2, 'Removing' = 3, 'Unknown' = 4))](../../sql-reference/data-types/)) — 쿼리 상태.
- `exception_code` ([Nullable(UInt16)](../../sql-reference/data-types/)) — 예외 코드.
- `exception_text` ([Nullable(String)](../../sql-reference/data-types/)) — 예외 메시지.
- `query_finish_time` ([Nullable(DateTime)](../../sql-reference/data-types/)) — 쿼리 완료 시간.
- `query_duration_ms` ([Nullable(UInt64)](../../sql-reference/data-types/)) — 쿼리 실행 기간 (밀리초 단위).
<!--AUTOGENERATED_END-->

**예제**

```sql
SELECT *
FROM system.distributed_ddl_queue
WHERE cluster = 'test_cluster'
LIMIT 2
FORMAT Vertical

Query id: f544e72a-6641-43f1-836b-24baa1c9632a

Row 1:
──────
entry:             query-0000000000
entry_version:     5
initiator_host:    clickhouse01
initiator_port:    9000
cluster:           test_cluster
query:             CREATE DATABASE test_db UUID '4a82697e-c85e-4e5b-a01e-a36f2a758456' ON CLUSTER test_cluster
settings:          {'max_threads':'16','use_uncompressed_cache':'0'}
query_create_time: 2023-09-01 16:15:14
host:              clickhouse-01
port:              9000
status:            Finished
exception_code:    0
exception_text:    
query_finish_time: 2023-09-01 16:15:14
query_duration_ms: 154

Row 2:
──────
entry:             query-0000000001
entry_version:     5
initiator_host:    clickhouse01
initiator_port:    9000
cluster:           test_cluster
query:             CREATE DATABASE test_db UUID '4a82697e-c85e-4e5b-a01e-a36f2a758456' ON CLUSTER test_cluster
settings:          {'max_threads':'16','use_uncompressed_cache':'0'}
query_create_time: 2023-09-01 16:15:14
host:              clickhouse-01
port:              9000
status:            Finished
exception_code:    630
exception_text:    Code: 630. DB::Exception: Cannot drop or rename test_db, because some tables depend on it:
query_finish_time: 2023-09-01 16:15:14
query_duration_ms: 154

2 rows in set. Elapsed: 0.025 sec.
```
