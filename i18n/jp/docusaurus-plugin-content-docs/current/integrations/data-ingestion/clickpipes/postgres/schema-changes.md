---
title: 'スキーマ変更伝播サポート'
slug: /integrations/clickpipes/postgres/schema-changes
description: 'ClickPipes がソーステーブルで検出可能なスキーマ変更の種類について説明するページ'
doc_type: 'reference'
keywords: ['clickpipes', 'postgresql', 'cdc', 'データインジェスト', 'リアルタイム同期']
integration:
  - support_level: 'core'
  - category: 'clickpipes'
---

Postgres 向け ClickPipes は、ソーステーブルのスキーマ変更を検出し、場合によってはその変更を自動的に宛先テーブルへ伝播できます。各 DDL 操作がどのように処理されるかは、以下のとおりです。

[//]: # "TODO このページを、リネーム、データ型変更、truncate 時の動作、および非互換なスキーマ変更への対処方法に関するガイダンスで拡張する。"

| スキーマ変更の種類                                                                  | 挙動                                      |
| ----------------------------------------------------------------------------------- | ----------------------------------------- |
| 新しいカラムの追加 (`ALTER TABLE ADD COLUMN ...`)                                   | テーブルで insert/update/delete が行われると、自動的に伝播されます。新しいカラムは、スキーマ変更以後にレプリケートされるすべての行に対して値が設定されます                                                   |
| デフォルト値付きの新しいカラムの追加 (`ALTER TABLE ADD COLUMN ... DEFAULT ...`)     | テーブルで insert/update/delete が行われると、自動的に伝播されます。新しいカラムは、スキーマ変更以後にレプリケートされるすべての行に対して値が設定されますが、既存の行については、テーブル全体のリフレッシュを行わない限り、デフォルト値は反映されません |
| 既存カラムの削除 (`ALTER TABLE DROP COLUMN ...`)                                    | 検出されますが、**伝播はされません**。削除されたカラムは、スキーマ変更以後にレプリケートされるすべての行で `NULL` が設定されます                                                                |

カラムの追加はバッチ同期の終了時点で伝播されます。これは、同期間隔または pull バッチサイズに到達した後に発生する場合があります。同期の制御に関する詳細は[こちら](./controlling_sync.md)を参照してください。