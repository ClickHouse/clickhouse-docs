---
title: 'スキーマ変更の伝播サポート'
slug: /integrations/clickpipes/postgres/schema-changes
description: 'ClickPipes がソーステーブルで検出できるスキーマ変更タイプを説明するページ'
doc_type: 'reference'
keywords: ['clickpipes', 'postgresql', 'cdc', 'データインジェスト', 'リアルタイム同期']
integration:
  - support_level: 'core'
  - category: 'clickpipes'
---

Postgres 用 ClickPipes は、ソーステーブルでのスキーマ変更を検出し、場合によってはその変更を自動的に宛先テーブルへ伝播します。各 DDL 操作がどのように処理されるかは、以下のとおりです。

[//]: # "TODO このページを、リネーム、データ型の変更、truncate の動作と、非互換なスキーマ変更の扱いに関するガイダンスで拡張する。"

| スキーマ変更タイプ                                                                  | 動作                                     |
| ----------------------------------------------------------------------------------- | ---------------------------------------- |
| 新しいカラムの追加（`ALTER TABLE ADD COLUMN ...`）                                  | テーブルで insert/update/delete が発生すると自動的に伝播されます。スキーマ変更後にレプリケートされたすべての行で、新しいカラムに値が設定されます。                                                   |
| デフォルト値付きの新しいカラムの追加（`ALTER TABLE ADD COLUMN ... DEFAULT ...`）   | テーブルで insert/update/delete が発生すると自動的に伝播されます。スキーマ変更後にレプリケートされたすべての行で、新しいカラムに値が設定されますが、テーブル全体のリフレッシュを行わない限り、既存の行にはデフォルト値は反映されません。 |
| 既存カラムの削除（`ALTER TABLE DROP COLUMN ...`）                                   | 検出されますが、**伝播はされません**。スキーマ変更後にレプリケートされたすべての行では、削除されたカラムには `NULL` が設定されます。                                                                |

カラムの追加は、バッチの同期の終了時に伝播される点に注意してください。これは、同期間隔またはプルバッチサイズに達した後に発生する可能性があります。同期の制御に関する詳細は[こちら](./controlling_sync.md)を参照してください。