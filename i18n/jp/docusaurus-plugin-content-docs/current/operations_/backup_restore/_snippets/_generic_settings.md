| 設定                                                           | 説明                                                                                                                                                                                                                                                  | デフォルト値    |
| ------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------- |
| `id`                                                         | バックアップまたはリストア操作の ID。指定しない場合は、ランダムに生成された UUID が使用されます。同じ ID の操作がすでに実行中の場合は、例外がスローされます。                                                                                                                                                               |           |
| `compression_method`                                         | バックアップの圧縮方式を指定します。詳細は [&quot;カラム圧縮コーデック&quot;](/sql-reference/statements/create/table#column_compression_codec) セクションを参照してください。                                                                                                                     |           |
| `compression_level`                                          | バックアップの圧縮レベルを指定します                                                                                                                                                                                                                                  |           |
| `password`                                                   | ディスク上のファイルに対するパスワード。                                                                                                                                                                                                                                |           |
| `base_backup`                                                | 増分バックアップで使用するベースバックアップの保存先。例: `Disk('backups', '1.zip')`                                                                                                                                                                                            |           |
| `use_same_password_for_base_backup`                          | ベースバックアップアーカイブがクエリからパスワードを継承するかどうかを指定します。                                                                                                                                                                                                           |           |
| `structure_only`                                             | 有効にすると、実際のテーブルデータは含めずに `CREATE` 文のみをバックアップおよびリストアします。                                                                                                                                                                                               |           |
| `storage_policy`                                             | 復元対象テーブルのストレージポリシー。詳細は [&quot;using multiple block devices for data storage](/engines/table-engines/mergetree-family/mergetree#table_engine-mergetree-multiple-volumes) を参照してください。`RESTORE` コマンドにのみ適用されます。`MergeTree` ファミリーのエンジンを使用するテーブルにのみ適用されます。 |           |
| `allow_non_empty_tables`                                     | この設定を有効にすると、`RESTORE TABLE` が空ではないテーブルにもデータを挿入できるようになります。これにより、テーブル内の既存データとバックアップから復元されたデータが混在します。その結果、テーブル内でデータの重複が発生する可能性があるため、注意して使用してください。                                                                                                      | `0`       |
| `backup_restore_keeper_max_retries`                          | BACKUP または RESTORE 操作の途中で行われる [Zoo]Keeper 操作の最大再試行回数。一時的な [Zoo]Keeper 障害が原因で操作全体が失敗しないように、十分大きな値にする必要があります。                                                                                                                                         | `1000`    |
| `backup_restore_keeper_retry_initial_backoff_ms`             | バックアップまたはリストア中の [Zoo]Keeper 操作におけるバックオフの初期タイムアウト                                                                                                                                                                                                    | `100`     |
| `backup_restore_keeper_retry_max_backoff_ms`                 | バックアップまたはリストア中の [Zoo]Keeper 操作に対するバックオフの最大タイムアウト                                                                                                                                                                                                    | `5000`    |
| `backup_restore_failure_after_host_disconnected_for_seconds` | `BACKUP ON CLUSTER` または `RESTORE ON CLUSTER` の実行中に、ホストがこの時間内に ZooKeeper 上の一時的な「alive」ノードを再作成しない場合、バックアップまたはリストア全体は失敗したものと見なされます。この値は、障害発生後にホストが ZooKeeper に再接続するために想定されるいかなる妥当な時間よりも大きくする必要があります。0 は無制限を意味します。                                      | `3600`    |
| `backup_restore_keeper_max_retries_while_initializing`       | `BACKUP ON CLUSTER` または `RESTORE ON CLUSTER` の初期化中に行われる [Zoo]Keeper 操作の最大リトライ回数。                                                                                                                                                                    | `20`      |
| `backup_restore_keeper_max_retries_while_handling_error`     | `BACKUP ON CLUSTER` または `RESTORE ON CLUSTER` 操作のエラーを処理する際に実行される [Zoo]Keeper 操作の最大再試行回数。                                                                                                                                                             | `20`      |
| `backup_restore_finish_timeout_after_error_sec`              | イニシエーターが、他のホストが「error」ノードに反応して現在の `BACKUP ON CLUSTER` または `RESTORE ON CLUSTER` 操作での処理を停止するまでの待機時間。                                                                                                                                                  | `180`     |
| `backup_restore_keeper_value_max_size`                       | バックアップ時における [Zoo]Keeper ノードデータの最大サイズ                                                                                                                                                                                                                | `1048576` |
| `backup_restore_batch_size_for_keeper_multi`                 | バックアップまたはリストア時に [Zoo]Keeper へ送信する multi リクエストの最大バッチサイズ                                                                                                                                                                                              | `1000`    |
| `backup_restore_batch_size_for_keeper_multiread`             | バックアップまたはリストア中に [Zoo]Keeper へ送信される multiread リクエストのバッチ最大サイズ                                                                                                                                                                                         | `10000`   |
| `backup_restore_keeper_fault_injection_probability`          | バックアップまたはリストア中における keeper リクエストの失敗確率のおおよその値。指定可能な値の範囲は `[0.0f, 1.0f]` です。                                                                                                                                                                           | `0`       |
| `backup_restore_keeper_fault_injection_seed`                 | ランダムシードの場合は `0`、それ以外は設定値                                                                                                                                                                                                                            | `0`       |
| `backup_restore_s3_retry_attempts`                           | Aws::Client::RetryStrategy の設定。リトライ処理は Aws::Client 自体が行い、0 を指定するとリトライなしを意味します。この設定が適用されるのはバックアップ／復元時のみです。                                                                                                                                           | `1000`    |
| `max_backup_bandwidth`                                       | サーバー上の特定のバックアップに対する最大読み取り速度（1 秒あたりのバイト数）。0 の場合は無制限です。                                                                                                                                                                                               | `0`       |
| `max_backups_io_thread_pool_size`                            | ClickHouse は Backups IO Thread プールのスレッドを使用して、S3 バックアップの I/O 処理を実行します。`max_backups_io_thread_pool_size` は、このプール内のスレッド数の上限を制御します。                                                                                                                     | `1000`    |
| `max_backups_io_thread_pool_free_size`                       | Backups IO Thread プール内のアイドル状態のスレッド数が `max_backup_io_thread_pool_free_size` を超えると、ClickHouse はアイドル状態のスレッドが占有しているリソースを解放し、プールサイズを縮小します。必要に応じてスレッドは再作成されます。                                                                                            | `0`       |
| `backups_io_thread_pool_queue_size`                          | Backups IO Thread プールでスケジュールできるジョブ数の上限です。現在の S3 バックアップのロジックにより、このキューは無制限にしておくことを推奨します。注: 値が `0`（デフォルト）の場合は無制限を意味します。                                                                                                                                | `0`       |
| `backup_threads`                                             | `BACKUP` リクエストを実行する際に使用されるスレッドの最大数。                                                                                                                                                                                                                 |           |
| `max_backup_bandwidth_for_server`                            | サーバー上のすべてのバックアップに対する最大読み取り速度（バイト/秒）。0 は無制限を意味します。                                                                                                                                                                                                   | `0`       |
| `shutdown_wait_backups_and_restores`                         | true に設定すると、ClickHouse はシャットダウンする前に、実行中のバックアップおよびリストア処理が完了するまで待機します。                                                                                                                                                                                | `1`       |