| 設定                                                           | 説明                                                                                                                                                                                                                                                                                                            | デフォルト値    |
| ------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------- |
| `id`                                                         | バックアップまたはリストア操作のID。指定しない場合は、ランダムに生成されたUUIDが使用されます。&#39;同じIDで既に実行中の操作が存在する場合、例外がスローされます。                                                                                                                                                                                                                       |           |
| `compression_method`                                         | バックアップの圧縮方法を指定します。セクション[「カラム圧縮コーデック」](/sql-reference/statements/create/table#column_compression_codec)                                                                                                                                                                                                        |           |
| `compression_level`                                          | バックアップの圧縮レベルを指定します                                                                                                                                                                                                                                                                                            |           |
| `password`                                                   | ディスク上のファイルに対するパスワード。                                                                                                                                                                                                                                                                                          |           |
| `base_backup`                                                | 増分バックアップで使用するベースバックアップの保存先。例:`Disk('backups', '1.zip')`                                                                                                                                                                                                                                                       |           |
| `use_same_password_for_base_backup`                          | ベースバックアップアーカイブがクエリからパスワードを継承するかどうかを指定します。                                                                                                                                                                                                                                                                     |           |
| `structure_only`                                             | 有効にすると、実際のテーブルデータを含めず、CREATE文のみをバックアップまたはリストアします。                                                                                                                                                                                                                                                             |           |
| `storage_policy`                                             | 復元対象のテーブルに対するストレージポリシー。参照：[複数のブロックデバイスを使用したデータストレージ](/engines/table-engines/mergetree-family/mergetree#table_engine-mergetree-multiple-volumes)。次の場合にのみ適用されます`RESTORE`コマンド。エンジンが次のファミリーに属するテーブルにのみ適用されます：`MergeTree`ファミリー。                                                                                    |           |
| `allow_non_empty_tables`                                     | 許可`RESTORE TABLE`空でないテーブルにデータを挿入します。これにより、テーブル内の既存データとバックアップから抽出されたデータが混在することになります。そのため、この設定を使用するとテーブル内でデータの重複が発生する可能性があります。慎重に使用してください。                                                                                                                                                                      | `0`       |
| `backup_restore_keeper_max_retries`                          | BACKUP または RESTORE の実行中に行われる [Zoo]Keeper 操作の最大再試行回数。処理全体が失敗しないように、一時的な [Zoo]Keeper 障害に耐えられる十分大きな値にする必要があります&#39;一時的な [Zoo]Keeper の障害が原因で失敗しないようにする必要があります。                                                                                                                                                    | `1000`    |
| `backup_restore_keeper_retry_initial_backoff_ms`             | バックアップまたはリストア中の [Zoo]Keeper 操作に対する初期バックオフタイムアウト                                                                                                                                                                                                                                                               | `100`     |
| `backup_restore_keeper_retry_max_backoff_ms`                 | バックアップまたはリストア中の [Zoo]Keeper 操作に対する最大バックオフ待機時間                                                                                                                                                                                                                                                                 | `5000`    |
| `backup_restore_failure_after_host_disconnected_for_seconds` | `BACKUP ON CLUSTER` または `RESTORE ON CLUSTER` 操作の実行中にホストが`BACKUP ON CLUSTER`または`RESTORE ON CLUSTER`operation doesn&#39;一時的なものを再作成しない場合、&#39;alive&#39;この時間内にホストが ZooKeeper 上の一時的な「alive」ノードを再作成しなかった場合、バックアップまたはリストア全体が失敗したと見なされます。この値は、障害発生後にホストが ZooKeeper に再接続するために必要となる妥当な時間よりも長く設定する必要があります。0 は無制限を意味します。 | `3600`    |
| `backup_restore_keeper_max_retries_while_initializing`       | `BACKUP ON CLUSTER` または `RESTORE ON CLUSTER` 操作の初期化中に行われる [Zoo]Keeper 操作の最大リトライ回数。`BACKUP ON CLUSTER`または`RESTORE ON CLUSTER`初期化中の `BACKUP ON CLUSTER` または `RESTORE ON CLUSTER` 操作における [Zoo]Keeper 操作の最大再試行回数。                                                                                                 | `20`      |
| `backup_restore_keeper_max_retries_while_handling_error`     | `BACKUP ON CLUSTER` または `RESTORE ON CLUSTER` 操作のエラー処理中における [Zoo]Keeper 操作の最大リトライ回数。`BACKUP ON CLUSTER`または`RESTORE ON CLUSTER`操作                                                                                                                                                                               | `20`      |
| `backup_restore_finish_timeout_after_error_sec`              | イニシエーターが、他のホストが「error」ノードに反応して現在の `BACKUP ON CLUSTER` または `RESTORE ON CLUSTER` 操作での処理を停止するまで待機する時間&#39;エラー&#39;ノードからの通知を受けて現在の処理を停止するまでの時間`BACKUP ON CLUSTER`または`RESTORE ON CLUSTER`オペレーション。                                                                                                                  | `180`     |
| `backup_restore_keeper_value_max_size`                       | [Zoo]Keeper のデータの最大サイズバックアップ対象となる [Zoo]Keeper ノードデータの最大サイズバックアップ中の [Zoo]Keeper ノードのデータの最大サイズ                                                                                                                                                                                                                  | `1048576` |
| `backup_restore_batch_size_for_keeper_multi`                 | バックアップまたはリストア時に [Zoo]Keeper へ送信される multi リクエストバッチの最大サイズ                                                                                                                                                                                                                                                       | `1000`    |
| `backup_restore_batch_size_for_keeper_multiread`             | バックアップまたはリストア時に [Zoo]Keeper への multiread リクエストで使用するバッチの最大サイズ                                                                                                                                                                                                                                                  | `10000`   |
| `backup_restore_keeper_fault_injection_probability`          | バックアップまたはリストア時の keeper リクエストにおけるおおよその失敗確率。有効な値の範囲は`[0.0f, 1.0f]`                                                                                                                                                                                                                                              | `0`       |
| `backup_restore_keeper_fault_injection_seed`                 | `0` はランダムシードを意味し、`0` 以外の場合はこの設定値がシードとして使用されます乱数シードの場合は `0`、それ以外は設定値                                                                                                                                                                                                                                           | `0`       |
| `backup_restore_s3_retry_attempts`                           | Aws::Client::RetryStrategy の設定です。Aws::Client はクライアント側でリトライを行い、0 はリトライしないことを意味します。バックアップ／リストア時にのみ適用されます。                                                                                                                                                                                                       | `1000`    |
| `max_backup_bandwidth`                                       | サーバー上の特定のバックアップに対する、毎秒あたりの最大読み取り速度（バイト単位）。0 は無制限を意味します。                                                                                                                                                                                                                                                       | `0`       |
| `max_backups_io_thread_pool_size`                            | ClickHouse は、Backups IO Thread プールのスレッドを使用して S3 バックアップの I/O 処理を実行します。ClickHouse は、S3 バックアップの I/O 処理を実行するために Backups I/O スレッドプール内のスレッドを使用します。`max_backups_io_thread_pool_size` は、このプール内で使用できるスレッド数の上限を指定します。プール内で使用されるスレッド数の最大値を制限します。                                                                         | `1000`    |
| `max_backups_io_thread_pool_free_size`                       | 数が**アイドル状態**バックアップ IO スレッドプール内のスレッド数が…を超える場合`max_backup_io_thread_pool_free_size`、Backups IO Thread プール内の**アイドル**スレッド数が `max_backup_io_thread_pool_free_size` を超えると、ClickHouse はアイドル状態のスレッドが使用しているリソースを解放し、プールサイズを縮小します。必要に応じてスレッドは再度作成されます。                                                                  | `0`       |
| `backups_io_thread_pool_queue_size`                          | Backups IO Thread プールでスケジュールできるジョブの最大数です。現在の S3 バックアップロジックのため、このキューは無制限にしておくことを推奨します。注: 値が`0`（default）は「無制限」を意味します。                                                                                                                                                                                           | `0`       |
| `backup_threads`                                             | 実行に使用するスレッドの最大数`BACKUP`リクエスト。                                                                                                                                                                                                                                                                                 |           |
| `max_backup_bandwidth_for_server`                            | サーバー上のすべてのバックアップに対する、1秒あたりの最大読み取り速度（バイト単位）。0 は無制限を意味します。                                                                                                                                                                                                                                                      | `0`       |
| `shutdown_wait_backups_and_restores`                         | true に設定すると、ClickHouse はシャットダウン前に、実行中のバックアップおよびリストアが完了するまで待機します。                                                                                                                                                                                                                                              | `1`       |