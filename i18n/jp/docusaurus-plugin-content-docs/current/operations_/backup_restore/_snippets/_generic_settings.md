| 設定                                                           | 概要                                                                                                                                                                                                                           | デフォルト値    |
| ------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------- |
| `id`                                                         | バックアップまたはリストア操作の ID。指定されていない場合は、ランダムに生成された UUID が使用されます。同じ ID の操作がすでに実行中の場合は、例外がスローされます。                                                                                                                                     |           |
| `compression_method`                                         | バックアップに使用する圧縮方式を指定します。セクション [「column compression codecs」](/sql-reference/statements/create/table#column_compression_codec) を参照してください。                                                                                        |           |
| `compression_level`                                          | バックアップの圧縮レベルを指定します                                                                                                                                                                                                           |           |
| `password`                                                   | ディスク上のファイルのパスワード。                                                                                                                                                                                                            |           |
| `base_backup`                                                | 増分バックアップで使用するベースバックアップの格納先。例: `Disk('backups', '1.zip')`                                                                                                                                                                     |           |
| `use_same_password_for_base_backup`                          | ベースバックアップのアーカイブがクエリのパスワードを継承するかどうか。                                                                                                                                                                                          |           |
| `structure_only`                                             | 有効にすると、実際のテーブルデータではなく CREATE 文だけをバックアップ／リストアします。                                                                                                                                                                             |           |
| `storage_policy`                                             | 復元するテーブルに対するストレージポリシーです。詳細は[「複数のブロックデバイスを使用したデータストレージ」](/engines/table-engines/mergetree-family/mergetree#table_engine-mergetree-multiple-volumes)を参照してください。`RESTORE` コマンドにのみ適用され、`MergeTree` ファミリーのエンジンを使用するテーブルに対してのみ有効です。 |           |
| `allow_non_empty_tables`                                     | `RESTORE TABLE` が、すでにデータが入っているテーブルに対してもデータを挿入できるようにします。これにより、テーブル内の既存データとバックアップから復元されたデータが混在します。その結果、テーブル内でデータの重複が発生する可能性があるため、注意して使用してください。                                                                                 | `0`       |
| `backup_restore_keeper_max_retries`                          | BACKUP または RESTORE 処理の途中で実行される [Zoo]Keeper 操作の最大再試行回数。一時的な [Zoo]Keeper 障害が原因で BACKUP/RESTORE 処理全体が失敗しないよう、十分大きな値にする必要があります。                                                                                                  | `1000`    |
| `backup_restore_keeper_retry_initial_backoff_ms`             | バックアップまたはリストア中の [Zoo]Keeper 操作に対するバックオフの初期待ち時間                                                                                                                                                                               | `100`     |
| `backup_restore_keeper_retry_max_backoff_ms`                 | バックアップまたはリストア中の [Zoo]Keeper 操作に対する最大バックオフ時間                                                                                                                                                                                  | `5000`    |
| `backup_restore_failure_after_host_disconnected_for_seconds` | `BACKUP ON CLUSTER` または `RESTORE ON CLUSTER` の操作中に、ホストが ZooKeeper 上の一時的な「alive」ノードをこの時間内に再作成しない場合、バックアップまたはリストア全体は失敗と見なされます。この値は、障害発生後にホストが ZooKeeper に再接続するのに要ると考えられるどのような妥当な時間よりも長く設定する必要があります。`0` は無制限を意味します。             | `3600`    |
| `backup_restore_keeper_max_retries_while_initializing`       | `BACKUP ON CLUSTER` または `RESTORE ON CLUSTER` 操作の初期化処理中に実行される [Zoo]Keeper 操作の最大再試行回数。                                                                                                                                         | `20`      |
| `backup_restore_keeper_max_retries_while_handling_error`     | `BACKUP ON CLUSTER` または `RESTORE ON CLUSTER` 操作でエラー処理中に行われる [Zoo]Keeper 操作の最大リトライ回数。                                                                                                                                         | `20`      |
| `backup_restore_finish_timeout_after_error_sec`              | イニシエータが、他のホストが &#39;error&#39; ノードに反応して現在の `BACKUP ON CLUSTER` または `RESTORE ON CLUSTER` 操作での処理を停止するまで待つべき時間。                                                                                                                 | `180`     |
| `backup_restore_keeper_value_max_size`                       | バックアップ時における [Zoo]Keeper ノードデータの最大サイズ                                                                                                                                                                                         | `1048576` |
| `backup_restore_batch_size_for_keeper_multi`                 | バックアップまたはリストア時に [Zoo]Keeper へ送信される multi リクエストのバッチ最大サイズ                                                                                                                                                                      | `1000`    |
| `backup_restore_batch_size_for_keeper_multiread`             | バックアップまたはリストア中に [Zoo]Keeper に対して行う multiread リクエストのバッチの最大サイズ                                                                                                                                                                 | `10000`   |
| `backup_restore_keeper_fault_injection_probability`          | バックアップまたはリストア時における keeper リクエストのおおよその失敗確率。有効な値は `[0.0f, 1.0f]` の範囲です                                                                                                                                                         | `0`       |
| `backup_restore_keeper_fault_injection_seed`                 | ランダムシードの場合は `0`、それ以外はその設定値                                                                                                                                                                                                   | `0`       |
| `backup_restore_s3_retry_attempts`                           | Aws::Client::RetryStrategy の設定です。Aws::Client が自動的にリトライを行い、0 はリトライしないことを意味します。バックアップおよびリストア処理に対してのみ有効です。                                                                                                                      | `1000`    |
| `max_backup_bandwidth`                                       | サーバー上の特定のバックアップにおける最大読み取り速度（バイト/秒）。0 の場合は無制限です。                                                                                                                                                                              | `0`       |
| `max_backups_io_thread_pool_size`                            | ClickHouse は Backups IO Thread プールのスレッドを使用して、S3 バックアップの IO 処理を実行します。`max_backups_io_thread_pool_size` は、このプール内のスレッド数の最大値を制限します。                                                                                              | `1000`    |
| `max_backups_io_thread_pool_free_size`                       | Backups IO Thread プール内の**アイドル**状態のスレッド数が `max_backup_io_thread_pool_free_size` を超えると、ClickHouse はアイドル状態のスレッドが占有しているリソースを解放し、プールサイズを縮小します。必要に応じてスレッドは再作成されます。                                                                 | `0`       |
| `backups_io_thread_pool_queue_size`                          | Backups IO スレッドプールでスケジュール可能なジョブの最大数です。現在の S3 バックアップロジックのため、このキューは無制限に設定しておくことを推奨します。注記: `0`（デフォルト）の値は無制限を意味します。                                                                                                              | `0`       |
| `backup_threads`                                             | `BACKUP` リクエストを処理するためのスレッドの最大数。                                                                                                                                                                                              |           |
| `max_backup_bandwidth_for_server`                            | サーバー上のすべてのバックアップ処理に対する 1 秒あたりの最大読み取り速度（バイト/秒）。0 を指定すると無制限になります。                                                                                                                                                              | `0`       |
| `shutdown_wait_backups_and_restores`                         | true に設定した場合、ClickHouse はシャットダウン前に実行中のバックアップおよびリストアの完了を待機します。                                                                                                                                                                | `1`       |