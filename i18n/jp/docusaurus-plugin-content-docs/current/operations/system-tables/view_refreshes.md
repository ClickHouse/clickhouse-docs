---
description: 'リフレッシュ可能なマテリアライズドビューに関する情報を含むシステムテーブル。'
keywords: ['システムテーブル', 'view_refreshes']
slug: /operations/system-tables/view_refreshes
title: 'system.view_refreshes'
doc_type: 'reference'
---

import SystemTableCloud from '@site/docs/_snippets/_system_table_cloud.md';


# system.view&#95;refreshes

<SystemTableCloud />

[Refreshable Materialized Views](../../sql-reference/statements/create/view.md#refreshable-materialized-view) に関する情報を含みます。リフレッシュ処理が進行中かどうかに関係なく、すべてのリフレッシュ可能なマテリアライズドビューが含まれます。

列:

{/*AUTOGENERATED_START*/ }

* `database` ([String](../../sql-reference/data-types/)) — テーブルが存在するデータベース名。
* `view` ([String](../../sql-reference/data-types/)) — テーブル名。
* `uuid` ([UUID](../../sql-reference/data-types/)) — テーブルの UUID（Atomic データベース）。
* `status` ([String](../../sql-reference/data-types/)) — リフレッシュの現在の状態。
* `last_success_time` ([Nullable(DateTime)](../../sql-reference/data-types/)) — 直近で正常に完了したリフレッシュが開始された時刻。サーバーの起動またはテーブル作成以降に正常終了したリフレッシュがない場合は NULL。
* `last_success_duration_ms` ([Nullable(UInt64)](../../sql-reference/data-types/)) — 直近のリフレッシュに要した時間。
* `last_refresh_time` ([Nullable(DateTime)](../../sql-reference/data-types/)) — 直近のリフレッシュ試行が終了した時刻（不明な場合や実行中の場合は開始時刻）。サーバーの起動またはテーブル作成以降にリフレッシュ試行がない場合は NULL。
* `last_refresh_replica` ([String](../../sql-reference/data-types/)) — コーディネーションが有効な場合、現在（実行中の場合）または直前（実行中でない場合）のリフレッシュ試行を実行したレプリカ名。
* `next_refresh_time` ([Nullable(DateTime)](../../sql-reference/data-types/)) — 次回のリフレッシュが開始予定の時刻。status が Scheduled の場合のみ。
* `exception` ([String](../../sql-reference/data-types/)) — 直前の試行が失敗した場合のエラーメッセージ。
* `retry` ([UInt64](../../sql-reference/data-types/)) — 現在のリフレッシュについて、これまでに失敗した試行回数。status が `RunningOnAnotherReplica` の場合は利用不可。
* `progress` ([Nullable(Float64)](../../sql-reference/data-types/)) — 指定されたレプリカにおける、現在実行中または直近で完了したリフレッシュの進行状況（0〜1 の範囲）。status が `RunningOnAnotherReplica` の場合、またはリフレッシュが実行中でない場合は NULL。
* `read_rows` ([Nullable(UInt64)](../../sql-reference/data-types/)) — 指定されたレプリカにおける、現在実行中または直近で完了したリフレッシュで読み取られた行数。status が `RunningOnAnotherReplica` の場合は NULL。
* `read_bytes` ([Nullable(UInt64)](../../sql-reference/data-types/)) — 指定されたレプリカにおける、現在実行中または直近で完了したリフレッシュで読み取られたバイト数。status が `RunningOnAnotherReplica` の場合は NULL。
* `total_rows` ([Nullable(UInt64)](../../sql-reference/data-types/)) — 指定されたレプリカにおける、現在実行中または直近で完了したリフレッシュで読み取る必要があると推定される総行数。status が `RunningOnAnotherReplica` の場合は NULL。
* `written_rows` ([Nullable(UInt64)](../../sql-reference/data-types/)) — 指定されたレプリカにおける、現在実行中または直近で完了したリフレッシュで書き込まれた行数。status が `RunningOnAnotherReplica` の場合は NULL。
* `written_bytes` ([Nullable(UInt64)](../../sql-reference/data-types/)) — 指定されたレプリカにおける、現在実行中または直近で完了したリフレッシュで書き込まれたバイト数。status が `RunningOnAnotherReplica` の場合は NULL。

{/*AUTOGENERATED_END*/ }

**例**

```sql
SELECT
    database,
    view,
    status,
    last_refresh_result,
    last_refresh_time,
    next_refresh_time
FROM system.view_refreshes

┌─database─┬─view───────────────────────┬─status────┬─last_refresh_result─┬───last_refresh_time─┬───next_refresh_time─┐
│ default  │ hello_documentation_reader │ Scheduled │ Finished            │ 2023-12-01 01:24:00 │ 2023-12-01 01:25:00 │
└──────────┴────────────────────────────┴───────────┴─────────────────────┴─────────────────────┴─────────────────────┘
```
