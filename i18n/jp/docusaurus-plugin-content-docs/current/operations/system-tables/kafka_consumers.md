---
description: 'Kafka コンシューマーに関する情報を保持するシステムテーブル。'
keywords: ['システムテーブル', 'kafka_consumers']
slug: /operations/system-tables/kafka_consumers
title: 'system.kafka_consumers'
doc_type: 'リファレンス'
---

import SystemTableCloud from '@site/i18n/jp/docusaurus-plugin-content-docs/current/_snippets/_system_table_cloud.md';

<SystemTableCloud />

Kafka コンシューマに関する情報を保持します。
[Kafka テーブルエンジン](../../engines/table-engines/integrations/kafka)（ClickHouse ネイティブ統合）で利用できます。

列:

{/*AUTOGENERATED_START*/ }

* `database` ([String](../../sql-reference/data-types/)) — Kafka Engine を使用するテーブルの属するデータベース。
* `table` ([String](../../sql-reference/data-types/)) — Kafka Engine を使用するテーブル名。
* `consumer_id` ([String](../../sql-reference/data-types/)) — Kafka コンシューマ識別子。1 つのテーブルには複数のコンシューマを設定できます。`kafka_num_consumers` パラメータで指定します。
* `assignments.topic` ([Array(String)](../../sql-reference/data-types/)) — Kafka トピック。
* `assignments.partition_id` ([Array(Int32)](../../sql-reference/data-types/)) — Kafka パーティション ID。1 つのパーティションには 1 つのコンシューマのみが割り当て可能です。
* `assignments.current_offset` ([Array(Int64)](../../sql-reference/data-types/)) — 現在のオフセット。
* `assignments.intent_size` ([Array(Nullable(Int64))](../../sql-reference/data-types/)) — 新しい StorageKafka において、プッシュされたがまだコミットされていないメッセージ数。
* `exceptions.time` ([Array(DateTime)](../../sql-reference/data-types/)) — 直近 10 件の例外が発生したタイムスタンプ。
* `exceptions.text` ([Array(String)](../../sql-reference/data-types/)) — 直近 10 件の例外のテキスト。
* `last_poll_time` ([DateTime](../../sql-reference/data-types/)) — 最新の poll のタイムスタンプ。
* `num_messages_read` ([UInt64](../../sql-reference/data-types/)) — コンシューマによって読み取られたメッセージ数。
* `last_commit_time` ([DateTime](../../sql-reference/data-types/)) — 最新の poll のタイムスタンプ。
* `num_commits` ([UInt64](../../sql-reference/data-types/)) — コンシューマによるコミットの合計回数。
* `last_rebalance_time` ([DateTime](../../sql-reference/data-types/)) — 最新の Kafka リバランスのタイムスタンプ。
* `num_rebalance_revocations` ([UInt64](../../sql-reference/data-types/)) — コンシューマからパーティションの割り当てが取り消された回数。
* `num_rebalance_assignments` ([UInt64](../../sql-reference/data-types/)) — コンシューマが Kafka クラスターに割り当てられた回数。
* `is_currently_used` ([UInt8](../../sql-reference/data-types/)) — コンシューマが現在使用中かどうかを示すフラグ。
* `last_used` ([DateTime64(6)](../../sql-reference/data-types/)) — このコンシューマが最後に使用された時刻。
* `rdkafka_stat` ([String](../../sql-reference/data-types/)) — ライブラリ内部の統計情報。無効にするには `statistics_interval_ms` を 0 に設定します。デフォルトは 3000（3 秒に 1 回）です。

{/*AUTOGENERATED_END*/ }

例：

```sql
SELECT *
FROM system.kafka_consumers
FORMAT Vertical
```

```text
Row 1:
──────
database:                   test
table:                      kafka
consumer_id:                ClickHouse-instance-test-kafka-1caddc7f-f917-4bb1-ac55-e28bd103a4a0
assignments.topic:          ['system_kafka_cons']
assignments.partition_id:   [0]
assignments.current_offset: [18446744073709550615]
exceptions.time:            []
exceptions.text:            []
last_poll_time:             2006-11-09 18:47:47
num_messages_read:          4
last_commit_time:           2006-11-10 04:39:40
num_commits:                1
last_rebalance_time:        1970-01-01 00:00:00
num_rebalance_revocations:  0
num_rebalance_assignments:  1
is_currently_used:          1
rdkafka_stat:               {...}

```
