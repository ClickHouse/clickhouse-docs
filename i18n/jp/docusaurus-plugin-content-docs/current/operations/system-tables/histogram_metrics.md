---
description: 'このテーブルには、即時に計算して Prometheus 形式でエクスポートできるヒストグラムメトリクスが含まれています。常に最新の状態に保たれています。'
keywords: ['システムテーブル', 'histogram_metrics']
slug: /operations/system-tables/histogram_metrics
title: 'system.histogram_metrics'
doc_type: 'reference'
---

import SystemTableCloud from '@site/i18n/jp/docusaurus-plugin-content-docs/current/_snippets/_system_table_cloud.md';

# histogram&#95;metrics {#histogram_metrics}

<SystemTableCloud />

このテーブルには、即座に計算でき、Prometheus 形式でエクスポート可能なヒストグラムメトリクスが含まれます。常に最新の状態が維持されます。非推奨となった `system.latency_log` の代替です。

列:

{/*AUTOGENERATED_START*/ }

* `metric` ([String](../../sql-reference/data-types/)) — メトリック名。
* `value` ([Int64](../../sql-reference/data-types/)) — メトリック値。
* `description` ([String](../../sql-reference/data-types/)) — メトリックの説明。
* `labels` ([Map(String, String)](../../sql-reference/data-types/)) — メトリックのラベル。

{/*AUTOGENERATED_END*/ }

**例**

Prometheus フォーマットですべてのヒストグラムメトリクスをエクスポートするには、次のようなクエリを使用できます。

```sql
SELECT
  metric AS name,
  toFloat64(value) AS value,
  description AS help,
  labels,
  'histogram' AS type
FROM system.histogram_metrics
FORMAT Prometheus
```

## メトリクスの説明 {#metric_descriptions}

### keeper_response_time_ms_bucket {#keeper_response_time_ms_bucket}
Keeper の応答時間（ミリ秒単位）です。

**関連項目**
- [system.asynchronous_metrics](/operations/system-tables/asynchronous_metrics) — 定期的に計算されるメトリクスを格納します。
- [system.events](/operations/system-tables/events) — 発生したイベントの数を格納します。
- [system.metric_log](/operations/system-tables/metric_log) — テーブル `system.metrics` および `system.events` のメトリクス値の履歴を格納します。
- [Monitoring](../../operations/monitoring.md) — ClickHouse の監視に関する基本概念を説明します。
