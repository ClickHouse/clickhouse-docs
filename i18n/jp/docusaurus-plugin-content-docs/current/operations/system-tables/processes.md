---
description: '`SHOW PROCESSLIST` クエリの実装に使用されるシステムテーブル。'
keywords: ['システムテーブル', 'プロセス']
slug: /operations/system-tables/processes
title: 'system.processes'
doc_type: 'reference'
---

import SystemTableCloud from '@site/i18n/jp/docusaurus-plugin-content-docs/current/_snippets/_system_table_cloud.md';

# system.processes {#systemprocesses}

<SystemTableCloud />

このシステムテーブルは、`SHOW PROCESSLIST` クエリを実装するために使用されます。

列:

{/*AUTOGENERATED_START*/ }

* `is_initial_query` ([UInt8](../../sql-reference/data-types/)) — クエリがユーザーから直接発行されたものか、分散クエリ実行の一環として ClickHouse サーバーによって発行されたものかを示します。
* `user` ([String](../../sql-reference/data-types/)) — クエリを実行したユーザー。分散処理の場合、クエリはデフォルトユーザーとしてリモートサーバーに送信されることに注意してください。このフィールドに含まれるのは、このクエリが起点となって実行された別のクエリのユーザー名ではなく、このクエリ自体に対するユーザー名です。
* `query_id` ([String](../../sql-reference/data-types/)) — 定義されている場合のクエリ ID。
* `address` ([IPv6](../../sql-reference/data-types/)) — クエリが送信された元の IP アドレスです。分散処理でも同様です。分散クエリが元々どこから送信されたかを追跡するには、クエリ送信元サーバー上の system.processes を参照します。
* `port` ([UInt16](../../sql-reference/data-types/)) — クエリ送信元のクライアントポート。
* `initial_user` ([String](../../sql-reference/data-types/)) — 初回のクエリを実行したユーザーの名前（分散クエリ実行時）。
* `initial_query_id` ([String](../../sql-reference/data-types/)) — 分散クエリ実行における初期クエリの ID。
* `initial_address` ([IPv6](../../sql-reference/data-types/)) — 親クエリが実行された元の IP アドレス。
* `initial_port` ([UInt16](../../sql-reference/data-types/)) — 親クエリを送信する際に使用されたクライアントポート。
* `interface` ([UInt8](../../sql-reference/data-types/)) — クエリの送信に使用されたインターフェイス。TCP = 1、HTTP = 2、GRPC = 3、MYSQL = 4、POSTGRESQL = 5、LOCAL = 6、TCP&#95;INTERSERVER = 7。
* `os_user` ([String](../../sql-reference/data-types/)) — clickhouse-client を実行しているオペレーティングシステム上のユーザー名。
* `client_hostname` ([String](../../sql-reference/data-types/)) — clickhouse-client または他の TCP クライアントを実行しているクライアントマシンのホスト名。
* `client_name` ([String](../../sql-reference/data-types/)) — clickhouse-client またはその他の TCP クライアント名。
* `client_revision` ([UInt64](../../sql-reference/data-types/)) — clickhouse-client または別の TCP クライアントのリビジョン番号。
* `client_version_major` ([UInt64](../../sql-reference/data-types/)) — clickhouse-client またはその他の TCP クライアントのメジャーバージョン番号。
* `client_version_minor` ([UInt64](../../sql-reference/data-types/)) — clickhouse-client またはその他の TCP クライアントのマイナーバージョン。
* `client_version_patch` ([UInt64](../../sql-reference/data-types/)) — clickhouse-client または他の TCP クライアントのバージョン番号のパッチ部分。
* `http_method` ([UInt8](../../sql-reference/data-types/)) — クエリを開始した HTTP メソッド。取り得る値: 0 — クエリが TCP インターフェースから実行された。1 — GET メソッドが使用された。2 — POST メソッドが使用された。
* `http_user_agent` ([String](../../sql-reference/data-types/)) — HTTP クエリで送信された HTTP ヘッダー `User-Agent` の値。
* `http_referer` ([String](../../sql-reference/data-types/)) — HTTP クエリで送信される HTTP ヘッダー Referer（クエリを発行したページの絶対 URL または部分的なアドレスを含む）。
* `forwarded_for` ([String](../../sql-reference/data-types/)) — HTTP クエリで送信された HTTP ヘッダー X-Forwarded-For。
* `quota_key` ([String](../../sql-reference/data-types/)) — quotas 設定で指定されたクオータキー（`keyed` を参照）。
* `distributed_depth` ([UInt64](../../sql-reference/data-types/)) — クエリが内部的にサーバーノード間で再送信された回数。
* `elapsed` ([Float64](../../sql-reference/data-types/)) — リクエスト実行の開始からの経過時間（秒）。
* `is_cancelled` ([UInt8](../../sql-reference/data-types/)) — クエリがキャンセルされたかどうかを示します。
* `is_all_data_sent` ([UInt8](../../sql-reference/data-types/)) — すべてのデータがクライアントに送信されたかどうか（言い換えると、サーバー側でクエリの処理が完了したかどうか）。
* `read_rows` ([UInt64](../../sql-reference/data-types/)) — テーブルから読み出された行の数。分散処理の場合、要求元サーバーでは、すべてのリモートサーバーで読み出された行数の合計となります。
* `read_bytes` ([UInt64](../../sql-reference/data-types/)) — テーブルから読み取られた非圧縮バイト数。分散処理の場合、要求元サーバー上では、すべてのリモートサーバー分を合計した値になります。
* `total_rows_approx` ([UInt64](../../sql-reference/data-types/)) — 読み取られる行の総数のおおよその値を表します。分散処理においては、要求元サーバーでは、これはすべてのリモートサーバー分を合算した値になります。処理すべき新たなソースが判明した場合には、リクエスト処理中に更新されることがあります。
* `written_rows` ([UInt64](../../sql-reference/data-types/)) — ストレージに書き込まれた行の総数。
* `written_bytes` ([UInt64](../../sql-reference/data-types/)) — ストレージに書き込まれた総バイト数。
* `memory_usage` ([Int64](../../sql-reference/data-types/)) — クエリが使用している RAM の量。一部の種類の専用メモリは含まれない場合があります。
* `peak_memory_usage` ([Int64](../../sql-reference/data-types/)) — 現在のメモリ使用量の最大値。
* `query` ([String](../../sql-reference/data-types/)) — クエリ文字列。INSERT クエリの場合、挿入するデータは含まれません。
* `normalized_query_hash` ([UInt64](../../sql-reference/data-types/)) — リテラル値だけが異なるクエリ間で同一になる数値ハッシュ値。
* `query_kind` ([String](../../sql-reference/data-types/)) — クエリ種別 — SELECT、INSERT など。
* `thread_ids` ([Array(UInt64)](../../sql-reference/data-types/)) — このクエリの実行に関与したすべてのスレッドの識別子一覧。
* `peak_threads_usage` ([UInt64](../../sql-reference/data-types/)) — クエリの実行に使用されている同時スレッド数の最大値。
* `ProfileEvents` ([Map(LowCardinality(String), UInt64)](../../sql-reference/data-types/)) — このクエリに対して算出された ProfileEvents。
* `Settings` ([Map(LowCardinality(String), LowCardinality(String))](../../sql-reference/data-types/)) — ユーザーレベルで変更された設定の一覧。
* `current_database` ([String](../../sql-reference/data-types/)) — 現在のデータベースの名前。
* `is_internal` ([UInt8](../../sql-reference/data-types/)) — 内部的に実行される補助クエリであるかどうかを示します。

{/*AUTOGENERATED_END*/ }

```sql
SELECT * FROM system.processes LIMIT 10 FORMAT Vertical;
```

```response
Row 1:
──────
is_initial_query:     1
user:                 default
query_id:             35a360fa-3743-441d-8e1f-228c938268da
address:              ::ffff:172.23.0.1
port:                 47588
initial_user:         default
initial_query_id:     35a360fa-3743-441d-8e1f-228c938268da
initial_address:      ::ffff:172.23.0.1
initial_port:         47588
interface:            1
os_user:              bharatnc
client_hostname:      tower
client_name:          ClickHouse
client_revision:      54437
client_version_major: 20
client_version_minor: 7
client_version_patch: 2
http_method:          0
http_user_agent:
quota_key:
elapsed:              0.000582537
is_cancelled:         0
is_all_data_sent:     0
read_rows:            0
read_bytes:           0
total_rows_approx:    0
written_rows:         0
written_bytes:        0
memory_usage:         0
peak_memory_usage:    0
query:                SELECT * from system.processes LIMIT 10 FORMAT Vertical;
thread_ids:           [67]
ProfileEvents:        {'Query':1,'SelectQuery':1,'ReadCompressedBytes':36,'CompressedReadBufferBlocks':1,'CompressedReadBufferBytes':10,'IOBufferAllocs':1,'IOBufferAllocBytes':89,'ContextLock':15,'RWLockAcquiredReadLocks':1}
Settings:             {'background_pool_size':'32','load_balancing':'random','allow_suspicious_low_cardinality_types':'1','distributed_aggregation_memory_efficient':'1','skip_unavailable_shards':'1','log_queries':'1','max_bytes_before_external_group_by':'20000000000','max_bytes_before_external_sort':'20000000000','allow_introspection_functions':'1'}

1 rows in set. Elapsed: 0.002 sec.
```
