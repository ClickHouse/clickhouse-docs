---
description: '`SHOW PROCESSLIST` クエリを実装するために使用されるシステムテーブル。'
keywords: ['システムテーブル', 'プロセス']
slug: /operations/system-tables/processes
title: 'system.processes'
doc_type: 'reference'
---

import SystemTableCloud from '@site/docs/_snippets/_system_table_cloud.md';


# system.processes

<SystemTableCloud/>

このシステムテーブルは、`SHOW PROCESSLIST` クエリの実装に使用されます。

列:



{/*AUTOGENERATED_START*/ }

* `is_initial_query` ([UInt8](../../sql-reference/data-types/)) — このクエリがユーザーから直接発行されたものか、分散クエリ実行の一部として ClickHouse サーバーによって発行されたものかを示します。
* `user` ([String](../../sql-reference/data-types/)) — クエリを実行したユーザー。分散処理の場合、クエリはデフォルトユーザーとしてリモートサーバーに送信されることに注意してください。このフィールドには、このクエリ自体を実行したユーザー名が格納され、このクエリによって起動された別のクエリのユーザー名は含まれません。
* `query_id` ([String](../../sql-reference/data-types/)) — クエリ ID（定義されている場合）。
* `address` ([IPv6](../../sql-reference/data-types/)) — クエリが実行された送信元の IP アドレス。分散処理の場合も同様です。分散クエリがもともとどこから実行されたかを追跡するには、クエリ送信元サーバー上の system.processes を参照します。
* `port` ([UInt16](../../sql-reference/data-types/)) — クエリが送信されたクライアントのポート番号。
* `initial_user` ([String](../../sql-reference/data-types/)) — 分散クエリ実行において最初のクエリを実行したユーザーの名前。
* `initial_query_id` ([String](../../sql-reference/data-types/)) — 分散クエリ実行時の初回クエリ ID。
* `initial_address` ([IPv6](../../sql-reference/data-types/)) — 親クエリが実行された送信元の IP アドレス。
* `initial_port` ([UInt16](../../sql-reference/data-types/)) — 親クエリを実行する際に使用されたクライアントポート。
* `interface` ([UInt8](../../sql-reference/data-types/)) — クエリを送信する際に使用されたインターフェイス。TCP = 1、HTTP = 2、GRPC = 3、MYSQL = 4、POSTGRESQL = 5、LOCAL = 6、TCP&#95;INTERSERVER = 7。
* `os_user` ([String](../../sql-reference/data-types/)) — clickhouse-client を実行している OS のユーザー名。`
* `client_hostname` ([String](../../sql-reference/data-types/)) — clickhouse-client または他の TCP クライアントが実行されているクライアントマシンのホスト名。
* `client_name` ([String](../../sql-reference/data-types/)) — clickhouse-client またはその他の TCP クライアントの名前。
* `client_revision` ([UInt64](../../sql-reference/data-types/)) — clickhouse-client または他の TCP クライアントのリビジョン番号。
* `client_version_major` ([UInt64](../../sql-reference/data-types/)) — clickhouse-client または別の TCP クライアントのメジャーバージョン番号。
* `client_version_minor` ([UInt64](../../sql-reference/data-types/)) — clickhouse-client または他の TCP クライアントのマイナーバージョン。
* `client_version_patch` ([UInt64](../../sql-reference/data-types/)) — clickhouse-client または別の TCP クライアントのバージョン番号のパッチ部分。
* `http_method` ([UInt8](../../sql-reference/data-types/)) — クエリを開始した HTTP メソッド。取り得る値: 0 — クエリが TCP インターフェイスから実行された。1 — GET メソッドが使用された。2 — POST メソッドが使用された。
* `http_user_agent` ([String](../../sql-reference/data-types/)) — HTTP クエリで送信された HTTP ヘッダー `User-Agent`。
* `http_referer` ([String](../../sql-reference/data-types/)) — HTTP クエリで送信された Referer HTTP ヘッダー（クエリを実行したページの絶対または部分的な URL を含む）。
* `forwarded_for` ([String](../../sql-reference/data-types/)) — HTTP クエリで送信された X-Forwarded-For HTTP ヘッダー。
* `quota_key` ([String](../../sql-reference/data-types/)) — `quotas` 設定で指定されたクォータのキー（`keyed` を参照）。
* `distributed_depth` ([UInt64](../../sql-reference/data-types/)) — クエリがサーバーノード間で内部的に再送された回数。
* `elapsed` ([Float64](../../sql-reference/data-types/)) — リクエストの実行開始からの経過時間（秒）。
* `is_cancelled` ([UInt8](../../sql-reference/data-types/)) — クエリがキャンセルされたかどうかを示します。
* `is_all_data_sent` ([UInt8](../../sql-reference/data-types/)) — すべてのデータがクライアントに送信されたかどうか（つまり、サーバー側でクエリの実行が完了したかどうか）を示します。
* `read_rows` ([UInt64](../../sql-reference/data-types/)) — テーブルから読み取られた行数。分散処理の場合、リクエスト元サーバーでは、すべてのリモートサーバーの合計値となります。
* `read_bytes` ([UInt64](../../sql-reference/data-types/)) — テーブルから読み込まれた非圧縮バイト数。分散処理の場合、リクエスト元サーバーでは、すべてのリモートサーバー分を合計した値となります。
* `total_rows_approx` ([UInt64](../../sql-reference/data-types/)) — 読み取られるべき行数のおおよその値。分散処理においては、要求元サーバー上では、すべてのリモートサーバー分を合計した値となる。処理対象となる新しいソースが判明した場合、リクエスト処理中に更新されることがある。
* `written_rows` ([UInt64](../../sql-reference/data-types/)) — ストレージに書き込まれた行数。
* `written_bytes` ([UInt64](../../sql-reference/data-types/)) — ストレージに書き込まれたバイト数。
* `memory_usage` ([Int64](../../sql-reference/data-types/)) — クエリが使用する RAM の量。一部の専用メモリ領域は含まれない場合があります
* `peak_memory_usage` ([Int64](../../sql-reference/data-types/)) — 現在までの最大メモリ使用量。
* `query` ([String](../../sql-reference/data-types/)) — クエリ文字列。INSERT の場合、挿入するデータは含まれません。
* `normalized_query_hash` ([UInt64](../../sql-reference/data-types/)) — リテラル値のみが異なるクエリであれば同一になる数値ハッシュ値。
* `query_kind` ([String](../../sql-reference/data-types/)) — クエリの種別（SELECT、INSERT など）。
* `thread_ids` ([Array(UInt64)](../../sql-reference/data-types/)) — このクエリに参加したすべてのスレッドの識別子一覧。
* `peak_threads_usage` ([UInt64](../../sql-reference/data-types/)) — 同時にクエリを実行しているスレッド数の最大値。
* `ProfileEvents` ([Map(String, UInt64)](../../sql-reference/data-types/)) — このクエリに対して計算された ProfileEvents を示します。
* `Settings` ([Map(String, String)](../../sql-reference/data-types/)) — 変更されたユーザーレベルの設定リスト。
* `current_database` ([String](../../sql-reference/data-types/)) — 現在のデータベースの名前。
* `is_internal` ([UInt8](../../sql-reference/data-types/)) — 内部的に実行される補助クエリかどうかを示します。

{/*AUTOGENERATED_END*/ }

```sql
SELECT * FROM system.processes LIMIT 10 FORMAT Vertical;
```

```response
Row 1:
──────
is_initial_query:     1
user:                 default
query_id:             35a360fa-3743-441d-8e1f-228c938268da
address:              ::ffff:172.23.0.1
port:                 47588
initial_user:         default
initial_query_id:     35a360fa-3743-441d-8e1f-228c938268da
initial_address:      ::ffff:172.23.0.1
initial_port:         47588
interface:            1
os_user:              bharatnc
client_hostname:      tower
client_name:          ClickHouse
client_revision:      54437
client_version_major: 20
client_version_minor: 7
client_version_patch: 2
http_method:          0
http_user_agent:
quota_key:
elapsed:              0.000582537
is_cancelled:         0
is_all_data_sent:     0
read_rows:            0
read_bytes:           0
total_rows_approx:    0
written_rows:         0
written_bytes:        0
memory_usage:         0
peak_memory_usage:    0
query:                SELECT * from system.processes LIMIT 10 FORMAT Vertical;
thread_ids:           [67]
ProfileEvents:        {'Query':1,'SelectQuery':1,'ReadCompressedBytes':36,'CompressedReadBufferBlocks':1,'CompressedReadBufferBytes':10,'IOBufferAllocs':1,'IOBufferAllocBytes':89,'ContextLock':15,'RWLockAcquiredReadLocks':1}
Settings:             {'background_pool_size':'32','load_balancing':'random','allow_suspicious_low_cardinality_types':'1','distributed_aggregation_memory_efficient':'1','skip_unavailable_shards':'1','log_queries':'1','max_bytes_before_external_group_by':'20000000000','max_bytes_before_external_sort':'20000000000','allow_introspection_functions':'1'}

1 rows in set. Elapsed: 0.002 sec.
```
