---
description: 'ローカルサーバー上のスケジューリングノードの情報および状態を含むシステムテーブル。'
keywords: ['system table', 'スケジューラ']
slug: /operations/system-tables/scheduler
title: 'system.scheduler'
doc_type: 'reference'
---

import SystemTableCloud from '@site/i18n/jp/docusaurus-plugin-content-docs/current/_snippets/_system_table_cloud.md';

# system.scheduler \\{#systemscheduler\\}

<SystemTableCloud />

ローカルサーバー上にある[スケジューリングノード](/operations/workload-scheduling.md/#hierarchy)に関する情報およびステータスを保持します。
このテーブルは監視用途に使用できます。テーブルには各スケジューリングノードにつき 1 行が格納されます。

例:

```sql
SELECT *
FROM system.scheduler
WHERE resource = 'network_read' AND path = '/prio/fair/prod'
FORMAT Vertical
```

```text
Row 1:
──────
resource:          network_read
path:              /prio/fair/prod
type:              fifo
weight:            5
priority:          0
is_active:         0
active_children:   0
dequeued_requests: 67
canceled_requests: 0
dequeued_cost:     4692272
canceled_cost:     0
busy_periods:      63
vruntime:          938454.1999999989
system_vruntime:   ᴺᵁᴸᴸ
queue_length:      0
queue_cost:        0
budget:            -60524
is_satisfied:      ᴺᵁᴸᴸ
inflight_requests: ᴺᵁᴸᴸ
inflight_cost:     ᴺᵁᴸᴸ
max_requests:      ᴺᵁᴸᴸ
max_cost:          ᴺᵁᴸᴸ
max_speed:         ᴺᵁᴸᴸ
max_burst:         ᴺᵁᴸᴸ
throttling_us:     ᴺᵁᴸᴸ
tokens:            ᴺᵁᴸᴸ
```

カラム:

{/*AUTOGENERATED_START*/ }

* `resource` ([String](../../sql-reference/data-types/)) — リソース名
* `path` ([String](../../sql-reference/data-types/)) — このリソーススケジューリング階層内のスケジューリングノードを指すパス
* `type` ([String](../../sql-reference/data-types/)) — スケジューリングノードの種類。
* `weight` ([Float64](../../sql-reference/data-types/)) — ノードの重み。`fair` 型の親ノードで使用されます。
* `priority` ([Int64](../../sql-reference/data-types/)) — ノードの優先度。`priority` 型の親ノードで使用されます（値が小さいほど優先度が高くなります）。
* `is_active` ([UInt8](../../sql-reference/data-types/)) — このノードが現在アクティブかどうか（キューから取り出すべきリソース要求があり、かつ制約が満たされているかどうか）を示します。
* `active_children` ([UInt64](../../sql-reference/data-types/)) — アクティブな状態にある子の数。
* `dequeued_requests` ([UInt64](../../sql-reference/data-types/)) — このノードでキューからデキューされたリソース要求の総数。
* `canceled_requests` ([UInt64](../../sql-reference/data-types/)) — このノードからのリソース要求のうち、キャンセルされたものの合計数。
* `dequeued_cost` ([Int64](../../sql-reference/data-types/)) — このノードからデキューされたすべてのリクエストのコスト（例: バイト数）の合計。
* `throughput` ([Float64](../../sql-reference/data-types/)) — 現在の平均スループット（1 秒あたりにデキューされたコスト）。
* `canceled_cost` ([Int64](../../sql-reference/data-types/)) — このノードでキャンセルされたすべてのリクエストのコスト（例：バイト数）の合計。
* `busy_periods` ([UInt64](../../sql-reference/data-types/)) — このノードで非アクティブ化が行われた総回数。
* `vruntime` ([Nullable(Float64)](../../sql-reference/data-types/)) — `fair` ノードに属する子ノードにのみ適用。SFQ アルゴリズムが max-min 公平な方法で次に処理する子ノードを選択するために使用されるノードの仮想ランタイム。
* `system_vruntime` ([Nullable(Float64)](../../sql-reference/data-types/)) — `fair` ノードでのみ使用されます。最後に処理されたリソース要求の `vruntime` を示す仮想ランタイムであり、子ノードの有効化時に新しい `vruntime` の値として使用されます。
* `queue_length` ([Nullable(UInt64)](../../sql-reference/data-types/)) — `fifo` ノードでのみ有効。現在キューに滞留しているリソースリクエストの数。
* `queue_cost` ([Nullable(Int64)](../../sql-reference/data-types/)) — FIFO ノードでのみ使用されます。キュー内に存在するすべてのリクエストのコスト（例：バイト単位のサイズ）の合計です。
* `budget` ([Nullable(Int64)](../../sql-reference/data-types/)) — FIFO ノード専用。新しいリソース要求に対して利用可能な「コスト単位」の数。不足が、リソース要求の推定コストと実際のコストの間で生じた場合（例: 読み取り/書き込み障害後）に設定されることがあります。
* `is_satisfied` ([Nullable(UInt8)](../../sql-reference/data-types/)) — 制約ノードでのみ使用されます（例: `inflight_limit`）。このノードに設定されたすべての制約が満たされている場合は `1` です。
* `inflight_requests` ([Nullable(Int64)](../../sql-reference/data-types/)) — `inflight_limit` ノード専用。現在「消費」状態にある、このノードからデキューされたリソースリクエストの数。
* `inflight_cost` ([Nullable(Int64)](../../sql-reference/data-types/)) — `inflight_limit` ノード専用。現在消費中の、このノードからデキューされたすべてのリソース要求のコスト（例：バイト数）の合計。
* `max_requests` ([Nullable(Int64)](../../sql-reference/data-types/)) — `inflight_limit` ノード専用。制約違反となる `inflight_requests` の上限。`
* `max_cost` ([Nullable(Int64)](../../sql-reference/data-types/)) — `inflight_limit` ノード専用。制約違反となる `inflight_cost` の上限。
* `max_speed` ([Nullable(Float64)](../../sql-reference/data-types/)) — `bandwidth_limit` ノードにのみ適用されます。帯域幅の上限値（トークン/秒）。
* `max_burst` ([Nullable(Float64)](../../sql-reference/data-types/)) — `bandwidth_limit` ノード専用。トークンバケット方式のスロットリングで利用可能なトークン数の上限。
* `throttling_us` ([Nullable(Int64)](../../sql-reference/data-types/)) — `bandwidth_limit` ノードにのみ適用。このノードがスロットリング状態にあった時間の合計（マイクロ秒）。
* `tokens` ([Nullable(Float64)](../../sql-reference/data-types/)) — `bandwidth_limit` ノードでのみ使用。トークンバケット方式のスロットリングで現在利用可能なトークン数。

{/*AUTOGENERATED_END*/ }
