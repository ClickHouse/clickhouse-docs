---
description: 'ローカルサーバー上に存在するスケジューリングノードの情報と状態を保持するシステムテーブル。'
keywords: ['system table', 'scheduler']
slug: /operations/system-tables/scheduler
title: 'system.scheduler'
doc_type: 'reference'
---

import SystemTableCloud from '@site/docs/_snippets/_system_table_cloud.md';


# system.scheduler

<SystemTableCloud />

ローカルサーバー上にある[スケジューリングノード](/operations/workload-scheduling.md/#hierarchy)に関する情報および状態を保持します。
このテーブルは監視用途に利用できます。テーブルには、各スケジューリングノードにつき 1 行が格納されます。

例:

```sql
SELECT *
FROM system.scheduler
WHERE resource = 'network_read' AND path = '/prio/fair/prod'
FORMAT Vertical
```

```text
Row 1:
──────
resource:          network_read
path:              /prio/fair/prod
type:              fifo
weight:            5
priority:          0
is_active:         0
active_children:   0
dequeued_requests: 67
canceled_requests: 0
dequeued_cost:     4692272
canceled_cost:     0
busy_periods:      63
vruntime:          938454.1999999989
system_vruntime:   ᴺᵁᴸᴸ
queue_length:      0
queue_cost:        0
budget:            -60524
is_satisfied:      ᴺᵁᴸᴸ
inflight_requests: ᴺᵁᴸᴸ
inflight_cost:     ᴺᵁᴸᴸ
max_requests:      ᴺᵁᴸᴸ
max_cost:          ᴺᵁᴸᴸ
max_speed:         ᴺᵁᴸᴸ
max_burst:         ᴺᵁᴸᴸ
throttling_us:     ᴺᵁᴸᴸ
tokens:            ᴺᵁᴸᴸ
```

カラム:


<!--AUTOGENERATED_START-->

- `resource` ([String](../../sql-reference/data-types/)) — リソース名
- `path` ([String](../../sql-reference/data-types/)) — このリソーススケジューリング階層内のスケジューリングノードへのパス
- `type` ([String](../../sql-reference/data-types/)) — スケジューリングノードのタイプ
- `weight` ([Float64](../../sql-reference/data-types/)) — ノードの重み。`fair`タイプの親ノードで使用されます
- `priority` ([Int64](../../sql-reference/data-types/)) — ノードの優先度。`priority`タイプの親ノードで使用されます(値が小さいほど優先度が高くなります)
- `is_active` ([UInt8](../../sql-reference/data-types/)) — このノードが現在アクティブかどうか - デキュー対象のリソースリクエストがあり、制約が満たされている状態
- `active_children` ([UInt64](../../sql-reference/data-types/)) — アクティブ状態の子ノードの数
- `dequeued_requests` ([UInt64](../../sql-reference/data-types/)) — このノードからデキューされたリソースリクエストの総数
- `canceled_requests` ([UInt64](../../sql-reference/data-types/)) — このノードからキャンセルされたリソースリクエストの総数
- `dequeued_cost` ([Int64](../../sql-reference/data-types/)) — このノードからデキューされたすべてのリクエストのコスト(例:バイト単位のサイズ)の合計
- `throughput` ([Float64](../../sql-reference/data-types/)) — 現在の平均スループット(1秒あたりのデキューコスト)
- `canceled_cost` ([Int64](../../sql-reference/data-types/)) — このノードからキャンセルされたすべてのリクエストのコスト(例:バイト単位のサイズ)の合計
- `busy_periods` ([UInt64](../../sql-reference/data-types/)) — このノードの非アクティブ化の総回数
- `vruntime` ([Nullable(Float64)](../../sql-reference/data-types/)) — `fair`ノードの子ノードのみ。SFQアルゴリズムが最大最小公平方式で次に処理する子ノードを選択する際に使用するノードの仮想実行時間
- `system_vruntime` ([Nullable(Float64)](../../sql-reference/data-types/)) — `fair`ノードのみ。最後に処理されたリソースリクエストの`vruntime`を示す仮想実行時間。子ノードのアクティブ化時に`vruntime`の新しい値として使用されます
- `queue_length` ([Nullable(UInt64)](../../sql-reference/data-types/)) — `fifo`ノードのみ。キューに存在するリソースリクエストの現在の数
- `queue_cost` ([Nullable(Int64)](../../sql-reference/data-types/)) — `fifo`ノードのみ。キューに存在するすべてのリクエストのコスト(例:バイト単位のサイズ)の合計
- `budget` ([Nullable(Int64)](../../sql-reference/data-types/)) — `fifo`ノードのみ。新しいリソースリクエストに利用可能な「コスト単位」の数。リソースリクエストの推定コストと実際のコストに不一致がある場合に表示されることがあります(例:読み取り/書き込み失敗後)
- `is_satisfied` ([Nullable(UInt8)](../../sql-reference/data-types/)) — 制約ノードのみ(例:`inflight_limit`)。このノードのすべての制約が満たされている場合は`1`になります
- `inflight_requests` ([Nullable(Int64)](../../sql-reference/data-types/)) — `inflight_limit`ノードのみ。このノードからデキューされ、現在消費状態にあるリソースリクエストの数
- `inflight_cost` ([Nullable(Int64)](../../sql-reference/data-types/)) — `inflight_limit`ノードのみ。このノードからデキューされ、現在消費状態にあるすべてのリソースリクエストのコスト(例:バイト)の合計
- `max_requests` ([Nullable(Int64)](../../sql-reference/data-types/)) — `inflight_limit`ノードのみ。制約違反につながるinflight_requestsの上限
- `max_cost` ([Nullable(Int64)](../../sql-reference/data-types/)) — `inflight_limit`ノードのみ。制約違反につながるinflight_costの上限
- `max_speed` ([Nullable(Float64)](../../sql-reference/data-types/)) — `bandwidth_limit`ノードのみ。1秒あたりのトークン数で表される帯域幅の上限
- `max_burst` ([Nullable(Float64)](../../sql-reference/data-types/)) — `bandwidth_limit`ノードのみ。トークンバケットスロットラーで利用可能なトークンの上限
- `throttling_us` ([Nullable(Int64)](../../sql-reference/data-types/)) — `bandwidth_limit`ノードのみ。このノードがスロットリング状態にあったマイクロ秒の総数
- `tokens` ([Nullable(Float64)](../../sql-reference/data-types/)) — `bandwidth_limit`ノードのみ。トークンバケットスロットラーで現在利用可能なトークンの数
<!--AUTOGENERATED_END-->
