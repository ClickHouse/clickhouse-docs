---
description: 'テーブル関数のドキュメント'
sidebar_label: 'テーブル関数'
sidebar_position: 1
slug: /sql-reference/table-functions/
title: 'テーブル関数'
doc_type: 'reference'
---



# テーブル関数

テーブル関数は、テーブルを構築するためのメソッドです。

<!--AUTOGENERATED_START-->
<!--AUTOGENERATED_END-->


## 使用方法 {#usage}

テーブル関数は`SELECT`クエリの[`FROM`](../../sql-reference/statements/select/from.md)句で使用できます。例えば、`file`テーブル関数を使用してローカルマシン上のファイルからデータを`SELECT`できます。

```bash
echo "1, 2, 3" > example.csv
```

```text
./clickhouse client
:) SELECT * FROM file('example.csv')
┌─c1─┬─c2─┬─c3─┐
│  1 │  2 │  3 │
└────┴────┴────┘
```

また、テーブル関数を使用して、現在のクエリ内でのみ利用可能な一時テーブルを作成することもできます。例:

```sql title="クエリ"
SELECT * FROM generateSeries(1,5);
```

```response title="レスポンス"
┌─generate_series─┐
│               1 │
│               2 │
│               3 │
│               4 │
│               5 │
└─────────────────┘
```

テーブルはクエリが終了すると削除されます。

テーブル関数は、以下の構文を使用してテーブルを作成する方法としても使用できます:

```sql
CREATE TABLE [IF NOT EXISTS] [db.]table_name AS table_function()
```

例:

```sql title="クエリ"
CREATE TABLE series AS generateSeries(1, 5);
SELECT * FROM series;
```

```response
┌─generate_series─┐
│               1 │
│               2 │
│               3 │
│               4 │
│               5 │
└─────────────────┘
```

最後に、テーブル関数を使用してテーブルにデータを`INSERT`することもできます。例えば、前の例で作成したテーブルの内容を、再び`file`テーブル関数を使用してディスク上のファイルに書き出すことができます:

```sql
INSERT INTO FUNCTION file('numbers.csv', 'CSV') SELECT * FROM series;
```

```bash
cat numbers.csv
1
2
3
4
5
```

:::note
[allow_ddl](/operations/settings/settings#allow_ddl)設定が無効になっている場合、テーブル関数は使用できません。
:::
