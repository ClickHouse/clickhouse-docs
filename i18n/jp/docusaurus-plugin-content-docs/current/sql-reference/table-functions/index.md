---
'description': 'Table Functionsに関するドキュメント'
'sidebar_label': 'テーブル関数'
'sidebar_position': 1
'slug': '/sql-reference/table-functions/'
'title': 'テーブル関数'
'doc_type': 'reference'
---


# テーブル関数

テーブル関数は、テーブルを構築するためのメソッドです。

<!--AUTOGENERATED_START-->
| ページ | 説明 |
|-----|-----|
| [azureBlobStorage](/sql-reference/table-functions/azureBlobStorage) | Azure Blob Storage内のファイルを選択/挿入するためのテーブルのようなインターフェースを提供します。s3関数に似ています。 |
| [azureBlobStorageCluster](/sql-reference/table-functions/azureBlobStorageCluster) | 指定されたクラスター内の多数のノードでAzure Blobストレージからファイルを並行処理できるようにします。 |
| [clusterAllReplicas](/sql-reference/table-functions/cluster) | 分散テーブルを作成せずに、クラスターのすべてのシャード（`remote_servers`セクションで構成された）にアクセスできるようにします。 |
| [deltaLake](/sql-reference/table-functions/deltalake) | Amazon S3内のDelta Lakeテーブルに対する読み取り専用のテーブルのようなインターフェースを提供します。 |
| [deltaLakeCluster](/sql-reference/table-functions/deltalakeCluster) | deltaLakeテーブル関数への拡張です。 |
| [dictionary](/sql-reference/table-functions/dictionary) | ClickHouseテーブルとして辞書データを表示します。Dictionaryエンジンと同じように機能します。 |
| [executable](/engines/table-functions/executable) | `executable`テーブル関数は、**stdout**に行を出力するスクリプトで定義したユーザー定義関数（UDF）の出力に基づいてテーブルを作成します。 |
| [file](/sql-reference/table-functions/file) | ファイルからSELECTおよびINSERTするためのテーブルのようなインターフェースを提供するテーブルエンジンで、s3テーブル関数に似ています。ローカルファイルを扱う際には`file()`を、S3やGCS、MinIOなどのオブジェクトストレージのバケットを扱う際には`s3()`を使用します。 |
| [fileCluster](/sql-reference/table-functions/fileCluster) | 指定されたパスに一致するファイルをクラスター内の複数のノードで同時に処理できるようにします。イニシエーターはワーカーノードに接続し、ファイルパス内のグロブを展開し、ファイル読み込みタスクをワーカーノードに委任します。各ワーカーノードは次のファイルを処理するためにイニシエーターにクエリを送信し、すべてのタスクが完了するまで繰り返します（すべてのファイルが読み込まれるまで）。 |
| [format](/sql-reference/table-functions/format) | 指定された入力形式に従って引数からデータを解析します。構造の引数が指定されていない場合は、データから抽出されます。 |
| [gcs](/sql-reference/table-functions/gcs) | Google Cloud Storageからデータを`SELECT`および`INSERT`するためのテーブルのようなインターフェースを提供します。`Storage Object User` IAMロールが必要です。 |
| [fuzzQuery](/sql-reference/table-functions/fuzzQuery) | 与えられたクエリ文字列をランダムな変動で摂動します。 |
| [fuzzJSON](/sql-reference/table-functions/fuzzJSON) | JSON文字列をランダムな変動で摂動します。 |
| [generateRandom](/sql-reference/table-functions/generate) | 指定されたスキーマでランダムデータを生成します。そのデータでテストテーブルをポピュレートできます。すべての型がサポートされているわけではありません。 |
| [mergeTreeProjection](/sql-reference/table-functions/mergeTreeProjection) | MergeTreeテーブル内のあるプロジェクションの内容を表します。内部構造を確認するために使用できます。 |
| [mergeTreeIndex](/sql-reference/table-functions/mergeTreeIndex) | MergeTreeテーブルのインデックスおよびマークファイルの内容を表します。内部構造を確認するために使用できます。 |
| [hdfs](/sql-reference/table-functions/hdfs) | HDFS内のファイルからテーブルを作成します。このテーブル関数はurlおよびfileテーブル関数に似ています。 |
| [hdfsCluster](/sql-reference/table-functions/hdfsCluster) | 指定されたクラスターの多数のノードからHDFSのファイルを並行処理できるようにします。 |
| [hudi](/sql-reference/table-functions/hudi) | Amazon S3内のApache Hudiテーブルに対する読み取り専用のテーブルのようなインターフェースを提供します。 |
| [ytsaurus](/sql-reference/table-functions/ytsaurus) | このテーブル関数を使用すると、YTサウルスクラスターからデータを読み取ることができます。 |
| [hudiCluster Table Function](/sql-reference/table-functions/hudiCluster) | hudiテーブル関数への拡張です。指定されたクラスターの多数のノードでAmazon S3のApache Hudiテーブルからファイルを並行処理できるようにします。 |
| [iceberg](/sql-reference/table-functions/iceberg) | Amazon S3、Azure、HDFS、またはローカルに保存されたApache Icebergテーブルに対する読み取り専用のテーブルのようなインターフェースを提供します。 |
| [icebergCluster](/sql-reference/table-functions/icebergCluster) | 指定されたクラスターの多数のノードからApache Icebergのファイルを並行処理できるようにするicebergテーブル関数への拡張です。 |
| [input](/sql-reference/table-functions/input) | 特定の構造を持つデータを別の構造のテーブルに効果的に変換して挿入できるテーブル関数です。 |
| [jdbc](/sql-reference/table-functions/jdbc) | JDBCドライバー経由で接続されたテーブルを返します。 |
| [merge](/sql-reference/table-functions/merge) | 一時的なMergeテーブルを作成します。その構造は、基盤となるテーブルのカラムのユニオンを利用して派生し、共通の型を導出します。 |
| [mongodb](/sql-reference/table-functions/mongodb) | リモートMongoDBサーバーに保存されたデータに対して`SELECT`クエリを実行できるようにします。 |
| [mysql](/sql-reference/table-functions/mysql) | リモートMySQLサーバーに保存されたデータに対して`SELECT`および`INSERT`クエリを実行できるようにします。 |
| [null](/sql-reference/table-functions/null) | Nullテーブルエンジンで指定された構造の一時テーブルを作成します。この関数は、テスト作成やデモの便宜のために使用されます。 |
| [timeSeriesMetrics](/sql-reference/table-functions/timeSeriesMetrics) | timeSeriesMetricsは、TimeSeriesエンジンである`db_name.time_series_table`テーブルによって使用されるメトリクステーブルを返します。 |
| [timeSeriesSelector](/sql-reference/table-functions/timeSeriesSelector) | 指定された間隔内のタイムスタンプでフィルタリングされたTimeSeriesテーブルからタイムシリーズを読み取ります。 |
| [timeSeriesTags](/sql-reference/table-functions/timeSeriesTags) | timeSeriesTagsテーブル関数は、TimeSeriesエンジンである`db_name.time_series_table`テーブルによって使用されるタグテーブルを返します。 |
| [prometheusQueryRange](/sql-reference/table-functions/prometheusQueryRange) | TimeSeriesテーブルのデータを使用してprometheusクエリを評価します。 |
| [zeros](/sql-reference/table-functions/zeros) | テスト目的で多くの行を生成するための最速の方法として使用されます。`system.zeros`および`system.zeros_mt`システムテーブルに似ています。 |
| [timeSeriesData](/sql-reference/table-functions/timeSeriesData) | timeSeriesDataは、TimeSeriesエンジンである`db_name.time_series_table`テーブルによって使用されるデータテーブルを返します。 |
| [numbers](/sql-reference/table-functions/numbers) | 特定の整数を含む単一の`number`カラムを持つテーブルを返します。 |
| [prometheusQuery](/sql-reference/table-functions/prometheusQuery) | TimeSeriesテーブルのデータを使用してprometheusクエリを評価します。 |
| [generate_series (generateSeries)](/sql-reference/table-functions/generate_series) | 開始から停止まで（両端を含む）の整数を含む単一の`generate_series`カラム（UInt64）を持つテーブルを返します。 |
| [odbc](/sql-reference/table-functions/odbc) | ODBC経由で接続されたテーブルを返します。 |
| [postgresql](/sql-reference/table-functions/postgresql) | リモートPostgreSQLサーバーに保存されたデータに対して`SELECT`および`INSERT`クエリを実行できるようにします。 |
| [redis](/sql-reference/table-functions/redis) | このテーブル関数は、ClickHouseとRedisを統合します。 |
| [remote, remoteSecure](/sql-reference/table-functions/remote) | テーブル関数`remote`は、分散テーブルを作成せずに、リモートサーバーにオンザフライでアクセスできるようにします。テーブル関数`remoteSecure`は安全な接続を介した`remote`と同様です。 |
| [s3 Table Function](/sql-reference/table-functions/s3) | Amazon S3およびGoogle Cloud Storageのファイルを選択/挿入するためのテーブルのようなインターフェースを提供します。このテーブル関数はhdfs関数に似ていますが、S3特有の機能を提供します。 |
| [s3Cluster](/sql-reference/table-functions/s3Cluster) | 指定されたクラスター内の多数のノードでAmazon S3およびGoogle Cloud Storageのファイルを並行処理できるようにするs3テーブル関数への拡張です。 |
| [sqlite](/sql-reference/table-functions/sqlite) | SQLiteデータベースに保存されたデータに対してクエリを実行できるようにします。 |
| [arrowFlight](/sql-reference/table-functions/arrowflight) | Apache Arrow Flightサーバー経由で公開されたデータに対してクエリを実行できるようにします。 |
| [url](/sql-reference/table-functions/url) | 指定された`format`および`structure`で与えられた`URL`からテーブルを作成します。 |
| [urlCluster](/sql-reference/table-functions/urlCluster) | 指定されたクラスター内の多数のノードからURLのファイルを並行処理できるようにします。 |
| [view](/sql-reference/table-functions/view) | サブクエリをテーブルに変換します。この関数はビューを実装します。 |
| [values](/sql-reference/table-functions/values) | 値でカラムを埋める一時的なストレージを作成します。 |
| [loop](/sql-reference/table-functions/loop) | ClickHouseのループテーブル関数は、無限ループでクエリ結果を返すために使用されます。 |
<!--AUTOGENERATED_END-->

## 使用法 {#usage}

テーブル関数は、`SELECT`クエリの[`FROM`](../../sql-reference/statements/select/from.md)句で使用できます。たとえば、`file`テーブル関数を使用して、ローカルマシンのファイルからデータを`SELECT`できます。

```bash
echo "1, 2, 3" > example.csv
```
```text
./clickhouse client
:) SELECT * FROM file('example.csv')
┌─c1─┬─c2─┬─c3─┐
│  1 │  2 │  3 │
└────┴────┴────┘
```

また、一時テーブルを作成するためにもテーブル関数を使用できます。このテーブルは現在のクエリ内でのみ利用可能です。例えば：

```sql title="Query"
SELECT * FROM generateSeries(1,5);
```
```response title="Response"
┌─generate_series─┐
│               1 │
│               2 │
│               3 │
│               4 │
│               5 │
└─────────────────┘
```

クエリが終了するとテーブルは削除されます。

テーブル関数は、テーブルを作成するための方法として、以下の構文を使用できます：

```sql
CREATE TABLE [IF NOT EXISTS] [db.]table_name AS table_function()
```

例えば：

```sql title="Query"
CREATE TABLE series AS generateSeries(1, 5);
SELECT * FROM series;
```

```response
┌─generate_series─┐
│               1 │
│               2 │
│               3 │
│               4 │
│               5 │
└─────────────────┘
```

最後に、テーブル関数はテーブルにデータを`INSERT`するためにも使用できます。たとえば、前の例で作成したテーブルの内容を、再度`file`テーブル関数を使用してディスク上のファイルに書き出すことができます：

```sql
INSERT INTO FUNCTION file('numbers.csv', 'CSV') SELECT * FROM series;
```

```bash
cat numbers.csv
1
2
3
4
5
```

:::note
[allow_ddl](/operations/settings/settings#allow_ddl)設定が無効になっている場合、テーブル関数は使用できません。
:::
