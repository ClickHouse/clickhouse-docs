---
description: '比較関数のドキュメント'
sidebar_label: '比較'
slug: /sql-reference/functions/comparison-functions
title: '比較関数'
doc_type: 'reference'
---



# 比較関数



## 比較ルール {#comparison-rules}

以下の比較関数は、[UInt8](/sql-reference/data-types/int-uint)型で`0`または`1`を返します。同じグループ内の値のみ比較可能です
(例: `UInt16`と`UInt64`)が、グループをまたいだ比較はできません(例: `UInt16`と`DateTime`)。
数値と文字列の比較、文字列と日付の比較、日付と時刻の比較が可能です。
タプルと配列の場合、比較は辞書式順序で行われます。つまり、左側と右側のタプル/配列の対応する各要素に対して比較が行われます。

以下の型が比較可能です:

- 数値と小数
- 文字列と固定長文字列
- 日付
- 日付と時刻
- タプル(辞書式順序比較)
- 配列(辞書式順序比較)

:::note
文字列はバイト単位で比較されます。文字列の一方にUTF-8エンコードされたマルチバイト文字が含まれている場合、予期しない結果になる可能性があります。
別の文字列S2を接頭辞として持つ文字列S1は、S2より長いと見なされます。
:::

<!--
The inner content of the tags below are replaced at doc framework build time with
docs generated from system.functions. Please do not modify or remove the tags.
See: https://github.com/ClickHouse/clickhouse-docs/blob/main/contribute/autogenerated-documentation-from-source.md
-->


<!--AUTOGENERATED_START-->

## equals {#equals}

導入バージョン: v1.1

2つの値が等しいかどうかを比較します。

**構文**

```sql
equals(a, b)
        -- a = b
        -- a == b
```

**引数**

- `a` — 最初の値。<sup>[\*](#comparison-rules)</sup>
- `b` — 2番目の値。<sup>[\*](#comparison-rules)</sup>

**戻り値**

`a`が`b`と等しい場合は`1`を返し、それ以外の場合は`0`を返します [`UInt8`](/sql-reference/data-types/int-uint)

**例**

**使用例**

```sql title=クエリ
SELECT 1 = 1, 1 = 2;
```

```response title=レスポンス
┌─equals(1, 1)─┬─equals(1, 2)─┐
│            1 │            0 │
└──────────────┴──────────────┘
```


## greater {#greater}

導入バージョン: v1.1

2つの値の大小関係を比較します。

**構文**

```sql
greater(a, b)
    -- a > b
```

**引数**

- `a` — 1番目の値。<sup>[\*](#comparison-rules)</sup>
- `b` — 2番目の値。<sup>[\*](#comparison-rules)</sup>

**戻り値**

`a`が`b`より大きい場合は`1`を返し、それ以外の場合は`0`を返します。[`UInt8`](/sql-reference/data-types/int-uint)

**例**

**使用例**

```sql title=Query
SELECT 2 > 1, 1 > 2;
```

```response title=Response
┌─greater(2, 1)─┬─greater(1, 2)─┐
│             1 │             0 │
└───────────────┴───────────────┘
```


## greaterOrEquals {#greaterOrEquals}

導入バージョン: v1.1

2つの値を比較し、大なりイコール(以上)の関係を判定します。

**構文**

```sql
greaterOrEquals(a, b)
    -- a >= b
```

**引数**

- `a` — 第1の値。<sup>[\*](#comparison-rules)</sup>
- `b` — 第2の値。<sup>[\*](#comparison-rules)</sup>

**戻り値**

`a` が `b` 以上の場合は `1` を、それ以外の場合は `0` を返します [`UInt8`](/sql-reference/data-types/int-uint)

**例**

**使用例**

```sql title=クエリ
SELECT 2 >= 1, 2 >= 2, 1 >= 2;
```

```response title=レスポンス
┌─greaterOrEquals(2, 1)─┬─greaterOrEquals(2, 2)─┬─greaterOrEquals(1, 2)─┐
│                     1 │                     1 │                     0 │
└───────────────────────┴───────────────────────┴───────────────────────┘
```


## isDistinctFrom {#isDistinctFrom}

導入バージョン: v25.9

        2つの値に対してNULLセーフな「等しくない」比較を実行します。
        値が異なる場合（等しくない場合）に`true`を返します。これには、一方の値がNULLでもう一方がNULLでない場合も含まれます。
        値が等しい場合、または両方がNULLの場合は`false`を返します。

**構文**

```sql
isDistinctFrom(x, y)
```

**引数**

- `x` — 比較する1つ目の値。任意のClickHouseデータ型を指定できます。[`Any`](/sql-reference/data-types)
- `y` — 比較する2つ目の値。任意のClickHouseデータ型を指定できます。[`Any`](/sql-reference/data-types)

**戻り値**

NULLを比較可能として扱い、2つの値が異なる場合に`true`を返します:

- x != yの場合、`true`を返します。
- xまたはyのいずれか一方のみがNULLの場合、`true`を返します。
- x = yの場合、またはxとyの両方がNULLの場合、`false`を返します。[`Bool`](/sql-reference/data-types/boolean)

**例**

**数値とNULLを使用した基本的な使用例**

```sql title=クエリ
SELECT
    isDistinctFrom(1, 2) AS result_1,
    isDistinctFrom(1, 1) AS result_2,
    isDistinctFrom(NULL, 1) AS result_3,
    isDistinctFrom(NULL, NULL) AS result_4
```

```response title=レスポンス
┌─result_1─┬─result_2─┬─result_3─┬─result_4─┐
│        1 │        0 │        1 │        0 │
└──────────┴──────────┴──────────┴──────────┘
```


## isNotDistinctFrom {#isNotDistinctFrom}

導入バージョン: v25.9

        2つの値間でNULLセーフな等価比較を実行します。
        両方がNULLの場合を含め、値が等しい場合は`true`を返します。
        値が異なる場合、またはいずれか一方のみがNULLの場合は`false`を返します。

**構文**

```sql
isNotDistinctFrom(x, y)
```

**引数**

- `x` — 比較する1つ目の値。任意のClickHouseデータ型を指定できます。[`Any`](/sql-reference/data-types)
- `y` — 比較する2つ目の値。任意のClickHouseデータ型を指定できます。[`Any`](/sql-reference/data-types)

**戻り値**

NULLを比較可能として扱い、2つの値が等しい場合は`true`を返します:

- x = yの場合は`true`を返します。
- xとyの両方がNULLの場合は`true`を返します。
- x != yの場合、またはxまたはyのいずれか一方のみがNULLの場合は`false`を返します。[`Bool`](/sql-reference/data-types/boolean)

**例**

**数値とNULLを使用した基本的な使用例**

```sql title=クエリ
SELECT
    isNotDistinctFrom(1, 1) AS result_1,
    isNotDistinctFrom(1, 2) AS result_2,
    isNotDistinctFrom(NULL, NULL) AS result_3,
    isNotDistinctFrom(NULL, 1) AS result_4
```

```response title=レスポンス
┌─result_1─┬─result_2─┬─result_3─┬─result_4─┐
│        1 │        0 │        1 │        0 │
└──────────┴──────────┴──────────┴──────────┘
```


## less {#less}

導入バージョン: v1.1

2つの値の大小関係(小なり)を比較します。

**構文**

```sql
less(a, b)
    -- a < b
```

**引数**

- `a` — 1つ目の値。<sup>[\*](#comparison-rules)</sup>
- `b` — 2つ目の値。<sup>[\*](#comparison-rules)</sup>

**戻り値**

`a`が`b`より小さい場合は`1`を、それ以外の場合は`0`を返します [`UInt8`](/sql-reference/data-types/int-uint)

**例**

**使用例**

```sql title=クエリ
SELECT 1 < 2, 2 < 1;
```

```response title=レスポンス
┌─less(1, 2)─┬─less(2, 1)─┐
│          1 │          0 │
└────────────┴────────────┘
```


## lessOrEquals {#lessOrEquals}

導入バージョン: v1.1

2つの値を比較し、以下または等しいかを判定します。

**構文**

```sql
lessOrEquals(a, b)
-- a <= b
```

**引数**

- `a` — 1番目の値。<sup>[\*](#comparison-rules)</sup>
- `b` — 2番目の値。<sup>[\*](#comparison-rules)</sup>

**戻り値**

`a`が`b`以下の場合は`1`を、それ以外の場合は`0`を返します [`UInt8`](/sql-reference/data-types/int-uint)

**例**

**使用例**

```sql title=Query
SELECT 1 <= 2, 2 <= 2, 3 <= 2;
```

```response title=Response
┌─lessOrEquals(1, 2)─┬─lessOrEquals(2, 2)─┬─lessOrEquals(3, 2)─┐
│                  1 │                  1 │                  0 │
└────────────────────┴────────────────────┴────────────────────┘
```


## notEquals {#notEquals}

導入バージョン: v1.1

2つの値の不等性を比較します。

**構文**

```sql
notEquals(a, b)
    -- a != b
    -- a <> b
```

**引数**

- `a` — 最初の値。<sup>[\*](#comparison-rules)</sup>
- `b` — 2番目の値。<sup>[\*](#comparison-rules)</sup>

**戻り値**

`a`が`b`と等しくない場合は`1`を返し、それ以外の場合は`0`を返します。[`UInt8`](/sql-reference/data-types/int-uint)

**例**

**使用例**

```sql title=クエリ
SELECT 1 != 2, 1 != 1;
```

```response title=レスポンス
┌─notEquals(1, 2)─┬─notEquals(1, 1)─┐
│               1 │               0 │
└─────────────────┴─────────────────┘
```

<!--AUTOGENERATED_END-->
