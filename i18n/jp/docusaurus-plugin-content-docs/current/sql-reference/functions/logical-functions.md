---
description: '論理関数のドキュメント'
sidebar_label: '論理'
slug: /sql-reference/functions/logical-functions
title: '論理関数'
doc_type: 'reference'
---

# 論理関数 \\{#logical-functions\\}

以下の関数は、任意の数値型の引数に対して論理演算を行います。
戻り値は [`UInt8`](../data-types/int-uint.md) 型の `0` または `1`、あるいは場合によっては `NULL` です。

引数が 0 の場合は `false`、0 以外の値は `true` と評価されます。

{/* 
  以下のタグ内の内容は、ドキュメントフレームワークのビルド時に
  system.functions から自動生成されたドキュメントで置き換えられます。タグを変更または削除しないでください。
  詳しくは https://github.com/ClickHouse/clickhouse-docs/blob/main/contribute/autogenerated-documentation-from-source.md を参照してください。
  */ }

{/*AUTOGENERATED_START*/ }

## and \\{#and\\}

導入バージョン: v1.1

2 つ以上の値の論理積（論理 AND）を計算します。

ショートサーキット評価を使用するかどうかは、設定 [`short_circuit_function_evaluation`](/operations/settings/settings#short_circuit_function_evaluation) によって制御されます。
有効な場合は、`val_i` は `(val_1 AND val_2 AND ... AND val_{i-1})` が `true` のときにのみ評価されます。

たとえばショートサーキット評価が有効な場合、クエリ `SELECT and(number = 2, intDiv(1, number)) FROM numbers(5)` を実行しても、ゼロ除算の例外は発生しません。
引数が 0 の場合は `false` と見なされ、0 以外の値は `true` と見なされます。

**構文**

```sql
and(val1, val2[, ...])
```

**引数**

* `val1, val2[, ...]` — 2 つ以上の値からなるリスト。[`Nullable((U)Int*)`](/sql-reference/data-types/nullable) または [`Nullable(Float*)`](/sql-reference/data-types/nullable)

**戻り値**

返される値:

* 少なくとも 1 つの引数が `false` と評価される場合は `0`
* どの引数も `false` と評価されず、少なくとも 1 つの引数が `NULL` の場合は `NULL`
* それ以外の場合は `1`\
  [`Nullable(UInt8)`](/sql-reference/data-types/nullable)

**例**

**基本的な使い方**

```sql title=Query
SELECT and(0, 1, -2);
```

```response title=Response
0
```

**NULL を含む場合**

```sql title=Query
SELECT and(NULL, 1, 10, -2);
```

```response title=Response
ᴺᵁᴸᴸ
```

## not \\{#not\\}

導入バージョン: v1.1

値の論理否定を行います。
引数が 0 の場合は `false` と見なされ、0 以外の値は `true` と見なされます。

**構文**

```sql
not(val)
```

**引数**

* `val` — 値。型は [`(U)Int*`](/sql-reference/data-types/int-uint) または [`Float*`](/sql-reference/data-types/float)

**返り値**

返される値は次のとおりです:

* `val` が `false` と評価される場合は `1`
* `val` が `true` と評価される場合は `0`
* `val` が `NULL` の場合は `NULL`
  [`Nullable(UInt8)`](/sql-reference/data-types/nullable)

**例**

**基本的な使用例**

```sql title=Query
SELECT NOT(1);
```

```response title=Response
0
```

## or \\{#or\\}

導入: v1.1

2つ以上の値の論理和を計算します。

ショートサーキット評価を使用するかどうかは、[`short_circuit_function_evaluation`](https://clickhouse.com/docs/operations/settings/settings#short_circuit_function_evaluation) 設定で制御されます。
有効にすると、`val_i` は `((NOT val_1) AND (NOT val_2) AND ... AND (NOT val_{i-1}))` が `true` のときにのみ評価されます。

例えば、ショートサーキット評価を使用すると、クエリ `SELECT or(number = 0, intDiv(1, number) != 0) FROM numbers(5)` を実行しても、ゼロ除算の例外は発生しません。
引数としてのゼロは `false`、ゼロ以外の値は `true` と見なされます。

**構文**

```sql
or(val1, val2[, ...])
```

**引数**

* `val1, val2[, ...]` — 2 つ以上の値のリスト。[`Nullable((U)Int*)`](/sql-reference/data-types/nullable) または [`Nullable(Float*)`](/sql-reference/data-types/nullable)

**戻り値**

戻り値は次のとおりです:

* 少なくとも 1 つの引数が `true` と評価された場合は `1`
* すべての引数が `false` と評価された場合は `0`
* すべての引数が `false` と評価され、かつ少なくとも 1 つの引数が `NULL` の場合は `NULL`\
  [`Nullable(UInt8)`](/sql-reference/data-types/nullable)

**例**

**基本的な使い方**

```sql title=Query
SELECT or(1, 0, 0, 2, NULL);
```

```response title=Response
1
```

**NULL を含む場合**

```sql title=Query
SELECT or(0, NULL);
```

```response title=Response
ᴺᵁᴸᴸ
```

## xor \\{#xor\\}

導入バージョン: v1.1

2 つ以上の値に対して排他的論理和 (XOR) を計算します。
入力値が 3 つ以上の場合、この関数は最初に先頭 2 つの値に対して XOR を行い、その結果に 3 つ目の値との XOR を行う、という処理を順に繰り返します。
引数が 0 の場合は `false`、0 以外の値は `true` と見なされます。

**構文**

```sql
xor(val1, val2[, ...])
```

**引数**

* `val1, val2[, ...]` — 少なくとも 2 つの値からなるリスト。[`Nullable((U)Int*)`](/sql-reference/data-types/nullable) または [`Nullable(Float*)`](/sql-reference/data-types/nullable)

**返される値**

戻り値:

* `1` — 2 つの値に対して、一方の値が `false` と評価され、もう一方が `false` ではない場合
* `0` — 2 つの値に対して、両方の値が `false`、または両方の値が `true` と評価される場合
* `NULL` — 少なくとも 1 つの入力が `NULL` の場合。
  [`Nullable(UInt8)`](/sql-reference/data-types/nullable)

**例**

**基本的な使い方**

```sql title=Query
SELECT xor(0, 1, 1);
```

```response title=Response
0
```

{/*AUTOGENERATED_END*/ }
