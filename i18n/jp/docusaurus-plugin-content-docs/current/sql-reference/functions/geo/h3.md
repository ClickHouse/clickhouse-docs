---
description: 'H3 に関するドキュメント'
sidebar_label: 'H3 インデックス'
slug: /sql-reference/functions/geo/h3
title: 'H3 インデックスを操作する関数'
doc_type: 'reference'
---

## H3 インデックス {#h3-index}

[H3](https://h3geo.org/) は、地球の表面を同じ大きさの六角形セルのグリッドに分割する地理空間インデックスシステムです。このシステムは階層構造になっており、最上位レベルの各六角形（「親」）は、同じ形状でより小さい 7 個の六角形（「子」）に分割され、その先も同様に続きます。

この階層のレベルは `resolution` と呼ばれ、`0` から `15` までの値を取ります。`0` は最も大きく粗いセルを持つ `base` レベルです。

緯度と経度のペアは、グリッドセルを識別する 64 ビットの H3 インデックスに変換できます。

H3 インデックスは主に、位置情報のバケット分けやその他の地理空間処理に使用されます。

H3 システムの詳細な説明は [Uber Engineering サイト](https://www.uber.com/blog/h3/) にあります。

## h3IsValid {#h3isvalid}

数値が有効な [H3](#h3-index) インデックスかどうかを検証します。

**構文**

```sql
h3IsValid(h3index)
```

**パラメーター**

* `h3index` — 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* 1 — 数値が有効な H3 インデックスである。[UInt8](../../data-types/int-uint.md)。
* 0 — 数値が有効な H3 インデックスではない。[UInt8](../../data-types/int-uint.md)。

**例**

クエリ:

```sql
SELECT h3IsValid(630814730351855103) AS h3IsValid;
```

結果：

```text
┌─h3IsValid─┐
│         1 │
└───────────┘
```

## h3GetResolution {#h3getresolution}

指定された [H3](#h3-index) インデックスの解像度を返します。

**構文**

```sql
h3GetResolution(h3index)
```

**パラメーター**

* `h3index` — 六角形のインデックス番号。[UInt64](../../data-types/int-uint.md)。

**返される値**

* インデックス解像度。範囲は `[0, 15]`。[UInt8](../../data-types/int-uint.md)。
* インデックスが無効な場合、関数はランダムな値を返します。インデックスを検証するには [h3IsValid](#h3isvalid) を使用します。[UInt8](../../data-types/int-uint.md)。

**例**

クエリ:

```sql
SELECT h3GetResolution(639821929606596015) AS resolution;
```

結果：

```text
┌─resolution─┐
│         14 │
└────────────┘
```

## h3EdgeAngle {#h3edgeangle}

[H3](#h3-index) 六角形の辺の平均角度をグラード単位で計算します。

**構文**

```sql
h3EdgeAngle(resolution)
```

**パラメーター**

* `resolution` — インデックスの解像度。[UInt8](../../data-types/int-uint.md)。範囲: `[0, 15]`。

**戻り値**

* [H3](#h3-index) 六角形の辺の平均長（度単位）。[Float64](../../data-types/float.md)。

**例**

クエリ:

```sql
SELECT h3EdgeAngle(10) AS edgeAngle;
```

結果：

```text
┌───────h3EdgeAngle(10)─┐
│ 0.0005927224846720883 │
└───────────────────────┘
```

## h3EdgeLengthM {#h3edgelengthm}

[H3](#h3-index) 六角形の辺の平均長をメートル単位で計算します。

**構文**

```sql
h3EdgeLengthM(resolution)
```

**パラメータ**

* `resolution` — インデックスの解像度。[UInt8](../../data-types/int-uint.md)。範囲: `[0, 15]`。

**戻り値**

* [H3](#h3-index) 六角形の平均辺の長さ（メートル単位）。[Float64](../../data-types/float.md)。

**例**

クエリ:

```sql
SELECT h3EdgeLengthM(15) AS edgeLengthM;
```

結果：

```text
┌─edgeLengthM─┐
│ 0.509713273 │
└─────────────┘
```

## h3EdgeLengthKm {#h3edgelengthkm}

[H3](#h3-index) 六角形セルの一辺の平均の長さをキロメートル単位で計算します。

**構文**

```sql
h3EdgeLengthKm(resolution)
```

**パラメータ**

* `resolution` — インデックスの解像度。[UInt8](../../data-types/int-uint.md)。範囲：`[0, 15]`。

**返される値**

* [H3](#h3-index) 六角形の辺の平均の長さ（キロメートル単位）。[Float64](../../data-types/float.md)。

**例**

クエリ：

```sql
SELECT h3EdgeLengthKm(15) AS edgeLengthKm;
```

結果：

```text
┌─edgeLengthKm─┐
│  0.000509713 │
└──────────────┘
```

## geoToH3 {#geotoh3}

指定した解像度で、`(lat, lon)` を表す [H3](#h3-index) インデックスを返します。

**構文**

```sql
geoToH3(lat, lon, resolution)
```

**引数**

* `lat` — 緯度。[Float64](../../data-types/float.md)。
* `lon` — 経度。[Float64](../../data-types/float.md)。
* `resolution` — インデックス解像度。範囲：[0, 15]。[UInt8](../../data-types/int-uint.md)。

**戻り値**

* 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。
* エラー時は 0。[UInt64](../../data-types/int-uint.md)。

注：ClickHouse v25.4 以前では、`geoToH3()` は `(lon, lat)` の順で値を受け取ります。ClickHouse v25.5 以降では、入力値は `(lat, lon)` の順になります。以前の動作は、設定 `geotoh3_argument_order = 'lon_lat'` を用いることで復元できます。

**例**

クエリ:

```sql
SELECT geoToH3(55.71290588, 37.79506683, 15) AS h3Index;
```

結果：

```text
┌────────────h3Index─┐
│ 644325524701193974 │
└────────────────────┘
```

## h3ToGeo {#h3togeo}

指定された [H3](#h3-index) インデックスに対応する中心点の緯度と経度を返します。

**構文**

```sql
h3ToGeo(h3Index)
```

**引数**

* `h3Index` — H3 インデックス。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* 2 つの値から成るタプル: `tuple(lat,lon)`。`lat` — 緯度。[Float64](../../data-types/float.md)。`lon` — 経度。[Float64](../../data-types/float.md)。

注意: ClickHouse v24.12 以前では、`h3ToGeo()` は `(lon, lat)` の順序で値を返します。ClickHouse v25.1 以降では、戻り値は `(lat, lon)` の順序になります。以前の動作は、設定 `h3togeo_lon_lat_result_order = true` を使用することで再現できます。

**例**

クエリ:

```sql
SELECT h3ToGeo(644325524701193974) AS coordinates;
```

結果：

```text
┌─coordinates───────────────────────────┐
│ (55.71290243145668,37.79506616830252) │
└───────────────────────────────────────┘
```

## h3ToGeoBoundary {#h3togeoboundary}

指定された H3 インデックスの境界を表す `(lat, lon)` のペアからなる配列を返します。

**構文**

```sql
h3ToGeoBoundary(h3Index)
```

**引数**

* `h3Index` — H3 インデックス。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* &#39;(lat, lon)&#39; ペアの配列。[Array](../../data-types/array.md)([Float64](../../data-types/float.md), [Float64](../../data-types/float.md))。

**例**

クエリ:

```sql
SELECT h3ToGeoBoundary(644325524701193974) AS coordinates;
```

結果：

```text
┌─h3ToGeoBoundary(599686042433355775)────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│ [(37.2713558667319,-121.91508032705622),(37.353926450852256,-121.8622232890249),(37.42834118609435,-121.92354999630156),(37.42012867767779,-122.03773496427027),(37.33755608435299,-122.090428929044),(37.26319797461824,-122.02910130919001)] │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

## h3kRing {#h3kring}

指定された六角形から半径 `k` の範囲内にあるすべての [H3](#h3-index) 六角形を、ランダムな順序で列挙します。

**構文**

```sql
h3kRing(h3index, k)
```

**引数**

* `h3index` — H3 インデックス番号。[UInt64](../../data-types/int-uint.md)。
* `k` — 半径。[integer](../../data-types/int-uint.md)。

**戻り値**

* H3 インデックスの配列。[Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md))。

**例**

クエリ:

```sql
SELECT arrayJoin(h3kRing(644325529233966508, 1)) AS h3index;
```

結果：

```text
┌────────────h3index─┐
│ 644325529233966508 │
│ 644325529233966497 │
│ 644325529233966510 │
│ 644325529233966504 │
│ 644325529233966509 │
│ 644325529233966355 │
│ 644325529233966354 │
└────────────────────┘
```

## h3PolygonToCells {#h3polygontocells}

指定した解像度で、指定されたジオメトリ（リングまたは（マルチ）ポリゴン）の内部に含まれる六角形セルを返します。

**構文**

```

**Arguments**

- `geometry` can be one of the following [Geo Data Types](../../data-types/geo.md) or their underlying primitive types:
  - [Ring](../../data-types/geo.md#ring)
  - [Polygon](../../data-types/geo.md#polygon)
  - [MultiPolygon](../../data-types/geo.md#multipolygon)
- `resolution` — Index resolution. Range: `[0, 15]`. [UInt8](../../data-types/int-uint.md).


**Returned values**

- Array of the contained H3-indexes. [Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md)).


**Example**

Query:

```

**引数**

* `geometry` — 次のいずれかの [Geo データ型](../../data-types/geo.md) またはそれらの下位プリミティブ型:
  * [Ring](../../data-types/geo.md#ring)
  * [Polygon](../../data-types/geo.md#polygon)
  * [MultiPolygon](../../data-types/geo.md#multipolygon)
* `resolution` — インデックス解像度。範囲: `[0, 15]`。[UInt8](../../data-types/int-uint.md)。

**返り値**

* 含まれる H3 インデックスの配列。[Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md))。

**例**

クエリ:

```

Result:

```

結果:

```

## h3GetBaseCell {#h3getbasecell}

Returns the base cell number of the [H3](#h3-index) index.

**Syntax**

```

## h3GetBaseCell {#h3getbasecell}

[H3](#h3-index) インデックスのベースセル番号を返します。

**構文**

```

**Parameter**

- `index` — Hexagon index number. [UInt64](../../data-types/int-uint.md).

**Returned value**

- Hexagon base cell number. [UInt8](../../data-types/int-uint.md).

**Example**

Query:

```

**パラメーター**

* `index` — 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* 六角形ベースセル番号。[UInt8](../../data-types/int-uint.md)。

**例**

クエリ：

```

Result:

```

結果：

```

## h3HexAreaM2 {#h3hexaream2}

Returns average hexagon area in square meters at the given resolution.

**Syntax**

```

## h3HexAreaM2 {#h3hexaream2}

指定した解像度における六角形の平均面積（平方メートル単位）を返します。

**構文**

```

**Parameter**

- `resolution` — Index resolution. Range: `[0, 15]`. [UInt8](../../data-types/int-uint.md).

**Returned value**

- Area in square meters. [Float64](../../data-types/float.md).

**Example**

Query:

```

**パラメータ**

* `resolution` — インデックスの解像度。範囲: `[0, 15]`。[UInt8](../../data-types/int-uint.md)。

**戻り値**

* 平方メートル単位の面積。[Float64](../../data-types/float.md)。

**例**

クエリ:

```

Result:

```

結果：

```

## h3HexAreaKm2 {#h3hexareakm2}

Returns average hexagon area in square kilometers at the given resolution.

**Syntax**

```

## h3HexAreaKm2 {#h3hexareakm2}

指定した解像度における六角形の平均面積を平方キロメートル単位で返します。

**構文**

```

**Parameter**

- `resolution` — Index resolution. Range: `[0, 15]`. [UInt8](../../data-types/int-uint.md).

**Returned value**

- Area in square kilometers. [Float64](../../data-types/float.md).

**Example**

Query:

```

**パラメーター**

* `resolution` — インデックスの解像度。範囲: `[0, 15]`。[UInt8](../../data-types/int-uint.md)。

**戻り値**

* 平方キロメートル単位の面積。[Float64](../../data-types/float.md)。

**例**

クエリ:

```

Result:

```

結果：

```

## h3IndexesAreNeighbors {#h3indexesareneighbors}

Returns whether or not the provided [H3](#h3-index) indexes are neighbors.

**Syntax**

```

## h3IndexesAreNeighbors {#h3indexesareneighbors}

指定された [H3](#h3-index) インデックス同士が隣接しているかどうかを返します。

**構文**

```

**Arguments**

- `index1` — Hexagon index number. [UInt64](../../data-types/int-uint.md).
- `index2` — Hexagon index number. [UInt64](../../data-types/int-uint.md).

**Returned value**

- `1` — Indexes are neighbours. [UInt8](../../data-types/int-uint.md).
- `0` — Indexes are not neighbours. [UInt8](../../data-types/int-uint.md).

**Example**

Query:

```

**引数**

* `index1` — 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。
* `index2` — 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* `1` — インデックスが隣接している。[UInt8](../../data-types/int-uint.md)。
* `0` — インデックスが隣接していない。[UInt8](../../data-types/int-uint.md)。

**例**

クエリ:

```

Result:

```

結果：

```

## h3ToChildren {#h3tochildren}

Returns an array of child indexes for the given [H3](#h3-index) index.

**Syntax**

```

## h3ToChildren {#h3tochildren}

指定された [H3](#h3-index) インデックスに対応する子インデックスの配列を返します。

**構文**

```

**Arguments**

- `index` — Hexagon index number. [UInt64](../../data-types/int-uint.md).
- `resolution` — Index resolution. Range: `[0, 15]`. [UInt8](../../data-types/int-uint.md).

**Returned values**

- Array of the child H3-indexes. [Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md)).

**Example**

Query:

```

**引数**

* `index` — 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。
* `resolution` — インデックスの解像度。範囲: `[0, 15]`。[UInt8](../../data-types/int-uint.md)。

**戻り値**

* 子 H3 インデックスの配列。[Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md))。

**例**

クエリ:

```

Result:

```

結果：

```

## h3ToParent {#h3toparent}

Returns the parent (coarser) index containing the given [H3](#h3-index) index.

**Syntax**

```

## h3ToParent {#h3toparent}

指定された [H3](#h3-index) インデックスを含む親（より粗い解像度の）インデックスを返します。

**構文**

```

**Arguments**

- `index` — Hexagon index number. [UInt64](../../data-types/int-uint.md).
- `resolution` — Index resolution. Range: `[0, 15]`. [UInt8](../../data-types/int-uint.md).

**Returned value**

- Parent H3 index. [UInt64](../../data-types/int-uint.md).

**Example**

Query:

```

**引数**

* `index` — 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。
* `resolution` — インデックス解像度。範囲: `[0, 15]`。[UInt8](../../data-types/int-uint.md)。

**返される値**

* 親 H3 インデックス。[UInt64](../../data-types/int-uint.md)。

**例**

クエリ：

```

Result:

```

結果：

```

## h3ToString {#h3tostring}

Converts the `H3Index` representation of the index to the string representation.

```

## h3ToString {#h3tostring}

インデックスを表す `H3Index` を文字列表現に変換します。

```

**Parameter**

- `index` — Hexagon index number. [UInt64](../../data-types/int-uint.md).

**Returned value**

- String representation of the H3 index. [String](../../data-types/string.md).

**Example**

Query:

```

**パラメータ**

* `index` — 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* H3インデックスの文字列表現。[String](../../data-types/string.md)。

**例**

クエリ:

```

Result:

```

結果:

```

## stringToH3 {#stringtoh3}

Converts the string representation to the `H3Index` (UInt64) representation.

**Syntax**

```

## stringToH3 {#stringtoh3}

文字列表現を `H3Index` (UInt64) 表現に変換します。

**構文**

```

**Parameter**

- `index_str` — String representation of the H3 index. [String](../../data-types/string.md).

**Returned value**

- Hexagon index number. Returns 0 on error. [UInt64](../../data-types/int-uint.md).

**Example**

Query:

```

**パラメータ**

* `index_str` — H3 インデックスの文字列表現。[String](../../data-types/string.md)。

**戻り値**

* 六角形インデックス番号。エラー時には 0 を返します。[UInt64](../../data-types/int-uint.md)。

**例**

クエリ:

```

Result:

```

結果:

```

## h3GetResolution {#h3getresolution-1}

Returns the resolution of the [H3](#h3-index) index.

**Syntax**

```

## h3GetResolution {#h3getresolution-1}

[H3](#h3-index) インデックスの解像度を返します。

**構文**

```

**Parameter**

- `index` — Hexagon index number. [UInt64](../../data-types/int-uint.md).

**Returned value**

- Index resolution. Range: `[0, 15]`. [UInt8](../../data-types/int-uint.md).

**Example**

Query:

```

**パラメーター**

* `index` — 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**返される値**

* インデックスの解像度。範囲：`[0, 15]`。[UInt8](../../data-types/int-uint.md)。

**例**

クエリ：

```

Result:

```

結果：

```

## h3IsResClassIII {#h3isresclassiii}

Returns whether [H3](#h3-index) index has a resolution with Class III orientation.

**Syntax**

```

## h3IsResClassIII {#h3isresclassiii}

[H3](#h3-index) インデックスの解像度が Class III の向きにあるかどうかを返します。

**構文**

```

**Parameter**

- `index` — Hexagon index number. [UInt64](../../data-types/int-uint.md).

**Returned value**

- `1` — Index has a resolution with Class III orientation. [UInt8](../../data-types/int-uint.md).
- `0` — Index doesn't have a resolution with Class III orientation. [UInt8](../../data-types/int-uint.md).

**Example**

Query:

```

**パラメーター**

* `index` — 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* `1` — インデックスの解像度は Class III 向きです。[UInt8](../../data-types/int-uint.md)。
* `0` — インデックスの解像度は Class III 向きではありません。[UInt8](../../data-types/int-uint.md)。

**例**

クエリ:

```

Result:

```

結果：

```

## h3IsPentagon {#h3ispentagon}

Returns whether this [H3](#h3-index) index represents a pentagonal cell.

**Syntax**

```

## h3IsPentagon {#h3ispentagon}

この [H3](#h3-index) インデックスが五角形のセルを表しているかどうかを返します。

**構文**

```

**Parameter**

- `index` — Hexagon index number. [UInt64](../../data-types/int-uint.md).

**Returned value**

- `1` — Index represents a pentagonal cell. [UInt8](../../data-types/int-uint.md).
- `0` — Index doesn't represent a pentagonal cell. [UInt8](../../data-types/int-uint.md).

**Example**

Query:

```

**パラメータ**

* `index` — 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)

**戻り値**

* `1` — インデックスが五角形セルを表す。[UInt8](../../data-types/int-uint.md)
* `0` — インデックスが五角形セルを表さない。[UInt8](../../data-types/int-uint.md)

**例**

クエリ:

```

Result:

```

結果：

```

## h3GetFaces {#h3getfaces}

Returns icosahedron faces intersected by a given [H3](#h3-index) index.

**Syntax**

```

## h3GetFaces {#h3getfaces}

指定された [H3](#h3-index) インデックスと交差する正二十面体の面を返します。

**構文**

```

**Parameter**

- `index` — Hexagon index number. [UInt64](../../data-types/int-uint.md).

**Returned values**

- Array containing icosahedron faces intersected by a given H3 index. [Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md)).

**Example**

Query:

```

**パラメーター**

* `index` — 六角形のインデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* 指定された H3 インデックスと交差する正二十面体の面を要素とする配列。[Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md))。

**例**

クエリ:

```

Result:

```

結果：

```

## h3CellAreaM2 {#h3cellaream2}

Returns the exact area of a specific cell in square meters corresponding to the given input H3 index.

**Syntax**

```

## h3CellAreaM2 {#h3cellaream2}

指定された H3 インデックスに対応するセルの正確な面積を、平方メートル単位で返します。

**構文**

```

**Parameter**

- `index` — Hexagon index number. [UInt64](../../data-types/int-uint.md).

**Returned value**

- Cell area in square meters. [Float64](../../data-types/float.md).

**Example**

Query:

```

**パラメータ**

* `index` — 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* セル面積（平方メートル単位）。[Float64](../../data-types/float.md)。

**例**

クエリ：

```

Result:

```

結果：

```

## h3CellAreaRads2 {#h3cellarearads2}

Returns the exact area of a specific cell in square radians corresponding to the given input H3 index.

**Syntax**

```

## h3CellAreaRads2 {#h3cellarearads2}

指定された入力 H3 インデックスに対応する特定のセルの正確な面積を、平方ラジアンで返します。

**構文**

```

**Parameter**

- `index` — Hexagon index number. [UInt64](../../data-types/int-uint.md).

**Returned value**

- Cell area in square radians. [Float64](../../data-types/float.md).

**Example**

Query:

```

**パラメーター**

* `index` — 六角形のインデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* セルの面積（平方ラジアン）。[Float64](../../data-types/float.md)。

**例**

クエリ:

```

Result:

```

結果：

```

## h3ToCenterChild {#h3tocenterchild}

Returns the center child (finer) [H3](#h3-index) index contained by given [H3](#h3-index) at the given resolution.

**Syntax**

```

## h3ToCenterChild {#h3tocenterchild}

指定した解像度で、指定した [H3](#h3-index) インデックスに含まれる中心の（より細かい） [H3](#h3-index) インデックスを返します。

**構文**

```

**Parameter**

- `index` — Hexagon index number. [UInt64](../../data-types/int-uint.md).
- `resolution` — Index resolution. Range: `[0, 15]`. [UInt8](../../data-types/int-uint.md).

**Returned values**

- [H3](#h3-index) index of the center child contained by given [H3](#h3-index) at the given resolution. [UInt64](../../data-types/int-uint.md).

**Example**

Query:

```

**パラメータ**

* `index` — 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。
* `resolution` — インデックスの解像度。範囲：`[0, 15]`。[UInt8](../../data-types/int-uint.md)。

**返される値**

* 指定された解像度において、与えられた [H3](#h3-index) インデックスに含まれる中心の子の [H3](#h3-index) インデックス。[UInt64](../../data-types/int-uint.md)。

**例**

クエリ：

```

Result:

```

結果:

```

## h3ExactEdgeLengthM {#h3exactedgelengthm}

Returns the exact edge length of the unidirectional edge represented by the input h3 index in meters.

**Syntax**

```

## h3ExactEdgeLengthM {#h3exactedgelengthm}

入力された h3 インデックスで表される単方向エッジの正確な長さをメートル単位で返します。

**構文**

```

**Parameter**

- `index` — Hexagon index number. [UInt64](../../data-types/int-uint.md).

**Returned value**

- Exact edge length in meters. [Float64](../../data-types/float.md).

**Example**

Query:

```

**パラメータ**

* `index` — 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* 正確な辺の長さ（メートル単位）。[Float64](../../data-types/float.md)。

**例**

クエリ:

```

Result:

```

結果：

```

## h3ExactEdgeLengthKm {#h3exactedgelengthkm}

Returns the exact edge length of the unidirectional edge represented by the input h3 index in kilometers.

**Syntax**

```

## h3ExactEdgeLengthKm {#h3exactedgelengthkm}

入力された h3 インデックスに対応する一方向エッジの厳密な辺長を、キロメートル単位で返します。

**構文**

```

**Parameter**

- `index` — Hexagon index number. [UInt64](../../data-types/int-uint.md).

**Returned value**

- Exact edge length in kilometers. [Float64](../../data-types/float.md).

**Example**

Query:

```

**パラメーター**

* `index` — 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* 辺の正確な長さ（キロメートル単位）。[Float64](../../data-types/float.md)。

**例**

クエリ：

```

Result:

```

結果：

```

## h3ExactEdgeLengthRads {#h3exactedgelengthrads}

Returns the exact edge length of the unidirectional edge represented by the input h3 index in radians.

**Syntax**

```

## h3ExactEdgeLengthRads {#h3exactedgelengthrads}

指定された h3 インデックスで表される単方向エッジの正確なエッジ長をラジアン単位で返します。

**構文**

```

**Parameter**

- `index` — Hexagon index number. [UInt64](../../data-types/int-uint.md).

**Returned value**

- Exact edge length in radians. [Float64](../../data-types/float.md).

**Example**

Query:

```

**パラメーター**

* `index` — 六角形のインデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* ラジアン単位での正確な辺の長さ。[Float64](../../data-types/float.md)。

**例**

クエリ:

```

Result:

```

結果:

```

## h3NumHexagons {#h3numhexagons}

Returns the number of unique H3 indices at the given resolution.

**Syntax**

```

## h3NumHexagons {#h3numhexagons}

指定した解像度における一意な H3 インデックスの数を返します。

**構文**

```

**Parameter**

- `resolution` — Index resolution. Range: `[0, 15]`. [UInt8](../../data-types/int-uint.md).

**Returned value**

- Number of H3 indices. [Int64](../../data-types/int-uint.md).

**Example**

Query:

```

**パラメーター**

* `resolution` — インデックスの解像度。範囲: `[0, 15]`。 [UInt8](../../data-types/int-uint.md)。

**戻り値**

* H3 インデックスの数。 [Int64](../../data-types/int-uint.md)。

**例**

クエリ:

```

Result:

```

結果:

```

## h3PointDistM {#h3pointdistm}

Returns the "great circle" or "haversine" distance between pairs of GeoCoord points (latitude/longitude) pairs in meters.

**Syntax**

```

## h3PointDistM {#h3pointdistm}

GeoCoord の点（緯度/経度）ペア間の「大円」または「haversine」距離をメートル単位で返します。

**構文**

```

**Arguments**

- `lat1`, `lon1` — Latitude and Longitude of point1 in degrees. [Float64](../../data-types/float.md).
- `lat2`, `lon2` — Latitude and Longitude of point2 in degrees. [Float64](../../data-types/float.md).

**Returned values**

- Haversine or great circle distance in meters.[Float64](../../data-types/float.md).

**Example**

Query:

```

**引数**

* `lat1`, `lon1` — 地点1の緯度・経度（単位は度）。[Float64](../../data-types/float.md)。
* `lat2`, `lon2` — 地点2の緯度・経度（単位は度）。[Float64](../../data-types/float.md)。

**戻り値**

* ハバーサイン距離（大円距離、単位はメートル）。[Float64](../../data-types/float.md)。

**例**

クエリ:

```

Result:

```

結果:

```

## h3PointDistKm {#h3pointdistkm}

Returns the "great circle" or "haversine" distance between pairs of GeoCoord points (latitude/longitude) pairs in kilometers.

**Syntax**

```

## h3PointDistKm {#h3pointdistkm}

GeoCoord ポイント（緯度/経度）ペア間の「大円」または「ハバーサイン（haversine）」距離をキロメートル単位で返します。

**構文**

```

**Arguments**

- `lat1`, `lon1` — Latitude and Longitude of point1 in degrees. [Float64](../../data-types/float.md).
- `lat2`, `lon2` — Latitude and Longitude of point2 in degrees. [Float64](../../data-types/float.md).

**Returned values**

- Haversine or great circle distance in kilometers. [Float64](../../data-types/float.md).

**Example**

Query:

```

**引数**

* `lat1`, `lon1` — 点1 の緯度および経度（度単位）。[Float64](../../data-types/float.md)。
* `lat2`, `lon2` — 点2 の緯度および経度（度単位）。[Float64](../../data-types/float.md)。

**戻り値**

* Haversine または大円距離（キロメートル単位）。[Float64](../../data-types/float.md)。

**例**

クエリ:

```

Result:

```

結果：

```

## h3PointDistRads {#h3pointdistrads}

Returns the "great circle" or "haversine" distance between pairs of GeoCoord points (latitude/longitude) pairs in radians.

**Syntax**

```

## h3PointDistRads {#h3pointdistrads}

GeoCoord 座標（緯度/経度）のペア間の「大円距離」または「haversine 距離」をラジアン単位で返します。

**構文**

```

**Arguments**

- `lat1`, `lon1` — Latitude and Longitude of point1 in degrees. [Float64](../../data-types/float.md).
- `lat2`, `lon2` — Latitude and Longitude of point2 in degrees. [Float64](../../data-types/float.md).

**Returned values**

- Haversine or great circle distance in radians. [Float64](../../data-types/float.md).

**Example**

Query:

```

**引数**

* `lat1`, `lon1` — 点1 の緯度と経度（度単位）。[Float64](../../data-types/float.md)。
* `lat2`, `lon2` — 点2 の緯度と経度（度単位）。[Float64](../../data-types/float.md)。

**返される値**

* ハバーサイン距離（大円距離、単位はラジアン）。[Float64](../../data-types/float.md)。

**例**

クエリ:

```

Result:

```

結果：

```

## h3GetRes0Indexes {#h3getres0indexes}

Returns an array of all the resolution 0 H3 indexes.

**Syntax**

```

## h3GetRes0Indexes {#h3getres0indexes}

解像度0のすべての H3 インデックスを要素とする配列を返します。

**構文**

```

**Returned values**

- Array of all the resolution 0 H3 indexes. [Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md)).

**Example**

Query:

```

**返される値**

* 解像度 0 のすべての H3 インデックスを含む配列。[Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md))。

**例**

クエリ：

```

Result:

```

結果:

```

## h3GetPentagonIndexes {#h3getpentagonindexes}

Returns all the pentagon H3 indexes at the specified resolution.

**Syntax**

```

## h3GetPentagonIndexes {#h3getpentagonindexes}

指定した解像度におけるすべての五角形の H3 インデックスを返します。

**構文**

```

**Parameter**

- `resolution` — Index resolution. Range: `[0, 15]`. [UInt8](../../data-types/int-uint.md).

**Returned value**

- Array of all pentagon H3 indexes. [Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md)).

**Example**

Query:

```

**パラメーター**

* `resolution` — インデックス解像度。範囲: `[0, 15]`。[UInt8](../../data-types/int-uint.md)。

**戻り値**

* すべての五角形 H3 インデックスの配列。[Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md))。

**例**

クエリ:

```

Result:

```

結果：

```

## h3Line {#h3line}

Returns the line of indices between the two indices that are provided.

**Syntax**

```

## h3Line {#h3line}

指定された 2 つのインデックス間にあるインデックスの列を返します。

**構文**

```

**Parameter**

- `start` — Hexagon index number that represents a starting point. [UInt64](../../data-types/int-uint.md).
- `end` — Hexagon index number that represents an ending point. [UInt64](../../data-types/int-uint.md).

**Returned value**

Array of h3 indexes representing the line of indices between the two provided indices. [Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md)).

**Example**

Query:

```

**パラメーター**

* `start` — 開始点を表すヘキサゴンインデックス番号。[UInt64](../../data-types/int-uint.md)。
* `end` — 終了点を表すヘキサゴンインデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

指定された 2 つのインデックス間の経路を表す H3 インデックスの配列。[Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md))。

**例**

クエリ:

```

Result:

```

結果：

```

## h3Distance {#h3distance}

Returns the distance in grid cells between the two indices that are provided.

**Syntax**

```

## h3Distance {#h3distance}

指定された 2 つのインデックス間の距離を、グリッドセル単位で返します。

**構文**

```

**Parameter**

- `start` — Hexagon index number that represents a starting point. [UInt64](../../data-types/int-uint.md).
- `end` — Hexagon index number that represents an ending point. [UInt64](../../data-types/int-uint.md).

**Returned value**

- Number of grid cells. [Int64](../../data-types/int-uint.md).

Returns a negative number if finding the distance fails.

**Example**

Query:

```

**パラメーター**

* `start` — 開始点を表す六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。
* `end` — 終了点を表す六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**返される値**

* グリッドセルの数。[Int64](../../data-types/int-uint.md)。

距離の算出に失敗した場合は負の数を返します。

**例**

クエリ:

```

Result:

```

結果：

```

## h3HexRing {#h3hexring}

Returns the indexes of the hexagonal ring centered at the provided origin h3Index and length k.

Returns 0 if no pentagonal distortion was encountered.

**Syntax**

```

## h3HexRing {#h3hexring}

指定された origin h3Index を中心とし、距離 k の六角形リングに含まれるインデックスを返します。

五角形による歪みが発生しなかった場合は 0 を返します。

**構文**

```

**Parameter**

- `index` — Hexagon index number that represents the origin. [UInt64](../../data-types/int-uint.md).
- `k` — Distance. [UInt64](../../data-types/int-uint.md).

**Returned values**

- Array of H3 indexes. [Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md)).

**Example**

Query:

```

**パラメータ**

* `index` — 原点を表す六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。
* `k` — 距離。[UInt64](../../data-types/int-uint.md)。

**返される値**

* H3 インデックスの配列。[Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md))。

**例**

クエリ:

```

Result:

```

結果：

```

## h3GetUnidirectionalEdge {#h3getunidirectionaledge}

Returns a unidirectional edge H3 index based on the provided origin and destination and returns 0 on error.

**Syntax**

```

## h3GetUnidirectionalEdge {#h3getunidirectionaledge}

指定された始点と終点に基づいて単方向エッジの H3 インデックスを返し、エラーが発生した場合は 0 を返します。

**構文**

```

**Parameter**

- `originIndex` — Origin Hexagon index number. [UInt64](../../data-types/int-uint.md).
- `destinationIndex` — Destination Hexagon index number. [UInt64](../../data-types/int-uint.md).

**Returned value**

- Unidirectional Edge Hexagon Index number. [UInt64](../../data-types/int-uint.md).

**Example**

Query:

```

**パラメーター**

* `originIndex` — 始点となる Hexagon のインデックス番号。[UInt64](../../data-types/int-uint.md)。
* `destinationIndex` — 終点となる Hexagon のインデックス番号。[UInt64](../../data-types/int-uint.md)。

**返り値**

* 単方向エッジ Hexagon のインデックス番号。[UInt64](../../data-types/int-uint.md)。

**例**

クエリ：

```

Result:

```

結果:

```

## h3UnidirectionalEdgeIsValid {#h3unidirectionaledgeisvalid}

Determines if the provided H3Index is a valid unidirectional edge index. Returns 1 if it's a unidirectional edge and 0 otherwise.

**Syntax**

```

## h3UnidirectionalEdgeIsValid {#h3unidirectionaledgeisvalid}

指定された H3Index が有効な単方向エッジインデックスかどうかを判定します。単方向エッジであれば 1、それ以外の場合は 0 を返します。

**構文**

```

**Parameter**

- `index` — Hexagon index number. [UInt64](../../data-types/int-uint.md).

**Returned value**

- 1 — The H3 index is a valid unidirectional edge. [UInt8](../../data-types/int-uint.md).
- 0 — The H3 index is not a valid unidirectional edge. [UInt8](../../data-types/int-uint.md).

**Example**

Query:

```

**パラメーター**

* `index` — 六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* 1 — H3 インデックスが有効な単方向エッジである。[UInt8](../../data-types/int-uint.md)。
* 0 — H3 インデックスが有効な単方向エッジではない。[UInt8](../../data-types/int-uint.md)。

**例**

クエリ：

```

Result:

```

結果：

```

## h3GetOriginIndexFromUnidirectionalEdge {#h3getoriginindexfromunidirectionaledge}

Returns the origin hexagon index from the unidirectional edge H3Index.

**Syntax**

```

## h3GetOriginIndexFromUnidirectionalEdge {#h3getoriginindexfromunidirectionaledge}

単方向エッジの H3Index から始点の六角形インデックスを返します。

**構文**

```

**Parameter**

- `edge` — Hexagon index number that represents a unidirectional edge. [UInt64](../../data-types/int-uint.md).

**Returned value**

- Origin Hexagon Index number. [UInt64](../../data-types/int-uint.md).

**Example**

Query:

```

**パラメーター**

* `edge` — 単方向エッジを表す六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* 始点となる六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**例**

クエリ:

```

Result:

```

結果:

```

## h3GetDestinationIndexFromUnidirectionalEdge {#h3getdestinationindexfromunidirectionaledge}

Returns the destination hexagon index from the unidirectional edge H3Index.

**Syntax**

```

## h3GetDestinationIndexFromUnidirectionalEdge {#h3getdestinationindexfromunidirectionaledge}

単方向エッジを表す H3Index から、終点の六角形インデックスを返します。

**構文**

```

**Parameter**

- `edge` — Hexagon index number that represents a unidirectional edge. [UInt64](../../data-types/int-uint.md).

**Returned value**

- Destination Hexagon Index number. [UInt64](../../data-types/int-uint.md).

**Example**

Query:

```

**パラメーター**

* `edge` — 単方向エッジを表す六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

* 宛先の六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**例**

クエリ：

```

Result:

```

結果:

```

## h3GetIndexesFromUnidirectionalEdge {#h3getindexesfromunidirectionaledge}

Returns the origin and destination hexagon indexes from the given unidirectional edge H3Index.

**Syntax**

```

## h3GetIndexesFromUnidirectionalEdge {#h3getindexesfromunidirectionaledge}

指定された単方向エッジ H3Index から、起点と終点の六角形インデックスを返します。

**構文**

```

**Parameter**

- `edge` — Hexagon index number that represents a unidirectional edge. [UInt64](../../data-types/int-uint.md).

**Returned value**

A tuple consisting of two values `tuple(origin,destination)`:

- `origin` — Origin Hexagon index number. [UInt64](../../data-types/int-uint.md).
- `destination` — Destination Hexagon index number. [UInt64](../../data-types/int-uint.md).

Returns `(0,0)` if the provided input is not valid.

**Example**

Query:

```

**パラメーター**

* `edge` — 単方向エッジを表す Hexagon インデックス番号。[UInt64](../../data-types/int-uint.md)。

**返される値**

`tuple(origin,destination)` という 2 つの値からなるタプルを返します。

* `origin` — 起点の Hexagon インデックス番号。[UInt64](../../data-types/int-uint.md)。
* `destination` — 終点の Hexagon インデックス番号。[UInt64](../../data-types/int-uint.md)。

指定された入力が無効な場合は `(0,0)` を返します。

**例**

クエリ:

```

Result:

```

結果:

```

## h3GetUnidirectionalEdgesFromHexagon {#h3getunidirectionaledgesfromhexagon}

Provides all of the unidirectional edges from the provided H3Index.

**Syntax**

```

## h3GetUnidirectionalEdgesFromHexagon {#h3getunidirectionaledgesfromhexagon}

指定された H3Index から、すべての単方向エッジを取得します。

**構文**

```

**Parameter**

- `index` — Hexagon index number that represents a unidirectional edge. [UInt64](../../data-types/int-uint.md).

**Returned value**

Array of h3 indexes representing each unidirectional edge. [Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md)).

**Example**

Query:

```

**パラメータ**

* `index` — 単方向エッジを表す六角形インデックス番号。[UInt64](../../data-types/int-uint.md)。

**戻り値**

各単方向エッジを表す h3 インデックスの配列。[Array](../../data-types/array.md)([UInt64](../../data-types/int-uint.md))。

**例**

クエリ:

```

Result:

```

結果：

```

## h3GetUnidirectionalEdgeBoundary {#h3getunidirectionaledgeboundary}

Returns the coordinates defining the unidirectional edge.

**Syntax**

```

## h3GetUnidirectionalEdgeBoundary {#h3getunidirectionaledgeboundary}

単方向エッジを定義する座標を返します。

**構文**

```

**Parameter**

- `index` — Hexagon index number that represents a unidirectional edge. [UInt64](../../data-types/int-uint.md).

**Returned value**

- Array of pairs '(lon, lat)'. [Array](../../data-types/array.md)([Float64](../../data-types/float.md), [Float64](../../data-types/float.md)).

**Example**

Query:

```

**パラメーター**

* `index` — 単方向エッジを表すヘキサゴンインデックス番号。[UInt64](../../data-types/int-uint.md)。

**返される値**

* ペア &#39;(lon, lat)&#39; の配列。[Array](../../data-types/array.md)([Float64](../../data-types/float.md), [Float64](../../data-types/float.md))。

**例**

クエリ:

```

Result:

```

結果：

```text
┌─boundary────────────────────────────────────────────────────────────────────────┐
│ [(37.42012867767779,-122.03773496427027),(37.33755608435299,-122.090428929044)] │
└─────────────────────────────────────────────────────────────────────────────────┘
```
