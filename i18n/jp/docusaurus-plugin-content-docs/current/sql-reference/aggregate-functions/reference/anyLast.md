---
description: 'カラム内で最後に出現した値を選択します。'
slug: /sql-reference/aggregate-functions/reference/anylast
title: 'anyLast'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## anyLast \{#anyLast\}

導入バージョン: v1.1

カラムで最後に出現した値を選択します。

:::warning
クエリは任意の順序で実行される可能性があるため、この関数の結果は非決定的です。
任意の値でよいが決定的な結果が必要な場合は、関数 [min](/sql-reference/aggregate-functions/reference/min) または [max](/sql-reference/aggregate-functions/reference/max) を使用してください。
:::

デフォルトでは、この関数は決して NULL を返さず、入力カラム内の NULL 値は無視されます。
ただし、関数を `RESPECT NULLS` 修飾子付きで使用した場合は、NULL かどうかに関わらず、読み取られた最後の値を返します。

**構文**

```sql
anyLast(column) [RESPECT NULLS]
```

**別名**: `last_value`

**引数**

* `column` — カラム名。[`Any`](/sql-reference/data-types)

**戻り値**

最後に出現した値を返します。[`Any`](/sql-reference/data-types)

**例**

**使用例**

```sql title=Query
CREATE TABLE tab(city Nullable(String)) ENGINE=Memory;
INSERT INTO tab (city) VALUES ('Amsterdam'), (NULL), ('New York'), ('Tokyo'), ('Valencia'), (NULL);
SELECT anyLast(city), anyLastRespectNulls(city) FROM tab;
```

```response title=Response
┌─anyLast(city)─┬─anyLastRespectNulls(city)─┐
│ Valencia      │ ᴺᵁᴸᴸ                      │
└───────────────┴───────────────────────────┘
```

{/*AUTOGENERATED_END*/ }
