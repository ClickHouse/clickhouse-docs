---
description: 'マン＝ホイットニーの順位検定を、2つの母集団からの標本に適用します。'
sidebar_label: 'mannWhitneyUTest'
slug: /sql-reference/aggregate-functions/reference/mannwhitneyutest
title: 'mannWhitneyUTest'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## mannWhitneyUTest \{#mannWhitneyUTest\}

導入バージョン: v21.1

2つの母集団からの標本に対して、Mann-Whitney の順位和検定を適用します。

両方の標本の値は `sample_data` カラムにあります。
`sample_index` が 0 の場合、その行の値は第1母集団からの標本に属します。
それ以外の場合は第2母集団からの標本に属します。
帰無仮説は、2つの母集団が確率的に等しいというものです。
片側検定も実施できます。
この検定は、データが正規分布に従うという仮定を必要としません。

**構文**

```sql
mannWhitneyUTest[(alternative[, continuity_correction])](sample_data, sample_index)
```

**パラメータ**

* `alternative` — 省略可。対立仮説。`two-sided`（デフォルト）：2つの母集団は確率的に等しくない。`greater`：1つ目のサンプルの値は、2つ目のサンプルの値より確率的に大きい。`less`：1つ目のサンプルの値は、2つ目のサンプルの値より確率的に小さい。[`String`](/sql-reference/data-types/string)
* `continuity_correction` — 省略可。0 でない場合、p 値の正規近似において連続性補正を適用します。デフォルト値は 1。[`UInt64`](/sql-reference/data-types/int-uint)

**引数**

* `sample_data` — サンプルデータ。[`(U)Int*`](/sql-reference/data-types/int-uint) または [`Float*`](/sql-reference/data-types/float) または [`Decimal*`](/sql-reference/data-types/decimal)
* `sample_index` — サンプルのインデックス。[`(U)Int*`](/sql-reference/data-types/int-uint)

**戻り値**

2つの要素を持つタプルを返します：計算された U 統計量と計算された p 値。[`Tuple(Float64, Float64)`](/sql-reference/data-types/tuple)

**例**

**Mann-Whitney U 検定の例**

```sql title=Query
CREATE TABLE mww_ttest (sample_data Float64, sample_index UInt8) ENGINE = Memory;
INSERT INTO mww_ttest VALUES (10, 0), (11, 0), (12, 0), (1, 1), (2, 1), (3, 1);

SELECT mannWhitneyUTest('greater')(sample_data, sample_index) FROM mww_ttest;
```

```response title=Response
┌─mannWhitneyUTest('greater')(sample_data, sample_index)─┐
│ (9,0.04042779918503192)                                │
└────────────────────────────────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }

**関連項目**

* [マン–ホイットニーのU検定](https://en.wikipedia.org/wiki/Mann%E2%80%93Whitney_U_test)
* [確率順序](https://en.wikipedia.org/wiki/Stochastic_ordering)
