---
description: '`key` 配列で指定されたキーに従い、`value` 配列から最大値を計算します。'
slug: /sql-reference/aggregate-functions/reference/maxmap
title: 'maxMap'
doc_type: 'reference'
---

# maxMap \{#maxmap\}

`key` 配列で指定されたキーに対応する `value` 配列の要素のうち、最大のものを計算します。

**構文**

```sql
maxMap(key, value)
```

または

```sql
maxMap(Tuple(key, value))
```

Alias: `maxMappedArrays`

:::note
* キー配列と値配列のタプルを渡すことは、キー配列と値配列をそれぞれ 2 つ渡すのと同じです。
* 合計が計算される各行において、`key` と `value` の要素数は同じでなければなりません。
:::

**パラメータ**

* `key` — キーの配列。[Array](../../data-types/array.md)。
* `value` — 値の配列。[Array](../../data-types/array.md)。

**戻り値**

* 2 つの配列からなるタプルを返します。内容は、ソート順のキーと、そのキーに対応して計算された値です。[Tuple](../../data-types/tuple.md)([Array](../../data-types/array.md), [Array](../../data-types/array.md))。

**例**

クエリ:

```sql
SELECT maxMap(a, b)
FROM VALUES('a Array(Char), b Array(Int64)', (['x', 'y'], [2, 2]), (['y', 'z'], [3, 1]))
```

結果:

```text
┌─maxMap(a, b)───────────┐
│ [['x','y','z'],[2,3,1]]│
└────────────────────────┘
```

<!--AUTOGENERATED_START-->

<!--AUTOGENERATED_END-->
