---
description: 'タイムスタンプで時系列データを昇順にソートします。'
slug: /sql-reference/aggregate-functions/reference/timeSeriesGroupArray
title: 'timeSeriesGroupArray'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## timeSeriesGroupArray \{#timeSeriesGroupArray\}

導入バージョン: v25.9

時系列データをタイムスタンプで昇順にソートします。

:::note
この関数は実験的機能です。使用するには、`allow_experimental_ts_to_grid_aggregate_function=true` を設定して有効化してください。
:::

**構文**

```sql
timeSeriesGroupArray(timestamp, value)
```

**引数**

* `timestamp` — サンプルのタイムスタンプ。[`DateTime`](/sql-reference/data-types/datetime) または [`UInt32`](/sql-reference/data-types/int-uint) または [`UInt64`](/sql-reference/data-types/int-uint)
* `value` — `timestamp` に対応する時系列の値。[`(U)Int*`](/sql-reference/data-types/int-uint) または [`Float*`](/sql-reference/data-types/float) または [`Decimal`](/sql-reference/data-types/decimal)

**返り値**

タイムスタンプで昇順にソートされた `(timestamp, value)` のタプルの配列を返します。同一のタイムスタンプに対して複数の値がある場合、この関数はそれらの中で最大の値を選択します。[`Array(Tuple(T1, T2))`](/sql-reference/data-types/array)

**例**

**個々の値を用いた基本的な使用方法**

```sql title=Query
WITH
    [110, 120, 130, 140, 140, 100]::Array(UInt32) AS timestamps,
    [1, 6, 8, 17, 19, 5]::Array(Float32) AS values
SELECT timeSeriesGroupArray(timestamp, value)
FROM
(
    SELECT
        arrayJoin(arrayZip(timestamps, values)) AS ts_and_val,
        ts_and_val.1 AS timestamp,
        ts_and_val.2 AS value
);
```

```response title=Response
┌─timeSeriesGroupArray(timestamp, value)───────────────┐
│ [(100, 5), (110, 1), (120, 6), (130, 8), (140, 19)]  │
└──────────────────────────────────────────────────────┘
```

**複数のタイムスタンプと値のサンプルを、同じ長さの配列として渡す**

```sql title=Query
WITH
    [110, 120, 130, 140, 140, 100]::Array(UInt32) AS timestamps,
    [1, 6, 8, 17, 19, 5]::Array(Float32) AS values
SELECT timeSeriesGroupArray(timestamps, values);
```

```response title=Response
┌─timeSeriesGroupArray(timestamps, values)──────────────┐
│ [(100, 5), (110, 1), (120, 6), (130, 8), (140, 19)]   │
└───────────────────────────────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }
