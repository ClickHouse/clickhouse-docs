---
description: 'すべての範囲（数値軸上の区間）の和集合の全長を計算します。'
sidebar_label: 'intervalLengthSum'
slug: /sql-reference/aggregate-functions/reference/intervalLengthSum
title: 'intervalLengthSum'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## intervalLengthSum \{#intervalLengthSum\}

導入バージョン: v21.7

複数の数値範囲を受け取り、互いに重なり合う部分をすべて結合して 1 つの連続した範囲とみなしたときの、合計の長さを計算します。

:::note
引数はすべて同じデータ型でなければなりません。
そうでない場合は、例外がスローされます。
:::

**構文**

```sql
intervalLengthSum(start, end)
```

**引数**

* `start` — 区間の開始値。[`(U)Int32/64`](/sql-reference/data-types/int-uint) または [`Float*`](/sql-reference/data-types/float) または [`DateTime`](/sql-reference/data-types/datetime) または [`Date`](/sql-reference/data-types/date)
* `end` — 区間の終了値。[`(U)Int32/64`](/sql-reference/data-types/int-uint) または [`Float*`](/sql-reference/data-types/float) または [`DateTime`](/sql-reference/data-types/datetime) または [`Date`](/sql-reference/data-types/date)

**戻り値**

すべての範囲（数値軸上の区間）の和集合の総延長を返します。引数の型に応じて、戻り値は UInt64 型または Float64 型になります。[`UInt64`](/sql-reference/data-types/int-uint) または [`Float64`](/sql-reference/data-types/float)

**例**

**Float32 の例**

```sql title=Query
CREATE TABLE fl_interval (id String, start Float32, end Float32) ENGINE = Memory;
INSERT INTO fl_interval VALUES ('a', 1.1, 2.9), ('a', 2.5, 3.2), ('a', 4, 5);

SELECT id, intervalLengthSum(start, end), toTypeName(intervalLengthSum(start, end)) FROM fl_interval GROUP BY id ORDER BY id;
```

```response title=Response
┌─id─┬─intervalLengthSum(start, end)─┬─toTypeName(intervalLengthSum(start, end))─┐
│ a  │                           3.1 │ Float64                                   │
└────┴───────────────────────────────┴───────────────────────────────────────────┘
```

**DateTime の例**

```sql title=Query
CREATE TABLE dt_interval (id String, start DateTime, end DateTime) ENGINE = Memory;
INSERT INTO dt_interval VALUES ('a', '2020-01-01 01:12:30', '2020-01-01 02:10:10'), ('a', '2020-01-01 02:05:30', '2020-01-01 02:50:31'), ('a', '2020-01-01 03:11:22', '2020-01-01 03:23:31');

SELECT id, intervalLengthSum(start, end), toTypeName(intervalLengthSum(start, end)) FROM dt_interval GROUP BY id ORDER BY id;
```

```response title=Response
┌─id─┬─intervalLengthSum(start, end)─┬─toTypeName(intervalLengthSum(start, end))─┐
│ a  │                          6610 │ UInt64                                    │
└────┴───────────────────────────────┴───────────────────────────────────────────┘
```

**日付の例**

```sql title=Query
CREATE TABLE date_interval (id String, start Date, end Date) ENGINE = Memory;
INSERT INTO date_interval VALUES ('a', '2020-01-01', '2020-01-04'), ('a', '2020-01-12', '2020-01-18');

SELECT id, intervalLengthSum(start, end), toTypeName(intervalLengthSum(start, end)) FROM date_interval GROUP BY id ORDER BY id;
```

```response title=Response
┌─id─┬─intervalLengthSum(start, end)─┬─toTypeName(intervalLengthSum(start, end))─┐
│ a  │                             9 │ UInt64                                    │
└────┴───────────────────────────────┴───────────────────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }
