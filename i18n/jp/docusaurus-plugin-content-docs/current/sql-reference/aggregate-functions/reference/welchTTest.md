---
description: '2つの母集団からの標本に Welch の t 検定を適用します。'
sidebar_label: 'welchTTest'
slug: /sql-reference/aggregate-functions/reference/welchttest
title: 'welchTTest'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## welchTTest \{#welchTTest\}

導入バージョン: v21.1

2 つの母集団からのサンプルに対して [Welch の t 検定](https://en.wikipedia.org/wiki/Welch%27s_t-test) を適用します。

両方のサンプルの値は `sample_data` カラムにあります。
`sample_index` が 0 の場合、その行の値は第 1 母集団からのサンプルに属します。
それ以外の場合は第 2 母集団からのサンプルに属します。
帰無仮説は、母集団の平均が等しいというものです。
データは正規分布に従うと仮定します。
母集団間で分散が等しくない場合でも利用できます。

**構文**

```sql
welchTTest([confidence_level])(sample_data, sample_index)
```

**パラメータ**

* `confidence_level` — 省略可能。信頼区間を計算するための信頼水準。[`Float`](/sql-reference/data-types/float)

**引数**

* `sample_data` — 標本データ。[`Int*`](/sql-reference/data-types/int-uint) または [`UInt*`](/sql-reference/data-types/int-uint) または [`Float*`](/sql-reference/data-types/float) または [`Decimal*`](/sql-reference/data-types/decimal)
* `sample_index` — 標本インデックス。[`Int*`](/sql-reference/data-types/int-uint) または [`UInt*`](/sql-reference/data-types/int-uint)

**返される値**

2 つの要素、または（省略可能な `confidence_level` が指定されている場合は）4 つの要素からなる Tuple を返します。内容は、計算された t 統計量、計算された p 値、そしてオプションで計算された信頼区間の下限値と上限値です。[`Tuple(Float64, Float64)`](/sql-reference/data-types/tuple) または [`Tuple(Float64, Float64, Float64, Float64)`](/sql-reference/data-types/tuple)

**例**

**基本的な Welch の t 検定**

```sql title=Query
CREATE TABLE welch_ttest (sample_data Float64, sample_index UInt8) ENGINE = Memory;
INSERT INTO welch_ttest VALUES (20.3, 0), (22.1, 0), (21.9, 0), (18.9, 1), (20.3, 1), (19, 1);

SELECT welchTTest(sample_data, sample_index) FROM welch_ttest;
```

```response title=Response
┌─welchTTest(sample_data, sample_index)──────┐
│ (2.7988719532211235, 0.051807360348581945) │
└────────────────────────────────────────────┘
```

**信頼水準あり**

```sql title=Query
SELECT welchTTest(0.95)(sample_data, sample_index) FROM welch_ttest;
```

```response title=Response
┌─welchTTest(0.95)(sample_data, sample_index)─────────────────────────────────────────┐
│ (2.7988719532211235, 0.05180736034858519, -0.026294346671631885, 4.092961013338302) │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }

**関連項目**

* [ウェルチのt検定](https://en.wikipedia.org/wiki/Welch%27s_t-test)
* [studentTTest 関数](/sql-reference/aggregate-functions/reference/studentttest)
