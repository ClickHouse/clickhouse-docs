---
description: 'ビットマップカラムの XOR を計算し、その基数を UInt64 型で返します。-State サフィックス付きで使用した場合は、ビットマップオブジェクトを返します'
slug: /sql-reference/aggregate-functions/reference/groupbitmapxor
title: 'groupBitmapXor'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## groupBitmapXor \{#groupBitmapXor\}

導入バージョン: v20.1

ビットマップカラムの XOR を計算し、その結果の基数（cardinality）を返します。
サフィックスコンビネーター [`-State`](/sql-reference/aggregate-functions/combinators#-state) が追加された場合は、ビットマップオブジェクトを返します。

**構文**

```sql
groupBitmapXor(expr)
groupBitmapXorState(expr)
```

**引数**

* `expr` — 評価結果が `AggregateFunction(groupBitmap, UInt*)` 型となる式。[`AggregateFunction(groupBitmap, UInt*)`](/sql-reference/data-types/aggregatefunction)

**戻り値**

カウントを `UInt64` 型で返します。`-State` を使用する場合はビットマップオブジェクトを返します。[`UInt64`](/sql-reference/data-types/int-uint)

**例**

**使用例**

```sql title=Query
CREATE TABLE bitmap_column_expr_test2
(
    tag_id String,
    z AggregateFunction(groupBitmap, UInt32)
)
ENGINE = MergeTree
ORDER BY tag_id;

INSERT INTO bitmap_column_expr_test2 VALUES ('tag1', bitmapBuild(cast([1,2,3,4,5,6,7,8,9,10] AS Array(UInt32))));
INSERT INTO bitmap_column_expr_test2 VALUES ('tag2', bitmapBuild(cast([6,7,8,9,10,11,12,13,14,15] AS Array(UInt32))));
INSERT INTO bitmap_column_expr_test2 VALUES ('tag3', bitmapBuild(cast([2,4,6,8,10,12] AS Array(UInt32))));

SELECT groupBitmapXor(z) FROM bitmap_column_expr_test2 WHERE like(tag_id, 'tag%');
```

```response title=Response
┌─groupBitmapXor(z)─┐
│              10   │
└───────────────────┘
```

**-State コンビネータの使用**

```sql title=Query
SELECT arraySort(bitmapToArray(groupBitmapXorState(z))) FROM bitmap_column_expr_test2 WHERE like(tag_id, 'tag%');
```

```response title=Response
┌─arraySort(bitmapToArray(groupBitmapXorState(z)))─┐
│ [1, 3, 5, 6, 8, 10, 11, 13, 14, 15]              │
└──────────────────────────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }
