---
description: '集約関数のランディングページ（集約関数の完全な一覧）'
sidebar_position: 36
slug: /sql-reference/aggregate-functions/reference/
title: '集約関数'
toc_folder_title: 'リファレンス'
toc_hidden: true
doc_type: 'landing-page'
---

# 集約関数 {#aggregate-functions}

ClickHouse は、標準的な SQL 集約関数（[sum](../reference/sum.md)、[avg](../reference/avg.md)、[min](../reference/min.md)、[max](../reference/max.md)、[count](../reference/count.md)）に加えて、さらに幅広い集約関数をサポートしています。

{/* このページの目次テーブルは、
  https://github.com/ClickHouse/clickhouse-docs/blob/main/scripts/autogenerate-table-of-contents.sh
  によって、YAML フロントマターの slug、description、title フィールドから自動生成されています。

  誤りを見つけた場合は、該当ページの YAML フロントマターを編集してください。
  */ }

{/*AUTOGENERATED_START*/ }

| ページ                                                                                                                         | 説明                                                                                                                                                                          |
| --------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [aggThrow](/sql-reference/aggregate-functions/reference/aggthrow)                                                           | この関数は例外安全性をテストするために使用できます。指定した確率で、生成時に例外を送出します。                                                                                                                             |
| [analysisOfVariance](/sql-reference/aggregate-functions/reference/analysis_of_variance)                                     | 一元配置分散分析（ANOVA）を行うための統計的検定を提供します。正規分布に従う複数のグループの観測値について、すべてのグループの平均が等しいかどうかを検定します。                                                                                          |
| [any](/sql-reference/aggregate-functions/reference/any)                                                                     | カラム内で最初に出現した値を返します。                                                                                                                                                         |
| [anyHeavy](/sql-reference/aggregate-functions/reference/anyheavy)                                                           | heavy hitters アルゴリズムを使用して頻出する値を選択します。各クエリ実行スレッドにおいて、全体の半分を超えて出現する値がある場合、その値が返されます。通常、結果は非決定的です。                                                                             |
| [anyLast](/sql-reference/aggregate-functions/reference/anylast)                                                             | カラム内で最後に出現した値を返します。                                                                                                                                                         |
| [approx&#95;top&#95;k](/sql-reference/aggregate-functions/reference/approxtopk)                                             | 指定されたカラム内で、おおよそ最も頻繁に現れる値とその出現回数からなる配列を返します。                                                                                                                                 |
| [approx&#95;top&#95;sum](/sql-reference/aggregate-functions/reference/approxtopsum)                                         | 指定されたカラム内で、おおよそ最も頻繁に現れる値とその出現回数からなる配列を返します。                                                                                                                                 |
| [argAndMax](/sql-reference/aggregate-functions/reference/argandmax)                                                         | 最大の `val` 値に対する `arg` と `val` の値を計算します。最大となる同じ `val` 値を持つ行が複数存在する場合、どの行に対応する `arg` と `val` が返されるかは非決定的です。                                                                   |
| [argAndMin](/sql-reference/aggregate-functions/reference/argandmin)                                                         | 最小の `val` 値に対応する `arg` と `val` を計算します。最小となる同じ `val` 値を持つ行が複数ある場合、どの行に対応する `arg` と `val` が返されるかは非決定的です。                                                                      |
| [argMax](/sql-reference/aggregate-functions/reference/argmax)                                                               | 最大の `val` 値に対応する `arg` 値を計算します。                                                                                                                                             |
| [argMin](/sql-reference/aggregate-functions/reference/argmin)                                                               | 最小の `val` 値に対応する `arg` 値を計算します。最大値となる同じ `val` を持つ行が複数ある場合、どの行に対応する `arg` が返されるかは非決定的です。                                                                                     |
| [avg](/sql-reference/aggregate-functions/reference/avg)                                                                     | 算術平均を計算します。                                                                                                                                                                 |
| [avgWeighted](/sql-reference/aggregate-functions/reference/avgweighted)                                                     | 重み付き算術平均を計算します。                                                                                                                                                             |
| [boundingRatio](/sql-reference/aggregate-functions/reference/boundingRatio)                                                 | 値のグループにおいて、最も左端の点と最も右端の点を結ぶ直線の傾きを計算する集約関数。                                                                                                                                  |
| [categoricalInformationValue](/sql-reference/aggregate-functions/reference/categoricalinformationvalue)                     | 各カテゴリごとに、`(P(tag = 1) - P(tag = 0))(log(P(tag = 1)) - log(P(tag = 0)))` の値を計算します。                                                                                           |
| [contingency](/sql-reference/aggregate-functions/reference/contingency)                                                     | `contingency` 関数は、連関係数（contingency coefficient）を計算します。これは、テーブル内の 2 つのカラム間の関連性の強さを測定する指標です。計算方法は、平方根の分母が異なる点を除き、`cramersV` 関数と類似しています。                                       |
| [corr](/sql-reference/aggregate-functions/reference/corr)                                                                   | ピアソンの相関係数を計算します。                                                                                                                                                            |
| [corrMatrix](/sql-reference/aggregate-functions/reference/corrmatrix)                                                       | N 個の変数の相関行列を計算します。                                                                                                                                                          |
| [corrStable](/sql-reference/aggregate-functions/reference/corrstable)                                                       | 数値的に安定なアルゴリズムを用いてピアソンの相関係数を計算します。                                                                                                                                           |
| [count](/sql-reference/aggregate-functions/reference/count)                                                                 | 行数または非 NULL 値の数をカウントします。                                                                                                                                                    |
| [covarPop](/sql-reference/aggregate-functions/reference/covarpop)                                                           | 母集団共分散を計算します。                                                                                                                                                               |
| [covarPopMatrix](/sql-reference/aggregate-functions/reference/covarpopmatrix)                                               | N 個の変数に対する母集団共分散行列を返します。                                                                                                                                                    |
| [covarPopStable](/sql-reference/aggregate-functions/reference/covarpopstable)                                               | 母集団共分散の値を計算します                                                                                                                                                              |
| [covarSamp](/sql-reference/aggregate-functions/reference/covarsamp)                                                         | `Σ((x - x̅)(y - y̅)) / (n - 1)` の値を計算します。                                                                                                                                   |
| [covarSampMatrix](/sql-reference/aggregate-functions/reference/covarsampmatrix)                                             | N 個の変数に対する標本共分散行列を返します。                                                                                                                                                     |
| [covarSampStable](/sql-reference/aggregate-functions/reference/covarsampstable)                                             | `covarSamp` と同様に動作しますが、処理は遅くなるものの、計算誤差をより小さく抑えられます。                                                                                                                         |
| [cramersV](/sql-reference/aggregate-functions/reference/cramersv)                                                           | `cramersV` 関数の結果は 0（変数間に関連がないことを意味）から 1 の範囲を取り、各値が互いの値によって完全に決定される場合にのみ 1 になります。これは、2 つの変数間の関連の強さを、それらが取り得る最大限の変動に対する割合として表した指標とみなせます。                                      |
| [cramersVBiasCorrected](/sql-reference/aggregate-functions/reference/cramersvbiascorrected)                                 | バイアス補正を行ったうえで Cramer&#39;s V を計算します。                                                                                                                                        |
| [deltaSum](/sql-reference/aggregate-functions/reference/deltasum)                                                           | 連続する行間の算術的な差分を合計します。                                                                                                                                                        |
| [deltaSumTimestamp](/sql-reference/aggregate-functions/reference/deltasumtimestamp)                                         | 連続する行同士の差分を合計します。差分が負の場合は無視されます。                                                                                                                                            |
| [distinctDynamicTypes](/sql-reference/aggregate-functions/reference/distinctdynamictypes)                                   | Dynamic カラムに格納されているデータ型のうち、一意なものの一覧を計算します。                                                                                                                                  |
| [distinctJSONPaths](/sql-reference/aggregate-functions/reference/distinctjsonpaths)                                         | JSON カラムに格納されているパスのうち、重複を除いた一覧を計算します。                                                                                                                                       |
| [entropy](/sql-reference/aggregate-functions/reference/entropy)                                                             | 指定したカラムの Shannon エントロピーを計算します。                                                                                                                                              |
| [estimateCompressionRatio](/sql-reference/aggregate-functions/reference/estimateCompressionRatio)                           | 指定されたカラムを圧縮することなく圧縮率を推定します。                                                                                                                                                 |
| [exponentialMovingAverage](/sql-reference/aggregate-functions/reference/exponentialMovingAverage)                           | 指定された時間範囲における値の指数移動平均を計算します。                                                                                                                                                |
| [exponentialTimeDecayedAvg](/sql-reference/aggregate-functions/reference/exponentialTimeDecayedAvg)                         | 時刻 `t` における時系列データの値に対する指数平滑化した重み付き移動平均を返します。                                                                                                                                |
| [exponentialTimeDecayedCount](/sql-reference/aggregate-functions/reference/exponentialTimeDecayedCount)                     | 時間インデックス `t` における時系列データの累積的な指数減衰量を返します。                                                                                                                                     |
| [exponentialTimeDecayedMax](/sql-reference/aggregate-functions/reference/exponentialTimeDecayedMax)                         | 時間インデックス `t` において計算された指数平滑移動平均と、`t-1` において計算された値との最大値を返します。                                                                                                                 |
| [exponentialTimeDecayedSum](/sql-reference/aggregate-functions/reference/exponentialTimeDecayedSum)                         | 時間インデックス `t` における時系列データの指数平滑移動平均値の合計を返します。                                                                                                                                  |
| [first&#95;value](/sql-reference/aggregate-functions/reference/first_value)                                                 | `any` と同じ動作をするエイリアスですが、Window Functions との互換性を保つために導入されました。Window Functions では、場合によっては `NULL` 値を処理する必要があります（デフォルトでは、すべての ClickHouse の集約関数は `NULL` 値を無視します）。                 |
| [flameGraph](/sql-reference/aggregate-functions/reference/flame_graph)                                                      | スタックトレースのリストからフレームグラフを構築する集約関数。                                                                                                                                             |
| [groupArray](/sql-reference/aggregate-functions/reference/grouparray)                                                       | 引数の値の配列を作成します。値は配列に任意の（非決定的な）順序で追加されます。                                                                                                                                     |
| [groupArrayArray](/sql-reference/aggregate-functions/reference/grouparrayarray)                                             | 複数の配列を集約し、それらを要素とする大きな配列を生成します。                                                                                                                                             |
| [groupArrayInsertAt](/sql-reference/aggregate-functions/reference/grouparrayinsertat)                                       | 配列の指定された位置に値を挿入します。                                                                                                                                                         |
| [groupArrayIntersect](/sql-reference/aggregate-functions/reference/grouparrayintersect)                                     | 指定されたすべての配列に共通して含まれる要素のみからなる集合を返します。                                                                                                                                        |
| [groupArrayLast](/sql-reference/aggregate-functions/reference/grouparraylast)                                               | 最後の引数の値からなる配列を作成します。                                                                                                                                                        |
| [groupArrayMovingAvg](/sql-reference/aggregate-functions/reference/grouparraymovingavg)                                     | 入力値の移動平均を算出します。                                                                                                                                                             |
| [groupArrayMovingSum](/sql-reference/aggregate-functions/reference/grouparraymovingsum)                                     | 入力値の移動合計を算出します。                                                                                                                                                             |
| [groupArraySample](/sql-reference/aggregate-functions/reference/grouparraysample)                                           | 引数値のサンプルを要素とする配列を作成します。結果となる配列のサイズは `max_size` 要素までに制限されます。引数値はランダムに選択され、配列に追加されます。                                                                                         |
| [groupArraySorted](/sql-reference/aggregate-functions/reference/grouparraysorted)                                           | 先頭の N 個の要素を昇順にソートした配列を返します。                                                                                                                                                 |
| [groupBitAnd](/sql-reference/aggregate-functions/reference/groupbitand)                                                     | 一連の数値に対してビット単位の `AND` 演算を適用します。                                                                                                                                             |
| [groupBitmap](/sql-reference/aggregate-functions/reference/groupbitmap)                                                     | 符号なし整数カラムに対してビットマップ計算または集約計算を行い、その結果のカーディナリティを UInt64 型で返します。サフィックス `-State` を付けた場合は、ビットマップオブジェクトを返します。                                                                     |
| [groupBitmapAnd](/sql-reference/aggregate-functions/reference/groupbitmapand)                                               | ビットマップカラム同士の AND 演算を行い、その結果のカーディナリティを UInt64 型で返します。サフィックスに -State を付けた場合は、ビットマップオブジェクトを返します。                                                                               |
| [groupBitmapOr](/sql-reference/aggregate-functions/reference/groupbitmapor)                                                 | ビットマップカラム同士の OR 演算を行い、その結果のカーディナリティを UInt64 型で返します。サフィックス `-State` を付けた場合は、ビットマップオブジェクトを返します。これは `groupBitmapMerge` と等価です。                                                  |
| [groupBitmapXor](/sql-reference/aggregate-functions/reference/groupbitmapxor)                                               | ビットマップカラムの XOR 演算を行い、その結果のカーディナリティを UInt64 型で返します。サフィックスに `-State` を付けて使用した場合は、ビットマップオブジェクトを返します。                                                                           |
| [groupBitOr](/sql-reference/aggregate-functions/reference/groupbitor)                                                       | 一連の数値に対してビット単位の `OR` 演算を適用します。                                                                                                                                              |
| [groupBitXor](/sql-reference/aggregate-functions/reference/groupbitxor)                                                     | 一連の数値に対してビット単位の `XOR` 演算を適用します。                                                                                                                                             |
| [groupConcat](/sql-reference/aggregate-functions/reference/groupconcat)                                                     | 文字列のグループから連結済みの文字列を生成します。必要に応じて区切り文字を指定でき、連結する要素数の上限も設定できます。                                                                                                                |
| [groupUniqArray](/sql-reference/aggregate-functions/reference/groupuniqarray)                                               | 引数の異なる値を要素とする配列を作成します。                                                                                                                                                      |
| [intervalLengthSum](/sql-reference/aggregate-functions/reference/intervalLengthSum)                                         | すべての区間（数直線上の線分）の和集合の長さを計算します。                                                                                                                                               |
| [kolmogorovSmirnovTest](/sql-reference/aggregate-functions/reference/kolmogorovsmirnovtest)                                 | 2つの母集団から得られた標本に対して Kolmogorov-Smirnov 検定を適用します。                                                                                                                             |
| [kurtPop](/sql-reference/aggregate-functions/reference/kurtpop)                                                             | シーケンスの尖度を計算します。                                                                                                                                                             |
| [kurtSamp](/sql-reference/aggregate-functions/reference/kurtsamp)                                                           | シーケンスの標本尖度を計算します。                                                                                                                                                           |
| [largestTriangleThreeBuckets](/sql-reference/aggregate-functions/reference/largestTriangleThreeBuckets)                     | 入力データに Largest-Triangle-Three-Buckets アルゴリズムを適用します。                                                                                                                         |
| [last&#95;value](/sql-reference/aggregate-functions/reference/last_value)                                                   | `anyLast` と同様に、最後に出現した値を返しますが、NULL も許容します。                                                                                                                                  |
| [mannWhitneyUTest](/sql-reference/aggregate-functions/reference/mannwhitneyutest)                                           | 2つの母集団からの標本に対して Mann-Whitney の順位検定を適用します。                                                                                                                                   |
| [max](/sql-reference/aggregate-functions/reference/max)                                                                     | 値のグループにおける最大値を計算する集約関数。                                                                                                                                                     |
| [maxIntersections](/sql-reference/aggregate-functions/reference/maxintersections)                                           | すべての区間が少なくとも 1 回は互いに交差している場合に、その区間群内で同時に交差している区間本数の最大値を計算する集約関数。                                                                                                            |
| [maxIntersectionsPosition](/sql-reference/aggregate-functions/reference/maxintersectionsposition)                           | `maxIntersections` の発生位置を計算する集約関数。                                                                                                                                          |
| [maxMap](/sql-reference/aggregate-functions/reference/maxmap)                                                               | `key` 配列で指定されたキーに従って、`value` 配列から最大値を求めます。                                                                                                                                  |
| [meanZTest](/sql-reference/aggregate-functions/reference/meanztest)                                                         | 2つの母集団からの標本に対して母平均の z 検定を適用します。                                                                                                                                             |
| [median](/sql-reference/aggregate-functions/reference/median)                                                               | `median*` 関数は、対応する `quantile*` 関数のエイリアスです。数値データ標本の中央値を計算します。                                                                                                                |
| [min](/sql-reference/aggregate-functions/reference/min)                                                                     | 値グループ内の最小値を計算する集約関数。                                                                                                                                                        |
| [minMap](/sql-reference/aggregate-functions/reference/minmap)                                                               | `key` 配列で指定されたキーに基づいて、`value` 配列の最小値を計算します。                                                                                                                                 |
| [quantile](/sql-reference/aggregate-functions/reference/quantile)                                                           | 数値データ系列の近似分位数を計算します。                                                                                                                                                        |
| [quantileBFloat16](/sql-reference/aggregate-functions/reference/quantilebfloat16)                                           | bfloat16 型の値からなる標本の近似分位数を計算します。                                                                                                                                             |
| [quantileDD](/sql-reference/aggregate-functions/reference/quantileddsketch)                                                 | 標本の近似分位数を相対誤差保証付きで計算します。                                                                                                                                                    |
| [quantileDeterministic](/sql-reference/aggregate-functions/reference/quantiledeterministic)                                 | 数値データ系列の近似分位数を計算します。                                                                                                                                                        |
| [quantileExact 関数](/sql-reference/aggregate-functions/reference/quantileexact)                                              | quantileExact、quantileExactLow、quantileExactHigh、quantileExactExclusive、quantileExactInclusive 関数                                                                           |
| [quantileExactExclusive](/sql-reference/aggregate-functions/reference/quantileExactExclusive)                               | 数値データ系列の分位数を厳密に計算します。                                                                                                                                                       |
| [quantileExactHigh](/sql-reference/aggregate-functions/reference/quantileExactHigh)                                         | quantileExact と同様に、数値データ系列の分位数を厳密に計算します。                                                                                                                                    |
| [quantileExactInclusive](/sql-reference/aggregate-functions/reference/quantileExactInclusive)                               | 数値データ系列の分位数を厳密に計算します。                                                                                                                                                       |
| [quantileExactLow](/sql-reference/aggregate-functions/reference/quantileExactLow)                                           | quantileExact と同様に、数値データ系列の[分位数](https://en.wikipedia.org/wiki/Quantile)を厳密に計算します。                                                                                          |
| [quantileExactWeighted](/sql-reference/aggregate-functions/reference/quantileexactweighted)                                 | 各要素の重みを考慮して、数値データ系列の分位数を厳密に計算します。                                                                                                                                           |
| [quantileExactWeightedInterpolated](/sql-reference/aggregate-functions/reference/quantileExactWeightedInterpolated)         | 各要素の重みを考慮し、線形補間を用いて数値データ系列の分位数を計算します。                                                                                                                                       |
| [quantileGK](/sql-reference/aggregate-functions/reference/quantileGK)                                                       | Greenwald-Khanna アルゴリズムを使用して、数値データ系列の分位数を計算します。                                                                                                                             |
| [quantileInterpolatedWeighted](/sql-reference/aggregate-functions/reference/quantileInterpolatedWeighted)                   | 各要素の重みを考慮し、線形補間を用いて数値データ系列の分位数を計算します。                                                                                                                                       |
| [quantilePrometheusHistogram](/sql-reference/aggregate-functions/reference/quantilePrometheusHistogram)                     | 線形補間を用いてヒストグラムの分位数を計算します。                                                                                                                                                   |
| [quantiles 関数](/sql-reference/aggregate-functions/reference/quantiles)                                                      | quantiles, quantilesExactExclusive, quantilesExactInclusive, quantilesGK                                                                                                    |
| [quantilesExactExclusive](/sql-reference/aggregate-functions/reference/quantilesExactExclusive)                             | 数値データ系列の分位数を厳密に計算します。                                                                                                                                                       |
| [quantilesExactInclusive](/sql-reference/aggregate-functions/reference/quantilesExactInclusive)                             | 数値データ系列の分位数を厳密に計算します。                                                                                                                                                       |
| [quantilesGK](/sql-reference/aggregate-functions/reference/quantilesGK)                                                     | quantilesGK は quantileGK と同様に動作しますが、複数レベルの分位数を同時に計算でき、結果を配列として返します。                                                                                                         |
| [quantilesTimingWeighted](/sql-reference/aggregate-functions/reference/quantilestimingweighted)                             | 指定された精度で、シーケンスの各要素の重みを考慮して数値データ列の分位数を計算します。                                                                                                                                 |
| [quantileTDigest](/sql-reference/aggregate-functions/reference/quantiletdigest)                                             | t-digest アルゴリズムを使用して、数値データ系列の近似分位数を計算します。                                                                                                                                   |
| [quantileTDigestWeighted](/sql-reference/aggregate-functions/reference/quantiletdigestweighted)                             | t-digest アルゴリズムを使用して、数値データ系列の近似分位数を計算します。                                                                                                                                   |
| [quantileTiming](/sql-reference/aggregate-functions/reference/quantiletiming)                                               | 指定された精度で数値データ系列の分位数を計算します。                                                                                                                                                  |
| [quantileTimingWeighted](/sql-reference/aggregate-functions/reference/quantiletimingweighted)                               | 指定された精度で、各シーケンス要素の重みを考慮して数値データ列の分位数を計算します。                                                                                                                                  |
| [rankCorr](/sql-reference/aggregate-functions/reference/rankCorr)                                                           | 順位相関係数を計算します。                                                                                                                                                               |
| [simpleLinearRegression](/sql-reference/aggregate-functions/reference/simplelinearregression)                               | 単回帰分析を実行します。                                                                                                                                                                |
| [singleValueOrNull](/sql-reference/aggregate-functions/reference/singlevalueornull)                                         | 集約関数 `singleValueOrNull` は、`x = ALL (SELECT ...)` のようなサブクエリ演算子を実装するために使用されます。データ内に一意な非 NULL 値が 1 つだけ存在するかどうかを確認します。                                                         |
| [skewPop](/sql-reference/aggregate-functions/reference/skewpop)                                                             | シーケンスの歪度を計算します。                                                                                                                                                             |
| [skewSamp](/sql-reference/aggregate-functions/reference/skewsamp)                                                           | シーケンスの標本歪度を計算します。                                                                                                                                                           |
| [sparkbar](/sql-reference/aggregate-functions/reference/sparkbar)                                                           | この関数は、値 `x` とその出現回数 `y` について、区間 `[min_x, max_x]` の度数ヒストグラムをプロットします。                                                                                                         |
| [stddevPop](/sql-reference/aggregate-functions/reference/stddevpop)                                                         | 結果は varPop の平方根と等しくなります。                                                                                                                                                    |
| [stddevPopStable](/sql-reference/aggregate-functions/reference/stddevpopstable)                                             | 結果は varPop の平方根と同じです。stddevPop とは異なり、この関数は数値的に安定なアルゴリズムを用います。                                                                                                               |
| [stddevSamp](/sql-reference/aggregate-functions/reference/stddevsamp)                                                       | 結果は varSamp の平方根と等しくなります。                                                                                                                                                   |
| [stddevSampStable](/sql-reference/aggregate-functions/reference/stddevsampstable)                                           | 結果は varSamp の平方根と同じです。stddevSamp とは異なり、この関数は数値的に安定なアルゴリズムを用います。                                                                                                             |
| [stochasticLinearRegression](/sql-reference/aggregate-functions/reference/stochasticlinearregression)                       | この関数は確率的線形回帰を実装します。学習率、L2 正則化係数、ミニバッチサイズなどのカスタムパラメータをサポートし、重み更新のための複数の手法（Adam、単純な SGD、Momentum、Nesterov）を備えています。                                                            |
| [stochasticLogisticRegression](/sql-reference/aggregate-functions/reference/stochasticlogisticregression)                   | この関数は確率的ロジスティック回帰を実装します。二値分類問題に利用でき、`stochasticLinearRegression` と同じカスタムパラメータをサポートし、同様に動作します。                                                                               |
| [studentTTest](/sql-reference/aggregate-functions/reference/studentttest)                                                   | 2つの母集団からの標本にスチューデントの t 検定を適用します。                                                                                                                                            |
| [studentTTestOneSample](/sql-reference/aggregate-functions/reference/studentttestonesample)                                 | 既知の母平均に対する 1 標本スチューデントの t 検定を標本に適用します。                                                                                                                                      |
| [sum](/sql-reference/aggregate-functions/reference/sum)                                                                     | 合計を計算します。数値に対してのみ使用できます。                                                                                                                                                    |
| [sumCount](/sql-reference/aggregate-functions/reference/sumcount)                                                           | 数値の合計を計算すると同時に、行数をカウントします。この関数は ClickHouse のクエリオプティマイザで利用されます。クエリ内に複数の `sum`、`count`、`avg` 関数がある場合、それらを単一の `sumCount` 関数に置き換えて計算結果を再利用できます。この関数を明示的に使用する必要があるケースはほとんどありません。 |
| [sumKahan](/sql-reference/aggregate-functions/reference/sumkahan)                                                           | Kahan の補償和アルゴリズムを使用して数値の合計を計算します                                                                                                                                            |
| [sumMap](/sql-reference/aggregate-functions/reference/summap)                                                               | `key` 配列で指定されたキーに従って、1 つ以上の `value` 配列を集計します。ソート済みのキー配列と、それぞれのキーに対応する値をオーバーフローなしで合計した値の配列から成るタプルを返します。                                                                      |
| [sumMapWithOverflow](/sql-reference/aggregate-functions/reference/summapwithoverflow)                                       | `key` 配列で指定されたキーに従って `value` 配列を合計します。戻り値は 2 つの配列から成るタプルであり、ソート済みのキー配列と、それぞれのキーに対応する値を合計した配列を返します。オーバーフローありで合計を行う点で、sumMap 関数と異なります。                                        |
| [sumWithOverflow](/sql-reference/aggregate-functions/reference/sumwithoverflow)                                             | 入力パラメータと同じデータ型を結果にも使用して数値の合計を計算します。合計がこのデータ型の最大値を超えた場合、オーバーフローさせて計算されます。                                                                                                    |
| [theilsU](/sql-reference/aggregate-functions/reference/theilsu)                                                             | `theilsU` 関数は、Theil の U 不確実性係数を計算します。これは、テーブル内の 2 つのカラム間の関連性の強さを測定する指標です。                                                                                                   |
| [timeSeriesChangesToGrid](/sql-reference/aggregate-functions/reference/timeSeriesChangesToGrid)                             | 指定されたグリッド上の時系列データに対して、PromQL 風の changes を計算する集約関数。                                                                                                                          |
| [timeSeriesDeltaToGrid](/sql-reference/aggregate-functions/reference/timeSeriesDeltaToGrid)                                 | 指定されたグリッド上の時系列データに対して、PromQL 風の delta を計算する集約関数。                                                                                                                            |
| [timeSeriesDerivToGrid](/sql-reference/aggregate-functions/reference/timeSeriesDerivToGrid)                                 | 指定されたグリッドに沿って、時系列データに対し PromQL 風の微分を計算する集約関数。                                                                                                                               |
| [timeSeriesGroupArray](/sql-reference/aggregate-functions/reference/timeSeriesGroupArray)                                   | 時系列データをタイムスタンプの昇順で並べ替えます。                                                                                                                                                   |
| [timeSeriesInstantDeltaToGrid](/sql-reference/aggregate-functions/reference/timeSeriesInstantDeltaToGrid)                   | 指定されたグリッドに沿って時系列データに対して PromQL 風の idelta を計算する集約関数。                                                                                                                         |
| [timeSeriesInstantRateToGrid](/sql-reference/aggregate-functions/reference/timeSeriesInstantRateToGrid)                     | 指定されたグリッド上の時系列データに対して、PromQL 風の irate を計算する集約関数。                                                                                                                            |
| [timeSeriesLastTwoSamples](/sql-reference/aggregate-functions/reference/timeSeriesLastTwoSamples)                           | PromQL 風の irate および idelta を計算するために時系列データを再サンプリングする集約関数                                                                                                                     |
| [timeSeriesPredictLinearToGrid](/sql-reference/aggregate-functions/reference/timeSeriesPredictLinearToGrid)                 | 指定されたグリッド上の時系列データに対して、PromQL 風の線形予測を計算する集約関数。                                                                                                                               |
| [timeSeriesRateToGrid](/sql-reference/aggregate-functions/reference/timeSeriesRateToGrid)                                   | 指定されたグリッド上の時系列データに対して、PromQL 風の rate を計算する集約関数。                                                                                                                             |
| [timeSeriesResampleToGridWithStaleness](/sql-reference/aggregate-functions/reference/timeSeriesResampleToGridWithStaleness) | 指定したグリッドに従って時系列データを再サンプリングする集約関数。                                                                                                                                           |
| [timeSeriesResetsToGrid](/sql-reference/aggregate-functions/reference/timeSeriesResetsToGrid)                               | 指定されたグリッド上の時系列データに対して、PromQL 風の resets を計算する集約関数。                                                                                                                           |
| [topK](/sql-reference/aggregate-functions/reference/topk)                                                                   | 指定されたカラム内で、おおよそ最も頻繁に現れる値の配列を返します。結果の配列は、値そのものではなく、そのおおよその出現頻度に基づいて高い順にソートされます。                                                                                              |
| [topKWeighted](/sql-reference/aggregate-functions/reference/topkweighted)                                                   | 指定されたカラム内で、おおよそ最も頻繁に現れる値の配列を返します。結果の配列は、値そのものではなく、そのおおよその出現頻度に基づいて高い順にソートされます。さらに、各値の重みも考慮されます。                                                                             |
| [uniq](/sql-reference/aggregate-functions/reference/uniq)                                                                   | 引数の異なる値のおおよその個数を計算します。                                                                                                                                                      |
| [uniqCombined](/sql-reference/aggregate-functions/reference/uniqcombined)                                                   | 引数の異なる値のおおよその個数を計算します。                                                                                                                                                      |
| [uniqCombined64](/sql-reference/aggregate-functions/reference/uniqcombined64)                                               | 引数に現れる異なる値のおおよその個数を計算します。`uniqCombined` と同様に動作しますが、`String` データ型に限らず、すべてのデータ型に対して 64 ビットのハッシュを使用します。                                                                        |
| [uniqExact](/sql-reference/aggregate-functions/reference/uniqexact)                                                         | 引数に現れる異なる値の個数を正確に計算します。                                                                                                                                                     |
| [uniqHLL12](/sql-reference/aggregate-functions/reference/uniqhll12)                                                         | HyperLogLog アルゴリズムを使用して、引数が取りうる異なる値のおおよその個数を計算します。                                                                                                                          |
| [uniqTheta](/sql-reference/aggregate-functions/reference/uniqthetasketch)                                                   | Theta Sketch Framework を使用して、引数が取りうる異なる値のおおよその個数を計算します。                                                                                                                     |
| [varPop](/sql-reference/aggregate-functions/reference/varPop)                                                               | 母分散を計算します。                                                                                                                                                                  |
| [varPopStable](/sql-reference/aggregate-functions/reference/varpopstable)                                                   | 母分散を返します。`varPop` とは異なり、この関数は数値的に安定なアルゴリズムを使用します。処理は遅くなりますが、計算誤差は小さくなります。                                                                                                   |
| [varSamp](/sql-reference/aggregate-functions/reference/varSamp)                                                             | データセットの標本分散を計算します。                                                                                                                                                          |
| [varSampStable](/sql-reference/aggregate-functions/reference/varsampstable)                                                 | データセットの標本分散を計算します。`varSamp` とは異なり、この関数は数値的に安定なアルゴリズムを使用します。処理は遅くなりますが、計算誤差は小さくなります。                                                                                         |
| [welchTTest](/sql-reference/aggregate-functions/reference/welchttest)                                                       | 2つの母集団から得られた標本に対して Welch の t 検定を適用します。                                                                                                                                      |

{/*AUTOGENERATED_END*/ }
