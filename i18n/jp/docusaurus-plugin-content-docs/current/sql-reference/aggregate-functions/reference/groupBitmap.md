---
description: '符号なし整数カラムに対するビットマップまたは集約計算を行います。cardinality を UInt64 型で返し、末尾に -State サフィックスを付けた場合はビットマップオブジェクトを返します'
slug: /sql-reference/aggregate-functions/reference/groupbitmap
title: 'groupBitmap'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## groupBitmap \{#groupBitmap\}

導入バージョン: v20.1

符号なし整数型のカラムからビットマップ（ビット配列）を作成し、そのビットマップ内に含まれる一意な値の個数（カーディナリティ）を返します。
`-State` コンビネータ用サフィックスを付与すると、個数を返す代わりに、実際の[ビットマップオブジェクト](/sql-reference/functions/bitmap-functions)を返します。

**構文**

```sql
groupBitmap(expr)
groupBitmapState(expr)
```

**引数**

* `expr` — 評価結果が `UInt*` 型となる式。[`UInt*`](/sql-reference/data-types/int-uint)

**戻り値**

`-State` を使用しない場合は UInt64 型のカウント値を返し、`-State` を使用する場合はビットマップオブジェクトを返します。[`UInt64`](/sql-reference/data-types/int-uint)

**例**

**使用例**

```sql title=Query
CREATE TABLE t (UserID UInt32) ENGINE = Memory;
INSERT INTO t VALUES (1), (1), (2), (3);

SELECT groupBitmap(UserID) AS num FROM t;
```

```response title=Response
┌─num─┐
│   3 │
└─────┘
```

{/*AUTOGENERATED_END*/ }
