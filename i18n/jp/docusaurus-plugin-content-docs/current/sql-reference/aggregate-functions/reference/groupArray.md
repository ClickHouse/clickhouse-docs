---
description: '引数の値の配列を作成します。値は配列に任意の順序（順不同）で追加できます。'
slug: /sql-reference/aggregate-functions/reference/grouparray
title: 'groupArray'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## groupArray \{#groupArray\}

導入バージョン: v1.1

引数の値から配列を作成します。
値は任意の（不定の）順序で配列に追加されます。

2 番目の形式（`max_size` パラメータ付き）は、結果の配列のサイズを `max_size` 要素に制限します。たとえば、`groupArray(1)(x)` は `[any(x)]` と同等です。

場合によっては、実行順序に依存することもできます。これは、サブクエリの結果が十分に小さい場合に、`ORDER BY` を使用するサブクエリに対する `SELECT` のケースに当てはまります。

`groupArray` 関数は、結果から `NULL` 値を除去します。

**構文**

```sql
groupArray(x)
groupArray(max_size)(x)
```

**エイリアス**: `array_agg`

**パラメータ**

* `max_size` — 省略可能。結果の配列のサイズを `max_size` 個の要素に制限します。[`UInt64`](/sql-reference/data-types/int-uint)

**引数**

* `x` — 配列に収集する引数の値。[`Any`](/sql-reference/data-types)

**戻り値**

引数の値の配列を返します。[`Array`](/sql-reference/data-types/array)

**例**

**基本的な使い方**

```sql title=Query
SELECT id, groupArray(10)(name) FROM default.ck GROUP BY id;
```

```response title=Response
┌─id─┬─groupArray(10)(name)─┐
│  1 │ ['zhangsan','lisi']  │
│  2 │ ['wangwu']           │
└────┴──────────────────────┘
```

{/*AUTOGENERATED_END*/ }
