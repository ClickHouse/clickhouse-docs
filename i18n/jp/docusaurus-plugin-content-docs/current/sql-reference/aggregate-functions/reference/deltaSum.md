---
description: '連続する行同士の算術差の合計を計算します。'
slug: /sql-reference/aggregate-functions/reference/deltasum
title: 'deltaSum'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## deltaSum \{#deltaSum\}

導入バージョン: v21.3

連続する行間の算術差分の合計を返します。
差分が負の場合は無視されます。

:::tip
この関数が正しく動作するためには、基礎となるデータがソートされている必要があります。
この関数を [materialized view](/sql-reference/statements/create/view#materialized-view) で使用したい場合は、代わりに [`deltaSumTimestamp`](/sql-reference/aggregate-functions/reference/deltasumtimestamp) 関数を使用することを推奨します。
:::

関連項目:

* [`runningDifference`](/sql-reference/functions/other-functions#runningDifference)

**構文**

```sql
deltaSum(x1[, x2, ...])
```

**引数**

* `x1[, x2, ...]` — 1つ以上の入力値。[`Integer`](/sql-reference/data-types/int-uint) または [`Float`](/sql-reference/data-types/float)

**返される値**

入力値の増分（算術差分）の合計を返します。[`(U)Int*`](/sql-reference/data-types/int-uint) または [`Float*`](/sql-reference/data-types/float)

**例**

**正の差分における基本的な使用例**

```sql title=Query
SELECT deltaSum(arrayJoin([1, 2, 3]))
```

```response title=Response
┌─deltaSum(arrayJoin([1, 2, 3]))─┐
│                              2 │
└────────────────────────────────┘
```

**値が混在し、負の差分は無視**

```sql title=Query
SELECT deltaSum(arrayJoin([1, 2, 3, 0, 3, 4, 2, 3]))
```

```response title=Response
┌─deltaSum(arrayJoin([1, 2, 3, 0, 3, 4, 2, 3]))─┐
│                                             7 │
└───────────────────────────────────────────────┘
```

**浮動小数点値**

```sql title=Query
SELECT deltaSum(arrayJoin([2.25, 3, 4.5]))
```

```response title=Response
┌─deltaSum(arrayJoin([2.25, 3, 4.5]))─┐
│                                2.25 │
└─────────────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }

**関連項目**

* [`runningDifference`](/sql-reference/functions/other-functions#runningDifference)
