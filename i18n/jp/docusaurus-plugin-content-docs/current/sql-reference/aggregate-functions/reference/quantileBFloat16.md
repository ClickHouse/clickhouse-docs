---
description: 'bfloat16 数値で構成されるサンプルから近似分位数を計算します。'
slug: /sql-reference/aggregate-functions/reference/quantilebfloat16
title: 'quantileBFloat16'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## quantileBFloat16 \{#quantileBFloat16\}

導入バージョン: v21.7

[bfloat16](https://en.wikipedia.org/wiki/Bfloat16_floating-point_format) 数値からなる標本の近似的な[分位数](https://en.wikipedia.org/wiki/Quantile)を計算します。

`bfloat16` は、1 ビットの符号ビット、8 ビットの指数部、7 ビットの仮数部を持つ浮動小数点データ型です。
この関数は入力値を 32 ビット float に変換し、上位 16 ビットを取得します。その後、`bfloat16` の分位数を計算し、結果にゼロビットを付加して 64 ビット float に変換します。
この関数は、相対誤差が最大でも 0.390625% に収まる高速な分位数推定器です。

**構文**

```sql
quantileBFloat16[(level)](expr)
```

**別名**: `medianBFloat16`

**パラメータ**

* `level` — 省略可能。分位数レベル。指定可能な値の範囲は 0 から 1 です。デフォルト値: 0.5。[`Float*`](/sql-reference/data-types/float)

**引数**

* `expr` — 数値データを含むカラム。[`(U)Int*`](/sql-reference/data-types/int-uint) または [`Float*`](/sql-reference/data-types/float)

**戻り値**

指定したレベルの近似分位数。[`Float64`](/sql-reference/data-types/float)

**例**

**bfloat16 を使用した分位数の計算**

```sql title=Query
CREATE TABLE example_table (a UInt32, b Float32) ENGINE = Memory;
INSERT INTO example_table VALUES (1, 1.001), (2, 1.002), (3, 1.003), (4, 1.004);

SELECT quantileBFloat16(0.75)(a), quantileBFloat16(0.75)(b) FROM example_table;
```

```response title=Response
┌─quantileBFloat16(0.75)(a)─┬─quantileBFloat16(0.75)(b)─┐
│                         3 │                         1 │
└───────────────────────────┴───────────────────────────┘
```

{/*AUTOGENERATED_END*/ }

**関連項目**

* [median](/sql-reference/aggregate-functions/reference/median)
* [quantiles](../../../sql-reference/aggregate-functions/reference/quantiles.md)
