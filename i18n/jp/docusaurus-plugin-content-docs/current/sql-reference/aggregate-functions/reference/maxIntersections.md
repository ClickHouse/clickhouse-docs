---
description: '（すべての区間が少なくとも 1 回は互いに交差する場合に）区間グループにおける区間同士の交差回数の最大値を計算する集約関数。'
slug: /sql-reference/aggregate-functions/reference/maxintersections
title: 'maxIntersections'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## maxIntersections \{#maxIntersections\}

導入バージョン: v20.1

一連の区間が（すべての区間が少なくとも一度は互いに交差している場合に）互いに交差する回数の最大値を計算する集約関数です。

**構文**

```sql
maxIntersections(start_column, end_column)
```

**引数**

* `start_column` — 各区間の開始を表す数値型カラム。`start_column` が `NULL` または 0 の場合、その区間はスキップされます。[`(U)Int*`](/sql-reference/data-types/int-uint) または [`Float*`](/sql-reference/data-types/float)
* `end_column` — 各区間の終了を表す数値型カラム。`end_column` が `NULL` または 0 の場合、その区間はスキップされます。[`(U)Int*`](/sql-reference/data-types/int-uint) または [`Float*`](/sql-reference/data-types/float)

**戻り値**

互いに交差する区間の最大数を返します。[`UInt64`](/sql-reference/data-types/int-uint)

**例**

**最大交差数の計算**

```sql title=Query
CREATE TABLE my_events (
    start UInt32,
    end UInt32
)
ENGINE = MergeTree
ORDER BY tuple();

INSERT INTO my_events VALUES
(1, 3),
(1, 6),
(2, 5),
(3, 7);

SELECT maxIntersections(start, end) FROM my_events;
```

```response title=Response
┌─maxIntersections(start, end)─┐
│                            3 │
└──────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }
