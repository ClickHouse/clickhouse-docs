---
slug: /changelogs/24.6
title: 'Cloud 向け v24.6 変更履歴'
description: 'v24.6 のクイックリリース変更履歴'
keywords: ['changelog', 'cloud']
sidebar_label: '24.6'
sidebar_position: 7
doc_type: 'changelog'
---



# V24.6 Cloud 向けチェンジログ

v24.6 リリースに基づく ClickHouse Cloud サービス向けの主な変更点です。



## 後方互換性のない変更 {#backward-incompatible-change}

- ストレージ`S3Queue`の`Ordered`モードにおける並列処理を再設計しました。設定`s3queue_processing_threads_num`または`s3queue_total_shards_num`を使用していた場合、このPRはOrderedモードで後方互換性がありません。設定`s3queue_total_shards_num`は削除されました。以前は`s3queue_allow_experimental_sharded_mode`配下でのみ使用が許可されていましたが、現在は非推奨です。新しい設定として`s3queue_buckets`が追加されました。[#64349](https://github.com/ClickHouse/ClickHouse/pull/64349) ([Kseniia Sumarokova](https://github.com/kssenii))。
- 新しい関数`snowflakeIDToDateTime`、`snowflakeIDToDateTime64`、`dateTimeToSnowflakeID`、および`dateTime64ToSnowflakeID`が追加されました。既存の関数`snowflakeToDateTime`、`snowflakeToDateTime64`、`dateTimeToSnowflake`、および`dateTime64ToSnowflake`とは異なり、新しい関数は`generateSnowflakeID`関数と互換性があります。つまり、`generateSnowflakeID`によって生成されたsnowflake IDを受け入れ、`generateSnowflakeID`と同じ型(つまり`UInt64`)のsnowflake IDを生成します。さらに、新しい関数は`generateSnowflakeID`と同様に、デフォルトでUNIXエポック(1970-01-01)を使用します。必要に応じて、異なるエポック、例えばTwitter/Xのエポック2010-11-04(UNIXエポックから1288834974657ミリ秒)を指定できます。古い変換関数は非推奨となり、移行期間後に削除されます。それでも使用する場合は、設定`allow_deprecated_snowflake_conversion_functions`を有効にしてください。[#64948](https://github.com/ClickHouse/ClickHouse/pull/64948) ([Robert Schulze](https://github.com/rschu1ze))。


## 新機能 {#new-feature}

- 空のタプルをサポートしました。[#55061](https://github.com/ClickHouse/ClickHouse/pull/55061) ([Amos Bird](https://github.com/amosbird))。
- ヒルベルト曲線のエンコードおよびデコード関数を追加しました。[#60156](https://github.com/ClickHouse/ClickHouse/pull/60156) ([Artem Mustafin](https://github.com/Artemmm91))。
- `hilbertEncode`に対するインデックス解析のサポートを追加しました。[#64662](https://github.com/ClickHouse/ClickHouse/pull/64662) ([Artem Mustafin](https://github.com/Artemmm91))。
- 関数`readWKTLineString`を使用してWKT形式の`LINESTRING`ジオメトリを読み取るサポートを追加しました。[#62519](https://github.com/ClickHouse/ClickHouse/pull/62519) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov))。
- TwitterスタイルのSnowflake IDを生成するための新しいSQL関数`generateSnowflakeID`を追加しました。[#63577](https://github.com/ClickHouse/ClickHouse/pull/63577) ([Danila Puzov](https://github.com/kazalika))。
- `=`演算子を使用した`IPv4`型と`IPv6`型の比較のサポートを追加しました。[#64292](https://github.com/ClickHouse/ClickHouse/pull/64292) ([Francisco J. Jurado Moreno](https://github.com/Beetelbrox))。
- 二項数学関数(pow、atan2、max2、min2、hypot)における10進数引数をサポートしました。[#64582](https://github.com/ClickHouse/ClickHouse/pull/64582) ([Mikhail Gorshkov](https://github.com/mgorshkov))。
- SQL関数`parseReadableSize`(`OrNull`および`OrZero`バリアントを含む)を追加しました。[#64742](https://github.com/ClickHouse/ClickHouse/pull/64742) ([Francisco J. Jurado Moreno](https://github.com/Beetelbrox))。
- ファイル系ストレージ(s3/file/hdfs/url/azureBlobStorage)に`_time`仮想カラムを追加しました。[#64947](https://github.com/ClickHouse/ClickHouse/pull/64947) ([Ilya Golshtein](https://github.com/ilejn))。
- 新しい関数`base64URLEncode`、`base64URLDecode`、`tryBase64URLDecode`を導入しました。[#64991](https://github.com/ClickHouse/ClickHouse/pull/64991) ([Mikhail Gorshkov](https://github.com/mgorshkov))。
- 2つのUTF8文字列間の[編集距離](https://en.wikipedia.org/wiki/Edit_distance)を計算する新しい関数`editDistanceUTF8`を追加しました。[#65269](https://github.com/ClickHouse/ClickHouse/pull/65269) ([LiuNeng](https://github.com/liuneng1994))。
- カスタムHTTPハンドラーでカスタムレスポンスヘッダーをサポートするための`http_response_headers`設定を追加しました。[#63562](https://github.com/ClickHouse/ClickHouse/pull/63562) ([Grigorii](https://github.com/GSokol))。
- クエリ結果を無限ループで返すことをサポートする新しいテーブル関数`loop`を追加しました。[#63452](https://github.com/ClickHouse/ClickHouse/pull/63452) ([Sariel](https://github.com/sarielwxm))。これはテストに有用です。
- `system.query_log`に2つの追加カラム`used_privileges`と`missing_privileges`を導入しました。`used_privileges`にはクエリ実行中にチェックされた権限が格納され、`missing_privileges`には不足している必要な権限が含まれます。[#64597](https://github.com/ClickHouse/ClickHouse/pull/64597) ([Alexey Katsman](https://github.com/alexkats))。
- 設定`output_format_pretty_display_footer_column_names`を追加しました。有効にすると、長いテーブル(デフォルトでは50行)の末尾にカラム名が表示されます。最小行数の閾値は`output_format_pretty_display_footer_column_names_min_rows`で制御されます。[#65144](https://github.com/ClickHouse/ClickHouse/pull/65144) ([Shaun Struwig](https://github.com/Blargian))。


## パフォーマンスの向上 {#performance-improvement}


* 24.5 で導入された #60459 による CROSS JOIN の性能劣化を修正。#65243 (Nikita Taranov)。
* io&#95;uring の再送処理の可視性を改善しました。プロファイルイベント IOUringSQEsResubmits の名称を IOUringSQEsResubmitsAsync に変更し、新たに IOUringSQEsResubmitsSync を追加しました。#63699 (Tomer Shafir)。
* すべての関数が正しいサイズのカラムを引数に取って呼び出されていることを検証するアサーションを導入。#63723 (Raúl Marín)。
* `PRIMARY KEY` で設定された順序を維持しつつ、サイズ最適化のために挿入時に行を再配置できる機能を追加しました。これは設定 `optimize_row_order` によって制御されます（デフォルトではオフ）。[#63578](https://github.com/ClickHouse/ClickHouse/pull/63578)（[Igor Markelov](https://github.com/ElderlyPassionFruit)）。
* Parquet のバイナリデータを直接 ClickHouse のカラムに読み込めるネイティブ Parquet リーダーを追加しました。これは設定 `input_format_parquet_use_native_reader`（デフォルトでは無効）によって制御されます。[#60361](https://github.com/ClickHouse/ClickHouse/pull/60361)（[ZhiHong Zhang](https://github.com/copperybean)）。
* クエリフィルタによって MergeTree テーブルから厳密な範囲を選択できる場合に、部分的な trivial count 最適化をサポートします。 [#60463](https://github.com/ClickHouse/ClickHouse/pull/60463) ([Amos Bird](https://github.com/amosbird))。
* マルチスレッドの `INSERT` における最大メモリ使用量を、複数スレッドからのチャンクを単一の `transform` で収集することで削減しました。 [#61047](https://github.com/ClickHouse/ClickHouse/pull/61047) ([Yarik Briukhovetskyi](https://github.com/yariks5s)).
* Azure オブジェクトストレージ使用時に追加バッファの確保を避け、固定的なメモリ割り当てを用いることでメモリ使用量を削減します。 [#63160](https://github.com/ClickHouse/ClickHouse/pull/63160) ([SmitaRKulkarni](https://github.com/SmitaRKulkarni)).
* `ColumnNullable::size` における仮想関数呼び出しの回数を減らしました。 [#60556](https://github.com/ClickHouse/ClickHouse/pull/60556) ([HappenLee](https://github.com/HappenLee))。
* 正規表現引数が1文字の場合に `splitByRegexp` を高速化しました。 [#62696](https://github.com/ClickHouse/ClickHouse/pull/62696) ([Robert Schulze](https://github.com/rschu1ze)).
* 使用されたキーの最小値と最大値を記録しておくことで、8 ビットおよび 16 ビットキーによる集計を高速化します。これにより、確認が必要なセルの数を減らすことができます。 [#62746](https://github.com/ClickHouse/ClickHouse/pull/62746) ([Jiebin Sun](https://github.com/jiebinn)).
* 左辺が `LowCardinality`、右辺が定数の集合である場合の `IN` 演算子の処理を最適化しました。 [#64060](https://github.com/ClickHouse/ClickHouse/pull/64060) ([Zhiguo Zhou](https://github.com/ZhiguoZh)).
* `ConcurrentHashJoin` 内でハッシュテーブルを初期化および破棄するために、スレッドプールを使用するようにしました。 [#64241](https://github.com/ClickHouse/ClickHouse/pull/64241) ([Nikita Taranov](https://github.com/nickitat))。
* スパースカラムを含むテーブルでの縦方向マージを最適化しました。 [#64311](https://github.com/ClickHouse/ClickHouse/pull/64311) ([Anton Popov](https://github.com/CurtizJ))。
* 垂直マージ中にリモートファイルシステム上のデータをプリフェッチする機能を有効にしました。これにより、データをリモートファイルシステム上に保存しているテーブルにおける垂直マージのレイテンシが改善されます。 [#64314](https://github.com/ClickHouse/ClickHouse/pull/64314) ([Anton Popov](https://github.com/CurtizJ)).
* `ColumnSparse::filter` の `isDefault` への不要な呼び出しを削減し、パフォーマンスを改善しました。 [#64426](https://github.com/ClickHouse/ClickHouse/pull/64426) ([Jiebin Sun](https://github.com/jiebinn)).
* 複数の非同期 `getChildren` リクエストを行うことで、keeper-client の `find_super_nodes` および `find_big_family` コマンドを高速化しました。[#64628](https://github.com/ClickHouse/ClickHouse/pull/64628) ([Alexander Gololobov](https://github.com/davenger))。
* nullable 数値型引数を取る `least`/`greatest` 関数の動作を改善しました。 [#64668](https://github.com/ClickHouse/ClickHouse/pull/64668) ([KevinyhZou](https://github.com/KevinyhZou)).
* クエリプラン上の連続した 2 つのフィルタリングステップを 1 つにまとめられるようにしました。これにより、親ステップからフィルタ条件をプッシュダウンできる場合に、フィルタプッシュダウンの最適化が向上します。 [#64760](https://github.com/ClickHouse/ClickHouse/pull/64760) ([Nikolai Kochetov](https://github.com/KochetovNicolai)).
* `vertical final` の実装における不適切な最適化を削除し、`vertical final` アルゴリズムをデフォルトで再び有効にしました。 [#64783](https://github.com/ClickHouse/ClickHouse/pull/64783) ([Duc Canh Le](https://github.com/canhld94)).
* フィルタ式から ALIAS ノードを削除しました。これにより、新しいアナライザー使用時の `PREWHERE` を含むクエリの性能がわずかに向上します。[#64793](https://github.com/ClickHouse/ClickHouse/pull/64793)（[Nikolai Kochetov](https://github.com/KochetovNicolai)）。
* OpenSSL のセッションキャッシュを再度有効化しました。 [#65111](https://github.com/ClickHouse/ClickHouse/pull/65111) ([Robert Schulze](https://github.com/rschu1ze)).
* 挿入時のスキップインデックスおよび統計のマテリアライズを無効化する設定（`materialize_skip_indexes_on_insert` と `materialize_statistics_on_insert`）を追加しました。 [#64391](https://github.com/ClickHouse/ClickHouse/pull/64391) ([Anton Popov](https://github.com/CurtizJ))。
* 割り当てられたメモリサイズを用いて行グループサイズを計算し、単一スレッドモードでの Parquet writer のピークメモリ使用量を削減します。 [#64424](https://github.com/ClickHouse/ClickHouse/pull/64424) ([LiuNeng](https://github.com/liuneng1994))
* スパース列のイテレーターを改善し、`size` 関数の呼び出し回数を削減しました。 [#64497](https://github.com/ClickHouse/ClickHouse/pull/64497) ([Jiebin Sun](https://github.com/jiebinn)).
* Azure Blob Storage へのバックアップ時にサーバーサイドコピーを使用するための条件を更新しました。 [#64518](https://github.com/ClickHouse/ClickHouse/pull/64518) ([SmitaRKulkarni](https://github.com/SmitaRKulkarni))。
* 多数のスキップインデックスを持つテーブルに対する縦方向マージ処理のメモリ使用量を最適化しました。 [#64580](https://github.com/ClickHouse/ClickHouse/pull/64580) ([Anton Popov](https://github.com/CurtizJ)).





## 改善 {#improvement}


* CSV 形式におけるタプルの動作および ClickHouse による解釈方法を元の挙動に戻しました。この変更により、実質的に ClickHouse/ClickHouse#60994 はロールバックされ、次の一部の設定でのみ有効となります：output&#95;format&#95;csv&#95;serialize&#95;tuple&#95;into&#95;separate&#95;columns、input&#95;format&#95;csv&#95;deserialize&#95;separate&#95;columns&#95;into&#95;tuple、input&#95;format&#95;csv&#95;try&#95;infer&#95;strings&#95;from&#95;quoted&#95;tuples。#65170 (Nikita Mikhaylov)。
* システムテーブルに対して `SHOW CREATE TABLE` を実行すると、各テーブル固有の非常に便利なコメントが表示され、このテーブルが何のために必要なのかが分かるようになりました。 [#63788](https://github.com/ClickHouse/ClickHouse/pull/63788) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* 関数 `round()`, `roundBankers()`, `floor()`, `ceil()`, `trunc()` の第2引数（scale）は、定数である必要がなくなりました。 [#64798](https://github.com/ClickHouse/ClickHouse/pull/64798) ([Mikhail Gorshkov](https://github.com/mgorshkov)).
* サービスが高負荷の状態でスレッドをスケジューリングする際に発生しうる、MergeTree インデックス解析中のデッドロックを回避するようにしました。 [#59427](https://github.com/ClickHouse/ClickHouse/pull/59427) ([Sean Haynes](https://github.com/seandhaynes)).
* S3 プロキシのサポートおよびトンネリングに対する、いくつかの軽微なコーナーケースの修正。 [#63427](https://github.com/ClickHouse/ClickHouse/pull/63427) ([Arthur Passos](https://github.com/arthurpassos)).
* `plain_rewritable` メタデータストレージによって作成および削除されたディレクトリの数と、ローカルとリモート間のインメモリマップ内のエントリ数を追跡するメトリクスを追加しました。 [#64175](https://github.com/ClickHouse/ClickHouse/pull/64175) ([Julia Kartseva](https://github.com/jkartseva))。
* クエリキャッシュは、同じクエリでも設定が異なる場合は別物として扱うようになりました。これにより、`limit` や `additional_table_filters` などの異なる設定がクエリ結果に影響する場合の堅牢性が向上します。 [#64205](https://github.com/ClickHouse/ClickHouse/pull/64205) ([Robert Schulze](https://github.com/rschu1ze))。
* オブジェクトストレージで、非標準エラーコード `QpsLimitExceeded` をリトライ可能なエラーとしてサポートするようにしました。 [#64225](https://github.com/ClickHouse/ClickHouse/pull/64225) ([Sema Checherinda](https://github.com/CheSema)).
* 平均出力ブロックサイズ（バイト数）を制御するための新しい設定 `input_format_parquet_prefer_block_bytes` を追加し、`input_format_parquet_max_block_size` のデフォルト値を65409に変更しました。 [#64427](https://github.com/ClickHouse/ClickHouse/pull/64427) ([LiuNeng](https://github.com/liuneng1994)).
* ユーザーの設定ファイルにおける設定値は、オブジェクトストレージ上で動作する `MergeTree` のマージおよびミューテーションには影響しません。 [#64456](https://github.com/ClickHouse/ClickHouse/pull/64456) ([alesapin](https://github.com/alesapin))。
* オブジェクトストレージで、非標準のエラーコード `TotalQpsLimitExceeded` を再試行可能なエラーとしてサポートしました。 [#64520](https://github.com/ClickHouse/ClickHouse/pull/64520) ([Sema Checherinda](https://github.com/CheSema)).
* オープンソース版および ClickHouse Cloud 版の両方の Advanced Dashboard を更新し、「最大同時ネットワーク接続数」チャートを追加しました。 [#64610](https://github.com/ClickHouse/ClickHouse/pull/64610) ([Thom O&#39;Connor](https://github.com/thomoco))。
* `zeros_mt` と `generateRandom` に関する進捗レポートを改善。[#64804](https://github.com/ClickHouse/ClickHouse/pull/64804)（[Raúl Marín](https://github.com/Algunenano)）。
* サンプリングが現在アクティブかどうかを示す非同期メトリック `jemalloc.profile.active` を追加しました。これは `prof.active` に加えて用いられる有効化メカニズムであり、呼び出しスレッドがサンプリングを行うには両方がアクティブである必要があります。 [#64842](https://github.com/ClickHouse/ClickHouse/pull/64842) ([Unalian](https://github.com/Unalian)).
* `allow_experimental_join_condition` の重要フラグを外しました。このフラグにより、異なるバージョンが混在するクラスタにおいて分散クエリが正常に実行されない可能性がありました。 [#65008](https://github.com/ClickHouse/ClickHouse/pull/65008) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov))。
* サーバーの非同期メトリクス `DiskGetObjectThrottler*` および `DiskGetObjectThrottler*` を追加しました。これらは、ディスク設定 `s3_max_get_rps` および `s3_max_put_rps` で定義される 1 秒あたりのリクエスト数に対するレート制限と、ディスク側のスロットリング制限に達することなく現在送信可能なリクエスト数を反映します。メトリクスは、制限が設定されている各ディスクごとに定義されます。 [#65050](https://github.com/ClickHouse/ClickHouse/pull/65050) ([Sergei Trifonov](https://github.com/serxa)).
* `bcrypt_hash` を使用してユーザーを作成する際のバリデーションを追加しました。 [#65242](https://github.com/ClickHouse/ClickHouse/pull/65242) ([Raúl Marín](https://github.com/Algunenano)).
* `PREWHERE` の処理中および処理後に読み取られた行数を示すプロファイルイベントを追加。 [#64198](https://github.com/ClickHouse/ClickHouse/pull/64198) ([Nikita Taranov](https://github.com/nickitat)).
* 並列レプリカ使用時に、`EXPLAIN PLAN` の出力にクエリを含めるようにしました。 [#64298](https://github.com/ClickHouse/ClickHouse/pull/64298) ([vdimir](https://github.com/vdimir)).
* `allow_deprecated_functions` を `allow_deprecated_error_prone_window_functions` に名称変更しました。 [#64358](https://github.com/ClickHouse/ClickHouse/pull/64358) ([Raúl Marín](https://github.com/Algunenano))。
* `file` テーブル関数でも、ファイルディスクリプタに対して `max_read_buffer_size` 設定が適用されるようにしました。 [#64532](https://github.com/ClickHouse/ClickHouse/pull/64532) ([Azat Khuzhin](https://github.com/azat)).
* サポートされていないストレージでは、マテリアライズドビューに対してもトランザクションを無効化しました。 [#64918](https://github.com/ClickHouse/ClickHouse/pull/64918) ([alesapin](https://github.com/alesapin)).
* 旧アナライザーでは `QUALIFY` 句の使用を禁止しました。旧アナライザーは `QUALIFY` を無視していたため、ミューテーション操作で想定外のデータ削除が発生する可能性がありました。 [#65356](https://github.com/ClickHouse/ClickHouse/pull/65356) ([Dmitry Novik](https://github.com/novikd))。





## バグ修正（公式安定版リリースにおけるユーザーから見える不具合） {#bug-fix-user-visible-misbehavior-in-an-official-stable-release}

- INとindexHint()で'set'スキップインデックスが機能しない問題を修正しました。#62083 (Michael Kolupaev)。
- テーブルが適応的粒度を使用していない場合にFINALを使用したクエリが誤った結果を返す問題を修正しました。#62432 (Duc Canh Le)。
- パラメータ化されたビュー値の割り当て時に関数を実行できるようサポートしました。#63502 (SmitaRKulkarni)。
- Parquetのメモリトラッキングを修正しました。#63584 (Michael Kolupaev)。
- 分散クエリの結果でデータが欠落する稀なケースを修正しました。#63691 (vdimir)。
- Tuple(Map(LowCardinality(String), String), ...)型のカラムの読み取りを修正しました。#63956 (Anton Popov)。
- 非修飾COLUMNSマッチャーの解決を修正しました。入力カラムの順序を保持し、未知の識別子の使用を禁止します。#63962 (Dmitry Novik)。
- 異なる型（式と関数）の循環エイリアスに対する循環エイリアスエラーを修正しました。#63993 (Nikolai Kochetov)。
- この修正により、クエリパイプライン内の各個別ビューに対して正しい定義者を持つ適切な再定義コンテキストが使用されます。#64079 (pufit)。
- アナライザーを修正：INTERPOLATEを使用する際の「カラムが見つかりません」エラーを修正しました。#64096 (Yakov Olkhovskiy)。
- CREATE TABLE as MaterializedViewでのLOGICAL_ERRORを防止しました。#64174 (Raúl Marín)。
- クエリキャッシュは、異なるデータベースに対する2つの同一クエリを異なるものとして扱うようになりました。以前の動作では、テーブルからの読み取り権限の欠如を回避するために使用される可能性がありました。#64199 (Robert Schulze)。
- StatusFile内の~WriteBufferFromFileDescriptorでキャッチされない例外による中断の可能性を修正しました。#64206 (Kruglov Pavel)。
- ARRAY JOINを使用した分散クエリでの重複エイリアスエラーを修正しました。#64226 (Nikolai Kochetov)。
- 文字列から整数への予期しないaccurateCastを修正しました。#64255 (wudidapaopao)。
- ORグループに相互排他的なアトムが含まれる場合のCNF簡略化を修正しました。#64256 (Eduard Karacharov)。
- クエリツリーサイズの検証を修正しました。#64377 (Dmitry Novik)。
- 論理エラーを修正：PREWHEREを使用したBufferテーブルでの不正なキャストを修正しました。#64388 (Nikolai Kochetov)。
- デフォルト式を持つテーブルに対するCREATE TABLE ASクエリを修正しました。#64455 (Anton Popov)。
- NULL可能なキーを持つテーブルでのORDER BY ... NULLS FIRST / LASTに対するoptimize_read_in_orderの動作を修正しました。#64483 (Eduard Karacharov)。
- GLOBAL IN..へのエイリアスを持つクエリでの「式ノードリストは1つの射影名を期待しています」および「未知の式または識別子」エラーを修正しました。#64517 (Nikolai Kochetov)。
- GROUP BYキーに定数CTEを持つ分散クエリでの「カラムが見つかりません」エラーを修正しました。#64519 (Nikolai Kochetov)。
- フォーマッターが奇数個の文字を生成し、最後の文字が0である場合のformatDateTimeInJodaSyntax関数の出力を修正しました。例えば、SELECT formatDateTimeInJodaSyntax(toDate('2012-05-29'), 'D')は、以前の15ではなく、正しく150を返すようになりました。#64614 (LiuNeng)。
- -Ifコンビネーターが既に使用されている場合は集約を書き換えないようにしました。#64638 (Dmitry Novik)。
- float型の型推論を修正しました（小さなバッファの場合、すなわち--max_read_buffer_size 1）。#64641 (Azat Khuzhin)。
- 式を使用したTTLが機能しなくなる可能性があるバグを修正しました。#64694 (alesapin)。
- 常に真であるWHEREおよびPREWHERE式の削除を修正しました（新しいアナライザー用）。#64695 (Nikolai Kochetov)。
- startsWith、endsWith、match、multiSearchAnyの結果でフィルタリングする際のトークンベーステキストインデックス（ngrambf、full_text）による過剰なパート削除を修正しました。#64720 (Eduard Karacharov)。
- UTF8::computeWidth関数におけるANSI CSIエスケープの不正な動作を修正しました。#64756 (Shaun Struwig)。
- サブクエリ間でのORDER BY / LIMIT BYの不正な削除のケースを修正しました。#64766 (Raúl Marín)。
- 混合結合条件内のセットに対するサブクエリを使用した不等結合（実験的）を修正しました。#64775 (lgbo)。
- plain_rewritableディスク上のローカルキャッシュでのクラッシュを修正しました。#64778 (Julia Kartseva)。
- NestedカラムによるARRAY JOINを使用した分散クエリでの「カラムが見つかりません」を修正しました。#64755を修正します。#64801 (Nikolai Kochetov)。
- slruキャッシュポリシーでのメモリリークを修正しました。#64803 (Kseniia Sumarokova)。
- いくつかの種類のクエリでの不正なメモリトラッキングの可能性を修正しました：S3からデータを読み取るクエリ、httpプロトコル経由のクエリ、非同期挿入。#64844 (Anton Popov)。
- マテリアライズドビューがソーステーブルと異なる型のカラムを持つ場合に、マテリアライズドビューからPREWHEREで読み取るクエリでのブロック構造不一致エラーを修正しました。#64611を修正します。#64855 (Nikolai Kochetov)。
- テーブルがサブクエリを含むTTL + データベースレプリケーション + パラレルレプリカ + アナライザーを持つ場合の稀なクラッシュを修正しました。非常に稀ですが、サブクエリを含むTTLは使用しないでください。#64858 (alesapin)。
- ClickHouse/ClickHouse#54211でパラメータ化されたVIEWに対して壊れていたALTER MODIFY COMMENTクエリを修正しました。#65031 (Nikolay Degterinsky)。
- cluster_secure_connectionパラメータが有効な場合のDatabaseReplicatedでのhost_idを修正しました。以前は、パラメータが有効であっても、DatabaseReplicatedによって作成されたクラスター内のすべての接続は安全ではありませんでした。#65054 (Nikolay Degterinsky)。
- StorageMergeのPREWHERE最適化後の「準備ができていないセット」エラーを修正しました。#65057 (Nikolai Kochetov)。
- ファイル型ストレージで確定済みバッファへの書き込みを回避しました。#65063 (Kruglov Pavel)。
- 循環エイリアスの場合の無限クエリ実行時間の可能性を修正しました。#64849を修正します。#65081 (Nikolai Kochetov)。
- INTERPOLATE（エイリアス）を使用したリモートクエリでの「未知の式識別子」エラーを修正しました（新しいアナライザー）。#64636を修正します。#65090 (Nikolai Kochetov)。
- 集約からの算術演算のプッシュアウトを修正しました。新しいアナライザーでは、最適化が一度だけ適用されていました。#65104 (Dmitry Novik)。
- 新しいアナライザーでの集約関数名の書き換えを修正しました。#65110 (Dmitry Novik)。
- クライアントソケットからリクエストボディ（の一部）を読み取る際に受信タイムアウトが発生した場合、200 OKではなく5xxで応答するようにしました。#65118 (Julian Maicher)。
- ヘッジリクエストでのクラッシュの可能性を修正しました。#65206 (Azat Khuzhin)。
- HashedおよびHashed_Array辞書のショートサーキット評価のバグを修正しました。これは初期化されていない数値を読み取り、さまざまなエラーを引き起こす可能性がありました。#65256 (jsc0218)。
- このPRは、IN演算子の型変換プロセス中に定数（IN演算子の第2パラメータ）の型が常に可視であることを保証します。そうでない場合、型情報の喪失により、DateTimeからDateへの変換など、一部の変換が失敗する可能性があります。(#64487)を修正します。#65315 (pn)。
