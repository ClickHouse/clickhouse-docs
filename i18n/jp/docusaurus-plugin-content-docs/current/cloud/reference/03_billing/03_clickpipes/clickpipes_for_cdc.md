---
sidebar_label: 'PostgreSQL CDC'
slug: /cloud/reference/billing/clickpipes/postgres-cdc
title: 'PostgreSQL CDC 用 ClickPipes'
description: 'PostgreSQL CDC 用 ClickPipes の課金概要'
doc_type: 'reference'
keywords: ['課金', 'ClickPipes', 'CDC 料金', 'コスト', '料金']
---



# PostgreSQL CDC 向けの ClickPipes {#clickpipes-for-postgresql-cdc}

このセクションでは、ClickPipes における Postgres Change Data Capture (CDC)
コネクタの料金モデルについて説明します。このモデルの設計にあたっては、料金を
極めて競争力の高い水準に保ちつつ、私たちの中核となるビジョンに忠実であることを目指しました。

> お客様が Postgres から ClickHouse にデータをシームレスかつ手頃なコストで移行し、
リアルタイム分析を行えるようにすること。

このコネクタは、外部の ETL ツールや他のデータベースプラットフォームにおける類似機能と比較して、
**5 倍以上コスト効率が高い** ものとなっています。

:::note
Postgres CDC ClickPipes を利用しているすべてのお客様（既存・新規を問わず）に対し、
**2025 年 9 月 1 日** から月次請求において従量課金が開始されました。
:::



## 料金体系 {#pricing-dimensions}

料金には2つの主要な要素があります：

1. **取り込みデータ**: Postgresから送信され、ClickHouseに取り込まれる未圧縮の生バイト数。
2. **コンピュート**: サービスごとにプロビジョニングされるコンピュートユニットは、複数のPostgres CDC（変更データキャプチャ）ClickPipeを管理し、ClickHouse Cloudサービスで使用されるコンピュートユニットとは別です。この追加コンピュートは、Postgres CDC（変更データキャプチャ）ClickPipe専用です。コンピュートは個別のパイプごとではなく、サービスレベルで課金されます。各コンピュートユニットには2 vCPUと8 GBのRAMが含まれます。

### 取り込みデータ {#ingested-data}

Postgres CDC（変更データキャプチャ）コネクタは、2つの主要なフェーズで動作します：

- **初期ロード / 再同期**: Postgresテーブルの完全なスナップショットをキャプチャし、パイプが最初に作成されたとき、または再同期されたときに発生します。
- **継続的レプリケーション（CDC（変更データキャプチャ））**: 挿入、更新、削除、スキーマ変更などの変更を、PostgresからClickHouseへ継続的にレプリケートします。

ほとんどのユースケースでは、継続的レプリケーションがClickPipeのライフサイクルの90%以上を占めます。初期ロードは大量のデータを一度に転送するため、そのフェーズには低い料金を提供しています。

| フェーズ                            | コスト         |
| -------------------------------- | ------------ |
| **初期ロード / 再同期**        | $0.10 / GB |
| **継続的レプリケーション（CDC（変更データキャプチャ））** | $0.20 / GB |

### コンピュート {#compute}

この要素は、Postgres ClickPipe専用にサービスごとにプロビジョニングされるコンピュートユニットをカバーします。コンピュートは、サービス内のすべてのPostgresパイプ間で共有されます。**最初のPostgresパイプが作成されたときにプロビジョニングされ、Postgres CDC（変更データキャプチャ）パイプが残っていない場合に解放されます**。プロビジョニングされるコンピュートの量は、組織のティアによって異なります：

| ティア                         | コスト                                          |
| ---------------------------- | --------------------------------------------- |
| **Basicティア**               | サービスあたり0.5コンピュートユニット — $0.10 / 時間 |
| **ScaleまたはEnterpriseティア** | サービスあたり1コンピュートユニット — $0.20 / 時間   |

### 例 {#example}

サービスがScaleティアにあり、以下の構成であるとします：

- 継続的レプリケーションを実行している2つのPostgres ClickPipe
- 各パイプは月あたり500 GBのデータ変更（CDC（変更データキャプチャ））を取り込む
- 最初のパイプが開始されると、サービスはPostgres CDC（変更データキャプチャ）用に**Scaleティアで1コンピュートユニット**をプロビジョニングします

#### 月額コストの内訳 {#cost-breakdown}

**取り込みデータ（CDC（変更データキャプチャ））**：

$$ 2 \text{ パイプ} \times 500 \text{ GB} = 1,000 \text{ GB / 月} $$

$$ 1,000 \text{ GB} \times \$0.20/\text{GB} = \$200 $$

**コンピュート**：

$$1 \text{ コンピュートユニット} \times \$0.20/\text{時間} \times 730 \text{ 時間（概算月）} = \$146$$

:::note
コンピュートは両方のパイプ間で共有されます
:::

**月額合計コスト**：

$$\$200 \text{ （取り込み）} + \$146 \text{ （コンピュート）} = \$346$$


## Postgres CDC ClickPipes に関する FAQ {#faq-postgres-cdc-clickpipe}

<details>

<summary>インジェストされたデータ量に基づく課金は、圧縮後サイズと非圧縮サイズのどちらで計測されますか？</summary>

インジェストされたデータ量は、初回ロード時および CDC（レプリケーションスロット経由）のいずれも、
Postgres から送信される _非圧縮データ_ として計測されます。Postgres はデフォルトでは
転送時にデータを圧縮しないため、ClickPipe は生の非圧縮バイト列を処理します。

</details>

<details>

<summary>Postgres CDC の料金はいつから請求書に表示されますか？</summary>

Postgres CDC ClickPipes の料金は、既存および新規すべてのお客様に対して、
**2025 年 9 月 1 日** から毎月の請求書に表示されるようになりました。

</details>

<details>

<summary>パイプを一時停止した場合、料金は発生しますか？</summary>

パイプを一時停止している間はデータが移動しないため、データ インジェストに関する料金は発生しません。
ただし、組織のティアに応じて 0.5 または 1 compute unit のコンピュート料金は引き続き発生します。
これは固定のサービスレベルのコストであり、そのサービス内のすべてのパイプに対して適用されます。

</details>

<details>

<summary>料金を見積もるにはどうすればよいですか？</summary>

ClickPipes の Overview ページでは、初回ロード／再同期および CDC のデータボリュームの両方に関する
メトリクスが提供されます。これらのメトリクスと ClickPipes の料金を組み合わせることで、
Postgres CDC のコストを見積もることができます。

</details>

<details>

<summary>サービス内で Postgres CDC に割り当てられたコンピュートをスケールできますか？</summary>

デフォルトでは、コンピュートのスケーリングはユーザー側では設定できません。プロビジョニングされる
リソースは、ほとんどの顧客ワークロードを最適に処理できるよう最適化されています。ユースケースに応じて
より多くまたは少ないコンピュートが必要な場合は、サポートチケットを作成していただければ、
こちらでリクエスト内容を評価いたします。

</details>

<details>

<summary>課金単位（粒度）はどのようになっていますか？</summary>

- **Compute**: 1 時間単位で課金されます。1 時間に満たない利用は、次の 1 時間に切り上げられます。
- **インジェストされたデータ**: 非圧縮データ 1 ギガバイト（GB）単位で計測および課金されます。

</details>

<details>

<summary>ClickPipes 経由の Postgres CDC に ClickHouse Cloud のクレジットを利用できますか？</summary>

はい、利用できます。ClickPipes の料金は、統合された ClickHouse Cloud の料金体系の一部です。
保有しているプラットフォームクレジットは、自動的に ClickPipes の利用にも適用されます。

</details>

<details>

<summary>既存の月次の ClickHouse Cloud 利用額に対して、Postgres CDC ClickPipes による追加コストはどの程度を見込むべきですか？</summary>

コストは、ユースケース、データ量、および組織のティアによって異なります。
とはいえ、既存のお客様の多くは、トライアル終了後の既存の月次 ClickHouse Cloud 利用額に対して、
**0〜15%** の増加を確認しています。実際のコストはワークロードによって異なります。
データ量が多く処理が比較的少ないワークロードもあれば、データ量は少ないものの、
より多くの処理を必要とするワークロードもあります。

</details>