---
'slug': '/cloud/get-started/cloud/use-cases/data_lake_and_warehouse'
'title': 'データレイクハウス'
'description': 'ClickHouse Cloudを使用して、データレイクの柔軟性とDATABASEのパフォーマンスを組み合わせた最新のデータウェアハウジングアーキテクチャを構築します。'
'keywords':
- 'use cases'
- 'data lake and warehouse'
'sidebar_label': 'データウェアハウジング'
'doc_type': 'guide'
---

import Image from '@theme/IdealImage';
import datalakehouse_01 from '@site/static/images/cloud/onboard/discover/use_cases/datalakehouse_01.png';


<iframe width="758" height="426" src="https://www.youtube.com/embed/mueG6z1mo8Y" title="データレイクハウス（3分以内）" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

データレイクハウスは、データレイクインフラストラクチャにデータベース原則を適用しながら、クラウドストレージシステムの柔軟性とスケールを維持する収束アーキテクチャです。

レイクハウスは単にデータベースを分解するのではなく、従来の分析と現代のAI/MLワークロードを統合プラットフォームでサポートすることに重点を置いた、根本的に異なる基盤（クラウドオブジェクトストレージ）にデータベースのような機能を構築しています。

## データレイクハウスのコンポーネントは何ですか？ {#components-of-the-data-lakehouse}

現代のデータレイクハウスアーキテクチャは、データウェアハウスとデータレイク技術の収束を表しており、両方のアプローチの最良の側面を組み合わせています。このアーキテクチャは、柔軟で堅牢なデータストレージ、管理、および分析プラットフォームを提供する、いくつかの異なるが相互接続された層で構成されています。

これらのコンポーネントを理解することは、データレイクハウス戦略を実装または最適化しようとする組織にとって不可欠です。層状のアプローチは、コンポーネントの置換と各層の独立した進化を可能にし、アーキテクチャの柔軟性と将来の安定性を提供します。

典型的なデータレイクハウスアーキテクチャのコアビルディングブロックを探り、それらがどのように相互作用して一貫したデータ管理プラットフォームを作成しているかを見てみましょう。

<Image img={datalakehouse_01} alt="データレイクハウスのコンポーネント" size="md"/>

| コンポーネント             | 説明                                                                                                                                                                                                                                                                                                                                    |
|---------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **データソース**          | レイクハウスのデータソースには、運用データベース、ストリーミングプラットフォーム、IoTデバイス、アプリケーションログ、および外部プロバイダーが含まれます。                                                                                                                                                                                                     |
| **クエリエンジン**        | オブジェクトストレージに保存されたデータに対して分析クエリを処理し、テーブルフォーマット層によって提供されるメタデータおよび最適化を活用します。大量のデータを効率的に分析するために、SQLおよび他のクエリ言語をサポートします。                                                                                                          |
| **メタデータカタログ**    | [データカタログ](https://clickhouse.com/engineering-resources/data-catalog)は、メタデータの中央リポジトリとして機能し、テーブル定義やスキーマ、パーティショニング情報、およびアクセス制御ポリシーを保存および管理します。データの発見、系譜追跡、およびレイクハウス全体のガバナンスを可能にします。                            |
| **テーブルフォーマット層**| [テーブルフォーマット層](https://clickhouse.com/engineering-resources/open-table-formats)は、データファイルの論理的な組織をテーブルに管理し、ACIDトランザクション、スキーマの強制と進化、タイムトラベル機能、データスキッピングやクラスタリングのようなパフォーマンス最適化などのデータベースのような機能を提供します。         |
| **オブジェクトストレージ**| この層は、すべてのデータファイルとメタデータのためのスケーラブルで耐久性があり、コスト効果の高いストレージを提供します。オープンフォーマットでデータを物理的に永続化することを処理し、複数のツールやシステムからの直接アクセスを可能にします。                                                                                                          |
| **クライアントアプリケーション** | データをクエリし、洞察を可視化したり、データ製品を構築したりするためにレイクハウスに接続するさまざまなツールやアプリケーション。これには、BIツール、データサイエンスノートブック、カスタムアプリケーション、およびETL/ELTツールが含まれます。                                                                                                          |

## データレイクハウスの利点は何ですか？ {#benefits-of-the-data-lakehouse}

データレイクハウスアーキテクチャは、従来のデータウェアハウスおよびデータレイクと比較した場合、いくつかの重要な利点を提供します。

### 従来のデータウェアハウスと比較して {#compared-to-traditional-data-warehouses}

| # | 利点                                           | 説明                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|---|----------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1 | **コスト効率**                               | レイクハウスは、独自のストレージフォーマットではなく安価なオブジェクトストレージを活用し、統合ストレージにプレミアム価格を請求するデータウェアハウスと比較して、ストレージコストを大幅に削減します。                                                                                                                                                                                                                                   |
| 2 | **コンポーネントの柔軟性と互換性**          | レイクハウスアーキテクチャは、組織が異なるコンポーネントを置き換えることを可能にします。従来のシステムでは要件が変更されたり技術が進歩したりすると全体的な交換が必要ですが、レイクハウスはクエリエンジンやテーブルフォーマットのような個々のコンポーネントを交換することで段階的に進化を可能にします。この柔軟性は、ベンダーロックインを軽減し、組織が変化するニーズに適応できるようにします。                                                   |
| 3 | **オープンフォーマットサポート**           | レイクハウスは、Parquetなどのオープンファイルフォーマットでデータを保存し、ベンダーロックインなしでさまざまなツールから直接アクセスできるようにします。一方、独自のデータウェアハウスフォーマットは、エコシステムへのアクセスを制限します。                                                                                                                                                                                                                        |
| 4 | **AI/ML統合**                               | レイクハウスは、機械学習フレームワークやPython/Rライブラリのためにデータへの直接アクセスを提供しますが、データウェアハウスは通常、高度な分析に使用する前にデータを抽出する必要があります。                                                                                                                                                                                                                                           |
| 5 | **独立したスケーリング**                      | レイクハウスは、ストレージとコンピュートを分離し、各々を実際のニーズに基づいて独立してスケールさせることができ、データウェアハウスの多くは共にスケールするやり方とは異なります。                                                                                                                                                                                                                                                 |

### データレイクと比較して {#compared-to-data-lakes}

| # | 利点                     | 説明                                                                                                                                                                                         |
|---|-------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1 | **クエリパフォーマンス** | レイクハウスは、インデックス、統計、およびデータレイアウトの最適化を実装しており、SQLクエリがデータウェアハウスに匹敵する速度で実行できることを可能にし、生データレイクのパフォーマンスの低下を克服します。 |
| 2 | **データの一貫性**      | ACIDトランザクションのサポートにより、レイクハウスは同時操作中の一貫性を確保し、ファイル競合によってデータが損なわれるというデータレイクの大きな制限を解決します。          |
| 3 | **スキーマ管理**        | レイクハウスはスキーマ検証を強制し、スキーマの進化を追跡し、データレイクで一般的な「データスワンプ」問題を防ぎます。                                                                          |
| 4 | **ガバナンス機能**      | レイクハウスは、基本的なデータレイクの限られたセキュリティコントロールに対処するために、行/列レベルでのきめ細かいアクセス制御と監査機能を提供します。                                                        |
| 5 | **BIツールサポート**    | レイクハウスはSQLインターフェースと最適化を提供し、標準のBIツールと互換性を持たせます。一方、生データレイクは可視化の前に追加処理層を必要とします。                                          |

## ClickHouseはデータレイクハウスアーキテクチャにどのようにフィットしますか？ {#where-does-clickhouse-fit-in-the-data-lakehouse-architecture}

ClickHouseは、現代のデータレイクハウスエコシステム内で強力な分析クエリエンジンです。これは、組織にデータをスケールで分析するための高パフォーマンスなオプションを提供します。ClickHouseは、卓越したクエリ速度と効率性で注目される選択肢です。

レイクハウスアーキテクチャ内で、ClickHouseは基盤となるデータと柔軟に相互作用できる専門的な処理層として機能します。これは、S3やAzure Blob Storage、Google Cloud Storageのようなクラウドオブジェクトストレージシステムに保存されたParquetファイルを直接クエリすることができ、最適化された列指向処理能力を活用して、巨大なデータセット上でも迅速な結果を提供します。この直接クエリ機能により、組織が複雑なデータ移動や変換プロセスなしにレイクデータを分析できるようになります。

ClickHouseは、より洗練されたデータ管理ニーズのためにApache Iceberg、Delta Lake、またはApache Hudiのようなオープンテーブルフォーマットと統合します。この統合により、ClickHouseはこれらのフォーマットの高度な機能を利用しつつ、その卓越したクエリパフォーマンスを維持します。組織はこれらのテーブルフォーマットを直接統合するか、AWS Glue、Unity、または他のカタログサービスを通じて接続することができます。

組織がレイクハウスアーキテクチャにClickHouseをクエリエンジンとして組み込むことで、データレイクに対して瞬時に実行できる分析クエリを実行しつつ、レイクハウスアプローチを定義する柔軟性とオープン性を維持できます。この組み合わせは、専門の分析データベースのパフォーマンス特性を提供しながら、コンポーネントの互換性、オープンフォーマット、および統一されたデータ管理といったレイクハウスモデルのコアの利点を損なうことはありません。

## ハイブリッドアーキテクチャ：両者の最良の特性 {#hybrid-architecture-the-best-of-both-worlds}

ClickHouseはレイクハウスコンポーネントのクエリに優れていますが、その高度に最適化されたストレージエンジンは追加の利点を提供します。リアルタイムダッシュボード、運用分析、またはインタラクティブなユーザーエクスペリエンスなど、超低レイテンシクエリを要求するユースケースでは、組織はパフォーマンスが重要なデータを選択的にClickHouseのネイティブフォーマットに直接保存できます。このハイブリッドアプローチは、ClickHouseの時間敏感な分析のための専門的なストレージの比類のないクエリ速度と、必要に応じて広範なデータレイクハウスをクエリする柔軟性の両方を提供します。

この二重能力により、組織は、ホットで頻繁にアクセスされるデータがClickHouseの最適化されたストレージに保存され、サブ秒のクエリ応答を実現するtiered data strategiesを実装できる一方で、レイクハウス内の完全なデータ履歴へのシームレスなアクセスを維持できます。チームは、技術的制約ではなくパフォーマンス要件に基づいてアーキテクチャの決定を行い、ClickHouseを重要なワークロードのための瞬時に応答する分析データベースおよび広範なデータエコシステムの柔軟なクエリエンジンとして活用できます。
