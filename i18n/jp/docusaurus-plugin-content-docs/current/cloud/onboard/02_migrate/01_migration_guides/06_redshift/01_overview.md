---
sidebar_label: '概要'
slug: /migrations/redshift-overview
description: 'Amazon RedshiftからClickHouseへの移行'
keywords: ['Redshift']
title: 'ClickHouse CloudとAmazon Redshiftの比較'
doc_type: 'guide'
---



# Amazon RedshiftからClickHouseへの移行

> 本ドキュメントでは、Amazon RedshiftからClickHouseへのデータ移行について説明します。



## はじめに {#introduction}

Amazon Redshiftは、構造化データおよび半構造化データに対するレポーティングと分析機能を提供するクラウドデータウェアハウスです。ClickHouseと同様のカラム指向データベースの原理を用いて、大規模データセットに対する分析ワークロードを処理するように設計されています。AWSサービスの一部として、AWSユーザーが分析データのニーズに対して利用するデフォルトのソリューションとなることが多くあります。

Amazonエコシステムとの緊密な統合により既存のAWSユーザーにとって魅力的である一方、リアルタイム分析アプリケーションの実現にRedshiftを採用したユーザーは、この用途においてより最適化されたソリューションが必要であることに気づきます。その結果、優れたクエリパフォーマンスとデータ圧縮の恩恵を受けるため、既存のRedshiftワークロードの置き換えとして、または既存のRedshiftワークロードと並行して展開される「スピードレイヤー」として、ClickHouseへ移行するケースが増えています。


## ClickHouse vs Redshift {#clickhouse-vs-redshift}

AWSエコシステムに深く投資しているユーザーにとって、Redshiftはデータウェアハウスのニーズに直面した際の自然な選択肢となります。Redshiftは重要な点でClickHouseと異なります。Redshiftは複雑なレポーティングと分析クエリを必要とするデータウェアハウスワークロードに最適化されたエンジンを持っています。すべてのデプロイメントモードにおいて、以下の2つの制限により、Redshiftをリアルタイム分析ワークロードに使用することが困難になっています。

- Redshiftは[各クエリ実行計画に対してコードをコンパイル](https://docs.aws.amazon.com/redshift/latest/dg/c-query-performance.html)するため、初回のクエリ実行に大きなオーバーヘッドが発生します。このオーバーヘッドは、クエリパターンが予測可能で、コンパイルされた実行計画をクエリキャッシュに保存できる場合には正当化されます。しかし、これは可変的なクエリを持つ対話型アプリケーションにとって課題となります。Redshiftがこのコードコンパイルキャッシュを活用できる場合でも、ClickHouseはほとんどのクエリでより高速です。["ClickBench"](https://benchmark.clickhouse.com/#system=+%E2%98%81w|%EF%B8%8Fr|C%20c|Rf&type=-&machine=-ca2|gl|6ax|6ale|3al&cluster_size=-&opensource=-&tuned=+n&metric=hot&queries=-)を参照してください。
- Redshiftは[すべてのキューにわたって同時実行数を50に制限](https://docs.aws.amazon.com/redshift/latest/dg/c_workload_mngmt_classification.html)しており、これはBIには十分ですが、高度な並行処理が必要な分析アプリケーションには不適切です。

一方、ClickHouseも複雑な分析クエリに利用できますが、アプリケーションを駆動するか、ウェアハウスアクセラレーションレイヤーとして機能するリアルタイム分析ワークロードに最適化されています。その結果、Redshiftユーザーは通常、以下の理由でRedshiftをClickHouseに置き換えるか、ClickHouseで補完します。

| 利点                          | 説明                                                                                                                                                                                                                                                                                                                                                                                               |
| ---------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **低いクエリレイテンシ**          | ClickHouseは、高い同時実行性の下で、ストリーミング挿入を受けながら、多様なクエリパターンを含めて低いクエリレイテンシを実現します。対話型のユーザー向け分析では避けられないキャッシュミスが発生した場合でも、ClickHouseは高速に処理できます。                                                                                                                     |
| **高い同時クエリ制限** | ClickHouseは同時クエリに対してはるかに高い制限を設けており、これはリアルタイムアプリケーション体験にとって不可欠です。ClickHouseでは、セルフマネージドおよびクラウドの両方で、各サービスがアプリケーションに必要な同時実行性を実現するためにコンピュートリソースの割り当てをスケールアップできます。許可されるクエリ同時実行レベルはClickHouseで設定可能であり、ClickHouse Cloudではデフォルトで1000に設定されています。 |
| **優れたデータ圧縮**      | ClickHouseは優れたデータ圧縮を提供し、ユーザーは総ストレージ容量(したがってコスト)を削減するか、同じコストでより多くのデータを保持し、データからより多くのリアルタイムインサイトを得ることができます。以下の「ClickHouse vs Redshift ストレージ効率」を参照してください。                                                                                                                                            |
