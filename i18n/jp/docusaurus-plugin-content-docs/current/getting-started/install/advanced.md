---
description: 'ClickHouse をソースコードからコンパイルする、または CI で生成されたバイナリをインストールする手順'
keywords: ['ClickHouse', 'インストール', '高度な', 'ソースからコンパイル', 'CI 生成バイナリ']
sidebar_label: '高度なインストール'
slug: /install/advanced
title: '高度なインストール方法'
hide_title: false
doc_type: 'guide'
---

## ソースからコンパイルする {#compile-from-source}

ClickHouse を手動でコンパイルするには、[Linux](/development/build.md) または [macOS](/development/build-osx.md) 向けの手順に従ってください。

パッケージをコンパイルしてインストールすることも、パッケージをインストールせずにプログラムを利用することもできます。

```xml
Client: <build_directory>/programs/clickhouse-client
Server: <build_directory>/programs/clickhouse-server
```

`data` ディレクトリと `metadata` ディレクトリを手動で作成し、対象ユーザーに対して `chown` する必要があります。これらのパスはサーバーの設定ファイル（src/programs/server/config.xml）で変更できます。デフォルトでは次のとおりです。

```bash
/var/lib/clickhouse/data/default/
/var/lib/clickhouse/metadata/default/
```

Gentoo では、`emerge clickhouse` を実行するだけで、ソースから ClickHouse をインストールできます。


## CI で生成されたバイナリをインストールする {#install-a-ci-generated-binary}

ClickHouse の継続的インテグレーション (CI) 基盤は、[ClickHouse
リポジトリ](https://github.com/clickhouse/clickhouse/) の各コミットごとに、例えば [sanitized](https://github.com/google/sanitizers) ビルド、最適化なしの (Debug)
ビルド、クロスコンパイル済みビルドなどの特殊なビルドを生成します。これらのビルドは通常は開発中にのみ有用ですが、状況によっては
あなたにとっても有用となる場合があります。

:::note
ClickHouse の CI は時間の経過とともに変化していくため、CI で生成されたビルドをダウンロードするための具体的な手順は変わる可能性があります。
また、CI が古いビルド成果物を削除し、ダウンロードできなくなる場合もあります。
:::

例えば、ClickHouse v23.4 用の aarch64 バイナリをダウンロードするには、次の手順に従います。

- リリース v23.4 用の GitHub プルリクエストを探します: [Release pull request for branch 23.4](https://github.com/ClickHouse/ClickHouse/pull/49238)
- "Commits" をクリックし、インストールしたい特定のバージョンに対応する "Update autogenerated version to 23.4.2.1 and contributors" のようなコミットをクリックします。
- 緑のチェックマーク / 黄色のドット / 赤いバツ印をクリックして、CI チェックの一覧を開きます。
- 一覧の中の "Builds" の横にある "Details" をクリックします。すると [このページ](https://s3.amazonaws.com/clickhouse-test-reports/46793/b460eb70bf29b19eadd19a1f959b15d186705394/clickhouse_build_check/report.html) に類似したページが開きます。
- compiler = "clang-*-aarch64" の行を探します — 複数行あります。
- それらのビルドの成果物をダウンロードします。