---
description: 'ClickHouse をソースからコンパイルする、または CI で生成されたバイナリをインストールするための手順'
keywords: ['ClickHouse', 'インストール', '上級', 'ソースからコンパイル', 'CI 生成バイナリ']
sidebar_label: '高度なインストール'
slug: /install/advanced
title: '高度なインストール方法'
hide_title: false
doc_type: 'guide'
---



## ソースからのコンパイル {#compile-from-source}

ClickHouseを手動でコンパイルする場合は、[Linux](/development/build.md)または[macOS](/development/build-osx.md)の手順に従ってください。

パッケージをコンパイルしてインストールするか、パッケージをインストールせずにプログラムを直接使用することができます。

```xml
Client: <build_directory>/programs/clickhouse-client
Server: <build_directory>/programs/clickhouse-server
```

データディレクトリとメタデータディレクトリを手動で作成し、対象ユーザーに対して`chown`で所有権を設定する必要があります。これらのパスはサーバー設定ファイル(src/programs/server/config.xml)で変更可能ですが、デフォルトでは以下のようになっています:

```bash
/var/lib/clickhouse/data/default/
/var/lib/clickhouse/metadata/default/
```

Gentooでは、`emerge clickhouse`を使用してソースからClickHouseをインストールできます。


## CI生成バイナリのインストール {#install-a-ci-generated-binary}

ClickHouseの継続的インテグレーション(CI)インフラストラクチャは、[ClickHouse
リポジトリ](https://github.com/clickhouse/clickhouse/)の各コミットに対して特殊なビルドを生成します。例えば、[サニタイザー](https://github.com/google/sanitizers)ビルド、最適化なし(Debug)
ビルド、クロスコンパイルビルドなどです。これらのビルドは通常、開発時にのみ有用ですが、特定の状況ではユーザーにとっても役立つ場合があります。

:::note
ClickHouseのCIは継続的に進化しているため、CI生成ビルドをダウンロードする具体的な手順は変更される可能性があります。
また、CIは古いビルド成果物を削除することがあり、ダウンロードできなくなる場合があります。
:::

例えば、ClickHouse v23.4のaarch64バイナリをダウンロードするには、以下の手順に従ってください:

- リリースv23.4のGitHubプルリクエストを見つけます:[ブランチ23.4のリリースプルリクエスト](https://github.com/ClickHouse/ClickHouse/pull/49238)
- 「Commits」をクリックし、インストールしたい特定のバージョンに対応する「Update autogenerated version to 23.4.2.1 and contributors」のようなコミットをクリックします。
- 緑色のチェックマーク/黄色のドット/赤色のバツ印をクリックして、CIチェックのリストを開きます。
- リスト内の「Builds」の横にある「Details」をクリックします。[このページ](https://s3.amazonaws.com/clickhouse-test-reports/46793/b460eb70bf29b19eadd19a1f959b15d186705394/clickhouse_build_check/report.html)のようなページが開きます。
- compiler = "clang-\*-aarch64"の行を見つけます — 複数の行があります。
- これらのビルドの成果物をダウンロードします。
