---
title: カラム型データベースとは？
description: "カラム型データベースは、各列のデータをそれぞれ独立して格納します。これにより、特定のクエリで使用される列だけをディスクから読み出すことができます。"
date: 2021-09-01
tags: ['コアデータの基本概念']
keywords: ['カラム型データベース']
---

import Image from '@theme/IdealImage';
import RowOriented from '@site/static/images/row-oriented.gif';
import ColumnOriented from '@site/static/images/column-oriented.gif';

{frontMatter.description}

{/* 省略 */}


## はじめに \{#introduction\}

カラム型データベースでは、各カラムのデータが互いに独立して保存されます。これにより、任意のクエリで使用されるカラムのデータだけをディスクから読み取ることができます。その代償として、行全体に影響する処理のコストは相対的に高くなります。カラム型データベースは、カラム指向データベース管理システムと同義です。ClickHouse は、その代表的な例です。

## カラムナ型データベースの利点 \{#advantages-of-a-columnar-database\}

カラムナ型データベースの主な利点は次のとおりです。

- 多数のカラムのうち、少数のカラムを使用するクエリ。
- 大量のデータに対する集約クエリ。
- カラム単位でのデータ圧縮。

## 行指向データベース vs 列指向データベース \{#row-oriented-vs-column-oriented-databases\}

レポートを作成する際の、従来型の行指向システムと列指向データベースの違いを示す図です。

**従来の行指向**

<Image img={RowOriented} alt="従来の行指向データベースストレージの図解" size="md" />

**列指向**

<Image img={ColumnOriented} alt="列指向データベースストレージの図解" size="md" />

列指向データベースは分析アプリケーションに最適な選択肢です。テーブルに多数のカラムを「念のため」持たせておいても、読み取り系クエリの実行時に未使用カラムのコストを支払わずに済むためです（従来の OLTP データベースでは、データが列ではなく行として保存されているため、クエリ時にすべてのデータを読み取ります）。列指向データベースはビッグデータ処理およびデータウェアハウス向けに設計されています。一般に、スループットを向上させるために、低コストなハードウェアからなる分散クラスター上でネイティブにスケールアウトするよう設計されています。ClickHouse は、[Distributed](https://clickhouse.com/docs/engines/table-engines/special/distributed) テーブルと [Replicated](https://clickhouse.com/docs/engines/table-engines/mergetree-family/replication) テーブルを組み合わせることでこれを実現します。