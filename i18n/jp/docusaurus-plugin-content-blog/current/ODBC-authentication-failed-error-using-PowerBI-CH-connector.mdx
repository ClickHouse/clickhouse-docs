---
title: Power BI ClickHouse コネクタ使用時の ODBC 認証失敗エラー
description: "Power BI ClickHouse コネクタ使用時の ODBC 認証失敗エラー"
date: 2024-07-10
tags: ['ネイティブクライアントとインターフェイス', 'エラーと例外']
keywords: ['ODBC', 'Power BI コネクタ', '認証失敗']
---

import Image from "@theme/IdealImage";
import powerbi_error from "@site/static/images/knowledgebase/powerbi_odbc_authentication_error.png";

{frontMatter.description}

{/* 省略 */}

## 質問 \{#question\}

コネクタを使用して Power BI から ClickHouse に接続しようとすると、認証エラーが発生します。

このエラーは通常、次のように表示されます。

```
接続の試行中にエラーが発生しました。
詳細: "ODBC: ERROR [HY000] HTTP status code: 403
受信したエラー:
Code: 516. DB::Exception: default: 認証に失敗しました: パスワードが正しくないか、該当する名前のユーザーが存在しません。
ClickHouseをインストール済みでパスワードを忘れた場合は、設定ファイルでリセットできます。
デフォルトユーザーのパスワードは通常 /etc/clickhouse-server/users.d/default-password.xml に配置されており、このファイルを削除するとパスワードがリセットされます。
ClickHouseがインストールされているサーバー上の /etc/clickhouse-server/users.ml も参照してください。
```

<Image img={powerbi_error} size="md" alt="Power BI ODBC 認証エラーのダイアログ" border />

## 回答 \{#answer\}

ClickHouse ODBC Driver をバージョン [1.4.1](https://github.com/ClickHouse/clickhouse-odbc/releases/tag/1.4.1.20250523) に更新してください。

更新できない場合は、パスワードにチルダ (~) が含まれていないか確認してください。これは [1.4.1](https://github.com/ClickHouse/clickhouse-odbc/releases/tag/1.4.1.20250523) より前のバージョンで問題を引き起こす可能性があります。

接続には専用のユーザーアカウントを使用し、パスワードを手動で設定することを推奨します。ClickHouse Cloud を使用していて、`default` ユーザーと同等の管理者レベルのアクセス権が必要な場合は、新しいユーザーを作成し、そのユーザーに `default_role` を割り当ててください。

詳細については次を参照してください:\
https://clickhouse.com/docs/operations/access-rights#user-account-management
https://clickhouse.com/docs/cloud/security/cloud-access-management#database-roles