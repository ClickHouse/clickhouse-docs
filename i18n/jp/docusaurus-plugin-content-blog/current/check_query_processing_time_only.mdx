---
title: 行を返さずにクエリ処理時間を測定する方法
description: クライアントに行を一切返さずにクエリ処理時間を測定するために、ClickHouse の `FORMAT Null` オプションを使用する方法を説明します。
date: 2023-06-07
tags: ['パフォーマンスと最適化']
keywords: ['クエリ処理時間']
---

{frontMatter.description}

{/* トランケート */}

## 質問 \{#question\}

クエリが多数の行を返しますが、知りたいのは処理時間だけです。クエリの出力を表示せずに、処理時間だけを確認するにはどうすればよいですか？

## 回答 \{#answer\}

クエリに `FORMAT Null` を追加して、出力形式を `Null` に設定します。これにより、データがクライアントへ送信されるのを防げます。

例えば次のようにします。

```sql
SELECT
    customer_id,
    count() AS total,
    any(review_headline)
FROM amazon_reviews
GROUP BY customer_id
ORDER BY total DESC
FORMAT Null
```

レスポンスには処理された行数と経過時間が含まれますが、返される行は 0 行です。

```response
0行が返されました。経過時間: 25.288秒。処理済み: 2億2204万行、13.50 GB (毎秒878万行、毎秒533.77 MB)
```
