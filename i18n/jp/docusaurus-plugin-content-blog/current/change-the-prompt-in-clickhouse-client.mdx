---
title: clickhouse-client ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å¤‰æ›´ã™ã‚‹
description: "ã“ã®è¨˜äº‹ã§ã¯ã€ClickHouse ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŠã‚ˆã³ clickhouse-local ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ :) ã‹ã‚‰ä»»æ„ã®æ¥é ­è¾ã«ç¶šã :) ã¸å¤‰æ›´ã™ã‚‹æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™"
date: 2023-11-16
tags: ['è¨­å®š', 'ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹']
keywords: ['ClickHouse ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ', 'ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å¤‰æ›´']
---

import Image from "@theme/IdealImage";
import prompt_0 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/0_prompt.png";
import prompt_1 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/1_prompt.png";
import prompt_2 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/2_prompt.png";
import prompt_3 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/3_prompt.png";
import prompt_4 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/4_prompt.png";
import prompt_5 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/5_prompt.png";
import prompt_6 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/6_prompt.png";
import prompt_7 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/7_prompt.png";
import prompt_8 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/8_prompt.png";

{frontMatter.description}

{/* çœç•¥ */}

`clickhouse client` ã‚„ `clickhouse-local` ãŒã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«è¡¨ç¤ºã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒæ°—ã«å…¥ã‚‰ãªã„å ´åˆã€ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’è¿½åŠ ã™ã‚‹ãªã©ã—ã¦å¤‰æ›´ã§ãã¾ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä»»æ„ã®å½¢å¼ã«å¤‰æ›´ã™ã‚‹æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿åã®å¾Œã« `:) ` ãŒç¶šãå½¢å¼ã§ã™:

<Image img={prompt_0} size="md" alt="Default ClickHouse client prompt" />

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå†…ã§ä½¿ç”¨ã§ãã‚‹å¤‰æ•°ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™: `{user}`ã€`{host}`

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æ›´æ–°ã™ã‚‹æ–¹æ³•ã¯ã„ãã¤ã‹ã‚ã‚Šã€ãã‚Œãã‚Œã«ã¤ã„ã¦é †ã«èª¬æ˜ã—ã¾ã™ã€‚

## --prompt ãƒ•ãƒ©ã‚° \{#--prompt-flag\}

ãƒ•ãƒ©ã‚°ã‚’å¤‰æ›´ã™ã‚‹ 1 ã¤ç›®ã®æ–¹æ³•ã¯ã€`--prompt` ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã™ã€‚

```bash
clickhouse --prompt ğŸ‘‰
```

ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¹ãƒã‚¤ãƒªãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®å‰ã«æŒ‡ã•ã—ã®çµµæ–‡å­—ãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚

<Image img={prompt_1} size="md" alt="æŒ‡ã•ã—ã®çµµæ–‡å­—ãŒè¿½åŠ ã•ã‚ŒãŸ ClickHouse ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ" />

## è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« - ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ« \{#config-file---top-level\}

åˆ¥ã®æ–¹æ³•ã¨ã—ã¦ã€`config.xml` ãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

```xml
<config>
    <prompt>ğŸ‘‰ </prompt>
</config>
```

```
clickhouse
```

<Image img={prompt_2} size="md" alt="ClickHouse ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«" />

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ä»»æ„ã®åå‰ã‚’ä»˜ã‘ã¦ä½œæˆã—ã€`-C` ãƒ•ãƒ©ã‚°ã§æŒ‡å®šã—ã¦åˆ©ç”¨ã§ãã¾ã™ã€‚

```xml
<config>
    <prompt>ğŸ„ </prompt>
</config>
```

```
clickhouse -C christmas.xml
```

<Image img={prompt_3} size="md" alt="ClickHouse ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆã‚¯ãƒªã‚¹ãƒã‚¹ãƒ„ãƒªãƒ¼ã®çµµæ–‡å­—ä»˜ãï¼‰" />

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ YAML ã®æ–¹ãŒå¥½ã¿ã§ã™ã‹ï¼Ÿ
ãã‚Œã§ã‚‚å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚

```yaml
prompt: ğŸŸ¡
```

```bash
clickhouse -C christmas.yaml
```

<Image img={prompt_4} size="md" alt="é»„è‰²ã®ä¸¸ã„çµµæ–‡å­—ãŒè¡¨ç¤ºã•ã‚ŒãŸ ClickHouse ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ" />

## è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« - connections&#95;credentials \{#config-file---connections&#95;credentials\}

åˆ¥ã®æ–¹æ³•ã¨ã—ã¦ã€æ¥ç¶šã”ã¨ã®èªè¨¼æƒ…å ±ã«å¯¾ã—ã¦å€‹åˆ¥ã«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚
ã“ã‚Œã¯ã€clickhouse-client ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã«ã®ã¿æœ‰åŠ¹ã§ã™ã€‚

```xml
<config>
    <connections_credentials>
        <connection>
            <n>prod<n>
            <hostname>127.0.0.1</hostname>
            <port>9000</port>
            <secure>0</secure>
            <user>default</user>
            <prompt>\e[31m[æœ¬ç•ª]\e[0m {user}@prod</prompt>
        </connection>
        <connection>
            <n>dev<n>
            <hostname>127.0.0.1</hostname>
            <port>9000</port>
            <secure>0</secure>
            <user>default</user>
            <prompt>\e[32m[é–‹ç™º]\e[0m {user}@dev</prompt>
        </connection>
    </connections_credentials>
</config>
```

ã§ã¯ã€`dev` æ¥ç¶šã§æ¥ç¶šã§ãã‚‹ã‹è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```bash
clickhouse client -C connections.xml --connection dev
```

<Image img={prompt_5} size="md" alt="é–‹ç™ºç”¨æ¥ç¶šã§ã® ClickHouse ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ" />

ã¾ãŸã¯ `prod` ç”¨ã®ã‚‚ã®:

```bash
clickhouse client -C connections.xml --connection prod
```

<Image img={prompt_6} size="md" alt="æœ¬ç•ªç’°å¢ƒã«æ¥ç¶šã—ã¦ã„ã‚‹ ClickHouse ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ" />

ãã—ã¦ã€ã“ã¡ã‚‰ãŒ YAML ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã™ï¼š

```yaml
connections_credentials:
  connection:
    - name: prod
      hostname: 127.0.0.1
      port: 9000
      secure: 0
      user: default
      prompt: "\e[35m[æœ¬ç•ªç’°å¢ƒ]\e[0m {user}@{host}"
    - name: dev
      hostname: 127.0.0.1
      port: 9000
      secure: 0
      user: default
      prompt: "\e[34m[é–‹ç™ºç’°å¢ƒ]\e[0m {user}@{host}"
```

`dev` æ¥ç¶šã§ã¯:

```bash
clickhouse client -C connections.yaml --connection dev
```

<Image img={prompt_7} size="md" alt="YAML ã‚’ä½¿ç”¨ã—ãŸé–‹ç™ºæ¥ç¶šç”¨ã® ClickHouse ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ" />

æ¬¡ã¯ `prod` ã§ã™ï¼š

```bash
clickhouse client -C connections.yaml --connection prod
```

<Image img={prompt_8} size="md" alt="YAML ã‚’ä½¿ç”¨ã—ãŸæœ¬ç•ªç’°å¢ƒã¸ã®æ¥ç¶šã‚’è¡Œã† ClickHouse ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ" />
