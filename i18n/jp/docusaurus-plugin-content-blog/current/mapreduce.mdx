---
title: なぜ MapReduce のようなシステムを使わないのか？
description: "MapReduce のようなシステムは、reduce 処理を分散ソートに基づいて行う分散コンピューティングシステムと総称できます。このカテゴリで最も一般的なオープンソースソリューションは Apache Hadoop です。"
date: 2021-09-01
tags: ['Concepts']
keywords: ['MapReduce']
---

{frontMatter.description}

{/* トランケート */}


##  なぜ MapReduce のようなものを使わないのか? \{#why-not-use-something-like-mapreduce\}

MapReduce のようなシステムは、分散ソートに基づいて `reduce` 演算を行う分散コンピューティングシステムと呼ぶことができます。この種のシステムでもっとも一般的なオープンソースソリューションは [Apache Hadoop](http://hadoop.apache.org) です。

これらのシステムはレイテンシが高いため、オンラインクエリには適していません。言い換えると、ウェブインターフェイスのバックエンドとしては使用できません。また、この種のシステムはリアルタイムなデータ更新にも向いていません。分散ソートは、演算結果およびすべての中間結果（もしあれば）が 1 台のサーバーの RAM に収まる場合、`reduce` 演算を行う最適な方法ではありません。オンラインクエリでは通常このような状況になります。このような場合、ハッシュテーブルを用いるのが `reduce` 演算を行う最適な方法です。MapReduce タスクの一般的な最適化手法は、RAM 上のハッシュテーブルを使った事前集約（部分的な `reduce`）です。この最適化はユーザーが手動で行います。分散ソートは、単純な MapReduce タスクを実行する際に性能低下を引き起こす主な要因の 1 つです。

ほとんどの MapReduce 実装では、クラスタ上で任意のコードを実行できます。しかし、OLAP 用途で素早く試行錯誤しながら実験を行うには、宣言的なクエリ言語のほうが適しています。たとえば Hadoop には Hive と Pig があります。また、Spark 向けの Cloudera Impala や Shark（古い）、さらに Spark SQL、Presto、Apache Drill も検討できます。このようなタスクを実行する際の性能は、専用システムと比べると大きく劣りますが、レイテンシが比較的高いため、これらのシステムをウェブインターフェイスのバックエンドとして利用するのは現実的ではありません。