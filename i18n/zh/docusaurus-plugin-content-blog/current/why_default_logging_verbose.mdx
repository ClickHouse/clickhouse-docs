---
date: 2025-01-10
title: 为什么 ClickHouse 默认的日志记录如此详细？
description: "了解 ClickHouse 开发人员为什么将默认日志级别设置为详细。"
tags: ['设置']
keywords: ['默认日志记录']
---

{frontMatter.description}

{/* 截断 */}

## 详细日志记录 \{#verbose-logging\}

经常让新用户感到困惑的一点是，即使在轻负载下，ClickHouse 也会生成大量日志输出。

这是因为出于历史原因，默认的日志级别是 `trace`（而不是其他数据库中通常默认的 `warning`）。

ClickHouse 的开发者认为，在出现问题时，`trace` 能提供大量有用的诊断信息。

另一方面，大量日志意味着系统表 `system.text_log` 会很快被写满，并需要在后台进行合并。

如果数据库运行稳定，用户可以调整日志级别，我们将在下文说明具体操作方法。

## 更改日志级别 \{#change-the-log-level\}

各个可用的日志级别有文档说明，见[此处](https://clickhouse.com/docs/operations/server-configuration-parameters/settings#logger)

需要编辑 ClickHouse 服务器配置文件（`/etc/clickhouse-server/config.xml`）来修改日志级别。

默认值是 `trace`，但可以将其更改为所需的级别。请参阅下面的注释：

```
<clickhouse>
    <logger>
        <!-- 可用的日志级别 [1]:

          - none (关闭日志)
          - fatal (致命)
          - critical (严重)
          - error (错误)
          - warning (警告)
          - notice (提示)
          - information (信息)
          - debug (调试)
          - trace (追踪)
          - test (仅用于测试，不可用于生产环境)

            [1]: https://github.com/pocoproject/poco/blob/poco-1.9.4-release/Foundation/include/Poco/Logger.h#L105-L114
        -->
        <level>trace</level>
... 配置文件其余部分
</clickhouse>
```
