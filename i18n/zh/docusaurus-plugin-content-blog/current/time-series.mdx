---
title: 我可以将 ClickHouse 用作时间序列数据库吗？
description: "ClickHouse 是一款面向 OLAP 工作负载的通用数据存储解决方案，同时市面上也有许多专用的时间序列数据库管理系统。"
date: 2021-09-01
tags: ['概念']
keywords: ['时间序列数据库']
---

{frontMatter.description}

{/* 截断 */}

## Answer \{#answer\}

:::note
请参阅博客 [Working with Time series data in ClickHouse](https://clickhouse.com/blog/working-with-time-series-data-and-functions-ClickHouse)，了解更多使用 ClickHouse 进行时间序列分析的示例。&#95;
:::

ClickHouse 是一种面向 [OLAP](https://clickhouse.com/docs/faq/general/olap) 工作负载的通用数据存储解决方案，而市面上也存在许多专门的时间序列数据库管理系统。尽管如此，得益于 ClickHouse 对[查询执行速度的专注](https://clickhouse.com/docs/faq/general/why-clickhouse-is-so-fast)，在许多场景下，它能够超越这些专用系统。关于这一点已有许多独立的基准测试，因此我们不会在这里再做一次。相反，我们将聚焦在当你的用例是时间序列时，值得重点使用的 ClickHouse 特性。

首先，有 **[specialized codecs](https://clickhouse.com/docs/sql-reference/statements/create/table#specialized-codecs)**，可以高效处理典型的时间序列数据。既可以使用通用算法，例如 `DoubleDelta` 和 `Gorilla`，也可以使用 ClickHouse 特有的 `T64` 等。

其次，时间序列查询通常只访问最近的数据，例如最近一天或一周的数据。因此，采用同时配备高速 NVMe/SSD 磁盘和大容量 HDD 磁盘的服务器是合理的。ClickHouse 的 [TTL](https://clickhouse.com/docs/engines/table-engines/mergetree-family/mergetree/##table_engine-mergetree-multiple-volumes) 功能允许你配置将最新的热点数据保存在高速磁盘上，并随着数据老化逐步将其迁移到较慢的磁盘上。如果你的场景有此需求，还可以对更旧的数据进行汇总（rollup）或直接删除。

尽管这有悖于 ClickHouse 存储和处理原始数据的理念，你仍然可以使用 [materialized views](https://clickhouse.com/docs/sql-reference/statements/create/view) 来满足更加严苛的延迟或成本要求。

## 相关内容 \{#related-content\}

* 博客：[在 ClickHouse 中处理时间序列数据](https://clickhouse.com/blog/working-with-time-series-data-and-functions-ClickHouse)