---
title: 修改用户设置异常
description: 处理在修改用户设置时抛出的异常
date: 2023-08-26
tags: ['Settings', 'Errors and Exceptions']
keywords: ['Exception', 'User Settings']
---

{frontMatter.description}

{/* 截断 */}


## DB::Exception: Cannot update user `default` in users.xml because this storage is readonly. (ACCESS_STORAGE_READONLY) \{#dbexception-cannot-update-user-default-in-usersxml-because-this-storage-is-readonly-access_storage_readonly\}

在尝试修改用户设置时，您可能会遇到上述异常。

以下是排查此错误的几种方法：

## 直接编辑 users.xml \{#edit-usersxml-directly\}

你可以在 `/etc/clickhouse-server/users.d` 目录中的 `users.xml` 文件里，直接为特定用户编辑或添加所需的设置。

在[此处](/operations/settings/settings-profiles)阅读更多关于 `users.xml` 的内容。

## 创建其他用户 \{#create-another-user\}

可以使用指定的设置创建另一个用户，然后使用该新用户连接到 ClickHouse。

请参阅[本页面](/sql-reference/statements/create/user)，了解如何创建用户。

## 启用基于 SQL 的访问控制 \{#enable-sql-driven-access-control\}

可以为默认用户启用基于 SQL 的访问控制和账户管理。启用该功能的具体步骤，请参见本[页面](/operations/access-rights#enabling-access-control
)。