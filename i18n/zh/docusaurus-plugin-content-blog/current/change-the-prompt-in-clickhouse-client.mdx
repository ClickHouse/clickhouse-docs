---
title: æ›´æ”¹ clickhouse-client ä¸­çš„æç¤ºç¬¦
description: "æœ¬æ–‡ä»‹ç»å¦‚ä½•å°† ClickHouse å®¢æˆ·ç«¯å’Œ clickhouse-local ç»ˆç«¯çª—å£ä¸­çš„æç¤ºç¬¦ï¼Œä» :) æ›´æ”¹ä¸ºå¸¦æœ‰è‡ªå®šä¹‰å‰ç¼€çš„ :)"
date: 2023-11-16
tags: ['è®¾ç½®', 'åŸç”Ÿå®¢æˆ·ç«¯å’Œæ¥å£']
keywords: ['ClickHouse å®¢æˆ·ç«¯', 'æ›´æ”¹æç¤ºç¬¦']
---

import Image from "@theme/IdealImage";
import prompt_0 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/0_prompt.png";
import prompt_1 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/1_prompt.png";
import prompt_2 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/2_prompt.png";
import prompt_3 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/3_prompt.png";
import prompt_4 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/4_prompt.png";
import prompt_5 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/5_prompt.png";
import prompt_6 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/6_prompt.png";
import prompt_7 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/7_prompt.png";
import prompt_8 from "@site/static/images/knowledgebase/change-the-prompt-in-clickhouse-client/8_prompt.png";

{frontMatter.description}

{/* æˆªæ–­ */}

å¦‚æœä½ ä¸å–œæ¬¢ `clickhouse client` å’Œ clickhouse-local åœ¨ç»ˆç«¯çª—å£ä¸­æ˜¾ç¤ºçš„æç¤ºç¬¦ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ å‰ç¼€æ¥ä¿®æ”¹å®ƒã€‚
æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•å°†æç¤ºç¬¦æ›´æ”¹ä¸ºä»»æ„ä½ æƒ³è¦çš„å½¢å¼ã€‚

é»˜è®¤æç¤ºç¬¦æ˜¯ä½ çš„æœ¬åœ°è®¡ç®—æœºåï¼Œåé¢è·Ÿç€ `:) `ï¼š

<Image img={prompt_0} size="md" alt="é»˜è®¤ ClickHouse å®¢æˆ·ç«¯æç¤ºç¬¦" />

ä¸‹é¢æ˜¯ä½ å¯ä»¥åœ¨æç¤ºç¬¦ä¸­ä½¿ç”¨çš„å˜é‡ï¼š`{user}`ã€`{host}`

æœ‰å¤šç§æ–¹å¼å¯ä»¥æ›´æ–°æç¤ºç¬¦ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¼šé€ä¸€ä»‹ç»ã€‚

## --prompt æ ‡å¿— \{#--prompt-flag\}

æ›´æ”¹æ­¤æ ‡å¿—çš„ç¬¬ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ `--prompt`ï¼š

```bash
clickhouse --prompt ğŸ‘‰
```

è¿™ä¼šåœ¨ç¬‘è„¸å‰æ·»åŠ æ‰‹æŒ‡è¡¨æƒ…ç¬¦å·ï¼š

<Image img={prompt_1} size="md" alt="å¸¦æœ‰æ‰‹æŒ‡è¡¨æƒ…ç¬¦å·çš„ ClickHouse å®¢æˆ·ç«¯æç¤ºç¬¦" />

## é…ç½®æ–‡ä»¶ - é¡¶å±‚ \{#config-file---top-level\}

æˆ–è€…ï¼Œæ‚¨å¯ä»¥åœ¨ `config.xml` æ–‡ä»¶ä¸­æä¾›ä¸€ä¸ªæç¤ºå‰ç¼€ï¼š

```xml
<config>
    <prompt>ğŸ‘‰ </prompt>
</config>
```

```
clickhouse
```

<Image img={prompt_2} size="md" alt="å¸¦æœ‰é…ç½®æ–‡ä»¶çš„ ClickHouse å®¢æˆ·ç«¯æç¤ºç¬¦" />

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»æ„åç§°çš„é…ç½®æ–‡ä»¶ï¼Œå¹¶é€šè¿‡ `-C` å‚æ•°ä¼ å…¥ï¼š

```xml
<config>
    <prompt>ğŸ„ </prompt>
</config>
```

```
clickhouse -C christmas.xml
```

<Image img={prompt_3} size="md" alt="å¸¦æœ‰åœ£è¯æ ‘è¡¨æƒ…ç¬¦å·çš„ ClickHouse å®¢æˆ·ç«¯æç¤ºç¬¦" />

æ›´å–œæ¬¢æŠŠé…ç½®æ–‡ä»¶å†™æˆ YAML æ ¼å¼ï¼Ÿ
ä¹Ÿå¯ä»¥è¿™æ ·åšï¼š

```yaml
prompt: ğŸŸ¡
```

```bash
clickhouse -C christmas.yaml
```

<Image img={prompt_4} size="md" alt="å¸¦é»„è‰²åœ†åœˆè¡¨æƒ…ç¬¦å·çš„ ClickHouse å®¢æˆ·ç«¯å‘½ä»¤è¡Œæç¤ºç¬¦" />

## é…ç½®æ–‡ä»¶ - connections&#95;credentials \{#config-file---connections&#95;credentials\}

æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ºæ¯ä¸ªè¿æ¥å‡­æ®å•ç‹¬æŒ‡å®šä¸€ä¸ªæç¤ºã€‚
è¿™ä»…åœ¨ä½¿ç”¨ clickhouse-client æ—¶æœ‰æ„ä¹‰ã€‚

```xml
<config>
    <connections_credentials>
        <connection>
            <n>prod<n>
            <hostname>127.0.0.1</hostname>
            <port>9000</port>
            <secure>0</secure>
            <user>default</user>
            <prompt>\e[31m[ç”Ÿäº§ç¯å¢ƒ]\e[0m {user}@prod</prompt>
        </connection>
        <connection>
            <n>dev<n>
            <hostname>127.0.0.1</hostname>
            <port>9000</port>
            <secure>0</secure>
            <user>default</user>
            <prompt>\e[32m[å¼€å‘ç¯å¢ƒ]\e[0m {user}@dev</prompt>
        </connection>
    </connections_credentials>
</config>
```

ç„¶åæˆ‘ä»¬å°±å¯ä»¥å°è¯•ä½¿ç”¨ `dev` è¿æ¥æ¥è¿›è¡Œè¿æ¥ï¼š

```bash
clickhouse client -C connections.xml --connection dev
```

<Image img={prompt_5} size="md" alt="ClickHouse å®¢æˆ·ç«¯åœ¨å¼€å‘ç¯å¢ƒä¸‹çš„æç¤ºç¬¦" />

æˆ–è€… `prod` ç¯å¢ƒçš„ï¼š

```bash
clickhouse client -C connections.xml --connection prod
```

<Image img={prompt_6} size="md" alt="å·²è¿æ¥ç”Ÿäº§ç¯å¢ƒçš„ ClickHouse å®¢æˆ·ç«¯æç¤ºç¬¦" />

ä¸‹é¢æ˜¯å¯¹åº”çš„ YAML ç‰ˆæœ¬ï¼š

```yaml
connections_credentials:
  connection:
    - name: ç”Ÿäº§
      hostname: 127.0.0.1
      port: 9000
      secure: 0
      user: default
      prompt: "\e[35m[ç”Ÿäº§]\e[0m {user}@{host}"
    - name: å¼€å‘
      hostname: 127.0.0.1
      port: 9000
      secure: 0
      user: default
      prompt: "\e[34m[å¼€å‘]\e[0m {user}@{host}"
```

ä½¿ç”¨ `dev` è¿æ¥ï¼š

```bash
clickhouse client -C connections.yaml --connection dev
```

<Image img={prompt_7} size="md" alt="ä½¿ç”¨ YAML è¿›è¡Œå¼€å‘ç¯å¢ƒè¿æ¥çš„ ClickHouse å®¢æˆ·ç«¯æç¤º" />

æ¥ä¸‹æ¥æ˜¯ `prod`ï¼š

```bash
clickhouse client -C connections.yaml --connection prod
```

<Image img={prompt_8} size="md" alt="ä½¿ç”¨ YAML é…ç½®ç”Ÿäº§ç¯å¢ƒè¿æ¥çš„ ClickHouse å®¢æˆ·ç«¯æç¤ºç¬¦" />
