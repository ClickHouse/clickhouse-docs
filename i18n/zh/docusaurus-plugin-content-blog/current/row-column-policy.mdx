---
date: 2023-08-13
title: "ClickHouse 是否支持行级和列级安全？"
description: "了解 ClickHouse 和 ClickHouse Cloud 中的行级和列级访问限制，以及如何使用策略实现基于角色的访问控制（RBAC）。"
tags: ['安全与身份验证']
keywords: ['行级', '列级', '安全']
---

{frontMatter.description}

{/* 截断 */}


## ClickHouse 和 ClickHouse Cloud 都支持行级和列级访问限制 \{#clickhouse-and-clickhouse-cloud-both-support-row-and-column-level-access-restrictions\}

ClickHouse 和 ClickHouse Cloud 都支持针对只读用户的行级和列级访问限制，以实现基于角色的访问控制（RBAC）模型。 

[行策略（Row Policies）](/operations/access-rights#row-policy-management) 可用于指定当只读用户查询某个表时将返回哪些行。ClickHouse Cloud 默认启用基于 SQL 驱动的工作流。要利用该工作流，先 [CREATE](/sql-reference/statements/create/user) 一个用户，再通过 [GRANT](/sql-reference/statements/grant) 为该用户授予某个表的权限，然后设置相应的 [ROW POLICY](/operations/access-rights#row-policy-management)。当该用户执行 `SELECT * FROM table` 时，只有策略允许的行才会被返回。

列级限制可以直接通过 [GRANT 语句](/sql-reference/statements/grant) 进行指定，以为用户和角色启用表级访问。用户在查询中*只能*包含其有访问权限的列。如果从表中选择受限制的列，而该用户对查询中指定的所有列并没有访问权限，例如执行 `SELECT * FROM table` 这样的查询，将返回一个错误，指出该用户权限不足。