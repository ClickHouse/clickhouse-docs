---
title: 将 system.dashboards 中使用的指标映射到 `system.custom_metrics` 中的 Prometheus 指标
description: "将 system.dashboards 中使用的指标映射到 `system.custom_metrics` 中的 Prometheus 指标"
date: 2024-07-23
tags: ['系统表']
keywords: ['指标', 'system.dashboards', 'system.custom_metrics']
---

{frontMatter.description}

{/* 截断 */}

## `system.dashboards` 中使用的指标与 `system.custom_metrics` 中 Prometheus 指标的映射 \{#mapping-of-metrics-used-in-systemdashboards-to-prometheus-metrics-in-systemcustom&#95;metrics\}

下表给出了 `system.dashboards` 中使用的指标到 `system.custom_metrics` 中 Prometheus 指标的映射关系。\
这对于希望监控 `system.dashboards` 中相同指标的客户非常有用。

### system.dashboards 中的指标到 system.custom&#95;metrics 中 Prometheus 指标的映射表 \{#mapping-table-for-metrics-in-systemdashboards-to-prometheus-metrics-in-systemcustom&#95;metrics\}

Dashboard | Title | Prometheus Metric Name (system.custom&#95;metrics)
-- | -- | --
Overview | 每秒查询数 | ClickHouseProfileEvents&#95;Query
Overview | CPU 使用量（核） | ClickHouseProfileEvents&#95;OSCPUVirtualTimeMicroseconds
Overview | 正在运行的查询 | ClickHouseMetrics&#95;Query
Overview | 正在运行的合并 | ClickHouseMetrics&#95;Merge
Overview | 每秒选出字节数 | ClickHouseProfileEvents&#95;SelectedBytes
Overview | I/O 等待时间 | ClickHouseProfileEvents&#95;OSIOWaitMicroseconds
Overview | CPU 等待时间 | ClickHouseProfileEvents&#95;OSCPUWaitMicroseconds
Overview | 操作系统 CPU 使用率（用户空间） | ClickHouseAsyncMetrics&#95;OSUserTimeNormalized
Overview | 操作系统 CPU 使用率（内核） | ClickHouseAsyncMetrics&#95;OSSystemTimeNormalized
Overview | 从磁盘读取 | ClickHouseProfileEvents&#95;OSReadBytes
Overview | 从文件系统读取 | ClickHouseProfileEvents&#95;OSReadChars
Overview | 内存（跟踪） | ClickHouseMetrics&#95;MemoryTracking
Overview | 平均负载（15 分钟） | ClickHouseAsyncMetrics&#95;LoadAverage15
Overview | 每秒选出行数 | ClickHouseProfileEvents&#95;SelectedRows
Overview | 每秒插入行数 | ClickHouseProfileEvents&#95;InsertedRows
Overview | MergeTree 部分总数 | ClickHouseAsyncMetrics&#95;TotalPartsOfMergeTreeTables
Overview | 单个分区的最大部分数 | ClickHouseAsyncMetrics&#95;MaxPartCountForPartition
Cloud overview | 每秒查询数 | ClickHouseProfileEvents&#95;Query
Cloud overview | CPU 使用量（核） | ClickHouseProfileEvents&#95;OSCPUVirtualTimeMicroseconds
Cloud overview | 正在运行的查询 | ClickHouseMetrics&#95;Query
Cloud overview | 正在运行的合并 | ClickHouseMetrics&#95;Merge
Cloud overview | 每秒选出字节数 | ClickHouseProfileEvents&#95;SelectedBytes
Cloud overview | I/O 等待时间（本地文件系统） | ClickHouseProfileEvents&#95;OSIOWaitMicroseconds
Cloud overview | S3 读取等待时间 | ClickHouseProfileEvents&#95;ReadBufferFromS3Microseconds
Cloud overview | S3 读取错误/秒 | ProfileEvent&#95;ReadBufferFromS3RequestsErrors
Cloud overview | CPU 等待时间 | ClickHouseProfileEvents&#95;OSCPUWaitMicroseconds
Cloud overview | 操作系统 CPU 使用率（用户空间，归一化） | ClickHouseAsyncMetrics&#95;OSUserTimeNormalized
Cloud overview | 操作系统 CPU 使用率（内核，归一化） | ClickHouseAsyncMetrics&#95;OSSystemTimeNormalized
Cloud overview | 从磁盘读取（字节/秒） | ClickHouseProfileEvents&#95;OSReadBytes
Cloud overview | 从文件系统读取（字节/秒） | ClickHouseProfileEvents&#95;OSReadChars
Cloud overview | 内存（跟踪，字节） | ClickHouseMetrics&#95;MemoryTracking
Cloud overview | 平均负载（15 分钟） | ClickHouseAsyncMetrics&#95;LoadAverage15
Cloud overview | 每秒选出行数 | ClickHouseProfileEvents&#95;SelectedRows
Cloud overview | 每秒插入行数 | ClickHouseProfileEvents&#95;InsertedRows
Cloud overview | MergeTree 部分总数 | ClickHouseAsyncMetrics&#95;TotalPartsOfMergeTreeTables
Cloud overview | 单个分区的最大部分数 | ClickHouseAsyncMetrics&#95;MaxPartCountForPartition
Cloud overview | 从 S3 读取（字节/秒） | ClickHouseProfileEvents&#95;ReadBufferFromS3Bytes
Cloud overview | 文件系统缓存大小 | ClickHouseMetrics&#95;FilesystemCacheSize
Cloud overview | 磁盘 S3 写请求/秒 | ClickHouseProfileEvents&#95;DiskS3PutObject + ClickHouseProfileEvents&#95;DiskS3UploadPart + ClickHouseProfileEvents&#95;DiskS3CreateMultipartUpload + ClickHouseProfileEvents&#95;DiskS3CompleteMultipartUpload
Cloud overview | 磁盘 S3 读请求/秒 | ClickHouseProfileEvents&#95;DiskS3GetObject + ClickHouseProfileEvents&#95;DiskS3HeadObject + ClickHouseProfileEvents&#95;DiskS3ListObjects
Cloud overview | 文件系统缓存命中率 | ClickHouseProfileEvents&#95;CachedReadBufferReadFromCacheBytes / (ClickHouseProfileEvents&#95;CachedReadBufferReadFromCacheBytes + ClickHouseProfileEvents&#95;CachedReadBufferReadFromSourceBytes)
Cloud overview | 页缓存命中率 | greatest(0, (sum(ClickHouseProfileEvents&#95;OSReadChars) - sum(ClickHouseProfileEvents&#95;OSReadBytes)) /  (sum(ClickHouseProfileEvents&#95;OSReadChars) + sum(ClickHouseProfileEvents&#95;ReadBufferFromS3Bytes)))
Cloud overview | 网络接收字节数/秒 | ClickHouseProfileEvents&#95;NetworkReceiveBytes
Cloud overview | 网络发送字节数/秒 | ClickHouseProfileEvents&#95;NetworkSendBytes

Related links:\
https://clickhouse.com/docs/integrations/prometheus