---
title: 如何解决 ClickHouse 23.9 发布后出现的摄取失败问题？
description: "了解如何解决由于 ClickHouse 23.9 中针对使用 `async_inserts` 的表引入更严格的 GRANT 检查而导致的摄取失败问题。通过更新授权（GRANT）来修复错误。"
date: 2022-11-17
tags: ['错误和异常']
keywords: ['GRANT', '权限错误']
---

{frontMatter.description}

{/* 截断 */}

## 解决 ClickHouse 23.9 版本发布后的摄取失败问题 \{#resolving-ingest-failures-after-clickhouse-239-release\}

这些权限错误的根本原因已经找到，是由于新版本中对 [`async_inserts`](/optimize/asynchronous-inserts) 的权限授予（GRANT）检查更加严格所致。

要解决此问题，必须更新相关权限（GRANT），你的服务才能正常工作。检查错误消息中指出缺失的权限授予，并手动添加这些所需的 GRANT。对于使用 `async_inserts` 的表，所需的额外 GRANT 通常是 `SELECT` 或 `dictGet` 权限。

## 为受影响的表和字典授予必要的 GRANT 权限 \{#add-necessary-grants-to-affected-tables-and-dictionaries\}

```
-- 添加 SELECT 授权权限
GRANT SELECT ON mydb.insertTable TO insert_role WITH GRANT OPTION

-- 添加 dictGet 授权权限
GRANT dictGet ON mydb.insertDictionary TO insert_role
```

要了解有关 `GRANT` 命令的更多信息，请参阅[此页面](/sql-reference/statements/grant)。

如果您无法执行此更改，请联系 [ClickHouse 支持团队](https://clickhouse.com/support/program) 以获取协助。
