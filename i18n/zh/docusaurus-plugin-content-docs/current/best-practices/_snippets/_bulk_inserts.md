上述机制表明，无论单次插入的数据量大小如何，都会存在固定开销，这使得批量大小成为提升写入吞吐量的首要优化手段。批量插入可降低这部分开销在整体插入时间中的占比，并提升处理效率。

我们建议至少以 1,000 行为一批插入数据，理想情况下批量大小应在 10,000–100,000 行之间。更少次数、更大批量的插入可以减少写入产生的分片数量，降低合并负载，并减少整体系统资源消耗。 

**要让同步插入策略真正有效，必须在客户端进行这种批量处理。**

如果无法在客户端对数据进行批量处理，ClickHouse 支持通过异步插入将批量处理下放到服务器端（[参见](/best-practices/selecting-an-insert-strategy#asynchronous-inserts)）。

:::tip 
无论单次插入的数据量大小如何，我们建议将插入查询的频率控制在大约每秒一次插入查询。这样建议的原因是，已创建的分片会在后台被合并为更大的分片（以优化数据用于读查询），而每秒发送过多插入查询可能导致后台合并无法跟上新分片产生的速度。不过，当你使用异步插入时，可以采用更高的每秒插入查询速率（参见异步插入）。 
:::