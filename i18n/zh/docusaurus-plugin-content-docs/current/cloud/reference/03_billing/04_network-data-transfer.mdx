---
sidebar_label: '数据传输'
slug: /cloud/manage/network-data-transfer
title: '数据传输'
description: '了解 ClickHouse Cloud 如何计量入站和出站的数据传输量'
doc_type: 'guide'
keywords: ['计费', '网络传输', '数据出站', '成本', '定价']
---

import NetworkPricing from '@site/docs/cloud/reference/_snippets/_network_transfer_rates.md';

ClickHouse Cloud 会对传入和传出（ingress 和 egress）的数据进行计量。
这包括任何进出 ClickHouse Cloud 的数据，以及区域内和跨区域的数据传输。
此类用量在服务层面进行统计。
根据这些用量，客户会产生数据传输费用，这些费用将计入其月度账单。

ClickHouse Cloud 对以下数据传输收费：

* 从 ClickHouse Cloud 到公共互联网的数据出口（egress），包括到其他云服务商其他区域的数据。
* 向同一云服务商中其他区域的数据出口。

同一区域内的数据传输或使用 Private Link/Private Service Connect 及其数据传输不收取费用。
但如果我们发现使用模式影响我们对用户进行合理计费的能力，则保留引入额外数据传输定价维度的权利。

注意：使用 Private Link/Private Service Connect 时，将产生云服务商（Cloud Service Provider，CSP）的费用。请参考相应 CSP 的定价页面以获取最新信息。

数据传输费用会因云服务商（Cloud Service Provider，CSP）和区域而异。
面向公共互联网的数据出口定价仅取决于源区域。
区域间（或跨区域）定价则取决于源区域和目标区域。

**降低数据传输成本的最佳实践**

在进行数据的 ingress 和 egress 时，可以注意一些模式和实践，以尽量降低数据传输成本。

1. 从 ClickHouse Cloud 进行数据 ingress 或 egress 时，在可能的情况下使用压缩，以减少传输数据量以及相关成本。

2. 请注意，当使用原生协议并采用非内联（non-inlined）值执行 `INSERT` 时（例如 `INSERT INTO [TABLE] FROM INFILE [FILE] FORMAT NATIVE`），ClickHouse 客户端会从服务器拉取元数据以打包数据。
   如果元数据比 `INSERT` 负载更大，从服务器角度看，你可能会反常地看到 egress 数据量大于 ingress 数据量。
   如果无法接受这种情况，请考虑使用 `VALUES` 语法进行数据内联，或改用 HTTP 协议。

下表展示了在公共互联网或跨区域场景下，不同云服务商和区域的数据出口传输费用差异。

:::note
ClickHouse Cloud 会按照分级（Tier 1 到 Tier 4）来度量区域间用量，具体分级取决于源区域和目标区域。
下表展示了每个区域间数据传输组合对应的分级。
在 ClickHouse Cloud 的计费用量界面中，你会看到按分级拆分的数据传输用量。
:::

<NetworkPricing />
