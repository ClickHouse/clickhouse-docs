---
description: '比较函数说明'
sidebar_label: '比较'
slug: /sql-reference/functions/comparison-functions
title: '比较函数'
doc_type: 'reference'
---

# 比较函数 {#comparison-functions}

## 比较规则 {#comparison-rules}

下面的比较函数返回类型为 [UInt8](/sql-reference/data-types/int-uint) 的 `0` 或 `1`。只有同一组内的值可以进行比较（例如 `UInt16` 和 `UInt64`），不同组之间的值不能相互比较（例如 `UInt16` 和 `DateTime`）。
可以比较数字和字符串，也可以比较字符串与日期、日期与时间。
对于元组和数组，比较是按字典序进行的，这意味着会依次比较左侧和右侧元组/数组中对应位置的元素。

可以进行比较的类型包括：

* 数值和小数
* 字符串和定长字符串
* 日期
* 日期时间
* 元组（按字典序比较）
* 数组（按字典序比较）

:::note
字符串按字节逐个比较。如果某个字符串包含 UTF-8 编码的多字节字符，这可能会导致意外结果。
如果字符串 S1 以字符串 S2 为前缀，则认为 S1 比 S2 长。
:::

{/* 
    下面这些标签的内部内容会在文档框架构建期间
    被 system.functions 生成的文档替换。请不要修改或删除这些标签。
    参见：https://github.com/ClickHouse/clickhouse-docs/blob/main/contribute/autogenerated-documentation-from-source.md
  */ }

{/*AUTOGENERATED_START*/ }

## equals {#equals}

在 v1.1 中引入

比较两个值是否相等。

**语法**

```sql
equals(a, b)
        -- a = b
        -- a == b
```

**参数**

* `a` — 第一个参数值。<sup>[*](#comparison-rules)</sup> - `b` — 第二个参数值。<sup>[*](#comparison-rules)</sup>

**返回值**

返回 [`UInt8`](/sql-reference/data-types/int-uint) 类型的值：如果 `a` 等于 `b` 则返回 `1`，否则返回 `0`。

**示例**

**使用示例**

```sql title=Query
SELECT 1 = 1, 1 = 2;
```

```response title=Response
┌─equals(1, 1)─┬─equals(1, 2)─┐
│            1 │            0 │
└──────────────┴──────────────┘
```



## greater {#greater}

Introduced in: v1.1

Compares two values for greater-than relation.

**Syntax**

```sql
greater(a, b)
    -- a > b
```

**Arguments**

- `a` — First value.<sup>[*](#comparison-rules)</sup> - `b` — Second value.<sup>[*](#comparison-rules)</sup> 

**Returned value**

Returns `1` if `a` is greater than `b`, otherwise `0` [`UInt8`](/sql-reference/data-types/int-uint)

**Examples**

**Usage example**

```sql title=Query
SELECT 2 > 1, 1 > 2;
```

```response title=Response
┌─greater(2, 1)─┬─greater(1, 2)─┐
│             1 │             0 │
└───────────────┴───────────────┘
```



## greaterOrEquals {#greaterOrEquals}

Introduced in: v1.1

Compares two values for greater-than-or-equal-to relation.

**Syntax**

```sql
greaterOrEquals(a, b)
    -- a >= b
```

**Arguments**

- `a` — First value.<sup>[*](#comparison-rules)</sup> - `b` — Second value.<sup>[*](#comparison-rules)</sup> 

**Returned value**

Returns `1` if `a` is greater than or equal to `b`, otherwise `0` [`UInt8`](/sql-reference/data-types/int-uint)

**Examples**

**Usage example**

```sql title=Query
SELECT 2 >= 1, 2 >= 2, 1 >= 2;
```

```response title=Response
┌─greaterOrEquals(2, 1)─┬─greaterOrEquals(2, 2)─┬─greaterOrEquals(1, 2)─┐
│                     1 │                     1 │                     0 │
└───────────────────────┴───────────────────────┴───────────────────────┘
```



## isDistinctFrom {#isDistinctFrom}

Introduced in: v25.11


        Performs a null-safe "not equals" comparison between two values.
        Returns `true` if the values are distinct (not equal), including when one value is NULL and the other is not.
        Returns `false` if the values are equal, or if both are NULL.
    

**Syntax**

```sql
isDistinctFrom(x, y)
```

**Arguments**

- `x` — First value to compare. Can be any ClickHouse data type. [`Any`](/sql-reference/data-types)
- `y` — Second value to compare. Can be any ClickHouse data type. [`Any`](/sql-reference/data-types)


**Returned value**

Returns `true` if the two values are different, treating NULLs as comparable:
  - Returns `true` if x != y.
  - Returns `true` if exactly one of x or y is NULL.
  - Returns `false` if x = y, or both x and y are NULL. [`Bool`](/sql-reference/data-types/boolean)

**Examples**

**Basic usage with numbers and NULLs**

```sql title=Query
SELECT
    isDistinctFrom(1, 2) AS result_1,
    isDistinctFrom(1, 1) AS result_2,
    isDistinctFrom(NULL, 1) AS result_3,
    isDistinctFrom(NULL, NULL) AS result_4
```

```response title=Response
┌─result_1─┬─result_2─┬─result_3─┬─result_4─┐
│        1 │        0 │        1 │        0 │
└──────────┴──────────┴──────────┴──────────┘
```



## isNotDistinctFrom {#isNotDistinctFrom}

Introduced in: v25.10


        Performs a null-safe "equals" comparison between two values.
        Returns `true` if the values are equal, including when both are NULL.
        Returns `false` if the values are different, or if exactly one of them is NULL.
    

**Syntax**

```sql
isNotDistinctFrom(x, y)
```

**Arguments**

- `x` — First value to compare. Can be any ClickHouse data type. [`Any`](/sql-reference/data-types)
- `y` — Second value to compare. Can be any ClickHouse data type. [`Any`](/sql-reference/data-types)


**Returned value**

Returns `true` if the two values are equal, treating NULLs as comparable:
  - Returns `true` if x = y.
  - Returns `true` if both x and y are NULL.
  - Returns `false` if x != y, or exactly one of x or y is NULL. [`Bool`](/sql-reference/data-types/boolean)

**Examples**

**Basic usage with numbers and NULLs**

```sql title=Query
SELECT
    isNotDistinctFrom(1, 1) AS result_1,
    isNotDistinctFrom(1, 2) AS result_2,
    isNotDistinctFrom(NULL, NULL) AS result_3,
    isNotDistinctFrom(NULL, 1) AS result_4
```

```response title=Response
┌─result_1─┬─result_2─┬─result_3─┬─result_4─┐
│        1 │        0 │        1 │        0 │
└──────────┴──────────┴──────────┴──────────┘
```



## less {#less}

Introduced in: v1.1

Compares two values for less-than relation.

**Syntax**

```sql
less(a, b)
    -- a < b
```

**Arguments**

- `a` — First value.<sup>[*](#comparison-rules)</sup> - `b` — Second value.<sup>[*](#comparison-rules)</sup> 

**Returned value**

Returns `1` if `a` is less than `b`, otherwise `0` [`UInt8`](/sql-reference/data-types/int-uint)

**Examples**

**Usage example**

```sql title=Query
SELECT 1 < 2, 2 < 1;
```

```response title=Response
┌─less(1, 2)─┬─less(2, 1)─┐
│          1 │          0 │
└────────────┴────────────┘
```



## lessOrEquals {#lessOrEquals}

Introduced in: v1.1

Compares two values for less-than-or-equal-to relation.

**Syntax**

```sql
lessOrEquals(a, b)
-- a <= b
```

**Arguments**

- `a` — First value.<sup>[*](#comparison-rules)</sup> - `b` — Second value.<sup>[*](#comparison-rules)</sup> 

**Returned value**

Returns `1` if `a` is less than or equal to `b`, otherwise `0` [`UInt8`](/sql-reference/data-types/int-uint)

**Examples**

**Usage example**

```sql title=Query
SELECT 1 <= 2, 2 <= 2, 3 <= 2;
```

```response title=Response
┌─lessOrEquals(1, 2)─┬─lessOrEquals(2, 2)─┬─lessOrEquals(3, 2)─┐
│                  1 │                  1 │                  0 │
└────────────────────┴────────────────────┴────────────────────┘
```



## notEquals {#notEquals}

Introduced in: v1.1

Compares two values for inequality.

**Syntax**

```sql
notEquals(a, b)
    -- a != b
    -- a <> b
```

**Arguments**

- `a` — First value.<sup>[*](#comparison-rules)</sup> - `b` — Second value.<sup>[*](#comparison-rules)</sup> 

**Returned value**

Returns `1` if `a` is not equal to `b`, otherwise `0`. [`UInt8`](/sql-reference/data-types/int-uint)

**Examples**

**Usage example**

```sql title=Query
SELECT 1 != 2, 1 != 1;
```

```response title=Response
┌─notEquals(1, 2)─┬─notEquals(1, 1)─┐
│               1 │               0 │
└─────────────────┴─────────────────┘
```

{/*AUTOGENERATED_END*/ }
