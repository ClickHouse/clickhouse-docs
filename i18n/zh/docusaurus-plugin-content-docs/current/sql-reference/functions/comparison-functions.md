---
description: '比较函数文档'
sidebar_label: '比较'
slug: /sql-reference/functions/comparison-functions
title: '比较函数'
doc_type: 'reference'
---



# 比较函数



## 比较规则 {#comparison-rules}

下面的比较函数返回类型为 [UInt8](/sql-reference/data-types/int-uint) 的 `0` 或 `1`。只能比较同一组内的值(例如 `UInt16` 和 `UInt64`),不能跨组比较(例如 `UInt16` 和 `DateTime`)。
数字与字符串之间可以进行比较,字符串与日期之间以及日期与时间之间也可以进行比较。
对于元组和数组,比较采用字典序,即对左侧和右侧元组/数组的每个对应元素依次进行比较。

以下类型可以进行比较:

- 数字和小数
- 字符串和固定字符串
- 日期
- 日期时间
- 元组(字典序比较)
- 数组(字典序比较)

:::note
字符串按字节逐一比较。如果其中一个字符串包含 UTF-8 编码的多字节字符,可能会导致意外的结果。
如果字符串 S1 以另一个字符串 S2 作为前缀,则认为 S1 比 S2 更长。
:::

<!--
The inner content of the tags below are replaced at doc framework build time with
docs generated from system.functions. Please do not modify or remove the tags.
See: https://github.com/ClickHouse/clickhouse-docs/blob/main/contribute/autogenerated-documentation-from-source.md
-->


<!--AUTOGENERATED_START-->

## equals {#equals}

引入版本:v1.1

比较两个值是否相等。

**语法**

```sql
equals(a, b)
        -- a = b
        -- a == b
```

**参数**

- `a` — 第一个值。<sup>[\*](#comparison-rules)</sup>
- `b` — 第二个值。<sup>[\*](#comparison-rules)</sup>

**返回值**

如果 `a` 等于 `b`,则返回 `1`,否则返回 `0`。类型:[`UInt8`](/sql-reference/data-types/int-uint)

**示例**

**使用示例**

```sql title=Query
SELECT 1 = 1, 1 = 2;
```

```response title=Response
┌─equals(1, 1)─┬─equals(1, 2)─┐
│            1 │            0 │
└──────────────┴──────────────┘
```


## greater {#greater}

引入版本:v1.1

比较两个值的大于关系。

**语法**

```sql
greater(a, b)
    -- a > b
```

**参数**

- `a` — 第一个值。<sup>[\*](#comparison-rules)</sup>
- `b` — 第二个值。<sup>[\*](#comparison-rules)</sup>

**返回值**

如果 `a` 大于 `b` 则返回 `1`,否则返回 `0`。[`UInt8`](/sql-reference/data-types/int-uint)

**示例**

**使用示例**

```sql title=Query
SELECT 2 > 1, 1 > 2;
```

```response title=Response
┌─greater(2, 1)─┬─greater(1, 2)─┐
│             1 │             0 │
└───────────────┴───────────────┘
```


## greaterOrEquals {#greaterOrEquals}

引入版本:v1.1

比较两个值是否满足大于或等于关系。

**语法**

```sql
greaterOrEquals(a, b)
    -- a >= b
```

**参数**

- `a` — 第一个值。<sup>[\*](#comparison-rules)</sup>
- `b` — 第二个值。<sup>[\*](#comparison-rules)</sup>

**返回值**

如果 `a` 大于或等于 `b`,则返回 `1`,否则返回 `0`。[`UInt8`](/sql-reference/data-types/int-uint)

**示例**

**使用示例**

```sql title=查询
SELECT 2 >= 1, 2 >= 2, 1 >= 2;
```

```response title=响应
┌─greaterOrEquals(2, 1)─┬─greaterOrEquals(2, 2)─┬─greaterOrEquals(1, 2)─┐
│                     1 │                     1 │                     0 │
└───────────────────────┴───────────────────────┴───────────────────────┘
```


## isDistinctFrom {#isDistinctFrom}

引入版本:v25.9

        对两个值执行空值安全的"不等于"比较。
        如果值不同(不相等),则返回 `true`,包括一个值为 NULL 而另一个值不为 NULL 的情况。
        如果值相等,或两者都为 NULL,则返回 `false`。

**语法**

```sql
isDistinctFrom(x, y)
```

**参数**

- `x` — 要比较的第一个值。可以是任何 ClickHouse 数据类型。[`Any`](/sql-reference/data-types)
- `y` — 要比较的第二个值。可以是任何 ClickHouse 数据类型。[`Any`](/sql-reference/data-types)

**返回值**

如果两个值不同,则返回 `true`,将 NULL 视为可比较:

- 如果 x != y,则返回 `true`。
- 如果 x 或 y 中恰好有一个为 NULL,则返回 `true`。
- 如果 x = y,或 x 和 y 都为 NULL,则返回 `false`。[`Bool`](/sql-reference/data-types/boolean)

**示例**

**数字和 NULL 的基本用法**

```sql title=查询
SELECT
    isDistinctFrom(1, 2) AS result_1,
    isDistinctFrom(1, 1) AS result_2,
    isDistinctFrom(NULL, 1) AS result_3,
    isDistinctFrom(NULL, NULL) AS result_4
```

```response title=响应
┌─result_1─┬─result_2─┬─result_3─┬─result_4─┐
│        1 │        0 │        1 │        0 │
└──────────┴──────────┴──────────┴──────────┘
```


## isNotDistinctFrom {#isNotDistinctFrom}

引入版本:v25.9

        执行两个值之间的空值安全"相等"比较。
        如果值相等则返回 `true`,包括两者都为 NULL 的情况。
        如果值不同,或者其中恰好有一个为 NULL,则返回 `false`。

**语法**

```sql
isNotDistinctFrom(x, y)
```

**参数**

- `x` — 要比较的第一个值。可以是任何 ClickHouse 数据类型。[`Any`](/sql-reference/data-types)
- `y` — 要比较的第二个值。可以是任何 ClickHouse 数据类型。[`Any`](/sql-reference/data-types)

**返回值**

如果两个值相等则返回 `true`,将 NULL 视为可比较:

- 如果 x = y,则返回 `true`。
- 如果 x 和 y 都为 NULL,则返回 `true`。
- 如果 x != y,或者 x 或 y 中恰好有一个为 NULL,则返回 `false`。[`Bool`](/sql-reference/data-types/boolean)

**示例**

**数字和 NULL 的基本用法**

```sql title=查询
SELECT
    isNotDistinctFrom(1, 1) AS result_1,
    isNotDistinctFrom(1, 2) AS result_2,
    isNotDistinctFrom(NULL, NULL) AS result_3,
    isNotDistinctFrom(NULL, 1) AS result_4
```

```response title=响应
┌─result_1─┬─result_2─┬─result_3─┬─result_4─┐
│        1 │        0 │        1 │        0 │
└──────────┴──────────┴──────────┴──────────┘
```


## less {#less}

引入版本:v1.1

比较两个值的小于关系。

**语法**

```sql
less(a, b)
    -- a < b
```

**参数**

- `a` — 第一个值。<sup>[\*](#comparison-rules)</sup>
- `b` — 第二个值。<sup>[\*](#comparison-rules)</sup>

**返回值**

如果 `a` 小于 `b` 则返回 `1`,否则返回 `0`。[`UInt8`](/sql-reference/data-types/int-uint)

**示例**

**使用示例**

```sql title=Query
SELECT 1 < 2, 2 < 1;
```

```response title=Response
┌─less(1, 2)─┬─less(2, 1)─┐
│          1 │          0 │
└────────────┴────────────┘
```


## lessOrEquals {#lessOrEquals}

引入版本:v1.1

比较两个值是否满足小于或等于关系。

**语法**

```sql
lessOrEquals(a, b)
-- a <= b
```

**参数**

- `a` — 第一个值。<sup>[\*](#comparison-rules)</sup>
- `b` — 第二个值。<sup>[\*](#comparison-rules)</sup>

**返回值**

如果 `a` 小于或等于 `b`,则返回 `1`,否则返回 `0`。类型为 [`UInt8`](/sql-reference/data-types/int-uint)。

**示例**

**使用示例**

```sql title=Query
SELECT 1 <= 2, 2 <= 2, 3 <= 2;
```

```response title=Response
┌─lessOrEquals(1, 2)─┬─lessOrEquals(2, 2)─┬─lessOrEquals(3, 2)─┐
│                  1 │                  1 │                  0 │
└────────────────────┴────────────────────┴────────────────────┘
```


## notEquals {#notEquals}

引入版本:v1.1

比较两个值是否不相等。

**语法**

```sql
notEquals(a, b)
    -- a != b
    -- a <> b
```

**参数**

- `a` — 第一个值。<sup>[\*](#comparison-rules)</sup>
- `b` — 第二个值。<sup>[\*](#comparison-rules)</sup>

**返回值**

如果 `a` 不等于 `b`,则返回 `1`,否则返回 `0`。[`UInt8`](/sql-reference/data-types/int-uint)

**示例**

**使用示例**

```sql title=查询
SELECT 1 != 2, 1 != 1;
```

```response title=响应
┌─notEquals(1, 2)─┬─notEquals(1, 1)─┐
│               1 │               0 │
└─────────────────┴─────────────────┘
```

<!--AUTOGENERATED_END-->
