---
description: '算术函数说明文档'
sidebar_label: '算术'
slug: /sql-reference/functions/arithmetic-functions
title: '算术函数'
doc_type: 'reference'
---

# 算术函数

## 概览

算术函数适用于任意两个操作数，其类型可以是 `UInt8`、`UInt16`、`UInt32`、`UInt64`、`Int8`、`Int16`、`Int32`、`Int64`、`Float32` 或 `Float64`。

在执行运算之前，两个操作数都会被转换为结果类型。结果类型按如下规则确定（除非下面函数文档中另有说明）：

* 如果两个操作数的宽度都不超过 32 位，则结果类型的大小为两者中较大类型之后的下一个更大类型的大小（整数大小提升）。例如，`UInt8 + UInt16 = UInt32` 或 `Float32 * Float32 = Float64`。
* 如果其中一个操作数为 64 位或更多位宽，则结果类型的大小与两者中较大的操作数类型相同。例如，`UInt32 + UInt128 = UInt128` 或 `Float32 * Float64 = Float64`。
* 如果其中一个操作数是有符号类型，则结果类型也将是有符号类型，否则它将是无符号类型。例如，`UInt32 * Int32 = Int64`。

这些规则确保结果类型将是能够表示所有可能结果的最小类型。虽然这在数值范围边界附近引入了溢出的风险，但它确保了可以使用最大本机 64 位整数宽度进行快速计算。这种行为还保证了与许多将 64 位整数（BIGINT）作为最大整数类型的其他数据库之间的兼容性。

示例：

```sql
SELECT toTypeName(0), toTypeName(0 + 0), toTypeName(0 + 0 + 0), toTypeName(0 + 0 + 0 + 0)
```

```text
┌─toTypeName(0)─┬─toTypeName(plus(0, 0))─┬─toTypeName(plus(plus(0, 0), 0))─┬─toTypeName(plus(plus(plus(0, 0), 0), 0))─┐
│ UInt8         │ UInt16                 │ UInt32                          │ UInt64                                   │
└───────────────┴────────────────────────┴─────────────────────────────────┴──────────────────────────────────────────┘
```

溢出的产生方式与 C++ 相同。

{/* 
  下面标签内的内容会在文档框架构建时被替换为
  由 system.functions 生成的文档。请不要修改或移除这些标签。
  参见：https://github.com/ClickHouse/clickhouse-docs/blob/main/contribute/autogenerated-documentation-from-source.md
  */ }

{/*AUTOGENERATED_START*/ }

{/*AUTOGENERGED_END*/ }
