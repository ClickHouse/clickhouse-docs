---
description: "元组函数文档"
sidebar_label: "元组"
slug: /sql-reference/functions/tuple-functions
title: "元组函数"
doc_type: "reference"
---

:::note
以下文档由 `system.functions` 系统表自动生成。
:::

<!--
以下标签内的内容在文档框架构建时会被替换为从 system.functions 生成的文档。请勿修改或删除这些标签。
参见:https://github.com/ClickHouse/clickhouse-docs/blob/main/contribute/autogenerated-documentation-from-source.md
-->


<!--AUTOGENERATED_START-->

## flattenTuple {#flattenTuple}

引入版本:v22.6

展平具名嵌套元组。
返回元组的元素是输入元组的路径。

**语法**

```sql
flattenTuple(input)
```

**参数**

- `input` — 要展平的具名嵌套元组。[`Tuple(n1 T1[, n2 T2, ... ])`](/sql-reference/data-types/tuple)

**返回值**

返回一个输出元组,其元素是原始输入的路径。[`Tuple(T)`](/sql-reference/data-types/tuple)

**示例**

**使用示例**

```sql title=查询
CREATE TABLE tab(t Tuple(a UInt32, b Tuple(c String, d UInt32))) ENGINE = MergeTree ORDER BY tuple();
INSERT INTO tab VALUES ((3, ('c', 4)));

SELECT flattenTuple(t) FROM tab;
```

```response title=响应
┌─flattenTuple(t)┐
│ (3, 'c', 4)    │
└────────────────┘
```


## tuple {#tuple}

引入版本:v

通过组合输入参数返回一个元组。

对于类型为 T1、T2、... 的列 C1、C2、...,如果列名唯一且可以作为无引号标识符使用,则返回包含这些列的命名元组类型 Tuple(C1 T1, C2 T2, ...);否则返回 Tuple(T1, T2, ...)。执行该函数无性能开销。
元组通常用作 IN 运算符参数的中间值,或用于创建 lambda 函数的形参列表。元组不能写入表。

该函数实现了运算符 `(x, y, ...)`。

**语法**

```sql

```

**参数**

- 无。

**返回值**

**示例**

**典型示例**

```sql title=查询
SELECT tuple(1, 2)
```

```response title=响应
(1,2)
```


## tupleConcat {#tupleConcat}

引入版本：v23.8

将作为参数传入的元组合并在一起。

**语法**

```sql
tupleConcat(tuple1[, tuple2, [...]])
```

**参数**

- `tupleN` — 任意数量的 Tuple 类型参数。[`Tuple(T)`](/sql-reference/data-types/tuple)

**返回值**

返回一个包含所有输入元组元素的元组。[`Tuple(T)`](/sql-reference/data-types/tuple)

**示例**

**使用示例**

```sql title=查询
SELECT tupleConcat((1, 2), ('a',), (true, false))
```

```response title=响应
(1, 2, 'a', true, false)
```


## tupleDivide {#tupleDivide}

引入版本:v21.11

计算两个相同大小的元组中对应元素的除法。

:::note
除以零将返回 `inf`。
:::

**语法**

```sql
tupleDivide(t1, t2)
```

**参数**

- `t1` — 第一个元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)
- `t2` — 第二个元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**返回值**

返回包含除法结果的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**示例**

**基本用法**

```sql title=Query
SELECT tupleDivide((1, 2), (2, 3))
```

```response title=Response
(0.5, 0.6666666666666666)
```


## tupleDivideByNumber {#tupleDivideByNumber}

引入版本:v21.11

返回一个元组,其所有元素均除以指定数值。

:::note
除以零将返回 `inf`。
:::

**语法**

```sql
tupleDivideByNumber(tuple, number)
```

**参数**

- `tuple` — 待除元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)
- `number` — 除数。[`(U)Int*`](/sql-reference/data-types/int-uint) 或 [`Float*`](/sql-reference/data-types/float) 或 [`Decimal`](/sql-reference/data-types/decimal)

**返回值**

返回包含除法结果的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**示例**

**基本用法**

```sql title=查询
SELECT tupleDivideByNumber((1, 2), 0.5)
```

```response title=响应
(2, 4)
```


## tupleElement {#tupleElement}

引入版本：v1.1

通过索引或名称从元组中提取元素。

通过索引访问时，需要使用基于 1 的数字索引。
通过名称访问时，可以将元素名称作为字符串提供（仅适用于命名元组）。

可选的第三个参数用于指定默认值，当访问的元素不存在时返回该值而不是抛出异常。
所有参数必须是常量。

此函数没有运行时开销，并实现了 `x.index` 和 `x.name` 操作符。

**语法**

```sql
tupleElement(tuple, index|name[, default_value])
```

**参数**

- `tuple` — 元组或元组数组。[`Tuple(T)`](/sql-reference/data-types/tuple) 或 [`Array(Tuple(T))`](/sql-reference/data-types/array)
- `index` — 列索引，从 1 开始。[`const UInt8/16/32/64`](/sql-reference/data-types/int-uint)
- `name` — 元素名称。[`const String`](/sql-reference/data-types/string)
- `default_value` — 当索引越界或元素不存在时返回的默认值。[`Any`](/sql-reference/data-types)

**返回值**

返回指定索引或名称的元素。[`Any`](/sql-reference/data-types)

**示例**

**索引访问**

```sql title=查询
SELECT tupleElement((1, 'hello'), 2)
```

```response title=响应
hello
```

**带表的命名元组**

```sql title=查询
CREATE TABLE example (values Tuple(name String, age UInt32)) ENGINE = Memory;
INSERT INTO example VALUES (('Alice', 30));
SELECT tupleElement(values, 'name') FROM example;
```

```response title=响应
Alice
```

**使用默认值**

```sql title=查询
SELECT tupleElement((1, 2), 5, 'not_found')
```

```response title=响应
not_found
```

**操作符语法**

```sql title=查询
SELECT (1, 'hello').2
```

```response title=响应
hello
```


## tupleHammingDistance {#tupleHammingDistance}

引入版本:v21.1

返回两个相同大小元组之间的[汉明距离](https://en.wikipedia.org/wiki/Hamming_distance)。

:::note
结果类型的确定方式与[算术函数](../../sql-reference/functions/arithmetic-functions.md)相同,根据输入元组中的元素数量决定。

```sql
SELECT
    toTypeName(tupleHammingDistance(tuple(0), tuple(0))) AS t1,
    toTypeName(tupleHammingDistance((0, 0), (0, 0))) AS t2,
    toTypeName(tupleHammingDistance((0, 0, 0), (0, 0, 0))) AS t3,
    toTypeName(tupleHammingDistance((0, 0, 0, 0), (0, 0, 0, 0))) AS t4,
    toTypeName(tupleHammingDistance((0, 0, 0, 0, 0), (0, 0, 0, 0, 0))) AS t5
```

```text
┌─t1────┬─t2─────┬─t3─────┬─t4─────┬─t5─────┐
│ UInt8 │ UInt16 │ UInt32 │ UInt64 │ UInt64 │
└───────┴────────┴────────┴────────┴────────┘
```

:::

**语法**

```sql
tupleHammingDistance(t1, t2)
```

**参数**

- `t1` — 第一个元组。[`Tuple(*)`](/sql-reference/data-types/tuple)
- `t2` — 第二个元组。[`Tuple(*)`](/sql-reference/data-types/tuple)

**返回值**

返回汉明距离。[`UInt8/16/32/64`](/sql-reference/data-types/int-uint)

**示例**

**使用示例**

```sql title=Query
SELECT tupleHammingDistance((1, 2, 3), (3, 2, 1))
```

```response title=Response
2
```

**使用 MinHash 检测半重复字符串**

```sql title=Query
SELECT tupleHammingDistance(wordShingleMinHash(string), wordShingleMinHashCaseInsensitive(string)) FROM (SELECT 'ClickHouse is a column-oriented database management system for online analytical processing of queries.' AS string)
```

```response title=Response
2
```


## tupleIntDiv {#tupleIntDiv}

引入版本:v23.8

对分子元组和分母元组执行整数除法,返回商的元组。
如果任一元组包含非整数元素,则会将每个非整数分子或除数四舍五入到最接近的整数后再进行计算。
除以 0 会抛出错误。

**语法**

```sql
tupleIntDiv(tuple_num, tuple_div)
```

**参数**

- `tuple_num` — 分子值的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)
- `tuple_div` — 除数值的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**返回值**

返回商的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**示例**

**基本用法**

```sql title=Query
SELECT tupleIntDiv((15, 10, 5), (5, 5, 5))
```

```response title=Response
(3, 2, 1)
```

**使用小数**

```sql title=Query
SELECT tupleIntDiv((15, 10, 5), (5.5, 5.5, 5.5))
```

```response title=Response
(2, 1, 0)
```


## tupleIntDivByNumber {#tupleIntDivByNumber}

引入版本:v23.8

对元组中的被除数执行整数除法运算,使用给定的除数进行计算,并返回商值组成的元组。
如果任一输入参数包含非整数元素,则会将每个非整数被除数或除数四舍五入到最接近的整数后再进行计算。
除以 0 将抛出错误。

**语法**

```sql
tupleIntDivByNumber(tuple_num, div)
```

**参数**

- `tuple_num` — 被除数值的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)
- `div` — 除数值。[`(U)Int*`](/sql-reference/data-types/int-uint) 或 [`Float*`](/sql-reference/data-types/float) 或 [`Decimal`](/sql-reference/data-types/decimal)

**返回值**

返回商值组成的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**示例**

**基本用法**

```sql title=查询
SELECT tupleIntDivByNumber((15, 10, 5), 5)
```

```response title=响应
(3, 2, 1)
```

**使用小数**

```sql title=查询
SELECT tupleIntDivByNumber((15.2, 10.7, 5.5), 5.8)
```

```response title=响应
(2, 1, 0)
```


## tupleIntDivOrZero {#tupleIntDivOrZero}

引入版本:v23.8

与 [`tupleIntDiv`](#tupleIntDiv) 类似,对分子元组和分母元组执行整数除法,并返回商的元组。
当除以 0 时,返回商为 0 而不是抛出异常。
如果任一元组包含非整数元素,则对每个非整数分子或除数四舍五入到最接近的整数后再计算结果。

**语法**

```sql
tupleIntDivOrZero(tuple_num, tuple_div)
```

**参数**

- `tuple_num` — 分子值的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)
- `tuple_div` — 除数值的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**返回值**

返回商的元组。当除数为 0 时,对应的商返回 0。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**示例**

**除数为零的情况**

```sql title=Query
SELECT tupleIntDivOrZero((5, 10, 15), (0, 0, 0))
```

```response title=Response
(0, 0, 0)
```


## tupleIntDivOrZeroByNumber {#tupleIntDivOrZeroByNumber}

引入版本：v23.8

与 [`tupleIntDivByNumber`](#tupleIntDivByNumber) 类似,该函数对元组中的分子值与给定的分母执行整数除法,并返回商的元组。
当除数为零时,该函数不会抛出错误,而是将商返回为零。
如果元组或除数包含非整数元素,则会将每个非整数分子或除数四舍五入到最接近的整数后再进行计算。

**语法**

```sql
tupleIntDivOrZeroByNumber(tuple_num, div)
```

**参数**

- `tuple_num` — 分子值的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)
- `div` — 除数值。[`(U)Int*`](/sql-reference/data-types/int-uint) 或 [`Float*`](/sql-reference/data-types/float) 或 [`Decimal`](/sql-reference/data-types/decimal)

**返回值**

返回商的元组,当除数为 `0` 时,对应的商为 `0`。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**示例**

**基本用法**

```sql title=查询
SELECT tupleIntDivOrZeroByNumber((15, 10, 5), 5)
```

```response title=响应
(3, 2, 1)
```

**除数为零的情况**

```sql title=查询
SELECT tupleIntDivOrZeroByNumber((15, 10, 5), 0)
```

```response title=响应
(0, 0, 0)
```


## tupleMinus {#tupleMinus}

引入版本：v21.11

计算两个相同大小元组中对应元素的差值。

**语法**

```sql
tupleMinus(t1, t2)
```

**别名**：`vectorDifference`

**参数**

- `t1` — 第一个元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)
- `t2` — 第二个元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**返回值**

返回包含减法结果的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**示例**

**基本用法**

```sql title=Query
SELECT tupleMinus((1, 2), (2, 3))
```

```response title=Response
(-1, -1)
```


## tupleModulo {#tupleModulo}

引入版本:v23.8

返回两个元组进行除法运算后的余数(模)组成的元组。

**语法**

```sql
tupleModulo(tuple_num, tuple_mod)
```

**参数**

- `tuple_num` — 被除数值的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)
- `tuple_mod` — 除数值的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**返回值**

返回除法运算的余数组成的元组。除以零时会抛出错误。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**示例**

**基本用法**

```sql title=查询
SELECT tupleModulo((15, 10, 5), (5, 3, 2))
```

```response title=响应
(0, 1, 1)
```


## tupleModuloByNumber {#tupleModuloByNumber}

引入版本:v23.8

返回元组中各元素与给定除数进行取模运算后的余数组成的元组。

**语法**

```sql
tupleModuloByNumber(tuple_num, div)
```

**参数**

- `tuple_num` — 被除数元素组成的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)
- `div` — 除数值。[`(U)Int*`](/sql-reference/data-types/int-uint) 或 [`Float*`](/sql-reference/data-types/float) 或 [`Decimal`](/sql-reference/data-types/decimal)

**返回值**

返回除法余数组成的元组。除以零时会抛出错误。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**示例**

**基本用法**

```sql title=查询
SELECT tupleModuloByNumber((15, 10, 5), 2)
```

```response title=响应
(1, 0, 1)
```


## tupleMultiply {#tupleMultiply}

引入版本：v21.11

计算两个相同大小的元组中对应元素的乘积。

**语法**

```sql
tupleMultiply(t1, t2)
```

**参数**

- `t1` — 第一个元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)
- `t2` — 第二个元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**返回值**

返回包含乘积结果的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**示例**

**基本用法**

```sql title=查询
SELECT tupleMultiply((1, 2), (2, 3))
```

```response title=响应
(2, 6)
```


## tupleMultiplyByNumber {#tupleMultiplyByNumber}

引入版本:v21.11

返回一个元组,其所有元素均与指定数字相乘。

**语法**

```sql
tupleMultiplyByNumber(tuple, number)
```

**参数**

- `tuple` — 要进行乘法运算的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)
- `number` — 乘数。[`(U)Int*`](/sql-reference/data-types/int-uint) 或 [`Float*`](/sql-reference/data-types/float) 或 [`Decimal`](/sql-reference/data-types/decimal)

**返回值**

返回一个元组,其元素为相乘后的结果。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**示例**

**基本用法**

```sql title=查询
SELECT tupleMultiplyByNumber((1, 2), -2.1)
```

```response title=响应
(-2.1, -4.2)
```


## tupleNames {#tupleNames}

引入版本：v

将元组转换为列名数组。对于形式为 `Tuple(a T, b T, ...)` 的元组，返回一个表示元组命名列的字符串数组。如果元组元素没有显式名称，则使用其索引作为列名。

**语法**

```sql

```

**参数**

- 无。

**返回值**

**示例**

**典型用法**

```sql title=查询
SELECT tupleNames(tuple(1 as a, 2 as b))
```

```response title=响应
['a','b']
```


## tupleNegate {#tupleNegate}

引入版本:v21.11

计算元组各元素的负值。

**语法**

```sql
tupleNegate(t)
```

**参数**

- `t` — 要取负的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**返回值**

返回包含取负结果的元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**示例**

**基本用法**

```sql title=查询
SELECT tupleNegate((1, 2))
```

```response title=响应
(-1, -2)
```


## tuplePlus {#tuplePlus}

引入版本：v21.11

计算两个相同大小元组的对应元素之和。

**语法**

```sql
tuplePlus(t1, t2)
```

**别名**：`vectorSum`

**参数**

- `t1` — 第一个元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)
- `t2` — 第二个元组。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**返回值**

返回一个元组，包含输入元组对应参数的和。[`Tuple((U)Int*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Float*)`](/sql-reference/data-types/tuple) 或 [`Tuple(Decimal)`](/sql-reference/data-types/tuple)

**示例**

**基本用法**

```sql title=查询
SELECT tuplePlus((1, 2), (2, 3))
```

```response title=响应
(3, 5)
```


## tupleToNameValuePairs {#tupleToNameValuePairs}

引入版本:v21.9

将元组转换为 `(name, value)` 键值对数组。
例如,元组 `Tuple(n1 T1, n2 T2, ...)` 会被转换为 `Array(Tuple('n1', T1), Tuple('n2', T2), ...)`。
元组中的所有值必须为相同类型。

**语法**

```sql
tupleToNameValuePairs(tuple)
```

**参数**

- `tuple` — 包含任意类型值的命名元组。[`Tuple(n1 T1[, n2 T2, ...])`](/sql-reference/data-types/tuple)

**返回值**

返回包含 `(name, value)` 键值对的数组。[`Array(Tuple(String, T))`](/sql-reference/data-types/array)

**示例**

**命名元组**

```sql title=Query
SELECT tupleToNameValuePairs(tuple(1593 AS user_ID, 2502 AS session_ID))
```

```response title=Response
[('1', 1593), ('2', 2502)]
```

**未命名元组**

```sql title=Query
SELECT tupleToNameValuePairs(tuple(3, 2, 1))
```

```response title=Response
[('1', 3), ('2', 2), ('3', 1)]
```

<!--AUTOGENERATED_END-->


## untuple {#untuple}

在调用位置对 [tuple](/sql-reference/data-types/tuple) 元素进行语法替换。

结果列的名称取决于具体实现,可能会发生变化。不要假定 `untuple` 之后的特定列名。

**语法**

```sql
untuple(x)
```

您可以使用 `EXCEPT` 表达式在查询结果中跳过某些列。

**参数**

- `x` — 一个 `tuple` 函数、列或元素元组。[Tuple](../data-types/tuple.md)。

**返回值**

- 无。

**示例**

输入表:

```text
┌─key─┬─v1─┬─v2─┬─v3─┬─v4─┬─v5─┬─v6────────┐
│   1 │ 10 │ 20 │ 40 │ 30 │ 15 │ (33,'ab') │
│   2 │ 25 │ 65 │ 70 │ 40 │  6 │ (44,'cd') │
│   3 │ 57 │ 30 │ 20 │ 10 │  5 │ (55,'ef') │
│   4 │ 55 │ 12 │  7 │ 80 │ 90 │ (66,'gh') │
│   5 │ 30 │ 50 │ 70 │ 25 │ 55 │ (77,'kl') │
└─────┴────┴────┴────┴────┴────┴───────────┘
```

使用 `Tuple` 类型列作为 `untuple` 函数参数的示例:

查询:

```sql
SELECT untuple(v6) FROM kv;
```

结果:

```text
┌─_ut_1─┬─_ut_2─┐
│    33 │ ab    │
│    44 │ cd    │
│    55 │ ef    │
│    66 │ gh    │
│    77 │ kl    │
└───────┴───────┘
```

使用 `EXCEPT` 表达式的示例:

查询:

```sql
SELECT untuple((* EXCEPT (v2, v3),)) FROM kv;
```

结果:

```text
┌─key─┬─v1─┬─v4─┬─v5─┬─v6────────┐
│   1 │ 10 │ 30 │ 15 │ (33,'ab') │
│   2 │ 25 │ 40 │  6 │ (44,'cd') │
│   3 │ 57 │ 10 │  5 │ (55,'ef') │
│   4 │ 55 │ 80 │ 90 │ (66,'gh') │
│   5 │ 30 │ 25 │ 55 │ (77,'kl') │
└─────┴────┴────┴────┴───────────┘
```


## 距离函数 {#distance-functions}

所有支持的函数详见[距离函数文档](../../sql-reference/functions/distance-functions.md)。
