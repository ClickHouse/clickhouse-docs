---
description: '计算数据集的样本方差。与 `varSamp` 不同，此函数使用数值更稳定的算法。它运行较慢，但计算误差更小。'
slug: /sql-reference/aggregate-functions/reference/varsampstable
title: 'varSampStable'
doc_type: 'reference'
---



<!--AUTOGENERATED_START-->

## varSampStable \{#varSampStable\}

引入版本:v1.1

计算数据集的样本方差。与 [`varSamp`](/sql-reference/aggregate-functions/reference/varSamp) 不同,该函数使用[数值稳定](https://en.wikipedia.org/wiki/Numerical_stability)算法。运行速度较慢,但计算误差更小。

样本方差的计算公式与 [`varSamp`](/sql-reference/aggregate-functions/reference/varSamp) 相同:

$$
\frac{\Sigma{(x - \bar{x})^2}}{n-1}
$$

<br />

其中:

- $x$ 是数据集中的每个单独数据点
- $\bar{x}$ 是数据集的算术平均值
- $n$ 是数据集中的数据点数量

**语法**

```sql
varSampStable(x)
```

**参数**

- `x` — 要计算样本方差的总体。[`(U)Int*`](/sql-reference/data-types/int-uint) 或 [`Float*`](/sql-reference/data-types/float) 或 [`Decimal*`](/sql-reference/data-types/decimal)

**返回值**

返回输入数据集的样本方差。[`Float64`](/sql-reference/data-types/float)

**示例**

**计算稳定样本方差**

```sql title=Query
DROP TABLE IF EXISTS test_data;
CREATE TABLE test_data
(
    x Float64
)
ENGINE = Memory;

INSERT INTO test_data VALUES (10.5), (12.3), (9.8), (11.2), (10.7);

SELECT round(varSampStable(x),3) AS var_samp_stable FROM test_data;
```

```response title=Response
┌─var_samp_stable─┐
│           0.865 │
└─────────────────┘
```

<!--AUTOGENERATED_END-->
