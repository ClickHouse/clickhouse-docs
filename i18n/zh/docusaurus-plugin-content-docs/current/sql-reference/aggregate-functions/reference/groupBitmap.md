---
description: '对无符号整数列执行 Bitmap 或聚合计算，返回 UInt64 类型的基数；如果添加后缀 -State，则返回一个 bitmap 对象'
slug: /sql-reference/aggregate-functions/reference/groupbitmap
title: 'groupBitmap'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## groupBitmap \{#groupBitmap\}

引入于：v20.1

从一个无符号整数列创建一个位图（比特数组），然后返回该位图中唯一值的数量（基数）。
通过在函数名后添加 `-State` 组合器后缀，函数将不再返回计数，而是返回实际的[位图对象](/sql-reference/functions/bitmap-functions)。

**语法**

```sql
groupBitmap(expr)
groupBitmapState(expr)
```

**参数**

* `expr` — 结果为 `UInt*` 类型的表达式。[`UInt*`](/sql-reference/data-types/int-uint)

**返回值**

返回 `UInt64` 类型的计数值，或在使用 `-State` 时返回一个 bitmap 对象。[`UInt64`](/sql-reference/data-types/int-uint)

**示例**

**用法示例**

```sql title=Query
CREATE TABLE t (UserID UInt32) ENGINE = Memory;
INSERT INTO t VALUES (1), (1), (2), (3);

SELECT groupBitmap(UserID) AS num FROM t;
```

```response title=Response
┌─num─┐
│   3 │
└─────┘
```

{/*AUTOGENERATED_END*/ }
