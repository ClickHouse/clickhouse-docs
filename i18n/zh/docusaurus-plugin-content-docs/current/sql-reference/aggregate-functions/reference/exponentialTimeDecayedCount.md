---
description: '返回时间序列中时间索引为 `t` 时的累积指数衰减值。'
slug: /sql-reference/aggregate-functions/reference/exponentialTimeDecayedCount
title: 'exponentialTimeDecayedCount'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## exponentialTimeDecayedCount \{#exponentialTimeDecayedCount\}

引入版本：v21.12

返回时间序列在时间索引 `t` 处的累积指数衰减值。

**语法**

```sql
exponentialTimeDecayedCount(x)(t)
```

**配置参数**

* `x` — 半衰期周期。[`(U)Int*`](/sql-reference/data-types/int-uint)、[`Float*`](/sql-reference/data-types/float) 或 [`Decimal`](/sql-reference/data-types/decimal)

**参数**

* `t` — 时间。[`(U)Int*`](/sql-reference/data-types/int-uint)、[`Float*`](/sql-reference/data-types/float) 或 [`Decimal`](/sql-reference/data-types/decimal)、[`DateTime`](/sql-reference/data-types/datetime) 或 [`DateTime64`](/sql-reference/data-types/datetime64)

**返回值**

返回给定时间点的累积指数衰减值。[`Float64`](/sql-reference/data-types/float)

**示例**

**带可视化展示的窗口函数用法**

```sql title=Query
SELECT
    value,
    time,
    round(exp_smooth, 3),
    bar(exp_smooth, 0, 20, 50) AS bar
FROM
(
    SELECT
        (number % 5) = 0 AS value,
        number AS time,
        exponentialTimeDecayedCount(10)(time) OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW) AS exp_smooth
    FROM numbers(50)
)
```

```response title=Response
┌─value─┬─time─┬─round(exp_smooth, 3)─┬─bar────────────────────────┐
│     1 │    0 │                    1 │ ██▌                        │
│     0 │    1 │                1.905 │ ████▊                      │
│     0 │    2 │                2.724 │ ██████▊                    │
│     0 │    3 │                3.464 │ ████████▋                  │
│     0 │    4 │                4.135 │ ██████████▎                │
│     1 │    5 │                4.741 │ ███████████▊               │
│     0 │    6 │                 5.29 │ █████████████▏             │
│     0 │    7 │                5.787 │ ██████████████▍            │
│     0 │    8 │                6.236 │ ███████████████▌           │
│     0 │    9 │                6.643 │ ████████████████▌          │
│     1 │   10 │                 7.01 │ █████████████████▌         │
│     0 │   11 │                7.343 │ ██████████████████▎        │
│     0 │   12 │                7.644 │ ███████████████████        │
│     0 │   13 │                7.917 │ ███████████████████▊       │
│     0 │   14 │                8.164 │ ████████████████████▍      │
│     1 │   15 │                8.387 │ ████████████████████▉      │
│     0 │   16 │                8.589 │ █████████████████████▍     │
│     0 │   17 │                8.771 │ █████████████████████▉     │
│     0 │   18 │                8.937 │ ██████████████████████▎    │
│     0 │   19 │                9.086 │ ██████████████████████▋    │
│     1 │   20 │                9.222 │ ███████████████████████    │
│     0 │   21 │                9.344 │ ███████████████████████▎   │
│     0 │   22 │                9.455 │ ███████████████████████▋   │
│     0 │   23 │                9.555 │ ███████████████████████▉   │
│     0 │   24 │                9.646 │ ████████████████████████   │
│     1 │   25 │                9.728 │ ████████████████████████▎  │
│     0 │   26 │                9.802 │ ████████████████████████▌  │
│     0 │   27 │                9.869 │ ████████████████████████▋  │
│     0 │   28 │                 9.93 │ ████████████████████████▊  │
│     0 │   29 │                9.985 │ ████████████████████████▉  │
│     1 │   30 │               10.035 │ █████████████████████████  │
│     0 │   31 │                10.08 │ █████████████████████████▏ │
│     0 │   32 │               10.121 │ █████████████████████████▎ │
│     0 │   33 │               10.158 │ █████████████████████████▍ │
│     0 │   34 │               10.191 │ █████████████████████████▍ │
│     1 │   35 │               10.221 │ █████████████████████████▌ │
│     0 │   36 │               10.249 │ █████████████████████████▌ │
│     0 │   37 │               10.273 │ █████████████████████████▋ │
│     0 │   38 │               10.296 │ █████████████████████████▋ │
│     0 │   39 │               10.316 │ █████████████████████████▊ │
│     1 │   40 │               10.334 │ █████████████████████████▊ │
│     0 │   41 │               10.351 │ █████████████████████████▉ │
│     0 │   42 │               10.366 │ █████████████████████████▉ │
│     0 │   43 │               10.379 │ █████████████████████████▉ │
│     0 │   44 │               10.392 │ █████████████████████████▉ │
│     1 │   45 │               10.403 │ ██████████████████████████ │
│     0 │   46 │               10.413 │ ██████████████████████████ │
│     0 │   47 │               10.422 │ ██████████████████████████ │
│     0 │   48 │                10.43 │ ██████████████████████████ │
│     0 │   49 │               10.438 │ ██████████████████████████ │
└───────┴──────┴──────────────────────┴────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }
