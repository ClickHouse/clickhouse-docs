---
description: '计算由 bfloat16 数值构成的样本的近似分位数。'
slug: /sql-reference/aggregate-functions/reference/quantilebfloat16
title: 'quantileBFloat16'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## quantileBFloat16 \{#quantileBFloat16\}

引入于：v21.7

计算由 [bfloat16](https://en.wikipedia.org/wiki/Bfloat16_floating-point_format) 数值组成的样本的近似[分位数](https://en.wikipedia.org/wiki/Quantile)。

`bfloat16` 是一种浮点数据类型，包含 1 个符号位、8 个指数位和 7 个尾数位。
该函数将输入值转换为 32 位浮点数，并取其最高有效的 16 位。然后计算 `bfloat16` 分位数值，并通过在低位补零将结果转换为 64 位浮点数。
该函数是一个快速的分位数估计器，其相对误差不超过 0.390625%。

**语法**

```sql
quantileBFloat16[(level)](expr)
```

**别名**：`medianBFloat16`

**参数说明**

* `level` — 可选。分位数级别。取值范围为 0 到 1。默认值：0.5。[`Float*`](/sql-reference/data-types/float)

**参数**

* `expr` — 含有数值数据的列。[`(U)Int*`](/sql-reference/data-types/int-uint) 或 [`Float*`](/sql-reference/data-types/float)

**返回值**

指定级别的近似分位数。[`Float64`](/sql-reference/data-types/float)

**示例**

**使用 bfloat16 计算分位数**

```sql title=Query
CREATE TABLE example_table (a UInt32, b Float32) ENGINE = Memory;
INSERT INTO example_table VALUES (1, 1.001), (2, 1.002), (3, 1.003), (4, 1.004);

SELECT quantileBFloat16(0.75)(a), quantileBFloat16(0.75)(b) FROM example_table;
```

```response title=Response
┌─quantileBFloat16(0.75)(a)─┬─quantileBFloat16(0.75)(b)─┐
│                         3 │                         1 │
└───────────────────────────┴───────────────────────────┘
```

{/*AUTOGENERATED_END*/ }

**另请参阅**

* [median](/sql-reference/aggregate-functions/reference/median)
* [quantiles](../../../sql-reference/aggregate-functions/reference/quantiles.md)
