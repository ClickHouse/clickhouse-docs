---
description: '以指定精度，根据序列中每个元素的权重计算数值数据序列的分位数。'
slug: /sql-reference/aggregate-functions/reference/quantilestimingweighted
title: 'quantilesTimingWeighted'
doc_type: 'reference'
---

# quantilesTimingWeighted {#quantilestimingweighted}

与 `quantileTimingWeighted` 相同，但接受带有分位水平的多个参数，并返回一个 `Array`，其中包含这些分位数对应的多个值。

**示例**

输入表：

```text
┌─response_time─┬─weight─┐
│            68 │      1 │
│           104 │      2 │
│           112 │      3 │
│           126 │      2 │
│           138 │      1 │
│           162 │      1 │
└───────────────┴────────┘
```

查询：

```sql
SELECT quantilesTimingWeighted(0,5, 0.99)(response_time, weight) FROM t
```

结果：

```text
┌─quantilesTimingWeighted(0.5, 0.99)(response_time, weight)─┐
│ [112,162]                                                 │
└───────────────────────────────────────────────────────────┘
```

**另请参阅**

* [median](/sql-reference/aggregate-functions/reference/median)
* [quantiles](../../../sql-reference/aggregate-functions/reference/quantiles.md)

{/*AUTOGENERATED_START*/ }

{/*AUTOGENERATED_END*/ }
