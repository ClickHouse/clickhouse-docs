---
description: '计算秩相关系数。'
slug: /sql-reference/aggregate-functions/reference/rankCorr
title: 'rankCorr'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## rankCorr \{#rankCorr\}

引入版本：v20.9

计算秩相关系数。

返回 `x` 和 `y` 的秩之间的秩相关系数。相关系数的取值范围为 -1 到 +1。如果传入的参数少于两个，函数将抛出异常。值接近 +1 表示具有很强的线性关系，当一个随机变量增加时，另一个随机变量也随之增加。值接近 -1 表示具有很强的线性关系，当一个随机变量增加时，另一个随机变量随之减小。值接近或等于 0 表示这两个随机变量之间不存在相关关系。

**另请参阅**

* [斯皮尔曼秩相关系数](https://en.wikipedia.org/wiki/Spearman%27s_rank_correlation_coefficient)

**语法**

```sql
rankCorr(x, y)
```

**参数**

* `x` — 任意值。[`Float*`](/sql-reference/data-types/float)
* `y` — 任意值。[`Float*`](/sql-reference/data-types/float)

**返回值**

返回 `x` 和 `y` 的秩之间的秩相关系数。取值范围为 -1 到 +1。[`Float64`](/sql-reference/data-types/float)

**示例**

**完全相关**

```sql title=Query
SELECT rankCorr(number, number) FROM numbers(100);
```

```response title=Response
┌─rankCorr(number, number)─┐
│                        1 │
└──────────────────────────┘
```

**非线性关系**

```sql title=Query
SELECT roundBankers(rankCorr(exp(number), sin(number)), 3) FROM numbers(100);
```

```response title=Response
┌─roundBankers(rankCorr(exp(number), sin(number)), 3)─┐
│                                              -0.037 │
└─────────────────────────────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }

**另请参阅**

* [斯皮尔曼秩相关系数](https://en.wikipedia.org/wiki/Spearman%27s_rank_correlation_coefficient)
