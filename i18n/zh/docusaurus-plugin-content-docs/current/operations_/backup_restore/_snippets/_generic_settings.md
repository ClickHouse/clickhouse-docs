| 设置                                                           | 说明                                                                                                                                                                                                                                                                                                                                                                                                                                 | 默认值       |
| ------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------- |
| `id`                                                         | 备份或恢复操作的 ID；如果未指定，则会使用随机生成的 UUID。&#39;如果已存在具有相同 ID 的正在运行的操作，则会抛出异常。                                                                                                                                                                                                                                                                                                                                                                |           |
| `compression_method`                                         | 指定备份所使用的压缩方法。参见章节[&quot;列压缩编解码器（column compression codecs）&quot;](/sql-reference/statements/create/table#column_compression_codec)                                                                                                                                                                                                                                                                                                 |           |
| `compression_level`                                          | 指定备份的压缩级别                                                                                                                                                                                                                                                                                                                                                                                                                          |           |
| `password`                                                   | 磁盘中文件的密码。                                                                                                                                                                                                                                                                                                                                                                                                                          |           |
| `base_backup`                                                | 用于增量备份的基础备份存放位置。例如：`Disk('backups', '1.zip')`                                                                                                                                                                                                                                                                                                                                                                                      |           |
| `use_same_password_for_base_backup`                          | 基础备份归档是否应从查询中继承密码。                                                                                                                                                                                                                                                                                                                                                                                                                 |           |
| `structure_only`                                             | 如果启用，则只备份或恢复 `CREATE` 语句本身，而不包含实际的表数据。                                                                                                                                                                                                                                                                                                                                                                                             |           |
| `storage_policy`                                             | 正在恢复的表所使用的存储策略。请参阅[使用多个块设备进行数据存储](/engines/table-engines/mergetree-family/mergetree#table_engine-mergetree-multiple-volumes)。仅适用于`RESTORE`命令。仅适用于使用 `MergeTree` 系列引擎的表。`MergeTree`族。                                                                                                                                                                                                                                               |           |
| `allow_non_empty_tables`                                     | 允许`RESTORE TABLE`向非空表中插入数据。这会将表中已有的数据与从备份中恢复的数据混合在一起。因此，此设置可能导致表中数据重复，请谨慎使用。                                                                                                                                                                                                                                                                                                                                                       | `0`       |
| `backup_restore_keeper_max_retries`                          | 在执行 BACKUP 或 RESTORE 过程中，对 [Zoo]Keeper 操作的最大重试次数。应设置得足够大，以避免整个操作因 [Zoo]Keeper 的短暂故障而失败。&#39;不会因为临时性的 [Zoo]Keeper 故障而失败。                                                                                                                                                                                                                                                                                                            | `1000`    |
| `backup_restore_keeper_retry_initial_backoff_ms`             | 在备份或恢复过程中用于 [Zoo]Keeper 操作的初始回退超时时间                                                                                                                                                                                                                                                                                                                                                                                                | `100`     |
| `backup_restore_keeper_retry_max_backoff_ms`                 | 备份或恢复期间 [Zoo]Keeper 操作的最大退避超时时间                                                                                                                                                                                                                                                                                                                                                                                                    | `5000`    |
| `backup_restore_failure_after_host_disconnected_for_seconds` | 如果某个主机在执行`BACKUP ON CLUSTER`如果在执行 `BACKUP ON CLUSTER` 或 `RESTORE ON CLUSTER` 操作期间，某个主机在超过该时间限制内仍未在 ZooKeeper 中重新创建其临时的 “alive” 节点，则整个备份或恢复操作会被视为失败。该值应大于主机在故障后重新连接 ZooKeeper 所需的任何合理时间。设置为 0 表示不限制。`RESTORE ON CLUSTER`operation doesn&#39;t 重新创建其临时状态&#39;存活&#39;在 `BACKUP ON CLUSTER` 或 `RESTORE ON CLUSTER` 操作期间，如果某个主机在这段时间内未能在 ZooKeeper 中重新创建其临时的 “alive” 节点，则整个备份或还原操作将被视为失败。该值应大于主机在发生故障后重新连接到 ZooKeeper 所需的任何合理时间。零表示无限制。 | `3600`    |
| `backup_restore_keeper_max_retries_while_initializing`       | 在初始化 `BACKUP ON CLUSTER` 或 `RESTORE ON CLUSTER` 操作期间执行的 [Zoo]Keeper 操作的最大重试次数`BACKUP ON CLUSTER`或`RESTORE ON CLUSTER`操作。                                                                                                                                                                                                                                                                                                           | `20`      |
| `backup_restore_keeper_max_retries_while_handling_error`     | 在处理 `BACKUP ON CLUSTER` 或 `RESTORE ON CLUSTER` 操作出错时，[Zoo]Keeper 操作的最大重试次数。`BACKUP ON CLUSTER`或`RESTORE ON CLUSTER`操作。                                                                                                                                                                                                                                                                                                             | `20`      |
| `backup_restore_finish_timeout_after_error_sec`              | 在当前 `BACKUP ON CLUSTER` 或 `RESTORE ON CLUSTER` 操作中，发起方在停止自身工作前等待其他主机对 `error` 节点作出响应的最长时间&#39;错误&#39;节点并停止它们当前的工作`BACKUP ON CLUSTER`或`RESTORE ON CLUSTER`操作。                                                                                                                                                                                                                                                                       | `180`     |
| `backup_restore_keeper_value_max_size`                       | [Zoo]Keeper 数据的最大大小&#39;在备份期间 [Zoo]Keeper 节点上的数据最大大小                                                                                                                                                                                                                                                                                                                                                                               | `1048576` |
| `backup_restore_batch_size_for_keeper_multi`                 | 在备份或恢复期间向 [Zoo]Keeper 发送 multi 请求时的批量操作最大大小                                                                                                                                                                                                                                                                                                                                                                                        | `1000`    |
| `backup_restore_batch_size_for_keeper_multiread`             | 在备份或恢复期间向 [Zoo]Keeper 发送 multiread 请求时的最大批处理大小                                                                                                                                                                                                                                                                                                                                                                                     | `10000`   |
| `backup_restore_keeper_fault_injection_probability`          | 在备份或恢复期间 keeper 请求失败的大致概率。有效取值范围为`[0.0f, 1.0f]`                                                                                                                                                                                                                                                                                                                                                                                    | `0`       |
| `backup_restore_keeper_fault_injection_seed`                 | `0`用于随机种子，否则使用该设置的数值                                                                                                                                                                                                                                                                                                                                                                                                               | `0`       |
| `backup_restore_s3_retry_attempts`                           | 用于配置 `Aws::Client::RetryStrategy` 的设置。`Aws::Client` 会自行执行重试，`0` 表示不重试。仅在备份/恢复时生效。                                                                                                                                                                                                                                                                                                                                                  | `1000`    |
| `max_backup_bandwidth`                                       | 服务器上特定备份的最大读取速度（字节/秒）。0 表示不限。                                                                                                                                                                                                                                                                                                                                                                                                      | `0`       |
| `max_backups_io_thread_pool_size`                            | ClickHouse 使用 Backups IO 线程池中的线程来执行 S3 备份 I/O 操作。ClickHouse 使用备份 IO 线程池中的线程执行 S3 备份 IO 操作。`max_backups_io_thread_pool_size` 用于限制该线程池中的最大线程数。限制线程池中的最大线程数。                                                                                                                                                                                                                                                                          | `1000`    |
| `max_backups_io_thread_pool_free_size`                       | 如果……的数量**空闲**备份 IO 线程池中的线程数超过`max_backup_io_thread_pool_free_size`，ClickHouse 将释放空闲线程占用的资源并缩减线程池大小；如有需要，可以重新创建线程。                                                                                                                                                                                                                                                                                                                  | `0`       |
| `backups_io_thread_pool_queue_size`                          | 可在 Backups IO 线程池中排队调度的作业最大数量。鉴于当前的 S3 备份逻辑，建议将此队列设置为无限。注意：值为`0`（default）表示不设限。                                                                                                                                                                                                                                                                                                                                                    | `0`       |
| `backup_threads`                                             | 用于执行的最大线程数`BACKUP`请求。                                                                                                                                                                                                                                                                                                                                                                                                              |           |
| `max_backup_bandwidth_for_server`                            | 服务器上所有备份的最大读取速度（字节/秒）。0 表示不限制。                                                                                                                                                                                                                                                                                                                                                                                                     | `0`       |
| `shutdown_wait_backups_and_restores`                         | 如果设置为 true，ClickHouse 会在关闭前等待正在运行的备份和恢复操作完成。                                                                                                                                                                                                                                                                                                                                                                                       | `1`       |