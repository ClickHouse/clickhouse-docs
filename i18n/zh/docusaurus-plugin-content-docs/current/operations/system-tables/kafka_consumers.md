---
description: '包含 Kafka 消费者相关信息的系统表。'
keywords: ['system table', 'kafka_consumers']
slug: /operations/system-tables/kafka_consumers
title: 'system.kafka_consumers'
doc_type: 'reference'
---

import SystemTableCloud from '@site/docs/_snippets/_system_table_cloud.md';

<SystemTableCloud />

包含有关 Kafka 消费者的信息。
适用于 [Kafka 表引擎](../../engines/table-engines/integrations/kafka)（ClickHouse 原生集成）

列：

{/*AUTOGENERATED_START*/ }

* `database` ([String](../../sql-reference/data-types/)) — 使用 Kafka 引擎的表所属的数据库。
* `table` ([String](../../sql-reference/data-types/)) — 使用 Kafka 引擎的表名。
* `consumer_id` ([String](../../sql-reference/data-types/)) — Kafka 消费者标识符。注意，一个表可以有多个消费者。由 `kafka_num_consumers` 参数指定。
* `assignments.topic` ([Array(String)](../../sql-reference/data-types/)) — Kafka 主题。
* `assignments.partition_id` ([Array(Int32)](../../sql-reference/data-types/)) — Kafka 分区 ID。注意，一个分区只能被一个消费者分配。
* `assignments.current_offset` ([Array(Int64)](../../sql-reference/data-types/)) — 当前 offset。
* `assignments.intent_size` ([Array(Nullable(Int64))](../../sql-reference/data-types/)) — 在新的 StorageKafka 中，已推送但尚未提交的消息数量。
* `exceptions.time` ([Array(DateTime)](../../sql-reference/data-types/)) — 最近 10 条异常产生时的时间戳。
* `exceptions.text` ([Array(String)](../../sql-reference/data-types/)) — 最近 10 条异常的文本内容。
* `last_poll_time` ([DateTime](../../sql-reference/data-types/)) — 最近一次轮询的时间戳。
* `num_messages_read` ([UInt64](../../sql-reference/data-types/)) — 消费者读取的消息数量。
* `last_commit_time` ([DateTime](../../sql-reference/data-types/)) — 最近一次提交的时间戳。
* `num_commits` ([UInt64](../../sql-reference/data-types/)) — 该消费者的提交总次数。
* `last_rebalance_time` ([DateTime](../../sql-reference/data-types/)) — 最近一次 Kafka 再均衡的时间戳。
* `num_rebalance_revocations` ([UInt64](../../sql-reference/data-types/)) — 该消费者被撤销分区的次数。
* `num_rebalance_assignments` ([UInt64](../../sql-reference/data-types/)) — 该消费者被分配到 Kafka 集群的次数。
* `is_currently_used` ([UInt8](../../sql-reference/data-types/)) — 指示该消费者当前是否正在使用的标志。
* `last_used` ([DateTime64(6)](../../sql-reference/data-types/)) — 该消费者上次被使用的时间。
* `rdkafka_stat` ([String](../../sql-reference/data-types/)) — 库的内部统计信息。将 statistics&#95;interval&#95;ms 设为 0 可禁用，默认值为 3000（每三秒一次）。

{/*AUTOGENERATED_END*/ }

示例：

```sql
SELECT *
FROM system.kafka_consumers
FORMAT Vertical
```

```text
第 1 行：
──────
database:                   test
table:                      kafka
consumer_id:                ClickHouse-instance-test-kafka-1caddc7f-f917-4bb1-ac55-e28bd103a4a0
assignments.topic:          ['system_kafka_cons']
assignments.partition_id:   [0]
assignments.current_offset: [18446744073709550615]
exceptions.time:            []
exceptions.text:            []
last_poll_time:             2006-11-09 18:47:47
num_messages_read:          4
last_commit_time:           2006-11-10 04:39:40
num_commits:                1
last_rebalance_time:        1970-01-01 00:00:00
num_rebalance_revocations:  0
num_rebalance_assignments:  1
is_currently_used:          1
rdkafka_stat:               {...}

```
