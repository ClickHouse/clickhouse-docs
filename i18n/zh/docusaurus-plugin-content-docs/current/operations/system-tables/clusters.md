---
description:
  "包含配置文件中可用集群及其定义的服务器信息的系统表。"
keywords: ["系统表", "集群"]
slug: /operations/system-tables/clusters
title: "system.clusters"
doc_type: "reference"
---

包含配置文件中可用集群及其服务器的信息。

列:

<!--AUTOGENERATED_START-->

- `cluster` ([String](../../sql-reference/data-types/)) — 集群名称。
- `shard_num` ([UInt32](../../sql-reference/data-types/)) — 集群中的分片编号,从 1 开始。
- `shard_name` ([String](../../sql-reference/data-types/)) — 集群中分片的名称。
- `shard_weight` ([UInt32](../../sql-reference/data-types/)) — 写入数据时分片的相对权重。
- `internal_replication` ([UInt8](../../sql-reference/data-types/)) — 标志位,指示此主机是否属于可以自行复制数据的集群的一部分。
- `replica_num` ([UInt32](../../sql-reference/data-types/)) — 分片中的副本编号,从 1 开始。
- `host_name` ([String](../../sql-reference/data-types/)) — 配置中指定的主机名。
- `host_address` ([String](../../sql-reference/data-types/)) — 从 DNS 获取的主机 IP 地址。
- `port` ([UInt16](../../sql-reference/data-types/)) — 用于连接服务器的端口。
- `is_local` ([UInt8](../../sql-reference/data-types/)) — 标志位,指示主机是否为本地主机。
- `user` ([String](../../sql-reference/data-types/)) — 用于连接服务器的用户名。
- `default_database` ([String](../../sql-reference/data-types/)) — 默认数据库名称。
- `errors_count` ([UInt32](../../sql-reference/data-types/)) — 此主机无法访问副本的次数。
- `slowdowns_count` ([UInt32](../../sql-reference/data-types/)) — 在使用对冲请求建立连接时导致切换副本的减速次数。
- `estimated_recovery_time` ([UInt32](../../sql-reference/data-types/)) — 副本错误计数归零并被视为恢复正常之前剩余的秒数。
- `database_shard_name` ([String](../../sql-reference/data-types/)) — `Replicated` 数据库分片的名称(适用于属于 `Replicated` 数据库的集群)。
- `database_replica_name` ([String](../../sql-reference/data-types/)) — `Replicated` 数据库副本的名称(适用于属于 `Replicated` 数据库的集群)。
- `is_shared_catalog_cluster` ([UInt8](../../sql-reference/data-types/)) — 布尔值,指示集群是否属于共享目录。
- `is_active` ([Nullable(UInt8)](../../sql-reference/data-types/)) — Replicated 数据库副本的状态(适用于属于 Replicated 数据库的集群):1 表示"副本在线",0 表示"副本离线",NULL 表示"未知"。
- `unsynced_after_recovery` ([Nullable(UInt8)](../../sql-reference/data-types/)) — 指示 Replicated 数据库副本在创建或恢复后是否存在超过 max_replication_lag_to_enqueue 的复制延迟。
- `replication_lag` ([Nullable(UInt32)](../../sql-reference/data-types/)) — `Replicated` 数据库副本的复制延迟(适用于属于 Replicated 数据库的集群)。
- `recovery_time` ([Nullable(UInt64)](../../sql-reference/data-types/)) — `Replicated` 数据库副本的恢复时间(适用于属于 Replicated 数据库的集群),以毫秒为单位。
<!--AUTOGENERATED_END-->

**示例**

查询:

```sql
SELECT * FROM system.clusters LIMIT 2 FORMAT Vertical;
```

结果:

```text
Row 1:
──────
cluster:                 test_cluster_two_shards
shard_num:               1
shard_name:              shard_01
shard_weight:            1
replica_num:             1
host_name:               127.0.0.1
host_address:            127.0.0.1
port:                    9000
is_local:                1
user:                    default
default_database:
errors_count:            0
slowdowns_count:         0
estimated_recovery_time: 0
database_shard_name:
database_replica_name:
is_active:               NULL

```


第 2 行:
──────
cluster:                 test&#95;cluster&#95;two&#95;shards
shard&#95;num:               2
shard&#95;name:              shard&#95;02
shard&#95;weight:            1
replica&#95;num:             1
host&#95;name:               127.0.0.2
host&#95;address:            127.0.0.2
port:                    9000
is&#95;local:                0
user:                    default
default&#95;database:
errors&#95;count:            0
slowdowns&#95;count:         0
estimated&#95;recovery&#95;time: 0
database&#95;shard&#95;name:
database&#95;replica&#95;name:
is&#95;active:               NULL

```

**另请参阅**

- [Distributed 表引擎](../../engines/table-engines/special/distributed.md)
- [distributed_replica_error_cap 设置](../../operations/settings/settings.md#distributed_replica_error_cap)
- [distributed_replica_error_half_life 设置](../../operations/settings/settings.md#distributed_replica_error_half_life)
```
