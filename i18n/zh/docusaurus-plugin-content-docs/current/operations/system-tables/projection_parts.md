---
'description': '系统表包含关于 MergeTree 家族表的投影部分的信息。'
'keywords':
- 'system table'
- 'projection_parts'
'slug': '/operations/system-tables/projection_parts'
'title': 'system.projection_parts'
'doc_type': 'reference'
---


# system.projection_parts

此表包含有关 MergeTree 家族表的投影部分的信息。

## Columns {#columns}

| Column                                  | Description                                                                                                                                                                                                 | Type            |
|-----------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
| `partition`                             | 分区名称。                                                                                                                                                                                               | String          |
| `name`                                  | 数据部分的名称。                                                                                                                                                                                         | String          |
| `part_type`                             | 数据部分存储格式。可能值：宽格式（每列一个文件）和紧凑格式（所有列一个文件）。                                                                                                                               | String          |
| `parent_name`                           | 源（父）数据部分的名称。                                                                                                                                                                               | String          |
| `parent_uuid`                           | 源（父）数据部分的 UUID。                                                                                                                                                                               | UUID            |
| `parent_part_type`                      | 源（父）数据部分存储格式。                                                                                                                                                                              | String          |
| `active`                                | 指示数据部分是否处于活动状态的标志。如果数据部分是活动的，则它在一个表中使用。否则，它即将被删除。非活动数据部分在合并和变更操作后出现。                                                                 | UInt8           |
| `marks`                                 | 标记数量。要获取数据部分中近似的行数，请将标记乘以索引粒度（通常为 8192）（此提示不适用于自适应粒度）。                                                                                                        | UInt64          |
| `rows`                                  | 行数。                                                                                                                                                                                                    | UInt64          |
| `bytes_on_disk`                         | 所有数据部分文件的总大小（以字节为单位）。                                                                                                                                                               | UInt64          |
| `data_compressed_bytes`                 | 数据部分中压缩数据的总大小。所有辅助文件（例如，标记文件）不包括在内。                                                                                                                               | UInt64          |
| `data_uncompressed_bytes`               | 数据部分中未压缩数据的总大小。所有辅助文件（例如，标记文件）不包括在内。                                                                                                                             | UInt64          |
| `marks_bytes`                           | 包含标记的文件的大小。                                                                                                                                                                                  | UInt64          |
| `parent_marks`                          | 源（父）部分中的标记数量。                                                                                                                                                                               | UInt64          |
| `parent_rows`                           | 源（父）部分中的行数。                                                                                                                                                                                    | UInt64          |
| `parent_bytes_on_disk`                  | 所有源（父）数据部分文件的总大小（以字节为单位）。                                                                                                                                                       | UInt64          |
| `parent_data_compressed_bytes`          | 源（父）数据部分中压缩数据的总大小。                                                                                                                                                                     | UInt64          |
| `parent_data_uncompressed_bytes`        | 源（父）数据部分中未压缩数据的总大小。                                                                                                                                                                   | UInt64          |
| `parent_marks_bytes`                    | 源（父）数据部分中包含标记的文件的大小。                                                                                                                                                                | UInt64          |
| `modification_time`                     | 数据部分目录的修改时间。这通常对应于数据部分创建的时间。                                                                                                                                               | DateTime        |
| `remove_time`                           | 数据部分变为非活动状态的时间。                                                                                                                                                                         | DateTime        |
| `refcount`                              | 数据部分使用的地方数量。大于 2 的值表示数据部分在查询或合并中被使用。                                                                                                                               | UInt32          |
| `min_date`                              | 数据部分中日期键的最小值。                                                                                                                                                                              | Date            |
| `max_date`                              | 数据部分中日期键的最大值。                                                                                                                                                                              | Date            |
| `min_time`                              | 数据部分中日期和时间键的最小值。                                                                                                                                                                        | DateTime        |
| `max_time`                              | 数据部分中日期和时间键的最大值。                                                                                                                                                                        | DateTime        |
| `partition_id`                          | 分区的 ID。                                                                                                                                                                                               | String          |
| `min_block_number`                      | 合并后构成当前部分的数据部分的最小数量。                                                                                                                                                                   | Int64           |
| `max_block_number`                      | 合并后构成当前部分的数据部分的最大数量。                                                                                                                                                                  | Int64           |
| `level`                                 | 合并树的深度。零表示当前部分是由插入而不是通过合并其他部分创建的。                                                                                                                                      | UInt32          |
| `data_version`                          | 用于确定哪些变更应应用于数据部分的编号（版本高于 data_version 的变更）。                                                                                                                              | UInt64          |
| `primary_key_bytes_in_memory`           | 主键值使用的内存量（以字节为单位）。                                                                                                                                                                         | UInt64          |
| `primary_key_bytes_in_memory_allocated` | 为主键值保留的内存量（以字节为单位）。                                                                                                                                                                       | UInt64          |
| `is_frozen`                             | 表示分区数据备份是否存在的标志。1，备份存在。0，备份不存在。                                                                                                                                             | UInt8           |
| `database`                              | 数据库名称。                                                                                                                                                                                              | String          |
| `table`                                 | 表名称。                                                                                                                                                                                                 | String          |
| `engine`                                | 表引擎的名称（不含参数）。                                                                                                                                                                              | String          |
| `disk_name`                             | 存储数据部分的磁盘名称。                                                                                                                                                                                  | String          |
| `path`                                  | 数据部分文件的文件夹的绝对路径。                                                                                                                                                                          | String          |
| `hash_of_all_files`                     | 压缩文件的 sipHash128。                                                                                                                                                                                    | String          |
| `hash_of_uncompressed_files`            | 未压缩文件的 sipHash128（带标记的文件、索引文件等）。                                                                                                                                                       | String          |
| `uncompressed_hash_of_compressed_files` | 压缩文件中数据的 sipHash128，就像它们是未压缩的一样。                                                                                                                                                     | String          |
| `delete_ttl_info_min`                   | TTL DELETE 规则的日期和时间键的最小值。                                                                                                                                                                   | DateTime        |
| `delete_ttl_info_max`                   | TTL DELETE 规则的日期和时间键的最大值。                                                                                                                                                                   | DateTime        |
| `move_ttl_info.expression`              | 表达式数组。每个表达式定义一个 TTL MOVE 规则。                                                                                                                                                           | Array(String)   |
| `move_ttl_info.min`                     | 日期和时间值数组。每个元素描述 TTL MOVE 规则的最小键值。                                                                                                                                                  | Array(DateTime) |
| `move_ttl_info.max`                     | 日期和时间值数组。每个元素描述 TTL MOVE 规则的最大键值。                                                                                                                                                  | Array(DateTime) |
| `default_compression_codec`             | 用于压缩此数据部分的编解码器的名称（当列没有显式编解码器时）。                                                                                                                                             | String          |
| `recompression_ttl_info.expression`     | TTL 表达式。                                                                                                                                                                                               | Array(String)   |
| `recompression_ttl_info.min`            | 本部分内计算的 TTL 表达式的最小值。用于了解我们是否至少有一行具有过期的 TTL。                                                                                                                                | Array(DateTime) |
| `recompression_ttl_info.max`            | 本部分内计算的 TTL 表达式的最大值。用于了解我们是否所有行都具有过期的 TTL。                                                                                                                              | Array(DateTime) |
| `group_by_ttl_info.expression`          | TTL 表达式。                                                                                                                                                                                               | Array(String)   |
| `group_by_ttl_info.min`                 | 本部分内计算的 TTL 表达式的最小值。用于了解我们是否至少有一行具有过期的 TTL。                                                                                                                                | Array(DateTime) |
| `group_by_ttl_info.max`                 | 本部分内计算的 TTL 表达式的最大值。用于了解我们是否所有行都具有过期的 TTL。                                                                                                                              | Array(DateTime) |
| `rows_where_ttl_info.expression`        | TTL 表达式。                                                                                                                                                                                               | Array(String)   |
| `rows_where_ttl_info.min`               | 本部分内计算的 TTL 表达式的最小值。用于了解我们是否至少有一行具有过期的 TTL。                                                                                                                                | Array(DateTime) |
| `rows_where_ttl_info.max`               | 本部分内计算的 TTL 表达式的最大值。用于了解我们是否所有行都具有过期的 TTL。                                                                                                                              | Array(DateTime) |
| `is_broken`                             | 投影部分是否损坏。                                                                                                                                                                                        | UInt8           |
| `exception_code`                        | 说明投影部分损坏状态的异常消息。                                                                                                                                                                          | Int32           |
| `exception`                             | 说明投影部分损坏状态的异常代码。                                                                                                                                                                          | String          |
| `bytes`                                 | bytes_on_disk 的别名。                                                                                                                                                                                   | UInt64          |
| `marks_size`                            | marks_bytes 的别名。                                                                                                                                                                                     | UInt64          |
| `part_name`                             | name 的别名。                                                                                                                                                                                              | String          |                                                                                                                                       | ALIAS           | name |
