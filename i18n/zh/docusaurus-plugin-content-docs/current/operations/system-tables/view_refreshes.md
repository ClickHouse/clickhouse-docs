---
description: '包含可刷新物化视图信息的系统表。'
keywords: ['系统表', 'view_refreshes']
slug: /operations/system-tables/view_refreshes
title: 'system.view_refreshes'
doc_type: 'reference'
---

import SystemTableCloud from '@site/i18n/zh/docusaurus-plugin-content-docs/current/_snippets/_system_table_cloud.md';

# system.view&#95;refreshes {#systemview&#95;refreshes}

<SystemTableCloud />

关于[可刷新物化视图](../../sql-reference/statements/create/view.md#refreshable-materialized-view)的信息。包含所有可刷新的物化视图，无论当前是否正在刷新。

列：

{/*AUTOGENERATED_START*/ }

* `database` ([String](../../sql-reference/data-types/)) — 表所在数据库的名称。
* `view` ([String](../../sql-reference/data-types/)) — 表名。
* `uuid` ([UUID](../../sql-reference/data-types/)) — 表的 UUID（Atomic 数据库）。
* `status` ([String](../../sql-reference/data-types/)) — 刷新的当前状态。
* `last_success_time` ([Nullable(DateTime)](../../sql-reference/data-types/)) — 最近一次成功刷新开始的时间。如果自服务器启动或表创建以来没有成功刷新，则为 NULL。
* `last_success_duration_ms` ([Nullable(UInt64)](../../sql-reference/data-types/)) — 最近一次成功刷新所耗时间（毫秒）。
* `last_refresh_time` ([Nullable(DateTime)](../../sql-reference/data-types/)) — 最近一次刷新尝试完成（如果已知）或开始（如果结束时间未知或仍在运行）的时间。如果自服务器启动或表创建以来没有发生刷新尝试，则为 NULL。
* `last_refresh_replica` ([String](../../sql-reference/data-types/)) — 如果启用了协调，则为执行当前（如果正在运行）或上一次（如果未在运行）刷新尝试的副本名称。
* `next_refresh_time` ([Nullable(DateTime)](../../sql-reference/data-types/)) — 下一次计划开始刷新的时间，当 `status = Scheduled` 时有效。
* `exception` ([String](../../sql-reference/data-types/)) — 上一次尝试失败时的错误消息。
* `retry` ([UInt64](../../sql-reference/data-types/)) — 当前刷新到目前为止的失败尝试次数。如果 `status` 为 `RunningOnAnotherReplica`，则不可用。
* `progress` ([Nullable(Float64)](../../sql-reference/data-types/)) — 在指定副本上，当前正在运行或最近一次完成的刷新的进度，范围为 0 到 1。如果 `status` 为 `RunningOnAnotherReplica` 或刷新未在运行，则为 NULL。
* `read_rows` ([Nullable(UInt64)](../../sql-reference/data-types/)) — 在指定副本上，当前正在运行或最近一次完成的刷新读取的行数。如果 `status` 为 `RunningOnAnotherReplica`，则为 NULL。
* `read_bytes` ([Nullable(UInt64)](../../sql-reference/data-types/)) — 在指定副本上，当前正在运行或最近一次完成的刷新读取的字节数。如果 `status` 为 `RunningOnAnotherReplica`，则为 NULL。
* `total_rows` ([Nullable(UInt64)](../../sql-reference/data-types/)) — 在指定副本上，当前正在运行或最近一次完成的刷新需要读取的预估总行数。如果 `status` 为 `RunningOnAnotherReplica`，则为 NULL。
* `written_rows` ([Nullable(UInt64)](../../sql-reference/data-types/)) — 在指定副本上，当前正在运行或最近一次完成的刷新写入的行数。如果 `status` 为 `RunningOnAnotherReplica`，则为 NULL。
* `written_bytes` ([Nullable(UInt64)](../../sql-reference/data-types/)) — 在指定副本上，当前正在运行或最近一次完成的刷新写入的字节数。如果 `status` 为 `RunningOnAnotherReplica`，则为 NULL。

{/*AUTOGENERATED_END*/ }

**示例**

```sql
SELECT
    database,
    view,
    status,
    last_refresh_result,
    last_refresh_time,
    next_refresh_time
FROM system.view_refreshes

┌─database─┬─view───────────────────────┬─status────┬─last_refresh_result─┬───last_refresh_time─┬───next_refresh_time─┐
│ default  │ hello_documentation_reader │ Scheduled │ Finished            │ 2023-12-01 01:24:00 │ 2023-12-01 01:25:00 │
└──────────┴────────────────────────────┴───────────┴─────────────────────┴─────────────────────┴─────────────────────┘
```
