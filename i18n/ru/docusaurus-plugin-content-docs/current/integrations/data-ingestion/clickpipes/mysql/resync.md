---
title: "Повторная синхронизация ClickPipe базы данных"
description: "Документация по повторной синхронизации ClickPipe базы данных"
slug: /integrations/clickpipes/mysql/resync
sidebar_label: "Повторная синхронизация ClickPipe"
doc_type: "guide"
keywords: ["clickpipes", "mysql", "cdc", "прием данных", "синхронизация в реальном времени"]
---

import resync_button from "@site/static/images/integrations/data-ingestion/clickpipes/postgres/resync_button.png"
import Image from "@theme/IdealImage"

### Что делает повторная синхронизация? {#what-mysql-resync-do}

Повторная синхронизация включает следующие операции в указанном порядке:

1. Существующий ClickPipe удаляется, и запускается новый ClickPipe для повторной синхронизации. Таким образом, изменения в структуре исходных таблиц будут учтены при повторной синхронизации.
2. ClickPipe повторной синхронизации создает (или заменяет) новый набор целевых таблиц с теми же именами, что и исходные таблицы, но с суффиксом `_resync`.
3. Выполняется начальная загрузка данных в таблицы `_resync`.
4. Затем таблицы `_resync` меняются местами с исходными таблицами. Строки с мягким удалением переносятся из исходных таблиц в таблицы `_resync` перед обменом.

Все настройки исходного ClickPipe сохраняются в ClickPipe повторной синхронизации. Статистика исходного ClickPipe очищается в пользовательском интерфейсе.

### Сценарии использования повторной синхронизации ClickPipe {#use-cases-mysql-resync}

Вот несколько примеров:

1. Вам может потребоваться выполнить значительные изменения схемы в исходных таблицах, которые нарушат работу существующего ClickPipe и потребуют перезапуска. После выполнения изменений достаточно нажать кнопку «Повторная синхронизация».
2. Для ClickHouse: возможно, вам потребовалось изменить ключи ORDER BY в целевых таблицах. Вы можете выполнить повторную синхронизацию, чтобы заново заполнить данные в новую таблицу с правильным ключом сортировки.

:::note
Вы можете выполнять повторную синхронизацию несколько раз, однако учитывайте нагрузку на исходную базу данных при каждой повторной синхронизации.
:::

### Руководство по повторной синхронизации ClickPipe {#guide-mysql-resync}

1. На вкладке «Источники данных» выберите MySQL ClickPipe, который требуется повторно синхронизировать.
2. Перейдите на вкладку **Settings** (Настройки).
3. Нажмите кнопку **Resync** (Повторная синхронизация).

<Image img={resync_button} border size='md' />

4. Появится диалоговое окно для подтверждения. Нажмите кнопку «Resync» еще раз.
5. Перейдите на вкладку **Metrics** (Метрики).
6. Примерно через 5 секунд (а также при обновлении страницы) статус конвейера должен измениться на **Setup** (Настройка) или **Snapshot** (Снимок).
7. Начальную загрузку при повторной синхронизации можно отслеживать на вкладке **Tables** (Таблицы) в разделе **Initial Load Stats** (Статистика начальной загрузки).
8. После завершения начальной загрузки конвейер атомарно поменяет местами таблицы `_resync` с исходными таблицами. Во время обмена статус будет **Resync** (Повторная синхронизация).
9. После завершения обмена конвейер перейдет в состояние **Running** (Выполняется) и выполнит CDC, если эта функция включена.
