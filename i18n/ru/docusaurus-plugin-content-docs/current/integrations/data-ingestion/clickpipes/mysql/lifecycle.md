---
'sidebar_label': 'Жизненный цикл MySQL ClickPipe'
'description': 'Различные статусы трубопроводов и их значения'
'slug': '/integrations/clickpipes/mysql/lifecycle'
'title': 'Жизненный цикл MySQL ClickPipe'
'doc_type': 'guide'
---
# Жизненный цикл MySQL ClickPipe {#lifecycle}

Это документ о различных фазах MySQL ClickPipe, разных статусах, которые он может иметь, и их значении. Обратите внимание, что это также относится к MariaDB.

## Под provisioning {#provisioning}

Когда вы нажимаете кнопку Создать ClickPipe, ClickPipe создается в состоянии `Provisioning`. Процесс provisioning - это тот момент, когда мы разворачиваем основную инфраструктуру для работы ClickPipes для сервиса, а также регистрируем начальные метаданные для трубопровода. Поскольку вычисления для ClickPipes в рамках сервиса разделяемые, ваш второй ClickPipe будет создан гораздо быстрее, чем первый, так как инфраструктура уже развернута.

## Настройка {#setup}

После того как труба будет подготовлена, она переходит в состояние `Setup`. В этом состоянии мы создаем целевые таблицы ClickHouse. Мы также получаем и фиксируем определения таблиц ваших исходных таблиц.

## Снимок {#snapshot}

После завершения настройки мы переходим в состояние `Snapshot` (если это не труба только для CDC, которая перейдет в состояние `Running`). `Snapshot`, `Initial Snapshot` и `Initial Load` (более распространенный термин) являются взаимозаменяемыми терминами. В этом состоянии мы снимаем снимок исходных таблиц MySQL и загружаем их в ClickHouse. Настройки хранения для двоичных журналов должны учитывать время начальной загрузки. Для получения дополнительной информации о начальной загрузке смотрите [документацию по параллельной начальной загрузке](./parallel_initial_load). Труба также перейдет в состояние `Snapshot`, когда будет инициирован повторный синхронизатор или когда новые таблицы будут добавлены в существующую трубу.

## Запуск {#running}

После завершения начальной загрузки труба переходит в состояние `Running` (если это не труба только для снимков, которая перейдет в состояние `Completed`). Это состояние, когда труба начинает `Change-Data Capture`. В этом состоянии мы начинаем читать двоичные журналы из исходной базы данных и синхронизировать данные с ClickHouse пакетами. Для получения информации о контроле CDC смотрите [документ о контроле CDC](./sync_control).

## На паузе {#paused}

Когда труба находится в состоянии `Running`, вы можете приостановить её. Это остановит процесс CDC, и труба перейдет в состояние `Paused`. В этом состоянии новые данные не извлекаются из исходной базы данных, но существующие данные в ClickHouse остаются нетронутыми. Вы можете возобновить работу трубы из этого состояния.

## Приостановка {#pausing}

:::note
Это состояние скоро появится. Если вы используете наш [OpenAPI](https://clickhouse.com/docs/cloud/manage/openapi), подумайте о добавлении поддержки для него сейчас, чтобы обеспечить работу вашей интеграции, когда оно будет выпущено.
:::
Когда вы нажимаете кнопку Пауза, труба переходит в состояние `Pausing`. Это переходное состояние, когда мы находимся в процессе остановки процесса CDC. После полной остановки процесса CDC труба перейдет в состояние `Paused`.

## Изменение {#modifying}
:::note
Это состояние скоро появится. Если вы используете наш [OpenAPI](https://clickhouse.com/docs/cloud/manage/openapi), подумайте о добавлении поддержки для него сейчас, чтобы обеспечить работу вашей интеграции, когда оно будет выпущено.
:::
В данный момент это указывает на то, что труба находится в процессе удаления таблиц.

## Повторная синхронизация {#resync}
:::note
Это состояние скоро появится. Если вы используете наш [OpenAPI](https://clickhouse.com/docs/cloud/manage/openapi), подумайте о добавлении поддержки для него сейчас, чтобы обеспечить работу вашей интеграции, когда оно будет выпущено.
:::
Это состояние указывает на то, что труба находится на этапе повторной синхронизации, когда выполняется атомарная замена _таблиц повторной синхронизации на оригинальные таблицы. Более подробную информацию о повторной синхронизации можно найти в [документации по повторной синхронизации](./resync).

## Завершено {#completed}

Это состояние относится только к трубам, работающим с снимками, и указывает на то, что снимок завершен и больше никаких работ не требуется.

## Ошибка {#failed}

Если в трубе возникает неисправимая ошибка, она перейдет в состояние `Failed`. Вы можете обратиться в службу поддержки или [повторно синхронизировать](./resync) вашу трубу, чтобы восстановиться из этого состояния.

## Ухудшение {#degraded}

:::note
Это состояние скоро появится. Если вы используете наш [OpenAPI](https://clickhouse.com/docs/cloud/manage/openapi), подумайте о добавлении поддержки для него сейчас, чтобы обеспечить работу вашей интеграции, когда оно будет выпущено.
:::