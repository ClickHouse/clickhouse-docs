---
'sidebar_label': 'Жизненный цикл Postgres ClickPipe'
'description': 'Различные статусы трубопровода и их значения'
'slug': '/integrations/clickpipes/postgres/lifecycle'
'title': 'Жизненный цикл Postgres ClickPipe'
'doc_type': 'guide'
---
# Жизненный цикл Postgres ClickPipe {#lifecycle}

Это документ о различных фазах Postgres ClickPipe, различных статусах, которые он может иметь, и их значении.

## Проведение {#provisioning}

Когда вы нажимаете кнопку Создать ClickPipe, ClickPipe создается в состоянии `Provisioning`. Процесс проведения — это этап, на котором мы разворачиваем основную инфраструктуру для выполнения ClickPipe для сервиса, а также регистрируем некоторые начальные метаданные для канала. Поскольку вычисления для ClickPipe в рамках сервиса разделяются, ваш второй ClickPipe будет создан гораздо быстрее, чем первый — так как инфраструктура уже готова.

## Настройка {#setup}

После проведения канал переходит в состояние `Setup`. На этом этапе мы создаем целевые таблицы ClickHouse. Мы также получаем и фиксируем определения таблиц ваших исходных таблиц.

## Снимок {#snapshot}

После завершения настройки мы переходим в состояние `Snapshot` (если это канал только CDC, он перейдет в состояние `Running`). `Snapshot`, `Initial Snapshot` и `Initial Load` (более распространенный) — это взаимозаменяемые термины. На этом этапе мы создаем снимок исходных таблиц базы данных и загружаем их в ClickHouse. Это не использует логическую репликацию, но слот репликации создается на этом этапе, поэтому ваши параметры `max_slot_wal_keep_size` и хранения должны учитывать рост слота во время начальной загрузки. Для получения дополнительной информации о начальной загрузке см. [документацию по параллельной начальной загрузке](./parallel_initial_load). Канал также перейдет в состояние `Snapshot`, когда будет инициирована повторная синхронизация или когда будут добавлены новые таблицы в существующий канал.

## Работа {#running}

После завершения начальной загрузки канал переходит в состояние `Running` (если это канал только для снимков, он перейдет в состояние `Completed`). На этом этапе канал начинает `Change-Data Capture`. В этом состоянии мы начинаем логическую репликацию из исходной базы данных в ClickHouse. Для информации о контроле CDC см. [документацию о контроле CDC](./sync_control).

## Приостановлен {#paused}

После того как канал находится в состоянии `Running`, вы можете его приостановить. Это остановит процесс CDC, и канал перейдет в состояние `Paused`. В этом состоянии новые данные из исходной базы данных не будут извлекаться, но существующие данные в ClickHouse останутся нетронутыми. Вы можете возобновить работу канала из этого состояния.

## Приостановка {#pausing}

:::note
Это состояние скоро появится. Если вы используете наш [OpenAPI](https://clickhouse.com/docs/cloud/manage/openapi), подумайте о добавлении поддержки для него сейчас, чтобы ваша интеграция продолжала работать, когда оно будет выпущено.
:::
Когда вы нажимаете кнопку Приостановить, канал переходит в состояние `Pausing`. Это переходное состояние, в котором мы находимся в процессе остановки процесса CDC. Когда процесс CDC полностью остановится, канал перейдет в состояние `Paused`.

## Модификация {#modifying}
:::note
Это состояние скоро появится. Если вы используете наш [OpenAPI](https://clickhouse.com/docs/cloud/manage/openapi), подумайте о добавлении поддержки для него сейчас, чтобы ваша интеграция продолжала работать, когда оно будет выпущено.
:::
В настоящее время это указывает на то, что канал находится в процессе удаления таблиц.

## Повторная синхронизация {#resync}
:::note
Это состояние скоро появится. Если вы используете наш [OpenAPI](https://clickhouse.com/docs/cloud/manage/openapi), подумайте о добавлении поддержки для него сейчас, чтобы ваша интеграция продолжала работать, когда оно будет выпущено.
:::
Это состояние указывает на то, что канал находится в фазе повторной синхронизации, где выполняется атомная замена _таблиц повторной синхронизации с оригинальными таблицами. Дополнительную информацию о повторной синхронизации можно найти в [документации по повторной синхронизации](./resync).

## Завершено {#completed}

Это состояние относится к каналам только для снимков и указывает на то, что снимок завершен и больше нет работы.

## Ошибка {#failed}

Если в канале произойдет невосстановимая ошибка, он перейдет в состояние `Failed`. Вы можете обратиться в службу поддержки или [повторно синхронизировать](./resync) ваш канал, чтобы восстановиться из этого состояния.

## Пониженная производительность {#degraded}

:::note
Это состояние скоро появится. Если вы используете наш [OpenAPI](https://clickhouse.com/docs/cloud/manage/openapi), подумайте о добавлении поддержки для него сейчас, чтобы ваша интеграция продолжала работать, когда оно будет выпущено.
:::