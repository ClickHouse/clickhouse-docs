---
sidebar_label: 'Python'
sidebar_position: 10
keywords: ['clickhouse', 'python', 'client', 'connect', 'integrate']
slug: /integrations/python
description: 'The ClickHouse Connect project suite for connecting Python to ClickHouse'
title: '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Python —Å ClickHouse Connect'
---
```

import ConnectionDetails from '@site/docs/_snippets/_gather_your_details_http.mdx';

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Python —Å ClickHouse Connect
## –í–≤–µ–¥–µ–Ω–∏–µ {#introduction}

ClickHouse Connect ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –¥—Ä–∞–π–≤–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —à–∏—Ä–æ–∫–∏–º —Å–ø–µ–∫—Ç—Ä–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Python.

- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç `Client` –≤ –ø–∞–∫–µ—Ç–µ `clickhouse_connect.driver`. –≠—Ç–æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç —Ç–∞–∫–∂–µ –≤–∫–ª—é—á–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ —É—Ç–∏–ª–∏—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º ClickHouse –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ "context" –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞–º–∏ –Ω–∞ –≤—Å—Ç–∞–≤–∫—É –∏ –≤—ã–±–æ—Ä–∫—É.
- –ü–∞–∫–µ—Ç `clickhouse_connect.datatypes` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–∞–∑–æ–≤—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏ –ø–æ–¥–∫–ª–∞—Å—Å—ã –¥–ª—è –≤—Å–µ—Ö –Ω–µ–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö ClickHouse. –ï–≥–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö ClickHouse –≤ –±–∏–Ω–∞—Ä–Ω—ã–π –∫–æ–ª–æ–Ω–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç "Native", –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –º–µ–∂–¥—É ClickHouse –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏.
- –ö–ª–∞—Å—Å—ã Cython/C –≤ –ø–∞–∫–µ—Ç–µ `clickhouse_connect.cdriver` –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–π –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–π –¥–ª—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —á–∏—Å—Ç—ã–º Python.
- –í –ø–∞–∫–µ—Ç–µ `clickhouse_connect.cc_sqlalchemy` –∏–º–µ–µ—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–∏–∞–ª–µ–∫—Ç [SQLAlchemy](https://www.sqlalchemy.org/), –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø–∞–∫–µ—Ç–∞—Ö `datatypes` –∏ `dbi`. –≠—Ç–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤/–∫—É—Ä—Å–æ–≤ –∏ –æ–±—ã—á–Ω–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ DDL –∏ ORM –≤ SQLAlchemy. (SQLAlchemy –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö OLTP, –∏ –º—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö ClickHouse, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –Ω–∞ OLAP.)
- –û—Å–Ω–æ–≤–Ω–æ–π –¥—Ä–∞–π–≤–µ—Ä –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ClickHouse Connect SQLAlchemy —è–≤–ª—è—é—Ç—Å—è –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è ClickHouse –∫ Apache Superset. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö `ClickHouse Connect` –∏–ª–∏ `clickhousedb` –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è SQLAlchemy.

–≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç –±–µ—Ç–∞-—Ä–µ–ª–∏–∑–∞ 0.8.2.

:::note
–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä ClickHouse Connect –¥–ª—è Python –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª HTTP –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º ClickHouse.
–£ –Ω–µ–≥–æ –µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ (—Ç–∞–∫–∏–µ –∫–∞–∫ –ª—É—á—à–∞—è –≥–∏–±–∫–æ—Å—Ç—å, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ HTTP-–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–æ–≤, –ª—É—á—à–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ JDBC –∏ –¥—Ä.) –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ (—Ç–∞–∫–∏–µ –∫–∞–∫ —Å–ª–µ–≥–∫–∞ —Å–Ω–∏–∂–µ–Ω–Ω–æ–µ —Å–∂–∞—Ç–∏–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∞ —Ç–∞–∫–∂–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª–æ–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Ä–æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ TCP).
–î–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—ã –º–æ–∂–µ—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏–∑ [–¥—Ä–∞–π–≤–µ—Ä–æ–≤ Python —Å–æ–æ–±—â–µ—Å—Ç–≤–∞](/interfaces/third-party/client-libraries.md), –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–æ–¥–Ω–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª –Ω–∞ –æ—Å–Ω–æ–≤–µ TCP.
:::
### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å {#requirements-and-compatibility}

|    Python |   |       –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞¬π |   | ClickHouse |    | SQLAlchemy¬≤ |   | Apache Superset |   |
|----------:|:--|----------------:|:--|-----------:|:---|------------:|:--|----------------:|:--|
| 2.x, &lt;3.8 | ‚ùå |     Linux (x86) | ‚úÖ |     &lt;24.3¬≥ | üü° |        &lt;1.3 | ‚ùå |            &lt;1.4 | ‚ùå |
|     3.8.x | ‚úÖ | Linux (Aarch64) | ‚úÖ |     24.3.x | ‚úÖ  |       1.3.x | ‚úÖ |           1.4.x | ‚úÖ |
|     3.9.x | ‚úÖ |     macOS (x86) | ‚úÖ | 24.4-24.6¬≥ | üü° |       1.4.x | ‚úÖ |           1.5.x | ‚úÖ |
|    3.10.x | ‚úÖ |     macOS (ARM) | ‚úÖ |     24.7.x | ‚úÖ  |       >=2.x | ‚ùå |           2.0.x | ‚úÖ |
|    3.11.x | ‚úÖ |         Windows | ‚úÖ |     24.8.x | ‚úÖ  |             |   |           2.1.x | ‚úÖ |
|    3.12.x | ‚úÖ |                 |   |     24.9.x | ‚úÖ  |             |   |           3.0.x | ‚úÖ |


¬πClickHouse Connect –±—ã–ª —è–≤–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö. –í –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ —ç—Ç–æ–º—É, –Ω–µ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–∏–Ω–∞—Ä–Ω—ã–µ –∫–æ–ª–µ—Å–∞ (—Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π C) —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –æ—Ç–ª–∏—á–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º [`cibuildwheel`](https://cibuildwheel.readthedocs.io/en/stable/).
–ù–∞–∫–æ–Ω–µ—Ü, –ø–æ—Å–∫–æ–ª—å–∫—É ClickHouse Connect —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —á–∏—Å—Ç—ã–π Python, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –ª—é–±–æ–π –Ω–µ–¥–∞–≤–Ω–µ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ Python.

¬≤–ü–æ–¥–¥–µ—Ä–∂–∫–∞ SQLAlchemy –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–ª–Ω—ã–π API SQLAlchemy –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è.

¬≥ClickHouse Connect –±—ã–ª –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –≤—Å–µ—Ö —Ç–µ–∫—É—â–∏—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –≤–µ—Ä—Å–∏—è—Ö ClickHouse. –ü–æ—Å–∫–æ–ª—å–∫—É –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª HTTP, –æ–Ω —Ç–∞–∫–∂–µ –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –¥—Ä—É–≥–∏—Ö –≤–µ—Ä—Å–∏–π ClickHouse, —Ö–æ—Ç—è –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —Å–ª–æ–∂–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.
### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ {#installation}

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ClickHouse Connect –∏–∑ PyPI —Å –ø–æ–º–æ—â—å—é pip:

`pip install clickhouse-connect`

ClickHouse Connect —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤:
* `git clone` —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π [GitHub](https://github.com/ClickHouse/clickhouse-connect).
* (–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `pip install cython`, —á—Ç–æ–±—ã –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∏ –≤–∫–ª—é—á–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ C/Cython.
* –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `pip install .`
### –ü–æ–ª–∏—Ç–∏–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ {#support-policy}

ClickHouse Connect –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –±–µ—Ç–∞-–≤–µ—Ä—Å–∏–∏, –∏ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π –±–µ—Ç–∞-—Ä–µ–ª–∏–∑ –∞–∫—Ç–∏–≤–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ—Å—å –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏ –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ —Å–æ–æ–±—â–∞—Ç—å –æ –ª—é–±—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö. –ü—Ä–æ–±–ª–µ–º—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ [–ø—Ä–æ–µ–∫—Ç–µ GitHub](https://github.com/ClickHouse/clickhouse-connect/issues). –ë—É–¥—É—â–∏–µ —Ä–µ–ª–∏–∑—ã ClickHouse Connect –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –±—É–¥—É—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å –∞–∫—Ç–∏–≤–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ ClickHouse –Ω–∞ –º–æ–º–µ–Ω—Ç —Ä–µ–ª–∏–∑–∞ (–∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —Ç—Ä–∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –∏ –¥–≤–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö LTS-—Ä–µ–ª–∏–∑–∞).
### –û—Å–Ω–æ–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ {#basic-usage}
### –°–æ–±–µ—Ä–∏—Ç–µ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è {#gather-your-connection-details}

<ConnectionDetails />
#### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ {#establish-a-connection}

–ü—Ä–∏–≤–µ–¥–µ–Ω—ã –¥–≤–∞ –ø—Ä–∏–º–µ—Ä–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ ClickHouse:
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É ClickHouse –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö–æ—Å—Ç–µ.
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–ª—É–∂–±–µ ClickHouse Cloud.
##### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∏–µ–Ω—Ç–∞ ClickHouse Connect –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É ClickHouse –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö–æ—Å—Ç–µ: {#use-a-clickhouse-connect-client-instance-to-connect-to-a-clickhouse-server-on-localhost}


```python
import clickhouse_connect

client = clickhouse_connect.get_client(host='localhost', username='default', password='password')
```
##### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∏–µ–Ω—Ç–∞ ClickHouse Connect –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–ª—É–∂–±–µ ClickHouse Cloud: {#use-a-clickhouse-connect-client-instance-to-connect-to-a-clickhouse-cloud-service}

:::tip
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ä–∞–Ω–µ–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –°–ª—É–∂–±—ã ClickHouse Cloud —Ç—Ä–µ–±—É—é—Ç TLS, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Ä—Ç 8443.
:::


```python
import clickhouse_connect

client = clickhouse_connect.get_client(host='HOSTNAME.clickhouse.cloud', port=8443, username='default', password='–≤–∞—à –ø–∞—Ä–æ–ª—å')
```
#### –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–π—Ç–µ —Å –≤–∞—à–µ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö {#interact-with-your-database}

–ß—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É SQL ClickHouse, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞ `command`:

```python
client.command('CREATE TABLE new_table (key UInt32, value String, metric Float64) ENGINE MergeTree ORDER BY key')
```

–ß—Ç–æ–±—ã –≤—Å—Ç–∞–≤–∏—Ç—å –ø–∞–∫–µ—Ç –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞ `insert` —Å –¥–≤—É–º–µ—Ä–Ω—ã–º –º–∞—Å—Å–∏–≤–æ–º —Å—Ç—Ä–æ–∫ –∏ –∑–Ω–∞—á–µ–Ω–∏–π:

```python
row1 = [1000, '–°—Ç—Ä–æ–∫–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 1000', 5.233]
row2 = [2000, '–°—Ç—Ä–æ–∫–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 2000', -107.04]
data = [row1, row2]
client.insert('new_table', data, column_names=['key', 'value', 'metric'])
```

–ß—Ç–æ–±—ã –∏–∑–≤–ª–µ—á—å –¥–∞–Ω–Ω—ã–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SQL ClickHouse, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞ `query`:

```python
result = client.query('SELECT max(key), avg(metric) FROM new_table')
result.result_rows
Out[13]: [(2000, -50.9035)]
```
## API –¥—Ä–∞–π–≤–µ—Ä–∞ ClickHouse Connect {#clickhouse-connect-driver-api}

***–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:*** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –º–µ—Ç–æ–¥–æ–≤ API —Å —É—á–µ—Ç–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —è–≤–ª—è—é—Ç—Å—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏.

*–ú–µ—Ç–æ–¥—ã, –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–¥–µ—Å—å, –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è —á–∞—Å—Ç—å—é API –∏ –º–æ–≥—É—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω—ã –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã.*
### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ {#client-initialization}

–ö–ª–∞—Å—Å `clickhouse_connect.driver.client` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ–∂–¥—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –Ω–∞ Python –∏ —Å–µ—Ä–≤–µ—Ä–æ–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ClickHouse. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `clickhouse_connect.get_client`, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä Client, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:
#### –ê—Ä–≥—É–º–µ–Ω—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è {#connection-arguments}

| –ü–∞—Ä–∞–º–µ—Ç—Ä             | –¢–∏–ø        | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é       | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                                                                                                                            |
|-----------------------|-------------|-------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| interface             | str         | http                          | –î–æ–ª–∂–µ–Ω –±—ã—Ç—å http –∏–ª–∏ https.                                                                                                                                                                                                                                 |
| host                  | str         | localhost                     | –ò–º—è —Ö–æ—Å—Ç–∞ –∏–ª–∏ IP-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ ClickHouse. –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ `localhost`.                                                                                                                                                            |
| port                  | int         | 8123 –∏–ª–∏ 8443                  | –ü–æ—Ä—Ç ClickHouse –¥–ª—è HTTP –∏–ª–∏ HTTPS. –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 8123 –∏–ª–∏ 8443, –µ—Å–ª–∏ *secure*=*True* –∏–ª–∏ *interface*=*https*.                                                                                                                              |
| username              | str         | default                       | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ClickHouse. –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ClickHouse –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `default`.                                                                                                                                                                      |
| password              | str         | *&lt;–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞&gt;*        | –ü–∞—Ä–æ–ª—å –¥–ª—è *username*.                                                                                                                                                                                                                           |
| database              | str         | *None*                        | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, ClickHouse Connect –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è *username*.                                                                                                                                  |
| secure                | bool        | False                         | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å https/TLS. –≠—Ç–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤—ã–≤–æ–¥–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏–ª–∏ –ø–æ—Ä—Ç–∞.                                                                                                                                                                   |
| dsn                   | str         | *None*                        | –°—Ç—Ä–æ–∫–∞ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ DSN (Data Source Name). –î—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (—Ç–∞–∫–∏–µ –∫–∞–∫ —Ö–æ—Å—Ç –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å) –±—É–¥—É—Ç –∏–∑–≤–ª–µ—á–µ–Ω—ã –∏–∑ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏, –µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏–Ω—ã–º –æ–±—Ä–∞–∑–æ–º.                                                                                           |
| compress              | bool –∏–ª–∏ str | True                          | –í–∫–ª—é—á–∏—Ç—å —Å–∂–∞—Ç–∏–µ –¥–ª—è –≤—Å—Ç–∞–≤–æ–∫ HTTP ClickHouse –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤. –°–º. [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–°–∂–∞—Ç–∏–µ)](#compression)                                                                                                                                 |
| query_limit           | int         | 0 (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)                 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –¥–ª—è –ª—é–±–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ `query`. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω—ã–º –Ω—É–ª—é, —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –±–æ–ª—å—à–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –º–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏, –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø–æ—Ç–æ–∫–æ–º, —Ç–∞–∫ –∫–∞–∫ –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –ø–∞–º—è—Ç—å —Å—Ä–∞–∑—É. |
| query_retries         | int         | 2                             | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ `query`. –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –±—É–¥—É—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è "–ø–æ–≤—Ç–æ—Ä—è–µ–º—ã—Ö" HTTP-–æ—Ç–≤–µ—Ç–æ–≤. –ó–∞–ø—Ä–æ—Å—ã `command` –∏–ª–∏ `insert` –Ω–µ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è –¥—Ä–∞–π–≤–µ—Ä–æ–º, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –Ω–µ–ø—Ä–µ–¥–Ω–∞–º–µ—Ä–µ–Ω–Ω—ã—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤.                                 |
| connect_timeout       | int         | 10                            | –¢–∞–π–º-–∞—É—Ç HTTP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö.                                                                                                                                                                                                                    |
| send_receive_timeout  | int         | 300                           | –¢–∞–π–º-–∞—É—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏/–ø–æ–ª—É—á–µ–Ω–∏—è –¥–ª—è HTTP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö.                                                                                                                                                                                               |
| client_name           | str         | *None*                        | client_name, –¥–æ–±–∞–≤–ª—è–µ–º—ã–π –∫ –∑–∞–≥–æ–ª–æ–≤–∫—É HTTP User Agent. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —ç—Ç–æ, —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º –∂—É—Ä–Ω–∞–ª–µ ClickHouse.                                                                                                                              |
| pool_mgr              | obj         | *&lt;–º–µ–Ω–µ–¥–∂–µ—Ä –ø—É–ª–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é&gt;* | –ú–µ–Ω–µ–¥–∂–µ—Ä –ø—É–ª–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `urllib3`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è. –î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, —Ç—Ä–µ–±—É—é—â–∏—Ö –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—É–ª–æ–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤.                                                                                                                             |
| http_proxy            | str         | *None*                        | –ê–¥—Ä–µ—Å HTTP –ø—Ä–æ–∫—Å–∏ (—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è HTTP_PROXY).                                                                                                                                                                        |
| https_proxy           | str         | *None*                        | –ê–¥—Ä–µ—Å HTTPS –ø—Ä–æ–∫—Å–∏ (—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è HTTPS_PROXY).                                                                                                                                                                      |
| apply_server_timezone | bool        | True                          | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å —É—á–µ—Ç–æ–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞. –°–º. [–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤](#time-zones)                                                                                                                                                          |
#### –ê—Ä–≥—É–º–µ–Ω—Ç—ã HTTPS/TLS {#httpstls-arguments}

| –ü–∞—Ä–∞–º–µ—Ç—Ä        | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                                                                                                                                                       |
|------------------|------|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| verify           | bool | True    | –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç TLS/SSL —Å–µ—Ä–≤–µ—Ä–∞ ClickHouse (–∏–º—è —Ö–æ—Å—Ç–∞, –∏—Å—Ç–µ—á–µ–Ω–∏–µ –∏ —Ç. –¥.), –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTPS/TLS.                                                                                                                                                                               |
| ca_cert          | str  | *None*  | –ï—Å–ª–∏ *verify*=*True*, –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –£–¥–æ—Å—Ç–æ–≤–µ—Ä—è—é—â–µ–≥–æ –¶–µ–Ω—Ç—Ä–∞ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞ ClickHouse –≤ —Ñ–æ—Ä–º–∞—Ç–µ .pem. –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ verify —Ä–∞–≤–Ω–æ False. –≠—Ç–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –µ—Å–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å–µ—Ä–≤–µ—Ä–∞ ClickHouse —è–≤–ª—è–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º –∫–æ—Ä–Ω–µ–º, –∫–∞–∫ —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π. |
| client_cert      | str  | *None*  | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ TLS –≤ —Ñ–æ—Ä–º–∞—Ç–µ .pem (–¥–ª—è –≤–∑–∞–∏–º–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ TLS). –§–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–ª–Ω—É—é —Ü–µ–ø–æ—á–∫—É —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤, –≤–∫–ª—é—á–∞—è –ª—é–±—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã.                                                                                                  |
| client_cert_key  | str  | *None*  | –ü—É—Ç—å –∫ –∑–∞–∫—Ä—ã—Ç–æ–º—É –∫–ª—é—á—É –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞. –¢—Ä–µ–±—É–µ—Ç—Å—è, –µ—Å–ª–∏ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–ª—é—á –Ω–µ –≤–∫–ª—é—á–µ–Ω –≤ —Ñ–∞–π–ª –∫–ª—é—á–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞.                                                                                                                                             |
| server_host_name | str  | *None*  | –ò–º—è —Ö–æ—Å—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞ ClickHouse, –æ–ø—Ä–µ–¥–µ–ª—è–µ–º–æ–µ CN –∏–ª–∏ SNI –µ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ TLS. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —ç—Ç–æ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫ SSL –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ –∏–ª–∏ —Ç—É–Ω–Ω–µ–ª—å —Å –¥—Ä—É–≥–∏–º –∏–º–µ–Ω–µ–º —Ö–æ—Å—Ç–∞                                                                                           |
| tls_mode         | str  | *None*  | –£–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º TLS. `proxy` –∏ `strict` –Ω–µ –∏–Ω–∏—Ü–∏–∏—Ä—É—é—Ç –≤–∑–∞–∏–º–Ω–æ–µ TLS-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ClickHouse, –Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∏ –∫–ª—é—á. `mutual` –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –≤–∑–∞–∏–º–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É –∫–ª–∏–µ–Ω—Ç–∞. –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é/None —è–≤–ª—è–µ—Ç—Å—è `mutual`                               |
#### –ê—Ä–≥—É–º–µ–Ω—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ {#settings-argument}

–ù–∞–∫–æ–Ω–µ—Ü, –∞—Ä–≥—É–º–µ–Ω—Ç `settings` –¥–ª—è `get_client` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ ClickHouse —Å–µ—Ä–≤–µ—Ä—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –¥–æ—Å—Ç—É–ø–æ–º *readonly*=*1* –Ω–µ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å –∑–∞–ø—Ä–æ—Å–æ–º, –ø–æ—ç—Ç–æ–º—É ClickHouse Connect —É–¥–∞–ª–∏—Ç —Ç–∞–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∑–∞–ø—Ä–æ—Å–µ –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ. –°–ª–µ–¥—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ HTTP-–∑–∞–ø—Ä–æ—Å–∞–º/—Å–µ—Å—Å–∏—è–º, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º ClickHouse Connect, –∏ –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ClickHouse.

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞           | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                                      |
|-------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| buffer_size       | –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ (–≤ –±–∞–π—Ç–∞—Ö), –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Å–µ—Ä–≤–µ—Ä–æ–º ClickHouse –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é –≤ HTTP-–∫–∞–Ω–∞–ª.                                                                             |
| session_id        | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏ –¥–ª—è –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –ù–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü.                                                                   |
| compress          | –£–∫–∞–∑—ã–≤–∞–µ—Ç, –¥–æ–ª–∂–µ–Ω –ª–∏ —Å–µ—Ä–≤–µ—Ä ClickHouse —Å–∂–∏–º–∞—Ç—å –¥–∞–Ω–Ω—ã–µ POST-–æ—Ç–≤–µ—Ç–∞. –≠—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–ª–∂–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è "—Å—ã—Ä—ã—Ö" –∑–∞–ø—Ä–æ—Å–æ–≤.                                        |
| decompress        | –£–∫–∞–∑—ã–≤–∞–µ—Ç, –¥–æ–ª–∂–Ω—ã –ª–∏ –¥–∞–Ω–Ω—ã–µ, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä ClickHouse, –±—ã—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω—ã. –≠—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–ª–∂–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è "—Å—ã—Ä—ã—Ö" –≤—Å—Ç–∞–≤–æ–∫.                                          |
| quota_key         | –ö–ª—é—á –∫–≤–æ—Ç—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å —ç—Ç–∏–º –∑–∞–ø—Ä–æ—Å–æ–º. –°–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Å–µ—Ä–≤–µ—Ä–∞ ClickHouse –ø–æ –∫–≤–æ—Ç–∞–º.                                                                  |
| session_check     | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Å—Å–∏–∏.                                                                                                                                |
| session_timeout   | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—É–Ω–¥ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º —Å–µ—Å—Å–∏–∏ –±—É–¥–µ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è, –∏ –æ–Ω –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º. –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî 60 —Å–µ–∫—É–Ω–¥.                  |
| wait_end_of_query | –ë—É—Ñ–µ—Ä–∏–∑—É–µ—Ç –≤–µ—Å—å –æ—Ç–≤–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ClickHouse. –≠—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å–≤–æ–¥–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –¥–ª—è –Ω–µ—Å—Ç—Ä–∏–º–∏–Ω–≥–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. |

–î–ª—è –¥—Ä—É–≥–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ ClickHouse, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —Å –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º,
—Å–º. [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é ClickHouse](/operations/settings/settings.md).
#### –ü—Ä–∏–º–µ—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ {#client-creation-examples}

- –ë–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–ª–∏–µ–Ω—Ç ClickHouse Connect –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ –ø–æ—Ä—Ç—É HTTP –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ `localhost` —Å
  –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –±–µ–∑ –ø–∞—Ä–æ–ª—è:

```python
import clickhouse_connect

client = clickhouse_connect.get_client()
client.server_version
Out[2]: '22.10.1.98'
```

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º—É (https) –≤–Ω–µ—à–Ω–µ–º—É —Å–µ—Ä–≤–µ—Ä—É ClickHouse:

```python
import clickhouse_connect

client = clickhouse_connect.get_client(host='play.clickhouse.com', secure=True, port=443, user='play', password='clickhouse')
client.command('SELECT timezone()')
Out[2]: 'Etc/UTC'
```

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º —Å–µ—Å—Å–∏–∏ –∏ –¥—Ä—É–≥–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ ClickHouse.

```python
import clickhouse_connect

client = clickhouse_connect.get_client(host='play.clickhouse.com',
                                       user='play',
                                       password='clickhouse',
                                       port=443,
                                       session_id='example_session_1',
                                       connect_timeout=15,
                                       database='github',
                                       settings={'distributed_ddl_task_timeout':300})
client.database
Out[2]: 'github'
```
### –û–±—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –º–µ—Ç–æ–¥–æ–≤ {#common-method-arguments}

–ù–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∏–ª–∏ –æ–±–∞ –æ–±—â–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–∞ `parameters` –∏ `settings`. –≠—Ç–∏ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ
–∞—Ä–≥—É–º–µ–Ω—Ç—ã –æ–ø–∏—Å–∞–Ω—ã –Ω–∏–∂–µ.
#### –ê—Ä–≥—É–º–µ–Ω—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ {#parameters-argument}

–ú–µ—Ç–æ–¥—ã ClickHouse Connect Client `query*` –∏ `command` –ø—Ä–∏–Ω–∏–º–∞—é—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç `parameters`, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –≤—ã—Ä–∞–∂–µ–Ω–∏–π Python —Å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏—è ClickHouse. –î–æ—Å—Ç—É–ø–Ω—ã –¥–≤–∞ —Ç–∏–ø–∞ —Å–≤—è–∑—ã–≤–∞–Ω–∏—è.
##### –°–≤—è–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ {#server-side-binding}

ClickHouse –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç [—Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞](/interfaces/cli.md#cli-queries-with-parameters)
–¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–Ω–∞—á–µ–Ω–∏–π –∑–∞–ø—Ä–æ—Å–æ–≤, –≥–¥–µ —Å–≤—è–∑–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –∑–∞–ø—Ä–æ—Å–∞ –∫–∞–∫ HTTP-–ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–ø—Ä–æ—Å–∞. ClickHouse Connect –¥–æ–±–∞–≤–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞, –µ—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –≤ —Ñ–æ—Ä–º–µ 
`{&lt;name&gt;:&lt;datatype&gt;}`. –î–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ –∞—Ä–≥—É–º–µ–Ω—Ç `parameters` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ª–æ–≤–∞—Ä–µ–º Python.

- –°–≤—è–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ —Å –ø–æ–º–æ—â—å—é —Å–ª–æ–≤–∞—Ä—è Python, –∑–Ω–∞—á–µ–Ω–∏–µ DateTime –∏ —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:

```python
import datetime

my_date = datetime.datetime(2022, 10, 1, 15, 20, 5)

parameters = {'table': 'my_table', 'v1': my_date, 'v2': "—Å—Ç—Ä–æ–∫–∞ —Å –æ–¥–∏–Ω–∞—Ä–Ω–æ–π –∫–∞–≤—ã—á–∫–æ–π'"}
client.query('SELECT * FROM {table:Identifier} WHERE date >= {v1:DateTime} AND string ILIKE {v2:String}', parameters=parameters)


# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

# SELECT * FROM my_table WHERE date >= '2022-10-01 15:20:05' AND string ILIKE '—Å—Ç—Ä–æ–∫–∞ —Å –æ–¥–∏–Ω–æ—á–Ω–æ–π –∫–∞–≤—ã—á–∫–æ–π\''
```

**–í–ê–ñ–ù–û** ‚Äî –°–≤—è–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è (—Å–µ—Ä–≤–µ—Ä–æ–º ClickHouse) —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ `SELECT`. –û–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è
`ALTER`, `DELETE`, `INSERT` –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤. –≠—Ç–æ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –≤ –±—É–¥—É—â–µ–º, —Å–º. https://github.com/ClickHouse/ClickHouse/issues/42092.
##### –°–≤—è–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ {#client-side-binding}

ClickHouse Connect —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞, —á—Ç–æ –º–æ–∂–µ—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å –±–æ–ª–µ–µ –≥–∏–±–∫–æ—Å—Ç—å –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤. –î–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –∞—Ä–≥—É–º–µ–Ω—Ç `parameters` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ª–æ–≤–∞—Ä–µ–º –∏–ª–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é. –°–≤—è–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç
—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫ Python –≤ —Å—Ç–∏–ª–µ ["printf"](https://docs.python.org/3/library/stdtypes.html#old-string-formatting) –¥–ª—è –∑–∞–º–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞, —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–±–ª–∏—Ü—ã –∏–ª–∏ —Å—Ç–æ–ª–±—Ü–∞, –ø–æ—Å–∫–æ–ª—å–∫—É —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫ Python –Ω–µ –º–æ–∂–µ—Ç —Ä–∞–∑–ª–∏—á–∏—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Å—Ç—Ä–æ–∫, –∏ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É (–æ–±—Ä–∞—Ç–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –∏–ª–∏ –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö, –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π –¥–∞–Ω–Ω—ã—Ö).

- –ü—Ä–∏–º–µ—Ä —Å–æ —Å–ª–æ–≤–∞—Ä–µ–º Python, –∑–Ω–∞—á–µ–Ω–∏–µ–º DateTime –∏ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å—Ç—Ä–æ–∫:

```python
import datetime

my_date = datetime.datetime(2022, 10, 1, 15, 20, 5)

parameters = {'v1': my_date, 'v2': "—Å—Ç—Ä–æ–∫–∞ —Å –æ–¥–∏–Ω–∞—Ä–Ω–æ–π –∫–∞–≤—ã—á–∫–æ–π'"}
client.query('SELECT * FROM some_table WHERE date >= %(v1)s AND string ILIKE %(v2)s', parameters=parameters)


# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å:

# SELECT * FROM some_table WHERE date >= '2022-10-01 15:20:05' AND string ILIKE '—Å—Ç—Ä–æ–∫–∞ —Å –æ–¥–∏–Ω–∞—Ä–Ω–æ–π –∫–∞–≤—ã—á–∫–æ–π\''
```

- –ü—Ä–∏–º–µ—Ä —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é Python (–∫–æ—Ä—Ç–µ–∂), Float64 –∏ IPv4Address:

```python
import ipaddress

parameters = (35200.44, ipaddress.IPv4Address(0x443d04fe))
client.query('SELECT * FROM some_table WHERE metric >= %s AND ip_address = %s', parameters=parameters)


# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å:

# SELECT * FROM some_table WHERE metric >= 35200.44 AND ip_address = '68.61.4.254''
```

:::note
–ß—Ç–æ–±—ã —Å–≤—è–∑–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã DateTime64 (—Ç–∏–ø—ã ClickHouse —Å —Å—É–±—Å–µ–∫—É–Ω–¥–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é), —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–¥—Ö–æ–¥–æ–≤:
- –û–±–µ—Ä–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `datetime.datetime` Python –≤ –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å DT64Param, –Ω–∞–ø—Ä–∏–º–µ—Ä,
  ```python
    query = 'SELECT {p1:DateTime64(3)}'  # —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ —Å–æ —Å–ª–æ–≤–∞—Ä–µ–º
    parameters={'p1': DT64Param(dt_value)}
  
    query = 'SELECT %s as string, toDateTime64(%s,6) as dateTime' # —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º 
    parameters=['—Å—Ç—Ä–æ–∫–∞', DT64Param(datetime.now())]
  ```
  - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–æ–≤–∞—Ä—å –∑–Ω–∞—á–µ–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –¥–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É `_64` –∫ –∏–º–µ–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
  ```python
    query = 'SELECT {p1:DateTime64(3)}, {a1:Array(DateTime(3))}'  # —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ —Å–æ —Å–ª–æ–≤–∞—Ä–µ–º
  
    parameters={'p1_64': dt_value, 'a1_64': [dt_value1, dt_value2]}
  ```
:::
#### –ê—Ä–≥—É–º–µ–Ω—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ {#settings-argument-1}

–í—Å–µ –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã "insert" –∏ "select" –∫–ª–∏–µ–Ω—Ç–∞ ClickHouse Connect –ø—Ä–∏–Ω–∏–º–∞—é—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç `settings` –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ [–Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ClickHouse](/operations/settings/settings.md) –¥–ª—è –≤–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ SQL-–∑–∞–ø—Ä–æ—Å–∞. –ê—Ä–≥—É–º–µ–Ω—Ç `settings` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ª–æ–≤–∞—Ä–µ–º. –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–º–µ–Ω–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ClickHouse –∏ –µ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è –±—É–¥—É—Ç
–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å—Å—è –≤ —Å—Ç—Ä–æ–∫–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞.

–ö–∞–∫ –∏ –≤ —Å–ª—É—á–∞–µ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞, ClickHouse Connect —É–¥–∞–ª–∏—Ç –ª—é–±—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–µ—Ä–≤–µ—Ä –ø–æ–º–µ—á–∞–µ—Ç –∫–∞–∫ *readonly*=*1*, —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –≤ –∂—É—Ä–Ω–∞–ª–µ. –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –∑–∞–ø—Ä–æ—Å–∞–º —á–µ—Ä–µ–∑ HTTP-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ClickHouse, –≤—Å–µ–≥–¥–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã. –≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–ø–∏—Å–∞–Ω—ã –≤ [API](#settings-argument) –º–µ—Ç–æ–¥–∞ `get_client`.

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ ClickHouse:

```python
settings = {'merge_tree_min_rows_for_concurrent_read': 65535,
            'session_id': 'session_1234',
            'use_skip_indexes': False}
client.query("SELECT event_type, sum(timeout) FROM event_errors WHERE event_time > '2022-08-01'", settings=settings)
```
### –ú–µ—Ç–æ–¥ _command_ –∫–ª–∏–µ–Ω—Ç–∞ {#client-_command_-method}

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `Client.command` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä ClickHouse, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–µ –∏–ª–∏ –º–∞—Å—Å–∏–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –∞ –Ω–µ –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

| –ü–∞—Ä–∞–º–µ—Ç—Ä     | –¢–∏–ø             | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                                   |
|---------------|------------------|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| cmd           | str              | *–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π* | SQL-–æ–ø–µ—Ä–∞—Ç–æ—Ä ClickHouse, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É –∑–Ω–∞—á–µ–Ω–∏–π.                                                                             |                                                                                                                                                                                                                                                                              |
| parameters    | dict or iterable | *None*     | –°–º. [–æ–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤](#parameters-argument).                                                                                                           |
| data          | str or bytes     | *None*     | –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è —Å –∫–æ–º–∞–Ω–¥–æ–π –≤ —Ç–µ–ª–µ POST-–∑–∞–ø—Ä–æ—Å–∞.                                                                                                   |
| settings      | dict             | *None*     | –°–º. [–æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫](#settings-argument).                                                                                                               |
| use_database  | bool             | True       | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞ (—É–∫–∞–∑–∞–Ω–Ω—É—é –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞). –õ–æ–∂—å –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–µ—Ä–≤–µ—Ä–∞ ClickHouse –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. |
| external_data | ExternalData     | *None*     | –û–±—ä–µ–∫—Ç ExternalData, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ñ–∞–π–ª –∏–ª–∏ –¥–≤–æ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å –∑–∞–ø—Ä–æ—Å–æ–º. –°–º. [–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–≤–Ω–µ—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ)](#external-data)                          |

- _command_ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è DDL-–æ–ø–µ—Ä–∞—Ü–∏–π. –ï—Å–ª–∏ SQL "–∫–æ–º–∞–Ω–¥–∞" –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —Å–ª–æ–≤–∞—Ä—å "—Ä–µ–∑—é–º–µ –∑–∞–ø—Ä–æ—Å–∞".
–≠—Ç–æ—Ç —Å–ª–æ–≤–∞—Ä—å –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ ClickHouse X-ClickHouse-Summary –∏ X-ClickHouse-Query-Id, –≤–∫–ª—é—á–∞—è –ø–∞—Ä—ã –∫–ª—é—á/–∑–Ω–∞—á–µ–Ω–∏–µ `written_rows`,`written_bytes` –∏ `query_id`.

```python
client.command('CREATE TABLE test_command (col_1 String, col_2 DateTime) Engine MergeTree ORDER BY tuple()')
client.command('SHOW CREATE TABLE test_command')
Out[6]: 'CREATE TABLE default.test_command\\n(\\n    `col_1` String,\\n    `col_2` DateTime\\n)\\nENGINE = MergeTree\\nORDER BY tuple()\\nSETTINGS index_granularity = 8192'
```

- _command_ —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É:

```python
result = client.command('SELECT count() FROM system.tables')
result
Out[7]: 110
```
### –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –º–µ—Ç–æ–¥ _query_ {#client-_query_-method}

–ú–µ—Ç–æ–¥ `Client.query` —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –ø–æ–ª—É—á–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ "–ø–∞–∫–µ—Ç–∞" –¥–∞–Ω–Ω—ã—Ö –∏–∑ ClickHouse Server. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ClickHouse —á–µ—Ä–µ–∑ HTTP –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –±–æ–ª—å—à–∏—Ö –Ω–∞–±–æ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö (–¥–æ –ø—Ä–∏–º–µ—Ä–Ω–æ –º–∏–ª–ª–∏–æ–Ω–∞ —Å—Ç—Ä–æ–∫). –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

| –ü–∞—Ä–∞–º–µ—Ç—Ä           | –¢–∏–ø               | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                                                            |
|---------------------|------------------|--------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| query               | str              | *–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π* | SQL-–∑–∞–ø—Ä–æ—Å SELECT –∏–ª–∏ DESCRIBE –¥–ª—è ClickHouse.                                                                                                                                       |
| parameters          | dict –∏–ª–∏ iterable | *–ù–µ—Ç*        | –°–º. [–æ–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤](#parameters-argument).                                                                                                                                  |
| settings            | dict             | *–ù–µ—Ç*        | –°–º. [–æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫](#settings-argument).                                                                                                                                       |
| query_formats       | dict             | *–ù–µ—Ç*        | –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –°–º. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–ß—Ç–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤)                                                                 |
| column_formats      | dict             | *–ù–µ—Ç*        | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º. –°–º. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–ß—Ç–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤)                                                                                                |
| encoding            | str              | *–ù–µ—Ç*        | –ö–æ–¥–∏—Ä–æ–≤–∫–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ —Ç–∏–ø–∞ String –≤ —Å—Ç—Ä–æ–∫–∏ Python. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `UTF-8`, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ –∏–Ω–æ–µ.                                          |
| use_none            | bool             | True         | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∏–ø Python *None* –¥–ª—è NULL-–∑–Ω–∞—á–µ–Ω–∏–π ClickHouse. –ï—Å–ª–∏ False, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0) –¥–ª—è NULL-–∑–Ω–∞—á–µ–Ω–∏–π ClickHouse. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ ‚Äì –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è NumPy/Pandas –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è False –ø–æ –ø—Ä–∏—á–∏–Ω–∞–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. |
| column_oriented     | bool             | False        | –í–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –≤–∏–¥–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–ª–æ–Ω–æ–∫, –∞ –Ω–µ —Å—Ç—Ä–æ–∫. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö Python –≤ –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –∫–æ–ª–æ–Ω–∫–∏.                     |
| query_tz            | str              | *–ù–µ—Ç*        | –ù–∞–∑–≤–∞–Ω–∏–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö `zoneinfo`. –≠—Ç–æ—Ç —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –∫–æ –≤—Å–µ–º –æ–±—ä–µ–∫—Ç–∞–º datetime –∏–ª–∏ Pandas Timestamp, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º –∑–∞–ø—Ä–æ—Å–æ–º.                          |
| column_tzs          | dict             | *–ù–µ—Ç*        | –°–ª–æ–≤–∞—Ä—å, —Å–≤—è–∑—ã–≤–∞—é—â–∏–π –∏–º–µ–Ω–∞ –∫–æ–ª–æ–Ω–æ–∫ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤. –ü–æ–¥–æ–±–Ω–æ `query_tz`, –Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —á–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫.                                 |
| use_extended_dtypes | bool             | True         | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö Pandas (—Ç–∞–∫–∏–µ –∫–∞–∫ StringArray), –∞ —Ç–∞–∫–∂–µ pandas.NA –∏ pandas.NaT –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π NULL ClickHouse. –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –º–µ—Ç–æ–¥–∞–º `query_df` –∏ `query_df_stream`. |
| external_data       | ExternalData     | *–ù–µ—Ç*        | –û–±—ä–µ–∫—Ç ExternalData, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ñ–∞–π–ª –∏–ª–∏ –¥–≤–æ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≤ –∑–∞–ø—Ä–æ—Å–µ. –°–º. [–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–í–Ω–µ—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ)](#external-data)                            |
| context             | QueryContext     | *–ù–µ—Ç*        | –†–µ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–∏–≤–Ω—ã–π –æ–±—ä–µ–∫—Ç QueryContext, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞. –°–º. [–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (QueryContexts)](#querycontexts)  |

#### –û–±—ä–µ–∫—Ç QueryResult {#the-queryresult-object}

–ë–∞–∑–æ–≤—ã–π –º–µ—Ç–æ–¥ `query` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç QueryResult —Å —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø—É–±–ª–∏—á–Ω—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏:

- `result_rows` -- –ú–∞—Ç—Ä–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –≤ –≤–∏–¥–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–æ–∫, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å—Ç—Ä–æ–∫–∏ —è–≤–ª—è–µ—Ç—Å—è
–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∑–Ω–∞—á–µ–Ω–∏–π –∫–æ–ª–æ–Ω–æ–∫.
- `result_columns` -- –ú–∞—Ç—Ä–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –≤ –≤–∏–¥–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–ª–æ–Ω–æ–∫, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∫–æ–ª–æ–Ω–∫–∏ —è–≤–ª—è–µ—Ç—Å—è
–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∑–Ω–∞—á–µ–Ω–∏–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –¥–∞–Ω–Ω–æ–π –∫–æ–ª–æ–Ω–∫–∏.
- `column_names` -- –ö–æ—Ä—Ç–µ–∂ —Å—Ç—Ä–æ–∫, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –∏–º–µ–Ω–∞ –∫–æ–ª–æ–Ω–æ–∫ –≤ `result_set`.
- `column_types` -- –ö–æ—Ä—Ç–µ–∂ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ ClickHouseType, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö ClickHouse –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–ª–æ–Ω–∫–∏ –≤
`result_columns`.
- `query_id` -- ClickHouse query_id (–ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ `system.query_log`).
- `summary` -- –õ—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º HTTP-–æ—Ç–≤–µ—Ç–∞ `X-ClickHouse-Summary`.
- `first_item` -- –£–¥–æ–±–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–∏ –æ—Ç–≤–µ—Ç–∞ –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è (–∫–ª—é—á–∏ ‚Äì –∏–º–µ–Ω–∞ –∫–æ–ª–æ–Ω–æ–∫).
- `first_row` -- –£–¥–æ–±–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
- `column_block_stream` -- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ –≤ –∫–æ–ª–æ–Ω–∫–æ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ. –≠—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å
  –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ (—Å–º. –Ω–∏–∂–µ).
- `row_block_stream` -- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å—Ç—Ä–æ–∫–æ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ. –≠—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å
  –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ (—Å–º. –Ω–∏–∂–µ).
- `rows_stream` -- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É –∑–∞ –≤—ã–∑–æ–≤. –≠—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å
  –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ (—Å–º. –Ω–∏–∂–µ).
- `summary` -- –ö–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ –º–µ—Ç–æ–¥–µ `command`, —Å–ª–æ–≤–∞—Ä—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–≤–æ–¥–∫–µ, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω–æ–π ClickHouse.

–°–≤–æ–π—Å—Ç–≤–∞ `*_stream` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç Python Context, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∫–∞–∫ –∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –û–Ω–∏ –¥–æ–ª–∂–Ω—ã
–±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∫–æ—Å–≤–µ–Ω–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–æ–≤ Client `*_stream`.

–ü–æ–ª–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –ø–æ—Ç–æ–∫–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–æ–≤ StreamContext) –∏–∑–ª–æ–∂–µ–Ω—ã –≤
[–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–ü–æ—Ç–æ–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã)](#streaming-queries).

### –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ —Å –ø–æ–º–æ—â—å—é NumPy, Pandas –∏–ª–∏ Arrow {#consuming-query-results-with-numpy-pandas-or-arrow}

–°—É—â–µ—Å—Ç–≤—É—é—Ç —Ç—Ä–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ `query`:

- `query_np` -- –≠—Ç–∞ –≤–µ—Ä—Å–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ NumPy –≤–º–µ—Å—Ç–æ QueryResult ClickHouse Connect.
- `query_df` -- –≠—Ç–∞ –≤–µ—Ä—Å–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç DataFrame Pandas –≤–º–µ—Å—Ç–æ QueryResult ClickHouse Connect.
- `query_arrow` -- –≠—Ç–∞ –≤–µ—Ä—Å–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É PyArrow. –û–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç ClickHouse `Arrow` –Ω–∞–ø—Ä—è–º—É—é, –ø–æ—ç—Ç–æ–º—É
  –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç—Ä–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞, –æ–±—â–∏–µ —Å –æ—Å–Ω–æ–≤–Ω—ã–º –º–µ—Ç–æ–¥–æ–º `query`: `query`, `parameters` –∏ `settings`. –í –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, –µ—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç `use_strings`, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –±—É–¥–µ—Ç –ª–∏ —Ç–∞–±–ª–∏—Ü–∞ Arrow –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ç–∏–ø—ã String ClickHouse –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ (–µ—Å–ª–∏ True) –∏–ª–∏ –±–∞–π—Ç—ã (–µ—Å–ª–∏ False).

### –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ {#client-streaming-query-methods}

–ö–ª–∏–µ–Ω—Ç ClickHouse Connect –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –≤–∏–¥–µ –ø–æ—Ç–æ–∫–∞ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞–∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã Python):

- `query_column_block_stream` -- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞ –≤ –±–ª–æ–∫–∞—Ö –≤ –≤–∏–¥–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–ª–æ–Ω–æ–∫, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–∞—Ç–∏–≤–Ω—ã–π –æ–±—ä–µ–∫—Ç Python.
- `query_row_block_stream` -- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞ –∫–∞–∫ –±–ª–æ–∫ —Å—Ç—Ä–æ–∫, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–∞—Ç–∏–≤–Ω—ã–π –æ–±—ä–µ–∫—Ç Python.
- `query_rows_stream` -- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞ –≤ –≤–∏–¥–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–æ–∫, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–∞—Ç–∏–≤–Ω—ã–π –æ–±—ä–µ–∫—Ç Python.
- `query_np_stream` -- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–∂–¥—ã–π –±–ª–æ–∫ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞ ClickHouse –∫–∞–∫ –º–∞—Å—Å–∏–≤ NumPy.
- `query_df_stream` -- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–∂–¥—ã–π –±–ª–æ–∫ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞ ClickHouse –∫–∞–∫ DataFrame Pandas.
- `query_arrow_stream` -- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞ –≤ –±–ª–æ–∫–∞—Ö –∑–∞–ø–∏—Å–µ–π PyArrow.

–ö–∞–∂–¥—ã–π –∏–∑ —ç—Ç–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç `ContextStream`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `with` –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞. –°–º. [–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–ü–æ—Ç–æ–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã)](#streaming-queries) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –∏ –ø—Ä–∏–º–µ—Ä–æ–≤.

### –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –º–µ—Ç–æ–¥ _insert_ {#client-_insert_-method}

–î–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ —Å–ª—É—á–∞—è –≤—Å—Ç–∞–≤–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–ø–∏—Å–µ–π –≤ ClickHouse —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –º–µ—Ç–æ–¥ `Client.insert`. –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

| –ü–∞—Ä–∞–º–µ—Ç—Ä         | –¢–∏–ø                                      | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                                                                   |
|-------------------|-----------------------------------------|--------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| table             | str                                     | *–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π* | –¢–∞–±–ª–∏—Ü–∞ ClickHouse, –≤ –∫–æ—Ç–æ—Ä—É—é –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤—Å—Ç–∞–≤–∫–∞. –î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ–µ –∏–º—è —Ç–∞–±–ª–∏—Ü—ã (–≤–∫–ª—é—á–∞—è –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö).                                                                                   |
| data              | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π   | *–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π* | –ú–∞—Ç—Ä–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏, –ª–∏–±–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∫, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∑–Ω–∞—á–µ–Ω–∏–π –∫–æ–ª–æ–Ω–æ–∫, –ª–∏–±–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–ª–æ–Ω–æ–∫, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∑–Ω–∞—á–µ–Ω–∏–π —Å—Ç—Ä–æ–∫. |
| column_names      | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å str, –∏–ª–∏ str        | '*'          | –°–ø–∏—Å–æ–∫ –∏–º–µ–Ω –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è –º–∞—Ç—Ä–∏—Ü—ã –¥–∞–Ω–Ω—ã—Ö. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è '*', ClickHouse Connect –≤—ã–ø–æ–ª–Ω–∏—Ç "–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å" –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤—Å–µ—Ö –∏–º–µ–Ω –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã.                               |
| database          | str                                     | ''           | –¶–µ–ª–µ–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–∞, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞.                                                                                                 |
| column_types      | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å ClickHouseType      | *–ù–µ—Ç*        | –°–ø–∏—Å–æ–∫ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ ClickHouseType. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω—ã –Ω–∏ column_types, –Ω–∏ column_type_names, ClickHouse Connect –≤—ã–ø–æ–ª–Ω–∏—Ç "–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å" –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã. |
| column_type_names | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω —Ç–∏–ø–æ–≤ ClickHouse| *–ù–µ—Ç*        | –°–ø–∏—Å–æ–∫ –∏–º–µ–Ω —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö ClickHouse. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω—ã –Ω–∏ column_types, –Ω–∏ column_type_names, ClickHouse Connect –≤—ã–ø–æ–ª–Ω–∏—Ç "–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å" –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã. |
| column_oriented   | bool                                    | False        | –ï—Å–ª–∏ True, –∞—Ä–≥—É–º–µ–Ω—Ç `data` –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –∫–∞–∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–ª–æ–Ω–æ–∫ (–≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ `data` –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∫).                                          |
| settings          | dict                                    | *–ù–µ—Ç*        | –°–º. [–æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫](#settings-argument).                                                                                                                                               |
| insert_context    | InsertContext                           | *–ù–µ—Ç*        | –ü–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç InsertContext, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞. –°–º. [–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏ (InsertContexts)](#insertcontexts).  |

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å "—Ä–µ–∑—é–º–µ –∑–∞–ø—Ä–æ—Å–∞", –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ –º–µ—Ç–æ–¥–µ "command". –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–æ, –µ—Å–ª–∏ –≤—Å—Ç–∞–≤–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å –ø–æ –∫–∞–∫–æ–π-–ª–∏–±–æ –ø—Ä–∏—á–∏–Ω–µ.

–°—É—â–µ—Å—Ç–≤—É—é—Ç –¥–≤–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ `insert`:

- `insert_df` -- –í–º–µ—Å—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Python –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–µ `data`, –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Ç—Ä–µ–±—É–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç `df`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º DataFrame Pandas. ClickHouse Connect –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç DataFrame –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ –∫–æ–ª–æ–Ω–∫–∏, –ø–æ—ç—Ç–æ–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä `column_oriented` –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.
- `insert_arrow` -- –í–º–µ—Å—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Python –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–µ `data`, —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ —Ç—Ä–µ–±—É–µ—Ç `arrow_table`. ClickHouse Connect –ø–µ—Ä–µ–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É Arrow –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä ClickHouse –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏, —Ç–∞–∫ —á—Ç–æ —Ç–æ–ª—å–∫–æ –∞—Ä–≥—É–º–µ–Ω—Ç—ã `database` –∏ `settings` –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ `table` –∏ `arrow_table`.

*–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:* –ú–∞—Å—Å–∏–≤ NumPy —è–≤–ª—è–µ—Ç—Å—è –¥–æ–ø—É—Å—Ç–∏–º–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π –∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç `data` –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ `insert`, –ø–æ—ç—Ç–æ–º—É —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

### –í—Å—Ç–∞–≤–∫–∞ –∏–∑ —Ñ–∞–π–ª–∞ {#file-inserts}

–ú–æ–¥—É–ª—å `clickhouse_connect.driver.tools` –≤–∫–ª—é—á–∞–µ—Ç –º–µ—Ç–æ–¥ `insert_file`, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –≤—Å—Ç–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É ClickHouse. –ü–∞—Ä—Å–∏–Ω–≥ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç—Å—è —Å–µ—Ä–≤–µ—Ä—É ClickHouse. –ú–µ—Ç–æ–¥ `insert_file` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

| –ü–∞—Ä–∞–º–µ—Ç—Ä    | –¢–∏–ø             | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é      | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                 |
|--------------|-----------------|-------------------|-----------------------------------------------------------------------------------------------------------------------------|
| client       | Client          | *–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π*    | –≠–∫–∑–µ–º–ø–ª—è—Ä `driver.Client`, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å—Ç–∞–≤–∫–∏.                                                              |
| table        | str             | *–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π*    | –¢–∞–±–ª–∏—Ü–∞ ClickHouse, –≤ –∫–æ—Ç–æ—Ä—É—é –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤—Å—Ç–∞–≤–∫–∞. –î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ–µ –∏–º—è —Ç–∞–±–ª–∏—Ü—ã (–≤–∫–ª—é—á–∞—è –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö).                 |
| file_path    | str             | *–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π*    | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –¥–∞–Ω–Ω—ã—Ö –≤ –Ω–∞—Ç–∏–≤–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ                                                                              |
| fmt          | str             | CSV, CSVWithNames | –§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞ ClickHouse –¥–ª—è —Ñ–∞–π–ª–∞. –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è CSVWithNames, –µ—Å–ª–∏ `column_names` –Ω–µ —É–∫–∞–∑–∞–Ω.                             |
| column_names | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å str | *–ù–µ—Ç*        | –°–ø–∏—Å–æ–∫ –∏–º–µ–Ω –∫–æ–ª–æ–Ω–æ–∫ –≤ —Ñ–∞–π–ª–µ –¥–∞–Ω–Ω—ã—Ö. –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–æ–≤, –≤–∫–ª—é—á–∞—é—â–∏—Ö –∏–º–µ–Ω–∞ –∫–æ–ª–æ–Ω–æ–∫.                                     |
| database     | str             | *–ù–µ—Ç*             | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü—ã. –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–∞, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞. |
| settings     | dict            | *–ù–µ—Ç*             | –°–º. [–æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫](#settings-argument).                                                                               |
| compression  | str             | *–ù–µ—Ç*             | –ü—Ä–∏–Ω—è—Ç—ã–π —Ç–∏–ø —Å–∂–∞—Ç–∏—è ClickHouse (zstd, lz4, gzip), –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ Content-Encoding HTTP.                        |

–î–ª—è —Ñ–∞–π–ª–æ–≤ —Å –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –¥–∞—Ç—ã/–≤—Ä–µ–º–µ–Ω–∏ –≤ –Ω–µ–æ–±—ã—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ø—Ä–∏–º–µ–Ω–∏–º—ã–µ –∫ –∏–º–ø–æ—Ä—Ç—É –¥–∞–Ω–Ω—ã—Ö (—Ç–∞–∫–∏–µ –∫–∞–∫
`input_format_allow_errors_num` –∏ `input_format_allow_errors_ratio`), —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è –¥–ª—è —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞.

```python
import clickhouse_connect
from clickhouse_connect.driver.tools import insert_file

client = clickhouse_connect.get_client()
insert_file(client, 'example_table', 'my_data.csv',
            settings={'input_format_allow_errors_ratio': .2,
                      'input_format_allow_errors_num': 5})
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ –≤ —Ñ–∞–π–ª—ã {#saving-query-results-as-files}

–í—ã –º–æ–∂–µ—Ç–µ –ø–æ—Ç–æ–∫–æ–≤–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ñ–∞–π–ª—ã –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∏–∑ ClickHouse –≤ –ª–æ–∫–∞–ª—å–Ω—É—é —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É, –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥ `raw_stream`. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–∞ –≤ CSV-—Ñ–∞–π–ª, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞:

```python
import clickhouse_connect

if __name__ == '__main__':
    client = clickhouse_connect.get_client()
    query = 'SELECT number, toString(number) AS number_as_str FROM system.numbers LIMIT 5'
    fmt = 'CSVWithNames'  # –∏–ª–∏ CSV, –∏–ª–∏ CSVWithNamesAndTypes, –∏–ª–∏ TabSeparated –∏ —Ç.–¥.
    stream = client.raw_stream(query=query, fmt=fmt)
    with open("output.csv", "wb") as f:
        for chunk in stream:
            f.write(chunk)
```

–ö–æ–¥ –≤—ã—à–µ —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª `output.csv` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```csv
"number","number_as_str"
0,"0"
1,"1"
2,"2"
3,"3"
4,"4"
```

–¢–∞–∫–∏–º –∂–µ –æ–±—Ä–∞–∑–æ–º, –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ [TabSeparated](/interfaces/formats#tabseparated) –∏ –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö. –°–º. [–§–æ—Ä–º–∞—Ç—ã –¥–ª—è –≤–≤–æ–¥–∞ –∏ –≤—ã–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö](/interfaces/formats) –¥–ª—è –æ–±–∑–æ—Ä–∞ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–ø—Ü–∏–π —Ñ–æ—Ä–º–∞—Ç–æ–≤.

### –°—ã—Ä–æ–π API {#raw-api}

–î–ª—è —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É –¥–∞–Ω–Ω—ã–º–∏ ClickHouse –∏ –Ω–∞—Ç–∏–≤–Ω—ã–º–∏ –∏–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, –∫–ª–∏–µ–Ω—Ç ClickHouse Connect –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–∞ –º–µ—Ç–æ–¥–∞ –¥–ª—è –ø—Ä—è–º–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è ClickHouse.

#### –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –º–µ—Ç–æ–¥ _raw_query_ {#client-_raw_query_-method}

–ú–µ—Ç–æ–¥ `Client.raw_query` –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTP –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–ø—Ä–æ—Å–æ–≤ ClickHouse —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞. –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ - —ç—Ç–æ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç `bytes`. –û–Ω –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —É–¥–æ–±–Ω—ã–π –æ–±–µ—Ä—Ç–∫—É —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤,
–æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫, –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º:

| –ü–∞—Ä–∞–º–µ—Ç—Ä     | –¢–∏–ø             | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                           |
|---------------|------------------|------------|---------------------------------------------------------------------------------------------------------------------------------------|
| query         | str              | *–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π* | –õ—é–±–æ–π –¥–æ–ø—É—Å—Ç–∏–º—ã–π –∑–∞–ø—Ä–æ—Å ClickHouse                                                                                                    |
| parameters    | dict –∏–ª–∏ iterable | *–ù–µ—Ç*        | –°–º. [–æ–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤](#parameters-argument).                                                                                     |
| settings      | dict             | *–ù–µ—Ç*        | –°–º. [–æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫](#settings-argument).                                                                                         |
| fmt           | str              | *–ù–µ—Ç*        | –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ ClickHouse –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏—Ö –±–∞–π—Ç–æ–≤. (ClickHouse –∏—Å–ø–æ–ª—å–∑—É–µ—Ç TSV, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ)                                       |
| use_database  | bool             | True       | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—É—é –∫–ª–∏–µ–Ω—Ç—É clickhouse-connect, –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∑–∞–ø—Ä–æ—Å–∞                                               |
| external_data | ExternalData     | *–ù–µ—Ç*        | –û–±—ä–µ–∫—Ç ExternalData, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ñ–∞–π–ª –∏–ª–∏ –¥–≤–æ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≤ –∑–∞–ø—Ä–æ—Å–µ. –°–º. [–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–í–Ω–µ—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ)](#external-data) |

–ó–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ `bytes` –æ—Ç–≤–µ—á–∞–µ—Ç –≤—ã–∑—ã–≤–∞—é—â–∞—è —Å—Ç–æ—Ä–æ–Ω–∞. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º–µ—Ç–æ–¥ `Client.query_arrow` —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ —Ç–æ–Ω–∫–æ–π –æ–±–µ—Ä—Ç–∫–æ–π –≤–æ–∫—Ä—É–≥ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–≥–æ —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ ClickHouse `Arrow`.

#### –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –º–µ—Ç–æ–¥ _raw_stream_ {#client-_raw_stream_-method}

–ú–µ—Ç–æ–¥ `Client.raw_stream` –∏–º–µ–µ—Ç —Ç–æ—Ç –∂–µ API, —á—Ç–æ –∏ –º–µ—Ç–æ–¥ `raw_query`, –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç `io.IOBase`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
–∫–∞–∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä/–∏—Å—Ç–æ—á–Ω–∏–∫ –ø–æ—Ç–æ–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ `bytes`. –í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥–æ–º `query_arrow_stream`.

#### –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –º–µ—Ç–æ–¥ _raw_insert_ {#client-_raw_insert_-method}

–ú–µ—Ç–æ–¥ `Client.raw_insert` –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –≤—Å—Ç–∞–≤–ª—è—Ç—å –æ–±—ä–µ–∫—Ç—ã `bytes` –∏–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤ `bytes` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞. –ü–æ—Å–∫–æ–ª—å–∫—É –æ–Ω –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—Å—Ç–∞–≤–ª—è–µ–º–æ–≥–æ –ø–æ–ª–µ–∑–Ω–æ–≥–æ –≥—Ä—É–∑–∞, –µ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è. –ú–µ—Ç–æ–¥ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–ø—Ü–∏–∏ –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ —Ñ–æ—Ä–º–∞—Ç–∞ –≤—Å—Ç–∞–≤–∫–∏:

| –ü–∞—Ä–∞–º–µ—Ç—Ä    | –¢–∏–ø                                   | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                  |
|--------------|----------------------------------------|--------------|----------------------------------------------------------------------------------------------|
| table        | str                                    | *–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π* | –õ–∏–±–æ –ø—Ä–æ—Å—Ç–æ–µ, –ª–∏–±–æ –ø–æ–ª–Ω–æ–µ –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–º—è —Ç–∞–±–ª–∏—Ü—ã                                    |
| column_names | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å[str]               | *–ù–µ—Ç*        | –ò–º–µ–Ω–∞ –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è –±–ª–æ–∫–∞ –≤—Å—Ç–∞–≤–∫–∏. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `fmt` –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è      |
| insert_block | str, bytes, –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä[bytes], BinaryIO | *–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π* | –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏. –°—Ç—Ä–æ–∫–∏ –±—É–¥—É—Ç –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞.           |
| settings     | dict                                   | *–ù–µ—Ç*        | –°–º. [–æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫](#settings-argument).                                              |

–ù–∞ –≤—ã–∑—ã–≤–∞—é—â–µ–π —Å—Ç–æ—Ä–æ–Ω–µ –ª–µ–∂–∏—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Ç–æ, —á—Ç–æ–±—ã `insert_block` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª —É–∫–∞–∑–∞–Ω–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –º–µ—Ç–æ–¥ —Å–∂–∞—Ç–∏—è. ClickHouse Connect –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∏ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –∏ —Ç–∞–±–ª–∏—Ü PyArrow, –¥–µ–ª–µ–≥–∏—Ä—É—è –∞–Ω–∞–ª–∏–∑ —Å–µ—Ä–≤–µ—Ä—É ClickHouse.

### –£—Ç–∏–ª–∏—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ {#utility-classes-and-functions}

–°–ª–µ–¥—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–∞–∫–∂–µ —Å—á–∏—Ç–∞—é—Ç—Å—è —á–∞—Å—Ç—å—é –ø—É–±–ª–∏—á–Ω–æ–≥–æ API `clickhouse-connect` –∏, –∫–∞–∫ –∏ –∫–ª–∞—Å—Å—ã –∏ –º–µ—Ç–æ–¥—ã, –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã—à–µ, —Å—Ç–∞–±–∏–ª—å–Ω—ã –º–µ–∂–¥—É –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º–∏ –≤—ã–ø—É—Å–∫–∞–º–∏. –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å –Ω–∞—Ä—É—à–µ–Ω–∏–µ–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –¥–ª—è —ç—Ç–∏—Ö –∫–ª–∞—Å—Å–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–æ–∏–∑–æ–π–¥—É—Ç —Ç–æ–ª—å–∫–æ —Å –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º (–∞ –Ω–µ –ø–∞—Ç—á–µ–º) –≤—ã–ø—É—Å–∫–æ–º –∏ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã —Å –ø–æ–º–µ—Ç–∫–æ–π —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∫–∞–∫ –º–∏–Ω–∏–º—É–º –Ω–∞ –æ–¥–∏–Ω –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –≤—ã–ø—É—Å–∫.

#### –ò—Å–∫–ª—é—á–µ–Ω–∏—è {#exceptions}

–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–≤–∫–ª—é—á–∞—è —Ç–µ, —á—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ DB API 2.0) –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ –º–æ–¥—É–ª–µ `clickhouse_connect.driver.exceptions`. –ò—Å–∫–ª—é—á–µ–Ω–∏—è, —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –¥—Ä–∞–π–≤–µ—Ä–æ–º, –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏–∑ —ç—Ç–∏—Ö —Ç–∏–ø–æ–≤.

#### –£—Ç–∏–ª–∏—Ç—ã Clickhouse SQL {#clickhouse-sql-utilities}

–§—É–Ω–∫—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å DT64Param –≤ –º–æ–¥—É–ª–µ `clickhouse_connect.driver.binding` –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ SQL ClickHouse. –¢–æ—á–Ω–æ —Ç–∞–∫ –∂–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –º–æ–¥—É–ª–µ `clickhouse_connect.driver.parser` –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –¥–ª—è —Ä–∞–∑–±–æ—Ä–∞ –∏–º–µ–Ω —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö ClickHouse.

### –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–µ, –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω—ã–µ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ/—Å–æ–±—ã—Ç–∏–π–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è {#multithreaded-multiprocess-and-asyncevent-driven-use-cases}

ClickHouse Connect —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö, –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω—ã—Ö –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö —Ü–∏–∫–ª–∞–º–∏ —Å–æ–±—ã—Ç–∏–π. –í—Å–µ 
–æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –≤—Å—Ç–∞–≤–æ–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –≤ –æ–¥–Ω–æ–º –ø–æ—Ç–æ–∫–µ, –ø–æ—ç—Ç–æ–º—É –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —è–≤–ª—è—é—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏. (–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ –Ω–∏–∑–∫–æ–º —É—Ä–æ–≤–Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–º –±—É–¥—É—â–∏–º —É–ª—É—á—à–µ–Ω–∏–µ–º, —á—Ç–æ–±—ã –ø—Ä–µ–æ–¥–æ–ª–µ—Ç—å —à—Ç—Ä–∞—Ñ –∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–¥–Ω–æ–∏–º–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞, –Ω–æ –¥–∞–∂–µ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ—Ç–æ–∫–æ–≤).

–ü–æ—Å–∫–æ–ª—å–∫—É –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∏–ª–∏ –≤—Å—Ç–∞–≤–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ —Å–≤–æ–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ QueryContext –∏–ª–∏ InsertContext, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, —ç—Ç–∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –Ω–µ —è–≤–ª—è—é—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏. –°–º. –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ –æ–± –æ–±—ä–µ–∫—Ç–∞—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö.

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–≤–∞ –∏–ª–∏ –±–æ–ª–µ–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏/–∏–ª–∏ –≤—Å—Ç–∞–≤–æ–∫, —Å–ª–µ–¥—É–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å –¥–≤–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–∞. –í–æ-–ø–µ—Ä–≤—ã—Ö, —Å–µ—Å—Å–∏—è ClickHouse, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –∑–∞–ø—Ä–æ—Å–æ–º/–≤—Å—Ç–∞–≤–∫–æ–π, –∏, –≤–æ-–≤—Ç–æ—Ä—ã—Ö, –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π HTTP, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –∫–ª–∏–µ–Ω—Ç–∞ ClickHouse Connect.

### –û–±–µ—Ä—Ç–∫–∞ AsyncClient {#asyncclient-wrapper}

–° –≤–µ—Ä—Å–∏–∏ 0.7.16 ClickHouse Connect –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±–µ—Ä—Ç–∫—É –Ω–∞–¥ –æ–±—ã—á–Ω—ã–º `Client`, 
—Ç–∞–∫ —á—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç –≤ —Å—Ä–µ–¥–µ `asyncio`.

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä `AsyncClient`, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–±—Ä–∏—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `get_async_client`, 
–∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —á—Ç–æ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `get_client`:

```python
import asyncio

import clickhouse_connect


async def main():
    client = await clickhouse_connect.get_async_client()
    result = await client.query("SELECT name FROM system.databases LIMIT 1")
    print(result.result_rows)


asyncio.run(main())
```

`AsyncClient` –∏–º–µ–µ—Ç —Ç–µ –∂–µ –º–µ—Ç–æ–¥—ã —Å —Ç–µ–º–∏ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, —á—Ç–æ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `Client`, –Ω–æ –æ–Ω–∏ —è–≤–ª—è—é—Ç—Å—è —Å–æ–ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏, –∫–æ–≥–¥–∞ —ç—Ç–æ –ø—Ä–∏–º–µ–Ω–∏–º–æ. –í–Ω—É—Ç—Ä–∏ —ç—Ç–∏ –º–µ—Ç–æ–¥—ã –∏–∑ `Client`, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞, –∑–∞–∫–ª—é—á–µ–Ω—ã –≤
[run_in_executor](https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.loop.run_in_executor) –≤—ã–∑–æ–≤.

–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ —É–≤–µ–ª–∏—á–∏—Ç—Å—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –æ–±–µ—Ä—Ç–∫–∏ `AsyncClient`, 
–ø–æ—Å–∫–æ–ª—å–∫—É –ø–æ—Ç–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ GIL –±—É–¥—É—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω—ã, –ø–æ–∫–∞ –æ–∂–∏–¥–∞—é—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ `Client`, `AsyncClient` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏–Ω—É–∂–¥–∞–µ—Ç `autogenerate_session_id` –±—ã—Ç—å `False`.

–°–º. —Ç–∞–∫–∂–µ: [–ø—Ä–∏–º–µ—Ä run_async](https://github.com/ClickHouse/clickhouse-connect/blob/main/examples/run_async.py).

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏ —Å–µ—Å—Å–∏–π ClickHouse {#managing-clickhouse-session-ids}

–ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å ClickHouse –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ "—Å–µ—Å—Å–∏–∏" ClickHouse. –°–µ—Å—Å–∏–∏ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –¥–≤—É—Ö —Ü–µ–ª–µ–π:
- –î–ª—è —Å–≤—è–∑–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ ClickHouse —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ (—Å–º. [–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π](/operations/settings/settings.md)). –ö–æ–º–∞–Ω–¥–∞ ClickHouse `SET` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
–Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è –æ–±–ª–∞—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å–µ—Å—Å–∏–∏.
- –î–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è [–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü](/sql-reference/statements/create/table#temporary-tables)

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–π —Å –ø–æ–º–æ—â—å—é —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∏–µ–Ω—Ç–∞ ClickHouse Connect, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–µ—Å—Å–∏–∏. –¢–æ –µ—Å—Ç—å –∫–æ–º–∞–Ω–¥—ã `SET` –∏ —Ä–∞–±–æ—Ç–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç, –∫–∞–∫ —Å–ª–µ–¥—É–µ—Ç, –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –æ–¥–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ ClickHouse. –ù–æ, –ø–æ –∑–∞–º—ã—Å–ª—É, —Å–µ—Ä–≤–µ—Ä ClickHouse –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ —Å–µ—Å—Å–∏–∏. –ü–æ—ç—Ç–æ–º—É –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ClickHouse Connect, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–ø—Ä–æ—Å—ã, –µ—Å—Ç—å –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞.

- –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `Client` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–ø–æ—Ç–æ–∫, –ø—Ä–æ—Ü–µ—Å—Å –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π), –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏. –≠—Ç–æ –æ–±—ã—á–Ω–æ –ª—É—á—à–∏–π –ø–æ–¥—Ö–æ–¥, —Ç–∞–∫ –∫–∞–∫ –æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞. –≠—Ç–æ –∏–∑–±–µ–≥–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏ –≤ —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏–ª–∏ –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Å—Å–∏–∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è. (–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã
–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞, –Ω–æ –æ–Ω–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º –∏ –Ω–µ —Å–≤—è–∑–∞–Ω—ã —Å —Å–µ—Å—Å–∏–µ–π). –£–Ω–∏–∫–∞–ª—å–Ω—ã–π `session_id` –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–ª–æ–≤–∞—Ä—å `settings` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞, –∏–ª–∏ –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç–∫–ª—é—á–∏—Ç—å
–æ–±—â—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É `autogenerate_session_id`:

```python
from clickhouse_connect import common

common.set_setting('autogenerate_session_id', False)  # –≠—Ç–æ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∫–ª–∏–µ–Ω—Ç–∞
client = clickhouse_connect.get_client(host='somehost.com', user='dbuser', password=1234)
```

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ ClickHouse Connect –Ω–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏, –∏ —Å–µ—Ä–≤–µ—Ä ClickHouse —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏. –û–ø—è—Ç—å –∂–µ, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Å—Å–∏–∏ –±—É–¥—É—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π HTTP {#customizing-the-http-connection-pool}

ClickHouse Connect –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—É–ª—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π `urllib3` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∏–∂–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è HTTP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
–≤—Å–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∫–ª–∏–µ–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, —á—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤. –≠—Ç–æ—Ç –ø—É–ª –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ 8 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π HTTP Keep Alive —Å –∫–∞–∂–¥—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º ClickHouse, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

–î–ª—è –∫—Ä—É–ø–Ω—ã—Ö –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –º–æ–≥—É—Ç –±—ã—Ç—å —É–º–µ—Å—Ç–Ω—ã –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—É–ª—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π. –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—É–ª—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `pool_mgr` –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ `clickhouse_connect.get_client`:

```python
import clickhouse_connect
from clickhouse_connect.driver import httputil

big_pool_mgr = httputil.get_pool_manager(maxsize=16, num_pools=12)

client1 = clickhouse_connect.get_client(pool_mgr=big_pool_mgr)
client2 = clickhouse_connect.get_client(pool_mgr=big_pool_mgr)
```

–ö–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä–µ, –∫–ª–∏–µ–Ω—Ç—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –º–µ–Ω–µ–¥–∂–µ—Ä –ø—É–ª–∞, –∏–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –ø—É–ª–∞. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PoolManager —Å–º–æ—Ç—Ä–∏—Ç–µ –≤
[`–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ urllib3`](https://urllib3.readthedocs.io/en/stable/advanced-usage.html#customizing-pool-behavior).

## –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö —Å ClickHouse Connect: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ {#querying-data-with-clickhouse-connect--advanced-usage}
### QueryContexts {#querycontexts}

ClickHouse Connect –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ —Ä–∞–º–∫–∞—Ö QueryContext. QueryContext —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
–¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö ClickHouse, –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, –∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ QueryResult –∏–ª–∏ –¥—Ä—É–≥—É—é
—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞. –≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç —Å–∞–º –∑–∞–ø—Ä–æ—Å, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Ñ–æ—Ä–º–∞—Ç—ã —á—Ç–µ–Ω–∏—è –∏ –¥—Ä—É–≥–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞.

QueryContext –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ –∫–ª–∏–µ–Ω—Ç–∞ `create_query_context`. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã,
—á—Ç–æ –∏ –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞. –≠—Ç–æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ –∑–∞—Ç–µ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω –º–µ—Ç–æ–¥–∞–º `query`, `query_df` –∏–ª–∏ `query_np` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ `context`
–≤–º–µ—Å—Ç–æ –ª—é–±—ã—Ö –∏–ª–∏ –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —ç—Ç–∏—Ö –º–µ—Ç–æ–¥–æ–≤. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –¥–ª—è –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç –ª—é–±—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ QueryContext.

–ù–∞–∏–±–æ–ª–µ–µ –æ—á–µ–≤–∏–¥–Ω—ã–º —Å–ª—É—á–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è QueryContext —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –∑–∞–ø—Ä–æ—Å–∞ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ —Å–≤—è–∑—ã–≤–∞—é—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å
–æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø—É—Ç–µ–º –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ `QueryContext.set_parameters` —Å –ø–æ–º–æ—â—å—é —Å–ª–æ–≤–∞—Ä—è, –∏–ª–∏ –ª—é–±–æ–µ –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–æ, –≤—ã–∑–≤–∞–≤
`QueryContext.set_parameter` —Å –Ω—É–∂–Ω–æ–π –ø–∞—Ä–æ–π `key`, `value`.

```python
client.create_query_context(query='SELECT value1, value2 FROM data_table WHERE key = {k:Int32}',
                            parameters={'k': 2},
                            column_oriented=True)
result = client.query(context=qc)
assert result.result_set[1][0] == 'second_value2'
qc.set_parameter('k', 1)
result = test_client.query(context=qc)
assert result.result_set[1][0] == 'first_value2'
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ QueryContexts –Ω–µ —è–≤–ª—è—é—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏, –Ω–æ –∫–æ–ø–∏—é –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ, –≤—ã–∑–≤–∞–≤
–º–µ—Ç–æ–¥ `QueryContext.updated_copy`.

### –ü–æ—Ç–æ–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã {#streaming-queries}
#### Data Blocks {#data-blocks}
ClickHouse Connect –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ `query` –∫–∞–∫ –ø–æ—Ç–æ–∫ –±–ª–æ–∫–æ–≤, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ ClickHouse. –≠—Ç–∏ –±–ª–æ–∫–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ "Native" –∫ ClickHouse –∏ –æ–±—Ä–∞—Ç–Ω–æ. "–ë–ª–æ–∫" ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–ª–æ–Ω–æ–∫ –¥–≤–æ–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –≥–¥–µ –∫–∞–∂–¥–∞—è –∫–æ–ª–æ–Ω–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–≤–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π –¥–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞. (–ö–∞–∫ —Å—Ç–æ–ª–±—Ü–æ–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, ClickHouse —Ö—Ä–∞–Ω–∏—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π —Ñ–æ—Ä–º–µ.) –†–∞–∑–º–µ—Ä –±–ª–æ–∫–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –¥–≤—É–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—Ä–æ–≤–Ω—è—Ö (–ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —Å–µ—Å—Å–∏—è –∏–ª–∏ –∑–∞–ø—Ä–æ—Å). –û–Ω–∏ —Å–ª–µ–¥—É—é—â–∏–µ:

- [max_block_size](/operations/settings/settings#max_block_size) -- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑–º–µ—Ä –±–ª–æ–∫–∞ –≤ —Å—Ç—Ä–æ–∫–∞—Ö. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 65536.
- [preferred_block_size_bytes](/operations/settings/settings#preferred_block_size_bytes) -- –ú—è–≥–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑–º–µ—Ä –±–ª–æ–∫–∞ –≤ –±–∞–π—Ç–∞—Ö. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 1,000,0000.

–ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç `preferred_block_size_setting`, –∫–∞–∂–¥—ã–π –±–ª–æ–∫ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—É–¥–µ—Ç –±–æ–ª—å—à–µ `max_block_size` —Å—Ç—Ä–æ–∫. –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –±–ª–æ–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—Ä–æ—Å—ã –∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ, –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–µ–π –º–Ω–æ–∂–µ—Å—Ç–≤–æ —à–∞—Ä–¥–æ–≤, –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ –±–ª–æ–∫–∏, –∏–∑–≤–ª–µ–∫–∞–µ–º—ã–µ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –∫–∞–∂–¥–æ–≥–æ —à–∞—Ä–¥–∞.

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –æ–¥–Ω–æ–≥–æ –∏–∑ –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞ `query_*_stream` —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø–æ –±–ª–æ–∫–∞–º. ClickHouse Connect –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –±–ª–æ–∫ –∑–∞ —Ä–∞–∑. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã –¥–∞–Ω–Ω—ã—Ö, –Ω–µ –∑–∞–≥—Ä—É–∂–∞—è –≤–µ—Å—å –±–æ–ª—å—à–æ–π –Ω–∞–±–æ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –ø–∞–º—è—Ç—å. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≥–æ—Ç–æ–≤–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–ª–æ–∫–æ–≤, –∏ —Ä–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è.

#### HTTP Data Buffer for Slow Processing {#http-data-buffer-for-slow-processing}

–ò–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ HTTP, –µ—Å–ª–∏ –±–ª–æ–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–º, –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—å—à–∏–º, —á–µ–º –ø–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–º ClickHouse, —Å–µ—Ä–≤–µ—Ä ClickHouse –∑–∞–∫—Ä–æ–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, —á—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—à–∏–±–∫–µ –≤ –ø–æ—Ç–æ–∫–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏. –ù–µ–∫–æ—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å —ç—Ç–æ–≥–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–º—è–≥—á–µ–Ω–∞ –∑–∞ —Å—á–µ—Ç —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –±—É—Ñ–µ—Ä–∞ HTTP –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ (–∫–æ—Ç–æ—Ä—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 10 –º–µ–≥–∞–±–∞–π—Ç) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–±—â–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `http_buffer_size`. –ë–æ–ª—å—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è `http_buffer_size` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∏–µ–º–ª–µ–º—ã –≤ —ç—Ç–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏, –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –¥–æ—Å—Ç—É–ø–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞–º—è—Ç–∏. –î–∞–Ω–Ω—ã–µ –≤ –±—É—Ñ–µ—Ä–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∂–∞—Ç–æ–º –≤–∏–¥–µ, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∂–∞—Ç–∏–µ `lz4` –∏–ª–∏ `zstd`, —Ç–∞–∫ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–∏—Ö —Ç–∏–ø–æ–≤ —Å–∂–∞—Ç–∏—è —É–≤–µ–ª–∏—á–∏—Ç –æ–±—â–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã–π –±—É—Ñ–µ—Ä.

#### StreamContexts {#streamcontexts}

–ö–∞–∂–¥—ã–π –∏–∑ –º–µ—Ç–æ–¥–æ–≤ `query_*_stream` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `query_row_block_stream`) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç ClickHouse `StreamContext`, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º/–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º Python. –í–æ—Ç –±–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```python
with client.query_row_block_stream('SELECT pickup, dropoff, pickup_longitude, pickup_latitude FROM taxi_trips') as stream:
    for block in stream:
        for row in block:
            <–≤—ã–ø–æ–ª–Ω–∏—Ç—å —á—Ç–æ-—Ç–æ —Å –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –ø–æ–µ–∑–¥–∫–∏ –Ω–∞ Python>
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ø–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å StreamContext –±–µ–∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `with` –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ Python –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø–æ—Ç–æ–∫ (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –ø–æ—Ç–æ–∫–æ–≤–∞—è HTTP-–æ—Ç–≤–µ—Ç–∞) –±—É–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–∫—Ä—ã—Ç, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω—ã –∏/–∏–ª–∏ –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, StreamContexts –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞. –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è StreamContext –ø–æ—Å–ª–µ –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—é –æ—à–∏–±–∫–∏ `StreamClosedError`.

–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ `source` –æ–±—ä–µ–∫—Ç–∞ StreamContext –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º—É –æ–±—ä–µ–∫—Ç—É `QueryResult`, –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç –∏–º–µ–Ω–∞ –∏ —Ç–∏–ø—ã –∫–æ–ª–æ–Ω–æ–∫.

#### Stream Types {#stream-types}

–ú–µ—Ç–æ–¥ `query_column_block_stream` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–ª–æ–∫ –≤ –≤–∏–¥–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫, —Ö—Ä–∞–Ω—è—â–∏—Ö—Å—è –∫–∞–∫ –Ω–∞—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö Python. –ò—Å–ø–æ–ª—å–∑—É—è —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤—ã—à–µ –∑–∞–ø—Ä–æ—Å—ã `taxi_trips`, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —Å–ø–∏—Å–æ–∫, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ —è–≤–ª—è–µ—Ç—Å—è –¥—Ä—É–≥–∏–º —Å–ø–∏—Å–∫–æ–º (–∏–ª–∏ –∫–æ—Ä—Ç–µ–∂–µ–º), —Å–æ–¥–µ—Ä–∂–∞—â–∏–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∫–æ–ª–æ–Ω–∫–∏. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, `block[0]` –±—É–¥–µ—Ç –∫–æ—Ä—Ç–µ–∂–µ–º, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏. –§–æ—Ä–º–∞—Ç—ã, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –∫–æ–ª–æ–Ω–∫—É, —á–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞–¥ –≤—Å–µ–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –≤ –∫–æ–ª–æ–Ω–∫–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—â–∏—Ö —Ç–∞—Ä–∏—Ñ–æ–≤.

–ú–µ—Ç–æ–¥ `query_row_block_stream` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–ª–æ–∫ –∫–∞–∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∫, –∫–∞–∫ –≤ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –î–ª—è –ø–æ–µ–∑–¥–æ–∫ –Ω–∞ —Ç–∞–∫—Å–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —Å–ø–∏—Å–∫–æ–º, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç—Ä–æ–∫—É –¥–∞–Ω–Ω—ã—Ö. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, `block[0]` –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ –ø–æ–ª—è (–≤ –ø–æ—Ä—è–¥–∫–µ) –¥–ª—è –ø–µ—Ä–≤–æ–π –ø–æ–µ–∑–¥–∫–∏ –Ω–∞ —Ç–∞–∫—Å–∏, `block[1]` –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—Ç—Ä–æ–∫—É —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏ –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–æ–µ–∑–¥–∫–∏ –Ω–∞ —Ç–∞–∫—Å–∏ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ —Å—Ç—Ä–æ–∫–∏, –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–ª–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

–ú–µ—Ç–æ–¥ `query_row_stream` —è–≤–ª—è–µ—Ç—Å—è —É–¥–æ–±–Ω—ã–º –º–µ—Ç–æ–¥–æ–º, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –±–ª–æ–∫—É –ø—Ä–∏ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ –ø–æ—Ç–æ–∫—É. –í –æ—Å—Ç–∞–ª—å–Ω–æ–º –æ–Ω –∏–¥–µ–Ω—Ç–∏—á–µ–Ω `query_row_block_stream`.

–ú–µ—Ç–æ–¥ `query_np_stream` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–∂–¥—ã–π –±–ª–æ–∫ –∫–∞–∫ –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ NumPy. –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ –º–∞—Å—Å–∏–≤—ã NumPy (–æ–±—ã—á–Ω–æ) —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ –∫–æ–ª–æ–Ω–∫–∏, –ø–æ—ç—Ç–æ–º—É –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Å—Ç—Ä–æ–∫ –∏–ª–∏ –∫–æ–ª–æ–Ω–æ–∫. "–§–æ—Ä–º–∞" –º–∞—Å—Å–∏–≤–∞ NumPy –±—É–¥–µ—Ç –≤—ã—Ä–∞–∂–µ–Ω–∞ –∫–∞–∫ (–∫–æ–ª–æ–Ω–∫–∏, —Å—Ç—Ä–æ–∫–∏). –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ NumPy –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–Ω–æ–≥–æ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –º–∞—Å—Å–∏–≤–∞–º–∏ NumPy. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –µ—Å–ª–∏ –≤—Å–µ –∫–æ–ª–æ–Ω–∫–∏ –≤ –∑–∞–ø—Ä–æ—Å–µ –∏–º–µ—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ dtype NumPy, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –º–∞—Å—Å–∏–≤ NumPy —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω dtype, –∏ –µ–≥–æ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å/–≤—Ä–∞—â–∞—Ç—å –±–µ–∑ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

–ú–µ—Ç–æ–¥ `query_df_stream` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–∂–¥—ã–π –±–ª–æ–∫ ClickHouse –∫–∞–∫ –¥–≤—É–º–µ—Ä–Ω—ã–π DataFrame Pandas. –í–æ—Ç –ø—Ä–∏–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –æ–±—ä–µ–∫—Ç StreamContext –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∫–∞–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π —Ñ–æ—Ä–º–µ (–Ω–æ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑).

–ù–∞–∫–æ–Ω–µ—Ü, –º–µ—Ç–æ–¥ `query_arrow_stream` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ ClickHouse `ArrowStream` –∫–∞–∫ `pyarrow.ipc.RecordBatchStreamReader`, –∑–∞–≤–µ—Ä–Ω—É—Ç—ã–π –≤ StreamContext. –ö–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ—Ç–æ–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç PyArrow RecordBlock.

```python
df_stream = client.query_df_stream('SELECT * FROM hits')
column_names = df_stream.source.column_names
with df_stream:
    for df in df_stream:
        <–≤—ã–ø–æ–ª–Ω–∏—Ç—å —á—Ç–æ-—Ç–æ —Å DataFrame pandas>
```

### Read Formats {#read-formats}

–§–æ—Ä–º–∞—Ç—ã —á—Ç–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∏–∑ –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞ `query`, `query_np` –∏ `query_df`. (–ú–µ—Ç–æ–¥—ã `raw_query` –∏ `query_arrow` –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç ClickHouse, –ø–æ—ç—Ç–æ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–º –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è.) –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —Ñ–æ—Ä–º–∞—Ç —á—Ç–µ–Ω–∏—è –¥–ª—è UUID –∏–∑–º–µ–Ω–µ–Ω —Å —Ñ–æ—Ä–º–∞—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `native` –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç `string`, –∑–∞–ø—Ä–æ—Å ClickHouse –∫ –∫–æ–ª–æ–Ω–∫–µ `UUID` –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω –∫–∞–∫ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ RFC 1422 8-4-4-4-12) –≤–º–µ—Å—Ç–æ –æ–±—ä–µ–∫—Ç–æ–≤ Python UUID.

–ê—Ä–≥—É–º–µ–Ω—Ç "—Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö" –¥–ª—è –ª—é–±–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–µ –∑–Ω–∞–∫–∏. –§–æ—Ä–º–∞—Ç ‚Äî —ç—Ç–æ –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ.

–§–æ—Ä–º–∞—Ç—ã —á—Ç–µ–Ω–∏—è –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—Ä–æ–≤–Ω—è—Ö:

- –ì–ª–æ–±–∞–ª—å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥—ã, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –≤ –ø–∞–∫–µ—Ç–µ `clickhouse_connect.datatypes.format`. –≠—Ç–æ –±—É–¥–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.
```python
from clickhouse_connect.datatypes.format import set_read_format


# –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–∞–∫ IPv6, —Ç–∞–∫ –∏ IPv4 –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫
set_read_format('IPv*', 'string')


# –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –≤—Å–µ —Ç–∏–ø—ã Date –∫–∞–∫ –±–∞–∑–æ–≤—ã–µ —Å–µ–∫—É–Ω–¥—ã —ç–ø–æ—Ö–∏ –∏–ª–∏ –¥–Ω–∏ —ç–ø–æ—Ö–∏
set_read_format('Date*', 'int')
```

- –î–ª—è –≤—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç —Å–ª–æ–≤–∞—Ä—è `query_formats`. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ª—é–±–∞—è –∫–æ–ª–æ–Ω–∫–∞ (–∏–ª–∏ —Å—É–±–∫–æ–ª–æ–Ω–∫–∞) —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.
```python

# –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –ª—é–±—É—é –∫–æ–ª–æ–Ω–∫—É UUID –∫–∞–∫ —Å—Ç—Ä–æ–∫—É
client.query('SELECT user_id, user_uuid, device_uuid from users', query_formats={'UUID': 'string'})
```

- –î–ª—è –∑–Ω–∞—á–µ–Ω–∏–π –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ–ª–æ–Ω–∫–µ, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç —Å–ª–æ–≤–∞—Ä—è `column_formats`. –ö–ª—é—á–æ–º —è–≤–ª—è–µ—Ç—Å—è –∏–º—è –∫–æ–ª–æ–Ω–∫–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ ClickHouse, –∏ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –∫–æ–ª–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å —Ñ–æ—Ä–º–∞—Ç–∞ —Ç–∏–ø–∞ ClickHouse –∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–∞. –≠—Ç–æ—Ç –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–ª–æ–Ω–Ω, —Ç–∞–∫–∏—Ö –∫–∞–∫ –∫–æ—Ä—Ç–µ–∂–∏ –∏–ª–∏ –∫–∞—Ä—Ç—ã.
```python

# –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è IPv6 –≤ –∫–æ–ª–æ–Ω–∫–µ `dev_address` –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏
client.query('SELECT device_id, dev_address, gw_address from devices', column_formats={'dev_address':'string'})
```

#### Read Format Options (Python Types) {#read-format-options-python-types}

| ClickHouse Type       | Native Python Type    | Read Formats | Comments                                                                                                          |
|-----------------------|-----------------------|--------------|-------------------------------------------------------------------------------------------------------------------|
| Int[8-64], UInt[8-32] | int                   | -            |                                                                                                                   |
| UInt64                | int                   | signed       | Superset –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–æ–ª—å—à–∏–µ –Ω–µ–Ω–∞—Å—Ç–æ—è—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è UInt64                                    |
| [U]Int[128,256]       | int                   | string       | –ó–Ω–∞—á–µ–Ω–∏—è int Pandas –∏ NumPy –º–∞–∫—Å–∏–º—É–º 64 –±–∏—Ç–∞, —Ç–∞–∫ —á—Ç–æ –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏                       |
| Float32               | float                 | -            | –í—Å–µ —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π Python –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ 64 –±–∏—Ç–∞                                                             |
| Float64               | float                 | -            |                                                                                                                   |
| Decimal               | decimal.Decimal       | -            |                                                                                                                   |
| String                | string                | bytes        | –°—Ç—Ä–æ–∫–∏ ClickHouse –Ω–µ –∏–º–µ—é—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∏ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –¥–≤–æ–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª–∏–Ω—ã   |
| FixedString           | bytes                 | string       | FixedStrings ‚Äî —ç—Ç–æ –º–∞—Å—Å–∏–≤—ã –±–∞–π—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞, –Ω–æ –∏–Ω–æ–≥–¥–∞ –∏—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ Python               |
| Enum[8,16]            | string                | string, int  | Python Enums –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏, –ø–æ—ç—Ç–æ–º—É –≤—Å–µ Enums —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è int.       |
| Date                  | datetime.date         | int          | ClickHouse —Ö—Ä–∞–Ω–∏—Ç –¥–∞—Ç—ã –∫–∞–∫ –¥–Ω–∏ —Å 01/01/1970. –≠—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –∫–∞–∫ int                                       |
| Date32                | datetime.date         | int          | –¢–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –∏ Date, –Ω–æ –¥–ª—è –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–∞—Ç                                                      |
| DateTime              | datetime.datetime     | int          | ClickHouse —Ö—Ä–∞–Ω–∏—Ç DateTime –≤ —ç–ø–æ—Ö–µ —Å–µ–∫—É–Ω–¥–∞—Ö. –≠—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –∫–∞–∫ int                                       |
| DateTime64            | datetime.datetime     | int          | Python datetime.datetime –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥. –°—ã—Ä–æ–µ 64-–±–∏—Ç–Ω–æ–µ int –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ               |
| IPv4                  | `ipaddress.IPv4Address` | string       | IP-–∞–¥—Ä–µ—Å–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω—ã –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏, –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—Å—Ç–∞–≤–ª–µ–Ω—ã –∫–∞–∫ IP-–∞–¥—Ä–µ—Å–∞  |
| IPv6                  | `ipaddress.IPv6Address` | string       | IP-–∞–¥—Ä–µ—Å–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω—ã –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏, –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—Å—Ç–∞–≤–ª–µ–Ω—ã –∫–∞–∫ IP-–∞–¥—Ä–µ—Å–∞     |
| Tuple                 | dict or tuple         | tuple, json  | –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ç–µ–∂–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫–∞–∫ —Å–ª–æ–≤–∞—Ä–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ç–µ–∂–∏ —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫–∞–∫ JSON —Å—Ç—Ä–æ–∫–∏  |
| Map                   | dict                  | -            |                                                                                                                   |
| Nested                | Sequence[dict]        | -            |                                                                                                                   |
| UUID                  | uuid.UUID             | string       | UUID –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω—ã –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏, –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å RFC 4122<br/>                            |
| JSON                  | dict                  | string       | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–ª–æ–≤–∞—Ä—å Python. –§–æ—Ä–º–∞—Ç `string` –≤–µ—Ä–Ω–µ—Ç —Å—Ç—Ä–æ–∫—É JSON                                     |
| Variant               | object                | -            | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ç–∏–ø Python –¥–ª—è —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö ClickHouse, —Ö—Ä–∞–Ω—è—â–µ–≥–æ—Å—è –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è                        |
| Dynamic               | object                | -            | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ç–∏–ø Python –¥–ª—è —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö ClickHouse, —Ö—Ä–∞–Ω—è—â–µ–≥–æ—Å—è –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è                        |

### External Data {#external-data}

–ó–∞–ø—Ä–æ—Å—ã ClickHouse –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –ª—é–±–æ–º —Ñ–æ—Ä–º–∞—Ç–µ ClickHouse. –≠—Ç–∏ –¥–≤–æ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å —Å—Ç—Ä–æ–∫–æ–π –∑–∞–ø—Ä–æ—Å–∞, —á—Ç–æ–±—ã –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö [–∑–¥–µ—Å—å](/engines/table-engines/special/external-data.md). –ú–µ—Ç–æ–¥—ã –∫–ª–∏–µ–Ω—Ç–∞ `query*` –ø—Ä–∏–Ω–∏–º–∞—é—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `external_data` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `external_data` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–±—ä–µ–∫—Ç–æ–º `clickhouse_connect.driver.external.ExternalData`. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:

| Name      | Type              | Description                                                                                                                                     |
|-----------|-------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|
| file_path | str               | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ —á–∏—Ç–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ. –õ–∏–±–æ `file_path`, –ª–∏–±–æ `data` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã                              | 
| file_name | str               | –ò–º—è "—Ñ–∞–π–ª–∞" –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –∏–∑ `file_path` (–±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π)                                                 |
| data      | bytes             | –í–Ω–µ—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –¥–≤–æ–∏—á–Ω–æ–º –≤–∏–¥–µ (–≤–º–µ—Å—Ç–æ —á—Ç–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–∞). –õ–∏–±–æ `data`, –ª–∏–±–æ `file_path` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã                                            |
| fmt       | str               | –§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞ ClickHouse [Input Format](/sql-reference/formats.mdx) –¥–∞–Ω–Ω—ã—Ö. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `TSV`                                          |
| types     | str or seq of str | –°–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∫–æ–ª–æ–Ω–∫–∏ –≤–æ –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö. –ï—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞, —Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –∑–∞–ø—è—Ç—ã–º–∏. –õ–∏–±–æ `types`, –ª–∏–±–æ `structure` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã      |
| structure | str or seq of str | –°–ø–∏—Å–æ–∫ –∏–º–µ–Ω–∏ –∫–æ–ª–æ–Ω–∫–∏ + —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –¥–∞–Ω–Ω—ã—Ö (—Å–º. –ø—Ä–∏–º–µ—Ä—ã). –õ–∏–±–æ `structure`, –ª–∏–±–æ `types` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã                                          |
| mime_type | str               | –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π MIME-—Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞. –í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è ClickHouse –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ HTTP                                                 |

–ß—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å —Å –≤–Ω–µ—à–Ω–∏–º CSV —Ñ–∞–π–ª–æ–º, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º –¥–∞–Ω–Ω—ã–µ –æ "—Ñ–∏–ª—å–º–∞—Ö", –∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Å —Ç–∞–±–ª–∏—Ü–µ–π `directors`, —É–∂–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—â–µ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ClickHouse:

```python
import clickhouse_connect
from clickhouse_connect.driver.external import ExternalData

client = clickhouse_connect.get_client()
ext_data = ExternalData(file_path='/data/movies.csv',
                        fmt='CSV',
                        structure=['movie String', 'year UInt16', 'rating Decimal32(3)', 'director String'])
result = client.query('SELECT name, avg(rating) FROM directors INNER JOIN movies ON directors.name = movies.director GROUP BY directors.name',
                      external_data=ext_data).result_rows
```

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç ExternalData —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `add_file`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —á—Ç–æ –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. –î–ª—è HTTP –≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ —á–∞—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ `multi-part/form-data`.

### Time Zones {#time-zones}
–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º ClickHouse DateTime –∏ DateTime64. –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ —Å–µ—Ä–≤–µ—Ä ClickHouse –≤—Å–µ–≥–¥–∞ —Ö—Ä–∞–Ω–∏—Ç –ª—é–±–æ–π –æ–±—ä–µ–∫—Ç DateTime –∏–ª–∏ DateTime64 –∫–∞–∫ naiv–Ω—ã–π –Ω–æ–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π —Å–µ–∫—É–Ω–¥—ã —Å –Ω–∞—á–∞–ª–∞ —ç–ø–æ—Ö–∏, 1970-01-01 00:00:00 UTC. –î–ª—è –∑–Ω–∞—á–µ–Ω–∏–π DateTime64 —ç—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞–º–∏, –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥–∞–º–∏ –∏–ª–∏ –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥–∞–º–∏ —Å –Ω–∞—á–∞–ª–∞ —ç–ø–æ—Ö–∏, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ—á–Ω–æ—Å—Ç–∏. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ª—é–±–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —ç—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, –ø–æ—ç—Ç–æ–º—É –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —Å –∫—Ä–∏—Ç–∏—á–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è –∫ —Ç–∏–ø–∞–º DateTime –∫–∞–∫ –∫ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –º–µ—Ç–∫–∞–º —ç–ø–æ—Ö–∏, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ Pandas –≤—Å–µ–≥–¥–∞ —è–≤–ª—è—é—Ç—Å—è 64-–±–∏—Ç–Ω—ã–º–∏ —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–º–∏ –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥—ã —ç–ø–æ—Ö–∏, —á—Ç–æ–±—ã –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å).

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö, —É—á–∏—Ç—ã–≤–∞—é—â–∏—Ö —á–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞, –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö ‚Äî –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, –æ–±—ä–µ–∫—Ç–∞ Python `datetime.datetime` -- `clickhouse-connect` –ø—Ä–∏–º–µ–Ω—è–µ—Ç —á–∞—Å–æ–≤—É—é –∑–æ–Ω—É –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞:

1. –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –º–µ—Ç–æ–¥–∞ –∑–∞–ø—Ä–æ—Å–∞ `client_tzs` —É–∫–∞–∑–∞–Ω –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∏.
2. –ï—Å–ª–∏ –∫–æ–ª–æ–Ω–∫–∞ ClickHouse –∏–º–µ–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ (—Ç.–µ. –æ–Ω–∞ —è–≤–ª—è–µ—Ç—Å—è —Ç–∏–ø–æ–º, –∫–∞–∫ DateTime64(3, 'America/Denver')), –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –∫–æ–ª–æ–Ω–∫–∏ ClickHouse. (–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —ç—Ç–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è `clickhouse-connect` –¥–ª—è –∫–æ–ª–æ–Ω–æ–∫ DateTime –¥–æ –≤–µ—Ä—Å–∏–∏ ClickHouse 23.2)
3. –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –º–µ—Ç–æ–¥–∞ –∑–∞–ø—Ä–æ—Å–∞ `query_tz` —É–∫–∞–∑–∞–Ω –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è "—á–∞—Å–æ–≤–∞—è –∑–æ–Ω–∞ –∑–∞–ø—Ä–æ—Å–∞".
4. –ï—Å–ª–∏ –∫ –∑–∞–ø—Ä–æ—Å—É –∏–ª–∏ —Å–µ—Å—Å–∏–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —ç—Ç–æ—Ç —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å. (–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –µ—â–µ –Ω–µ –≤—ã–ø—É—â–µ–Ω–∞ –≤ —Å–µ—Ä–≤–µ—Ä–µ ClickHouse)
5. –ù–∞–∫–æ–Ω–µ—Ü, –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –∫–ª–∏–µ–Ω—Ç–∞ `apply_server_timezone` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ True (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å —Å–µ—Ä–≤–µ—Ä–∞ ClickHouse.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω—è–µ–º—ã–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –ø–æ —ç—Ç–∏–º –ø—Ä–∞–≤–∏–ª–∞–º ‚Äî UTC, `clickhouse-connect` _–≤—Å–µ–≥–¥–∞_ –≤–µ—Ä–Ω–µ—Ç naiv–Ω—ã–π –æ–±—ä–µ–∫—Ç Python `datetime.datetime`. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ –∑–∞—Ç–µ–º –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫ —ç—Ç–æ–º—É naiv –æ–±—ä–µ–∫—Ç—É –ø–æ—á–∞—Å–æ–≤–æ–º—É –∫–æ–¥—É, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.

## Inserting Data with ClickHouse Connect:  Advanced Usage {#inserting-data-with-clickhouse-connect--advanced-usage}
### InsertContexts {#insertcontexts}

ClickHouse Connect –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –≤—Å—Ç–∞–≤–∫–∏ –≤ —Ä–∞–º–∫–∞—Ö InsertContext. InsertContext –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –º–µ—Ç–æ–¥—É –∫–ª–∏–µ–Ω—Ç–∞ `insert`. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –∫–æ–≥–¥–∞ InsertContext –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è, ClickHouse Connect –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–æ–ª–æ–Ω–æ–∫ –≤—Å—Ç–∞–≤–∫–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö –≤—Å—Ç–∞–≤–æ–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Native. –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ InsertContext –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤—Å—Ç–∞–≤–æ–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ "–ø—Ä–µ–ø—Ä–æ–µ–∫—Ç–∞" –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—Å—Ç–∞–≤–∫–∏ –±—ã—Å—Ç—Ä–µ–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ.

InsertContext –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞ `create_insert_context`. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ –∂–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, —á—Ç–æ –∏ —Ñ—É–Ω–∫—Ü–∏—è `insert`. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –∏–∑–º–µ–Ω—è—Ç—å —Å–ª–µ–¥—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–π—Å—Ç–≤–æ `data` InsertContext –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –≠—Ç–æ —Å–æ–≥–ª–∞—Å—É–µ—Ç—Å—è —Å –µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã—Ö –≤—Å—Ç–∞–≤–æ–∫ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Ç—É –∂–µ —Ç–∞–±–ª–∏—Ü—É.

```python
test_data = [[1, 'v1', 'v2'], [2, 'v3', 'v4']]
ic = test_client.create_insert_context(table='test_table', data='test_data')
client.insert(context=ic)
assert client.command('SELECT count() FROM test_table') == 2
new_data = [[3, 'v5', 'v6'], [4, 'v7', 'v8']]
ic.data = new_data
client.insert(context=ic)
qr = test_client.query('SELECT * FROM test_table ORDER BY key DESC')
assert qr.row_count == 4
assert qr[0][0] == 4
```

InsertContexts –≤–∫–ª—é—á–∞—é—Ç –∏–∑–º–µ–Ω—è–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—Å—Ç–∞–≤–∫–∏, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∏ –Ω–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤.

### Write Formats {#write-formats}
–§–æ—Ä–º–∞—Ç—ã –∑–∞–ø–∏—Å–∏ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ —Ç–∏–ø–æ–≤. –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ ClickHouse Connect –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏ –¥–ª—è –∫–æ–ª–æ–Ω–∫–∏, –ø—Ä–æ–≤–µ—Ä—è—è —Ç–∏–ø –ø–µ—Ä–≤–æ–≥–æ (–Ω–µ–Ω—É–ª–µ–≤–æ–≥–æ) –∑–Ω–∞—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–ª–æ–Ω–∫—É DateTime, –∏ –ø–µ—Ä–≤–æ–µ –≤—Å—Ç–∞–≤–ª—è–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º Python, ClickHouse Connect –Ω–∞–ø—Ä—è–º—É—é –≤—Å—Ç–∞–≤–∏—Ç —ç—Ç–æ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ, –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—è, —á—Ç–æ —ç—Ç–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —ç–ø–æ—Ö–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö.

–í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏ –¥–ª—è —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö, –Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã –≤ –ø–∞–∫–µ—Ç–µ `clickhouse_connect.datatypes.format` –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –¥–ª—è —ç—Ç–æ–≥–æ –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ–º —É—Ä–æ–≤–Ω–µ.

#### Write Format Options {#write-format-options}

| ClickHouse Type       | Native Python Type    | Write Formats | Comments                                                                                                    |
|-----------------------|-----------------------|---------------|-------------------------------------------------------------------------------------------------------------|
| Int[8-64], UInt[8-32] | int                   | -             |                                                                                                             |
| UInt64                | int                   |               |                                                                                                             |
| [U]Int[128,256]       | int                   |               |                                                                                                             |
| Float32               | float                 |               |                                                                                                             |
| Float64               | float                 |               |                                                                                                             |
| Decimal               | decimal.Decimal       |               |                                                                                                             |
| String                | string                |               |                                                                                                             |
| FixedString           | bytes                 | string        | –ï—Å–ª–∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∞–π—Ç—ã –±—É–¥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ –Ω—É–ª–∏                                  |
| Enum[8,16]            | string                |               |                                                                                                             |
| Date                  | datetime.date         | int           | ClickHouse —Ö—Ä–∞–Ω–∏—Ç –¥–∞—Ç—ã –∫–∞–∫ –¥–Ω–∏ —Å 01/01/1970. –¢–∏–ø—ã int –±—É–¥—É—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ–º "–¥–∞—Ç—ã —ç–ø–æ—Ö–∏"                |
| Date32                | datetime.date         | int           | –¢–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –∏ Date, –Ω–æ –¥–ª—è –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–∞—Ç                                               |
| DateTime              | datetime.datetime     | int           | ClickHouse —Ö—Ä–∞–Ω–∏—Ç DateTime –≤ —ç–ø–æ—Ö–µ —Å–µ–∫—É–Ω–¥–∞—Ö. –¢–∏–ø—ã int –±—É–¥—É—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ–º "–≤—Ç–æ—Ä–æ–π —ç–ø–æ—Ö–∏"              |
| DateTime64            | datetime.datetime     | int           | Python datetime.datetime –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥. –ó–Ω–∞—á–µ–Ω–∏–µ —Å—ã—Ä—ã—Ö 64 –±–∏—Ç –¥–æ—Å—Ç—É–ø–Ω–æ                 |
| IPv4                  | `ipaddress.IPv4Address` | string        | –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—Å—Ç–∞–≤–ª–µ–Ω—ã –∫–∞–∫ IP-–∞–¥—Ä–µ—Å–∞                                     |
| IPv6                  | `ipaddress.IPv6Address` | string        | –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—Å—Ç–∞–≤–ª–µ–Ω—ã –∫–∞–∫ IP-–∞–¥—Ä–µ—Å–∞                                     |
| Tuple                 | dict or tuple         |               |                                                                                                             |
| Map                   | dict                  |               |                                                                                                             |
| Nested                | Sequence[dict]        |               |                                                                                                             |
| UUID                  | uuid.UUID             | string        | –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—Å—Ç–∞–≤–ª–µ–Ω—ã –∫–∞–∫ UUID ClickHouse                                 |
| JSON/Object('json')   | dict                  | string        | –í JSON-–∫–æ–ª–æ–Ω–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—Å—Ç–∞–≤–ª–µ–Ω—ã –∫–∞–∫ —Å–ª–æ–≤–∞—Ä–∏, —Ç–∞–∫ –∏ JSON-—Å—Ç—Ä–æ–∫–∏ (–∑–∞–º–µ—Ç—å—Ç–µ, —á—Ç–æ `Object('json')` —É—Å—Ç–∞—Ä–µ–ª–æ) |
| Variant               | object                |               | –í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ –∏ —Ä–∞–∑–±–∏—Ä–∞—é—Ç—Å—è —Å–µ—Ä–≤–µ—Ä–æ–º ClickHouse                      |
| Dynamic               | object                |               | –í–Ω–∏–º–∞–Ω–∏–µ -- –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –ª—é–±—ã–µ –≤—Å—Ç–∞–≤–∫–∏ –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –∫–æ–ª–æ–Ω–∫—É —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞ ClickHouse        |

## Additional Options {#additional-options}

ClickHouse Connect –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä—è–¥ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

### Global Settings {#global-settings}

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ–±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –≥–ª–æ–±–∞–ª—å–Ω–æ —É–ø—Ä–∞–≤–ª—è—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º ClickHouse Connect. –û–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è –ø–∞–∫–µ—Ç–∞ `common`:

```python
from clickhouse_connect import common

common.set_setting('autogenerate_session_id', False)
common.get_setting('invalid_setting_action')
'drop'
```

:::note
–≠—Ç–∏ –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `autogenerate_session_id`, `product_name` –∏ `readonly` _–≤—Å–µ–≥–¥–∞_ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `clickhouse_connect.get_client`. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —ç—Ç–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ –Ω–µ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.
:::

–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –¥–µ—Å—è—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:

| Setting Name            | Default | Options                 | Description                                                                                                                                                                                                                                                   |
|-------------------------|---------|-------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| autogenerate_session_id | True    | True, False             | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π UUID(1) –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏ (–µ—Å–ª–∏ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω) –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞. –ï—Å–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω (–ª–∏–±–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞, –ª–∏–±–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∑–∞–ø—Ä–æ—Å–∞), ClickHouse —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ |
| invalid_setting_action  | 'error' | 'drop', 'send', 'error' | –î–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –ø—Ä–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–π –∏–ª–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–ª–∏–±–æ –¥–ª—è —Å–µ—Å—Å–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞, –ª–∏–±–æ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞). –ï—Å–ª–∏ `drop`, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±—É–¥–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –µ—Å–ª–∏ `send`, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ ClickHouse, –µ—Å–ª–∏ `error` –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –æ—à–∏–±–∫–∞ ProgrammingError –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ |
| dict_parameter_format   | 'json'  | 'json', 'map'           | –≠—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç, –±—É–¥—É—Ç –ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å —Å–ª–æ–≤–∞—Ä—å Python –≤ JSON –∏–ª–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–∞—Ä—Ç—ã ClickHouse. `json` —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≤—Å—Ç–∞–≤–æ–∫ –≤ JSON –∫–æ–ª–æ–Ω–∫–∏, `map` –¥–ª—è –∫–æ–ª–æ–Ω–æ–∫ –∫–∞—Ä—Ç—ã ClickHouse                                              |
| product_name            |         |                         | –°—Ç—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –∑–∞–ø—Ä–æ—Å–æ–º –≤ ClickHouse –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–≥–æ ClickHouse Connect. –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –≤–∏–¥–µ &lt;–∏–º—è –ø—Ä–æ–¥—É–∫—Ç–∞;&gl/&lt;–≤–µ—Ä—Å–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞&gt;                                                      |
| max_connection_age      | 600     |                         | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö), –≤ —Ç–µ—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ HTTP Keep Alive –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã–º/–ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–∫–æ–ø–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ –æ–¥–Ω–æ–º—É —É–∑–ª—É ClickHouse –∑–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–æ–º –Ω–∞–≥—Ä—É–∑–∫–∏/–ø—Ä–æ–∫—Å–∏. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 10 –º–∏–Ω—É—Ç.                   |
| readonly                | 0       | 0, 1                    | –ü–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ–º—ã–µ "—Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è" –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ClickHouse –¥–ª—è –≤–µ—Ä—Å–∏–π –¥–æ 19.17. –ú–æ–≥—É—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∑–Ω–∞—á–µ–Ω–∏—é ClickHouse "read_only" –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫, —á—Ç–æ–±—ã –ø–æ–∑–≤–æ–ª–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –æ—á–µ–Ω—å —Å—Ç–∞—Ä—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ ClickHouse                                          |
| use_protocol_version    | True    | True, False             | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ—Ä—Å–∏—é –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞. –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –∫–æ–ª–æ–Ω–æ–∫ DateTime —Å —É—á–µ—Ç–æ–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–µ–π chproxy                                                                                                          |
| max_error_size          | 1024    |                         | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω–æ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –æ–± –æ—à–∏–±–∫–∞—Ö –∫–ª–∏–µ–Ω—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 0 –¥–ª—è —ç—Ç–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ ClickHouse. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 1024 —Å–∏–º–≤–æ–ª–∞.                                                |
| send_os_user            | True    | True, False             | –í–∫–ª—é—á–∏—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∏–µ–Ω—Ç–µ, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—É—é –≤ ClickHouse (HTTP —Å—Ç—Ä–æ–∫–∞ User-Agent)                                                                                                                     |
| http_buffer_size        | 10MB    |                         | –†–∞–∑–º–µ—Ä (–≤ –±–∞–π—Ç–∞—Ö) "–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ" –±—É—Ñ–µ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –¥–ª—è HTTP –ø–æ—Ç–æ–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤                                                                                                                                                                           |
### –°–∂–∞—Ç–∏–µ {#compression}

ClickHouse Connect –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–∂–∞—Ç–∏–µ lz4, zstd, brotli –∏ gzip –∫–∞–∫ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤, —Ç–∞–∫ –∏ –¥–ª—è –≤—Å—Ç–∞–≤–æ–∫. –í—Å–µ–≥–¥–∞ –∏–º–µ–π—Ç–µ –≤ –≤–∏–¥—É, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∂–∞—Ç–∏—è –æ–±—ã—á–Ω–æ —Å–≤—è–∑–∞–Ω–æ —Å –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–º –º–µ–∂–¥—É –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å—é —Å–µ—Ç–∏/—Å–∫–æ—Ä–æ—Å—Ç—å—é –ø–µ—Ä–µ–¥–∞—á–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CPU (–∫–∞–∫ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ, —Ç–∞–∫ –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ).

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å —Å–∂–∞—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ, —Å–µ—Ä–≤–µ—Ä ClickHouse –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `enable_http_compression` —Ä–∞–≤–Ω—ã–π 1, –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏–∑–º–µ–Ω—è—Ç—å —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–∞ "–ø–æ –∑–∞–ø—Ä–æ—Å—É".

–°–∂–∞—Ç–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `compress` –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ñ–∞–±—Ä–∏—á–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ `clickhouse_connect.get_client`. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `compress` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `True`, —á—Ç–æ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∂–∞—Ç–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –î–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã—Ö —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞ `query`, `query_np` –∏ `query_df`, ClickHouse Connect –¥–æ–±–∞–≤–∏—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Accept-Encoding` —Å –∫–æ–¥–∏—Ä–æ–≤–∫–∞–º–∏ `lz4`, `zstd`, `br` (brotli, –µ—Å–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ brotli —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞), `gzip` –∏ `deflate` –∫ –∑–∞–ø—Ä–æ—Å–∞–º, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ –∫–ª–∏–µ–Ω—Ç–∞ `query` (–∏ –∫–æ—Å–≤–µ–Ω–Ω–æ, `query_np` –∏ `query_df`). (–î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–µ—Ä–≤–µ—Ä ClickHouse –≤–µ—Ä–Ω–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É, —Å–∂–∞—Ç—É—é —Å –ø–æ–º–æ—â—å—é `zstd`.) –î–ª—è –≤—Å—Ç–∞–≤–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ClickHouse Connect –±—É–¥–µ—Ç —Å–∂–∏–º–∞—Ç—å –±–ª–æ–∫–∏ –≤—Å—Ç–∞–≤–æ–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–∂–∞—Ç–∏—è `lz4` –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ HTTP `Content-Encoding: lz4`.

–ü–∞—Ä–∞–º–µ—Ç—Ä `compress` –º–µ—Ç–æ–¥–∞ `get_client` —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–µ—Ç–æ–¥ —Å–∂–∞—Ç–∏—è: `lz4`, `zstd`, `br` –∏–ª–∏ `gzip`. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –¥–ª—è –≤—Å—Ç–∞–≤–æ–∫, —Ç–∞–∫ –∏ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ (–µ—Å–ª–∏ —ç—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å–µ—Ä–≤–µ—Ä–æ–º ClickHouse). –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å–∂–∞—Ç–∏—è `zstd` –∏ `lz4` —Ç–µ–ø–µ—Ä—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å ClickHouse Connect. –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω `br`/brotli, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ brotli –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º–µ—Ç–æ–¥—ã –∫–ª–∏–µ–Ω—Ç–∞ `raw*` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–∂–∞—Ç–∏–µ, —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞.

–ú—ã —Ç–∞–∫–∂–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∂–∞—Ç–∏–µ `gzip`, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏ –∫–∞–∫ –¥–ª—è —Å–∂–∞—Ç–∏—è, —Ç–∞–∫ –∏ –¥–ª—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTTP-–ø—Ä–æ–∫—Å–∏ {#http-proxy-support}

ClickHouse Connect –¥–æ–±–∞–≤–ª—è–µ—Ç –±–∞–∑–æ–≤—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É HTTP-–ø—Ä–æ–∫—Å–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `urllib3`. –û–Ω–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `HTTP_PROXY` –∏ `HTTPS_PROXY`. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –∫–æ –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º, —Å–æ–∑–¥–∞–Ω–Ω—ã–º —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `clickhouse_connect.get_client`. –í –∫–∞—á–µ—Å—Ç–≤–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã, —á—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ –∫–∞–∂–¥–æ–º—É –∫–ª–∏–µ–Ω—Ç—É, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã `http_proxy` –∏–ª–∏ `https_proxy` –¥–ª—è –º–µ—Ç–æ–¥–∞ get_client. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö –ø–æ–¥–¥–µ—Ä–∂–∫–∏ HTTP-–ø—Ä–æ–∫—Å–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é [urllib3](https://urllib3.readthedocs.io/en/stable/advanced-usage.html#http-and-https-proxies).

–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏ Socks, –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å `urllib3` SOCKSProxyManager –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ `pool_mgr` –¥–ª—è `get_client`. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É PySocks –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é, –∏–ª–∏ —Å –ø–æ–º–æ—â—å—é –æ–ø—Ü–∏–∏ `[socks]` –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `urllib3`.

### "–°—Ç–∞—Ä—ã–π" —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö JSON {#old-json-data-type}

–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö `Object` (–∏–ª–∏ `Object('json')`) —É—Å—Ç–∞—Ä–µ–ª –∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑–±–µ–≥–∞–µ–º –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ä–µ–¥–µ. ClickHouse Connect –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —ç—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–∂–∏–¥–∞—é—Ç –≤–µ—Ä–Ω—É—Ç—å "–≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å" –∏–ª–∏ "—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ" JSON-–∑–Ω–∞—á–µ–Ω–∏—è –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä–µ–π –∏–ª–∏ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–æ–≤, –∏ —Ç–∞–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏–≤–µ–¥—É—Ç –∫ –∏—Å–∫–ª—é—á–µ–Ω–∏—é.

### "–ù–æ–≤—ã–µ" —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö Variant/Dynamic/JSON (–≠–∫—Å–ø–µ—Ä–∏–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è) {#new-variantdynamicjson-datatypes-experimental-feature}

–ù–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ 0.8.0, `clickhouse-connect` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–æ–≤—ã—Ö (—Ç–∞–∫–∂–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö) —Ç–∏–ø–æ–≤ ClickHouse: Variant, Dynamic –∏ JSON.

#### –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é {#usage-notes}
- –î–∞–Ω–Ω—ã–µ JSON –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å –∫–∞–∫ Python-—Å–ª–æ–≤–∞—Ä—å, —Ç–∞–∫ –∏ –∫–∞–∫ —Å—Ç—Ä–æ–∫—É JSON, —Å–æ–¥–µ—Ä–∂–∞—â—É—é JSON-–æ–±—ä–µ–∫—Ç `{}`. –î—Ä—É–≥–∏–µ —Ñ–æ—Ä–º—ã –¥–∞–Ω–Ω—ã—Ö JSON –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è.
- –ó–∞–ø—Ä–æ—Å—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ –ø–æ–¥–ø–æ–ª—è/–ø—É—Ç–∏ –¥–ª—è —ç—Ç–∏—Ö —Ç–∏–ø–æ–≤, –±—É–¥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–∏–ø –ø–æ–¥–∫–æ–ª–æ–Ω–∫–∏.
- –°–º. –æ—Å–Ω–æ–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é ClickHouse –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–º–µ—á–∞–Ω–∏–π –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

#### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: {#known-limitations}
- –ö–∞–∂–¥—ã–π –∏–∑ —ç—Ç–∏—Ö —Ç–∏–ø–æ–≤ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö ClickHouse –ø–µ—Ä–µ–¥ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º.
- "–ù–æ–≤—ã–π" —Ç–∏–ø JSON –¥–æ—Å—Ç—É–ø–µ–Ω, –Ω–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ ClickHouse 24.8.
- –ò–∑-–∑–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç–∞ `clickhouse-connect` —Å–æ–≤–º–µ—Å—Ç–∏–º —Ç–æ–ª—å–∫–æ —Å —Ç–∏–ø–∞–º–∏ Variant, –Ω–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ ClickHouse 24.7.
- –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ JSON-–æ–±—ä–µ–∫—Ç—ã –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ `max_dynamic_paths` –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1024). –≠—Ç–æ –±—É–¥–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ä–µ–ª–∏–∑–µ.
- –í—Å—Ç–∞–≤–∫–∏ –≤ —Å—Ç–æ–ª–±—Ü—ã `Dynamic` –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏—è Python. –≠—Ç–æ –±—É–¥–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –±—É–¥—É—â–µ–º —Ä–µ–ª–∏–∑–µ, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ https://github.com/ClickHouse/ClickHouse/issues/70395.
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –Ω–µ –±—ã–ª–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –≤ C-–∫–æ–¥–µ, –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∏–∂–µ, —á–µ–º –¥–ª—è –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã—Ö, —É—Å—Ç–æ—è–≤—à–∏—Ö—Å—è —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö.
