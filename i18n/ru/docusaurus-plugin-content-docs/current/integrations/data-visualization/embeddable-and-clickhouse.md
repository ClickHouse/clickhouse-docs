---
sidebar_label: Встраиваемый
slug: /integrations/embeddable
keywords: [clickhouse, Встраиваемый, соединить, интегрировать, ui]
description: Встраиваемый - это инструмент для разработчиков, позволяющий создавать быстрые, интерактивные и полностью настраиваемые аналитические решения непосредственно в вашем приложении.
---

import ConnectionDetails from '@site/i18n/ru/docusaurus-plugin-content-docs/current/_snippets/_gather_your_details_http.mdx';


# Подключение Встраиваемого к ClickHouse

В [Встраиваемом](https://embeddable.com/) вы определяете [Модели Данных](https://trevorio.notion.site/Data-modeling-35637bbbc01046a1bc47715456bfa1d8) и [Компоненты](https://trevorio.notion.site/Using-components-761f52ac2d0743b488371088a1024e49) в коде (хранящемся в вашем собственном репозитории) и используете наш **SDK**, чтобы сделать их доступными для вашей команды в мощном безкодовом конструкторе Встраиваемого.

Конечный результат - возможность предоставлять быстрые, интерактивные аналитические решения, ориентированные на клиента, непосредственно в вашем продукте; разработанные вашей продуктовой командой; созданные вашей инженерной командой; поддерживаемые вашими командами, работающими с клиентами и данными. Именно так, как и должно быть.

Встроенная безопасность на уровне строк означает, что каждый пользователь видит только те данные, которые ему разрешено видеть. А два уровня полностью настраиваемого кэширования позволяют предоставлять быстрые, актуальные аналитические данные в большом масштабе.

## 1. Соберите данные для подключения {#1-gather-your-connection-details}
<ConnectionDetails />

## 2. Создайте тип подключения к ClickHouse {#2-create-a-clickhouse-connection-type}

Вы добавляете подключение к базе данных с помощью API Встраиваемого. Это соединение используется для подключения к вашей службе ClickHouse. Вы можете добавить соединение, используя следующий вызов API:

```javascript
// по соображениям безопасности, это *никогда* не должно вызываться с вашей клиентской стороны
fetch('https://api.embeddable.com/api/v1/connections', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    Accept: 'application/json',
    Authorization: `Bearer ${apiKey}` /* храните ваш API Key в безопасности */,
  },
  body: JSON.stringify({
    name: 'my-clickhouse-db',
    type: 'clickhouse',
    credentials: {
      host: 'my.clickhouse.host',
      user: 'clickhouse_user',
      port: 8443,
      password: '*****',
    },
  }),
});


Response:
Status 201 { errorMessage: null }
```

Выше представлено действие `CREATE`, но все операции `CRUD` доступны.

`apiKey` можно найти, кликнув на "**Опубликовать**" на одной из ваших панелей инструментов Встраиваемого.

`name` - это уникальное имя для идентификации этого соединения.
- По умолчанию ваши модели данных будут искать соединение с именем "default", но вы можете снабдить ваши модели различными именами `data_source`, чтобы поддерживать подключение различных моделей данных к различным соединениям (просто укажите имя data_source в модели)

`type` сообщает Встраиваемому, какой драйвер использовать

- Здесь вы захотите использовать `clickhouse`, но вы можете подключить несколько различных источников данных к одной рабочей области Встраиваемого, так что вы можете использовать и другие, такие как: `postgres`, `bigquery`, `mongodb` и т.д.

`credentials` - это объект JavaScript, содержащий необходимые учетные данные, ожидаемые драйвером
- Эти данные надежно зашифрованы и используются только для извлечения именно тех данных, которые вы описали в ваших моделях данных.
Встраиваемый настоятельно рекомендует создать пользователя базы данных только для чтения для каждого соединения (Встраиваемый будет только читать из вашей базы данных, а не запись).

Для поддержки подключения к различным базам данных для продакшна, QA, тестирования и т.д. (или для поддержки различных баз данных для разных клиентов) вы можете присвоить каждое соединение окружению (см. [API Окружений](https://www.notion.so/Environments-API-497169036b5148b38f7936aa75e62949?pvs=21)).
