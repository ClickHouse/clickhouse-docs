---
sidebar_label: Советы по подключению
sidebar_position: 3
slug: /integrations/tableau/connection-tips
keywords: [clickhouse, tableau, online, mysql, connect, integrate, ui]
description: Советы по подключению Tableau при использовании официального соединителя ClickHouse.
---


# Советы по подключению
## Вкладка начального SQL {#initial-sql-tab}
Если флажок *Установить идентификатор сеанса* активирован на вкладке Дополнительно (по умолчанию), вы можете настроить параметры уровня сеанса [settings](/operations/settings/settings/) с помощью
```text
SET my_setting=value;
``` 
## Вкладка Дополнительно {#advanced-tab}

В 99% случаев вам не нужна вкладка Дополнительно, для оставшихся 1% вы можете использовать следующие настройки:
- **Пользовательские параметры подключения**. По умолчанию уже указан `socket_timeout`, этот параметр может потребоваться изменить, если некоторые извлечения обновляются очень долго. Значение этого параметра указывается в миллисекундах. Остальные параметры можно найти [здесь](https://github.com/ClickHouse/clickhouse-jdbc/blob/master/clickhouse-client/src/main/java/com/clickhouse/client/config/ClickHouseClientOption.java), добавьте их в это поле, разделяя запятыми
- **Пользовательские http_параметры JDBC драйвера**. Это поле позволяет добавить некоторые параметры в строку подключения ClickHouse, передав значения в [`custom_http_params` параметр драйвера](https://github.com/ClickHouse/clickhouse-jdbc#configuration). Например, так указывается `session_id`, когда активирован флажок *Установить идентификатор сеанса*
- **`typeMappings` JDBC драйвера**. Это поле позволяет вам [передать список сопоставлений типов данных ClickHouse с типами данных Java, используемыми JDBC драйвером](https://github.com/ClickHouse/clickhouse-jdbc#configuration). Благодаря этому параметру соединитель автоматически отображает большие целые числа как строки, вы можете изменить это, передав ваш набор сопоставлений *(Я не знаю почему)* с помощью
    ```text
    UInt256=java.lang.Double,Int256=java.lang.Double
    ```
  Узнайте больше о сопоставлении в соответствующем разделе

- **Параметры URL JDBC драйвера**. Вы можете передать оставшиеся [параметры драйвера](https://github.com/ClickHouse/clickhouse-jdbc#configuration), например `jdbcCompliance`, в этом поле. Будьте осторожны, значения параметров должны передаваться в URL закодированном формате, а в случае передачи `custom_http_params` или `typeMappings` в этом поле и в предыдущих полях вкладки Дополнительно, значения двух предыдущих полей на вкладке Дополнительно имеют более высокий приоритет
- **Флажок Установить идентификатор сеанса**. Он нужен для настройки параметров уровня сеанса во вкладке Начальный SQL, генерирует `session_id` с временной меткой и псевдослучайным числом в формате `"tableau-jdbc-connector-*{timestamp}*-*{number}*"`
## Ограниченная поддержка типов данных UInt64, Int128, (U)Int256 {#limited-support-for-uint64-int128-uint256-data-types}
По умолчанию драйвер отображает поля типов *UInt64, Int128, (U)Int256* как строки, **но он отображает, а не конвертирует**. Это означает, что когда вы пытаетесь записать следующее вычисляемое поле, вы получите ошибку
```text
LEFT([myUInt256], 2) // Ошибка!
```
Для работы с большими целыми полями как со строками необходимо явно обернуть поле в функцию STR()

```text
LEFT(STR([myUInt256]), 2) // Работает хорошо!
```

Однако такие поля чаще всего используются для подсчета количества уникальных значений *(ID, как Watch ID, Visit ID в Яндекс.Метрике)* или как *Размерность* для указания детализации визуализации, это работает хорошо.

```text
COUNTD([myUInt256]) // Работает хорошо тоже!
```
При использовании предварительного просмотра данных (Просмотр данных) таблицы с полями UInt64 ошибка теперь не появляется.
