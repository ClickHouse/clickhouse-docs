---
sidebar_position: 1
sidebar_label: 'Создание таблиц'
title: 'Создание таблиц в ClickHouse'
slug: /guides/creating-tables
description: 'Руководство по созданию таблиц в ClickHouse'
keywords: ['создание таблиц', 'CREATE TABLE', 'создание таблицы', 'руководство по базе данных', 'движок MergeTree']
doc_type: 'guide'
---



# Создание таблиц в ClickHouse

Как и в большинстве СУБД, в ClickHouse таблицы логически группируются в **базы данных**. Для создания новой базы данных в ClickHouse используйте команду `CREATE DATABASE`:

```sql
CREATE DATABASE IF NOT EXISTS helloworld
```

Аналогично, используйте `CREATE TABLE` для создания новой таблицы. Если имя базы данных не указано, таблица будет создана в базе данных
`default`.

Следующая таблица с именем `my_first_table` создаётся в базе данных `helloworld`:

```sql
CREATE TABLE helloworld.my_first_table
(
    user_id UInt32,
    message String,
    timestamp DateTime,
    metric Float32
)
ENGINE = MergeTree()
PRIMARY KEY (user_id, timestamp)
```

В приведенном выше примере `my_first_table` — это таблица `MergeTree` с четырьмя столбцами:

* `user_id`: 32-битное беззнаковое целое число
* `message`: тип данных `String`, который заменяет такие типы, как `VARCHAR`, `BLOB`, `CLOB` и другие из других СУБД
* `timestamp`: значение `DateTime`, представляющее момент времени
* `metric`: 32-битное число с плавающей точкой

:::note
Движок таблицы определяет:

* Как и где хранятся данные
* Какие запросы поддерживаются
* Реплицируются ли данные

Существует множество движков на выбор, но для простой таблицы на одноузловом сервере ClickHouse оптимальным выбором будет [MergeTree](/engines/table-engines/mergetree-family/mergetree.md).
:::


## Краткое введение в первичные ключи {#a-brief-intro-to-primary-keys}

Прежде чем продолжить, важно понять, как работают первичные ключи в ClickHouse (их реализация
может показаться неожиданной!):

- первичные ключи в ClickHouse **_не уникальны_** для каждой строки таблицы

Первичный ключ таблицы ClickHouse определяет порядок сортировки данных при записи на диск. Каждые 8 192 строки или 10 МБ
данных (так называемая **гранулярность индекса**) создают запись в файле индекса первичного ключа. Благодаря концепции гранулярности
формируется **разреженный индекс**, который легко помещается в памяти, а гранулы представляют собой минимальный объём
данных столбца, обрабатываемый при выполнении запросов `SELECT`.

Первичный ключ можно определить с помощью параметра `PRIMARY KEY`. Если таблица определена без указания `PRIMARY KEY`,
то в качестве ключа используется кортеж, указанный в секции `ORDER BY`. Если указаны и `PRIMARY KEY`, и `ORDER BY`, первичный ключ должен быть префиксом порядка сортировки.

Первичный ключ также является ключом сортировки, который представляет собой кортеж `(user_id, timestamp)`. Следовательно, данные в каждом
файле столбца будут отсортированы сначала по `user_id`, затем по `timestamp`.

:::tip
Для получения более подробной информации ознакомьтесь с [учебным модулем по моделированию данных](https://learn.clickhouse.com/visitor_catalog_class/show/1328860/?utm_source=clickhouse&utm_medium=docs) в ClickHouse Academy.
:::
