---
slug: /about-us/distinctive-features
sidebar_label: 'Чем ClickHouse отличается?'
sidebar_position: 50
description: 'Узнайте, чем ClickHouse отличается от других систем управления базами данных'
title: 'Отличительные особенности ClickHouse'
keywords: ['compression', 'secondary-indexes','column-oriented']
doc_type: 'guide'
---



# Отличительные особенности ClickHouse



## Настоящая колоночная система управления базами данных {#true-column-oriented-database-management-system}

В настоящей колоночной СУБД никакие дополнительные данные не хранятся вместе со значениями. Это означает, что должна быть обеспечена поддержка значений фиксированной длины, чтобы избежать хранения их длины «числом» рядом со значениями. Например, миллиард значений типа UInt8 должен занимать около 1 ГБ в несжатом виде, иначе это существенно влияет на использование процессора. Критически важно хранить данные компактно (без какого-либо «мусора») даже в несжатом виде, поскольку скорость распаковки (использование процессора) зависит главным образом от объёма несжатых данных.

Это контрастирует с системами, которые могут хранить значения различных колонок раздельно, но не способны эффективно обрабатывать аналитические запросы из-за оптимизации под другие сценарии, такими как HBase, Bigtable, Cassandra и Hypertable. В этих системах вы получите пропускную способность около ста тысяч строк в секунду, но не сотни миллионов строк в секунду.

Наконец, ClickHouse — это система управления базами данных, а не отдельная база данных. Она позволяет создавать таблицы и базы данных во время выполнения, загружать данные и выполнять запросы без переконфигурирования и перезапуска сервера.


## Сжатие данных {#data-compression}

Некоторые колоночные СУБД не используют сжатие данных. Однако сжатие данных играет ключевую роль в достижении высокой производительности.

Помимо эффективных универсальных кодеков сжатия с различными компромиссами между использованием дискового пространства и нагрузкой на процессор, ClickHouse предоставляет [специализированные кодеки](/sql-reference/statements/create/table.md#specialized-codecs) для конкретных типов данных, что позволяет ClickHouse конкурировать и превосходить более узкоспециализированные базы данных, например, базы данных временных рядов.


## Хранение данных на диске {#disk-storage-of-data}

Физическая сортировка данных по первичному ключу позволяет извлекать данные по конкретным значениям или диапазонам значений с низкой задержкой — менее нескольких десятков миллисекунд. Некоторые колоночные СУБД, такие как SAP HANA и Google PowerDrill, могут работать только в оперативной памяти. Такой подход требует выделения большего бюджета на оборудование, чем необходимо для анализа в реальном времени.

ClickHouse спроектирован для работы на обычных жестких дисках, что означает низкую стоимость хранения данных в расчете на гигабайт. При этом SSD и дополнительная оперативная память также полностью используются, если доступны.


## Параллельная обработка на нескольких ядрах {#parallel-processing-on-multiple-cores}

Большие запросы автоматически распараллеливаются с использованием всех доступных ресурсов текущего сервера.


## Распределённая обработка на нескольких серверах {#distributed-processing-on-multiple-servers}

Практически ни одна из упомянутых выше колоночных СУБД не поддерживает распределённую обработку запросов.

В ClickHouse данные могут размещаться на разных шардах. Каждый шард может представлять собой группу реплик для обеспечения отказоустойчивости. Все шарды используются для параллельного выполнения запросов прозрачно для пользователя.


## Поддержка SQL {#sql-support}

ClickHouse поддерживает [декларативный язык запросов](/sql-reference/) на основе SQL, который в основном совместим со стандартом ANSI SQL.

Поддерживаются запросы с [GROUP BY](../sql-reference/statements/select/group-by.md), [ORDER BY](../sql-reference/statements/select/order-by.md), подзапросы в [FROM](../sql-reference/statements/select/from.md), конструкция [JOIN](../sql-reference/statements/select/join.md), оператор [IN](../sql-reference/operators/in.md), [оконные функции](../sql-reference/window-functions/index.md) и скалярные подзапросы.

Коррелированные (зависимые) подзапросы в настоящее время не поддерживаются, но могут быть добавлены в будущем.


## Векторный вычислительный движок {#vector-engine}

Данные не только хранятся по столбцам, но и обрабатываются векторами (частями столбцов), что позволяет достичь высокой эффективности работы процессора.


## Вставка данных в реальном времени {#real-time-data-updates}

ClickHouse поддерживает таблицы с первичным ключом. Для быстрого выполнения запросов по диапазону первичного ключа данные инкрементально сортируются с помощью дерева слияний. Благодаря этому данные могут непрерывно добавляться в таблицу. При поступлении новых данных блокировки не применяются.


## Первичные индексы {#primary-index}

Физическая сортировка данных по первичному ключу позволяет извлекать данные по конкретным значениям или диапазонам значений с низкой задержкой — менее нескольких десятков миллисекунд.


## Вторичные индексы {#secondary-indexes}

В отличие от других систем управления базами данных, вторичные индексы в ClickHouse не указывают на конкретные строки или диапазоны строк. Вместо этого они позволяют базе данных заранее узнать, что все строки в некоторых частях данных не будут соответствовать условиям фильтрации запроса, и не читать их вовсе, поэтому они называются [индексами с пропуском данных](../engines/table-engines/mergetree-family/mergetree.md#table_engine-mergetree-data_skipping-indexes).


## Подходит для онлайн-запросов {#suitable-for-online-queries}

Большинство OLAP-систем управления базами данных не ориентированы на выполнение онлайн-запросов с задержкой менее секунды. В альтернативных системах время построения отчётов в десятки секунд или даже минуты часто считается приемлемым. Иногда это занимает ещё больше времени, что вынуждает системы готовить отчёты в офлайн-режиме (заранее или с ответом «зайдите позже»).

В ClickHouse «низкая задержка» означает, что запросы могут обрабатываться без задержки и без предварительной подготовки ответа, непосредственно в момент загрузки страницы пользовательского интерфейса — другими словами, _онлайн_.


## Поддержка приближённых вычислений {#support-for-approximated-calculations}

ClickHouse предоставляет различные способы повышения производительности за счёт точности:

1.  Агрегатные функции для приближённого вычисления количества уникальных значений, медиан и квантилей.
2.  Выполнение запроса на основе части ([SAMPLE](../sql-reference/statements/select/sample.md)) данных с получением приближённого результата. В этом случае с диска считывается пропорционально меньше данных.
3.  Выполнение агрегации для ограниченного числа случайных ключей вместо всех ключей. При определённых условиях распределения ключей в данных это обеспечивает достаточно точный результат при меньших затратах ресурсов.


## Адаптивный алгоритм соединения {#adaptive-join-algorithm}

ClickHouse адаптивно выбирает способ выполнения [JOIN](../sql-reference/statements/select/join.md) для нескольких таблиц, предпочитая hash join и переходя на merge join, если имеется более одной большой таблицы.


## Репликация данных и поддержка целостности данных {#data-replication-and-data-integrity-support}

ClickHouse использует асинхронную multi-master репликацию. После записи на любую доступную реплику все остальные реплики получают свою копию в фоновом режиме. Система поддерживает идентичность данных на разных репликах. Восстановление после большинства сбоев выполняется автоматически или полуавтоматически в сложных случаях.

Для получения дополнительной информации см. раздел [Репликация данных](../engines/table-engines/mergetree-family/replication.md).


## Управление доступом на основе ролей {#role-based-access-control}

ClickHouse реализует управление учетными записями пользователей с помощью SQL-запросов и позволяет настраивать [управление доступом на основе ролей](/guides/sre/user-management/index.md) аналогично стандарту ANSI SQL и популярным системам управления реляционными базами данных.


## Особенности, которые можно считать недостатками {#clickhouse-features-that-can-be-considered-disadvantages}

1.  Отсутствие полноценных транзакций.
2.  Невозможность изменения или удаления уже вставленных данных с высокой скоростью и низкой задержкой. Доступны пакетные операции удаления и обновления для очистки или изменения данных, например, для соблюдения требований [GDPR](https://gdpr-info.eu).
3.  Разреженный индекс делает ClickHouse менее эффективным для точечных запросов, извлекающих отдельные строки по ключам.
