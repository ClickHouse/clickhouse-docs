---
slug: /sql-reference/distributed-ddl
sidebar_position: 3
sidebar_label: Распределенные DDL
title: Запросы распределенного DDL (клавиша ON CLUSTER)
---

По умолчанию, запросы `CREATE`, `DROP`, `ALTER` и `RENAME` влияют только на текущий сервер, на котором они выполняются. В конфигурации кластера можно выполнять такие запросы в распределенном режиме с помощью клавиши `ON CLUSTER`.

Например, следующий запрос создает `Distributed` таблицу `all_hits` на каждом хосте в `cluster`:

``` sql
CREATE TABLE IF NOT EXISTS all_hits ON CLUSTER cluster (p Date, i Int32) ENGINE = Distributed(cluster, default, hits)
```

Для правильного выполнения этих запросов каждый хост должен иметь одинаковое определение кластера (для упрощения синхронизации конфигураций вы можете использовать подстановки из ZooKeeper). Они также должны подключаться к серверам ZooKeeper.

Локальная версия запроса в конечном итоге будет выполнена на каждом хосте в кластере, даже если некоторые хосты в данный момент недоступны.

:::important    
Порядок выполнения запросов внутри единственного хоста гарантирован.
:::
