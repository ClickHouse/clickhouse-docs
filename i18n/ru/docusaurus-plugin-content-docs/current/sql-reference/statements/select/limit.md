---
description: 'Документация по оператору LIMIT'
sidebar_label: 'LIMIT'
slug: /sql-reference/statements/select/limit
title: 'Оператор LIMIT'
doc_type: 'reference'
---



# Оператор LIMIT

`LIMIT m` позволяет выбрать первые `m` строк из результата.

`LIMIT n, m` позволяет выбрать `m` строк из результата после пропуска первых `n` строк. Синтаксис `LIMIT m OFFSET n` эквивалентен.

В приведённых выше стандартных формах `n` и `m` — неотрицательные целые числа.

Дополнительно поддерживаются отрицательные значения:

`LIMIT -m` выбирает последние `m` строк из результата.

`LIMIT -m OFFSET -n` выбирает последние `m` строк после пропуска последних `n` строк. Синтаксис `LIMIT -n, -m` эквивалентен.

Кроме того, поддерживается выбор доли результата:

`LIMIT m` — если 0 < m < 1, то возвращаются первые m * 100% строк.

`LIMIT m OFFSET n` — если 0 < m < 1 и 0 < n < 1, то возвращаются первые m * 100% результата после пропуска первых n * 100% строк. Синтаксис `LIMIT n, m` эквивалентен.

Примеры:
    • `LIMIT 0.1` — выбирает первые 10% результата.
    • `LIMIT 1 OFFSET 0.5` — выбирает медианную строку.
    • `LIMIT 0.25 OFFSET 0.5` — выбирает третий квартиль результата.

> **Note**
> • Доля должна быть числом [Float64](../../data-types/float.md) меньше 1 и больше нуля.
> • Если в результате вычисления получается дробное количество строк, оно округляется вверх до следующего целого числа.

> **Note**
> • Можно комбинировать стандартный LIMIT с дробным OFFSET и наоборот.
> • Можно комбинировать стандартный LIMIT с отрицательным OFFSET и наоборот.

Если отсутствует предложение [ORDER BY](../../../sql-reference/statements/select/order-by.md), которое явно сортирует результат, выбор строк для результата может быть произвольным и недетерминированным.

:::note    
Количество строк в результирующем наборе также может зависеть от настройки [limit](../../../operations/settings/settings.md#limit).
:::



## Модификатор LIMIT ... WITH TIES {#limit--with-ties-modifier}

При использовании модификатора `WITH TIES` для `LIMIT n[,m]` с указанием `ORDER BY expr_list` в результате будут возвращены первые `n` или `n,m` строк, а также все строки, у которых значения полей `ORDER BY` совпадают со значениями строки на позиции `n` для `LIMIT n` и `m` для `LIMIT n,m`.

> **Примечание**  
> • `WITH TIES` в настоящее время не поддерживается с отрицательным значением `LIMIT`.

Этот модификатор также можно комбинировать с [модификатором ORDER BY ... WITH FILL](/sql-reference/statements/select/order-by#order-by-expr-with-fill-modifier).

Например, следующий запрос

```sql
SELECT * FROM (
    SELECT number%50 AS n FROM numbers(100)
) ORDER BY n LIMIT 0, 5
```

возвращает

```text
┌─n─┐
│ 0 │
│ 0 │
│ 1 │
│ 1 │
│ 2 │
└───┘
```

но после применения модификатора `WITH TIES`

```sql
SELECT * FROM (
    SELECT number%50 AS n FROM numbers(100)
) ORDER BY n LIMIT 0, 5 WITH TIES
```

возвращается другой набор строк

```text
┌─n─┐
│ 0 │
│ 0 │
│ 1 │
│ 1 │
│ 2 │
│ 2 │
└───┘
```

так как строка номер 6 имеет то же значение «2» для поля `n`, что и строка номер 5
