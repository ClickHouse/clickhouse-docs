---
slug: '/sql-reference/statements/select/distinct'
sidebar_label: DISTINCT
description: 'Документация для DISTINCT оператора'
title: 'DISTINCT Оператор'
doc_type: reference
---
# Условие DISTINCT

Если указано `SELECT DISTINCT`, только уникальные строки останутся в результате запроса. Таким образом, только одна строка останется из всех наборов полностью совпадающих строк в результате.

Вы можете указать список колонок, которые должны иметь уникальные значения: `SELECT DISTINCT ON (column1, column2,...)`. Если колонки не указаны, принимаются во внимание все из них.

Рассмотрим таблицу:

```text
┌─a─┬─b─┬─c─┐
│ 1 │ 1 │ 1 │
│ 1 │ 1 │ 1 │
│ 2 │ 2 │ 2 │
│ 2 │ 2 │ 2 │
│ 1 │ 1 │ 2 │
│ 1 │ 2 │ 2 │
└───┴───┴───┘
```

Использование `DISTINCT` без указания колонок:

```sql
SELECT DISTINCT * FROM t1;
```

```text
┌─a─┬─b─┬─c─┐
│ 1 │ 1 │ 1 │
│ 2 │ 2 │ 2 │
│ 1 │ 1 │ 2 │
│ 1 │ 2 │ 2 │
└───┴───┴───┘
```

Использование `DISTINCT` с указанными колонками:

```sql
SELECT DISTINCT ON (a,b) * FROM t1;
```

```text
┌─a─┬─b─┬─c─┐
│ 1 │ 1 │ 1 │
│ 2 │ 2 │ 2 │
│ 1 │ 2 │ 2 │
└───┴───┴───┘
```

## DISTINCT и ORDER BY {#distinct-and-order-by}

ClickHouse поддерживает использование условий `DISTINCT` и `ORDER BY` для различных колонок в одном запросе. Условие `DISTINCT` выполняется перед условием `ORDER BY`.

Рассмотрим таблицу:

```text
┌─a─┬─b─┐
│ 2 │ 1 │
│ 1 │ 2 │
│ 3 │ 3 │
│ 2 │ 4 │
└───┴───┘
```

Выбор данных:

```sql
SELECT DISTINCT a FROM t1 ORDER BY b ASC;
```

```text
┌─a─┐
│ 2 │
│ 1 │
│ 3 │
└───┘
```

Выбор данных с различным направлением сортировки:

```sql
SELECT DISTINCT a FROM t1 ORDER BY b DESC;
```

```text
┌─a─┐
│ 3 │
│ 1 │
│ 2 │
└───┘
```

Строка `2, 4` была отрезана перед сортировкой.

Учитывайте эту специфику реализации при программировании запросов.

## Обработка NULL {#null-processing}

`DISTINCT` работает с [NULL](/sql-reference/syntax#null) так, как если бы `NULL` был конкретным значением, и `NULL==NULL`. Другими словами, в результатах `DISTINCT` разные комбинации с `NULL` возникают только однажды. Это отличается от обработки `NULL` в большинстве других контекстов.

## Альтернативы {#alternatives}

Можно получить такой же результат, применяя [GROUP BY](/sql-reference/statements/select/group-by) к тому же набору значений, как указано в условии `SELECT`, без использования каких-либо агрегатных функций. Но есть несколько отличий от подхода с `GROUP BY`:

- `DISTINCT` может быть применён вместе с `GROUP BY`.
- Когда [ORDER BY](../../../sql-reference/statements/select/order-by.md) опущено и задан [LIMIT](../../../sql-reference/statements/select/limit.md), запрос перестаёт выполняться сразу после чтения необходимого количества различных строк.
- Блоки данных выводятся по мере обработки, без ожидания завершения всего запроса.