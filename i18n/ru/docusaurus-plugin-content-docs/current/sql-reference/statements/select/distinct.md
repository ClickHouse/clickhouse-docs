---
description: 'Документация по оператору DISTINCT'
sidebar_label: 'DISTINCT'
slug: /sql-reference/statements/select/distinct
title: 'Оператор DISTINCT'
doc_type: 'reference'
---

# Оператор DISTINCT \\{#distinct-clause\\}

Если указан `SELECT DISTINCT`, в результате запроса останутся только уникальные строки. Таким образом, для каждого набора полностью совпадающих строк в результате останется только одна строка.

Вы можете указать список столбцов, значения в которых должны быть уникальными: `SELECT DISTINCT ON (column1, column2,...)`. Если столбцы не указаны, учитываются все столбцы.

Рассмотрим таблицу:

```text
┌─a─┬─b─┬─c─┐
│ 1 │ 1 │ 1 │
│ 1 │ 1 │ 1 │
│ 2 │ 2 │ 2 │
│ 2 │ 2 │ 2 │
│ 1 │ 1 │ 2 │
│ 1 │ 2 │ 2 │
└───┴───┴───┘
```

Использование `DISTINCT` без указания списка столбцов:

```sql
SELECT DISTINCT * FROM t1;
```

```text
┌─a─┬─b─┬─c─┐
│ 1 │ 1 │ 1 │
│ 2 │ 2 │ 2 │
│ 1 │ 1 │ 2 │
│ 1 │ 2 │ 2 │
└───┴───┴───┘
```

Использование `DISTINCT` с определёнными столбцами:

```sql
SELECT DISTINCT ON (a,b) * FROM t1;
```

```text
┌─a─┬─b─┬─c─┐
│ 1 │ 1 │ 1 │
│ 2 │ 2 │ 2 │
│ 1 │ 2 │ 2 │
└───┴───┴───┘
```

## DISTINCT и ORDER BY \\{#distinct-and-order-by\\}

ClickHouse поддерживает использование конструкций `DISTINCT` и `ORDER BY` для разных столбцов в одном запросе. Конструкция `DISTINCT` выполняется раньше, чем `ORDER BY`.

Рассмотрим таблицу:

```text
┌─a─┬─b─┐
│ 2 │ 1 │
│ 1 │ 2 │
│ 3 │ 3 │
│ 2 │ 4 │
└───┴───┘
```

Выборка данных:

```sql
SELECT DISTINCT a FROM t1 ORDER BY b ASC;
```

```text
┌─a─┐
│ 2 │
│ 1 │
│ 3 │
└───┘
```

Выбор данных с противоположным направлением сортировки:

```sql
SELECT DISTINCT a FROM t1 ORDER BY b DESC;
```

```text
┌─a─┐
│ 3 │
│ 1 │
│ 2 │
└───┘
```

Строка `2, 4` была усечена до сортировки.

При написании запросов учитывайте эту особенность реализации.

## Обработка NULL \\{#null-processing\\}

`DISTINCT` работает с [NULL](/sql-reference/syntax#null) так, как будто `NULL` является обычным конкретным значением и при этом `NULL == NULL`. Другими словами, в результатах `DISTINCT` каждая комбинация с `NULL` появляется только один раз. Это отличается от обработки `NULL` в большинстве других контекстов.

## Альтернативы \\{#alternatives\\}

Тот же результат можно получить, применяя [GROUP BY](/sql-reference/statements/select/group-by) к тому же набору значений, который указан в предложении `SELECT`, без использования агрегатных функций. Но есть несколько отличий по сравнению с подходом, основанным на `GROUP BY`:

- `DISTINCT` может применяться вместе с `GROUP BY`.
- Когда [ORDER BY](../../../sql-reference/statements/select/order-by.md) опущен и задан [LIMIT](../../../sql-reference/statements/select/limit.md), выполнение запроса прекращается сразу после того, как будет прочитано требуемое количество различных строк.
- Блоки данных выводятся по мере обработки, без ожидания завершения выполнения всего запроса.
