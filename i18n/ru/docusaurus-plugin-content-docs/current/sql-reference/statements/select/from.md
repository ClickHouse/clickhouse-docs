---
description: 'Документация по предложению FROM'
sidebar_label: 'FROM'
slug: /sql-reference/statements/select/from
title: 'Предложение FROM'
doc_type: 'reference'
---



# Секция FROM

Секция `FROM` указывает источник, из которого считываются данные:

* [Таблица](../../../engines/table-engines/index.md)
* [Подзапрос](../../../sql-reference/statements/select/index.md)
* [Табличная функция](/sql-reference/table-functions)

Операторы [JOIN](../../../sql-reference/statements/select/join.md) и [ARRAY JOIN](../../../sql-reference/statements/select/array-join.md) также могут использоваться для расширения функциональности секции `FROM`.

Подзапрос — это другой запрос `SELECT`, который может быть указан в круглых скобках внутри секции `FROM`.

`FROM` может содержать несколько источников данных, разделённых запятыми, что эквивалентно выполнению [CROSS JOIN](../../../sql-reference/statements/select/join.md) над ними.

`FROM` может, при необходимости, указываться перед секцией `SELECT`. Это специфическое для ClickHouse расширение стандартного SQL, которое делает операторы `SELECT` более читаемыми. Пример:

```sql
FROM table
SELECT *
```


## Модификатор FINAL {#final-modifier}

Когда указан `FINAL`, ClickHouse полностью объединяет данные перед возвратом результата. При этом также выполняются все преобразования данных, которые происходят во время слияний для данного движка таблицы.

Применимо при выборке данных из таблиц со следующими движками:

- `ReplacingMergeTree`
- `SummingMergeTree`
- `AggregatingMergeTree`
- `CollapsingMergeTree`
- `VersionedCollapsingMergeTree`

Запросы `SELECT` с `FINAL` выполняются параллельно. Настройка [max_final_threads](/operations/settings/settings#max_final_threads) ограничивает количество используемых потоков.

### Недостатки {#drawbacks}

Запросы с `FINAL` выполняются немного медленнее аналогичных запросов без `FINAL` по следующим причинам:

- Данные объединяются во время выполнения запроса.
- Запросы с `FINAL` могут читать столбцы первичного ключа в дополнение к столбцам, указанным в запросе.

`FINAL` требует дополнительных вычислительных ресурсов и памяти, поскольку обработка, которая обычно происходит во время слияния, должна выполняться в памяти во время запроса. Однако использование FINAL иногда необходимо для получения точных результатов (так как данные могут быть ещё не полностью объединены). Это менее затратно, чем выполнение `OPTIMIZE` для принудительного слияния.

В качестве альтернативы `FINAL` иногда можно использовать другие запросы, которые учитывают, что фоновые процессы движка `MergeTree` ещё не завершились, и обрабатывают это с помощью агрегации (например, для удаления дубликатов). Если вам необходимо использовать `FINAL` в запросах для получения требуемых результатов, это допустимо, но учитывайте дополнительную обработку, которая при этом потребуется.

`FINAL` может применяться автоматически с помощью настройки [FINAL](../../../operations/settings/settings.md#final) ко всем таблицам в запросе на уровне сессии или профиля пользователя.

### Примеры использования {#example-usage}

Использование ключевого слова `FINAL`

```sql
SELECT x, y FROM mytable FINAL WHERE x > 1;
```

Использование `FINAL` как настройки уровня запроса

```sql
SELECT x, y FROM mytable WHERE x > 1 SETTINGS final = 1;
```

Использование `FINAL` как настройки уровня сессии

```sql
SET final = 1;
SELECT x, y FROM mytable WHERE x > 1;
```


## Детали реализации {#implementation-details}

Если секция `FROM` опущена, данные будут считываться из таблицы `system.one`.
Таблица `system.one` содержит ровно одну строку (эта таблица выполняет ту же функцию, что и таблица DUAL в других СУБД).

Для выполнения запроса из соответствующей таблицы извлекаются все столбцы, перечисленные в запросе. Столбцы, не требующиеся для внешнего запроса, исключаются из подзапросов.
Если в запросе не указаны столбцы (например, `SELECT count() FROM t`), из таблицы всё равно извлекается какой-либо столбец (предпочтение отдаётся наименьшему по размеру) для вычисления количества строк.
