---
slug: '/sql-reference/functions/functions-for-nulls'
sidebar_label: Nullable
description: 'Документация для функций работы с nullable значениями'
title: 'Функции для работы с Nullable значениями'
doc_type: reference
---
# Функции для работы с nullable значениями

<!-- 
Содержимое тегов ниже заменяется во время сборки документа на 
документацию, сгенерированную из system.functions. Пожалуйста, не изменяйте и не удаляйте теги.
Смотрите: https://github.com/ClickHouse/clickhouse-docs/blob/main/contribute/autogenerated-documentation-from-source.md
-->

<!--AUTOGENERATED_START-->
## assumeNotNull {#assumeNotNull}

Введена в: v1.1


Возвращает соответствующее непустое значение для значения типа [`Nullable`](../data-types/nullable.md).
Если исходное значение равно `NULL`, может быть возвращен произвольный результат.

Смотрите также: функции [`ifNull`](#ifNull) и [`coalesce`](#coalesce).
    

**Синтаксис**

```sql
assumeNotNull(x)
```

**Аргументы**

- `x` — Исходное значение любого nullable типа. [`Nullable(T)`](/sql-reference/data-types/nullable)


**Возвращаемое значение**

Возвращает непустое значение, если исходное значение не было `NULL`, в противном случае — произвольное значение, если входное значение `NULL`. [`Any`](/sql-reference/data-types)

**Примеры**

**Пример использования**

```sql title=Query
CREATE TABLE t_null (x Int8, y Nullable(Int8))
ENGINE=MergeTree()
ORDER BY x;

INSERT INTO t_null VALUES (1, NULL), (2, 3);

SELECT assumeNotNull(y) FROM table;
SELECT toTypeName(assumeNotNull(y)) FROM t_null;
```

```response title=Response
┌─assumeNotNull(y)─┐
│                0 │
│                3 │
└──────────────────┘
┌─toTypeName(assumeNotNull(y))─┐
│ Int8                         │
│ Int8                         │
└──────────────────────────────┘
```



## coalesce {#coalesce}

Введена в: v1.1


Возвращает самый левый не-`NULL` аргумент.
    

**Синтаксис**

```sql
coalesce(x[, y, ...])
```

**Аргументы**

- `x[, y, ...]` — Любое количество параметров некорректного типа. Все параметры должны быть совместимы по типу. [`Any`](/sql-reference/data-types)


**Возвращаемое значение**

Возвращает первый не-`NULL` аргумент, иначе `NULL`, если все аргументы равны `NULL`. [`Any`](/sql-reference/data-types) или [`NULL`](/sql-reference/syntax#null)

**Примеры**

**Пример использования**

```sql title=Query
-- Consider a list of contacts that may specify multiple ways to contact a customer.

CREATE TABLE aBook
(
    name String,
    mail Nullable(String),
    phone Nullable(String),
    telegram Nullable(UInt32)
)
ENGINE = MergeTree
ORDER BY tuple();

INSERT INTO aBook VALUES ('client 1', NULL, '123-45-67', 123), ('client 2', NULL, NULL, NULL);

-- The mail and phone fields are of type String, but the telegram field is UInt32 so it needs to be converted to String.

-- Get the first available contact method for the customer from the contact list

SELECT name, coalesce(mail, phone, CAST(telegram,'Nullable(String)')) FROM aBook;
```

```response title=Response
┌─name─────┬─coalesce(mail, phone, CAST(telegram, 'Nullable(String)'))─┐
│ client 1 │ 123-45-67                                                 │
│ client 2 │ ᴺᵁᴸᴸ                                                      │
└──────────┴───────────────────────────────────────────────────────────┘
```



## firstNonDefault {#firstNonDefault}

Введена в: v25.9

Возвращает первое не-умолчательное значение из набора аргументов

**Синтаксис**

```sql

```

**Аргументы**

- `arg1` — Первый аргумент для проверки - `arg2` — Второй аргумент для проверки - `...` — Дополнительные аргументы для проверки 

**Возвращаемое значение**

Тип результата — супертотип всех аргументов

**Примеры**

**целые числа**

```sql title=Query
SELECT firstNonDefault(0, 1, 2)
```

```response title=Response
1
```

**строки**

```sql title=Query
SELECT firstNonDefault('', 'hello', 'world')
```

```response title=Response
'hello'
```

**нулевые значения**

```sql title=Query
SELECT firstNonDefault(NULL, 0 :: UInt8, 1 :: UInt8)
```

```response title=Response
1
```

**nullable ноль**

```sql title=Query
SELECT firstNonDefault(NULL, 0 :: Nullable(UInt8), 1 :: Nullable(UInt8))
```

```response title=Response
0
```



## ifNull {#ifNull}

Введена в: v1.1


Возвращает альтернативное значение, если первый аргумент равен `NULL`.
    

**Синтаксис**

```sql
ifNull(x, alt)
```

**Аргументы**

- `x` — Значение для проверки на `NULL`. [`Any`](/sql-reference/data-types)
- `alt` — Значение, которое функция возвращает, если `x` равно `NULL`. [`Any`](/sql-reference/data-types)


**Возвращаемое значение**

Возвращает значение `x`, если оно не равно `NULL`, в противном случае `alt`. [`Any`](/sql-reference/data-types)

**Примеры**

**Пример использования**

```sql title=Query
SELECT ifNull('a', 'b'), ifNull(NULL, 'b');
```

```response title=Response
┌─ifNull('a', 'b')─┬─ifNull(NULL, 'b')─┐
│ a                │ b                 │
└──────────────────┴───────────────────┘
```



## isNotDistinctFrom {#isNotDistinctFrom}

Введена в: v23.8


Выполняет безопасное сравнение для `JOIN` ключей. Эта функция будет считать
два `NULL` значения одинаковыми и вернет `true`, что отличается от обычного
поведения equals, где сравнение двух `NULL` значений вернет `NULL`.

:::info
Эта функция является внутренней и используется при реализации `JOIN ON`.
Пожалуйста, не используйте её вручную в запросах.
:::

Для полного примера смотрите: [`NULL` значения в `JOIN` ключах](/sql-reference/statements/select/join#null-values-in-join-keys).
    

**Синтаксис**

```sql
isNotDistinctFrom(x, y)
```

**Аргументы**

- `x` — Первый `JOIN` ключ для сравнения. [`Any`](/sql-reference/data-types)
- `y` — Второй `JOIN` ключ для сравнения. [`Any`](/sql-reference/data-types)


**Возвращаемое значение**

Возвращает `true`, когда `x` и `y` оба равны `NULL`, иначе `false`. [`Bool`](/sql-reference/data-types/boolean)

**Примеры**



## isNotNull {#isNotNull}

Введена в: v1.1


Проверяет, не равно ли аргумент `NULL`.

Смотрите также: оператор [`IS NOT NULL`](/sql-reference/operators#is_not_null).
    

**Синтаксис**

```sql
isNotNull(x)
```

**Аргументы**

- `x` — Значение некорректного типа. [`Any`](/sql-reference/data-types)


**Возвращаемое значение**

Возвращает `1`, если `x` не равно `NULL`, в противном случае `0`. [`UInt8`](/sql-reference/data-types/int-uint)

**Примеры**

**Пример использования**

```sql title=Query
CREATE TABLE t_null
(
  x Int32,
  y Nullable(Int32)
)
ENGINE = MergeTree
ORDER BY tuple();

INSERT INTO t_null VALUES (1, NULL), (2, 3);

SELECT x FROM t_null WHERE isNotNull(y);
```

```response title=Response
┌─x─┐
│ 2 │
└───┘
```



## isNull {#isNull}

Введена в: v1.1


Проверяет, равно ли аргумент `NULL`.

Смотрите также: оператор [`IS NULL`](/sql-reference/operators#is_null).
    

**Синтаксис**

```sql
isNull(x)
```

**Аргументы**

- `x` — Значение некорректного типа. [`Any`](/sql-reference/data-types)


**Возвращаемое значение**

Возвращает `1`, если `x` равно `NULL`, в противном случае `0`. [`UInt8`](/sql-reference/data-types/int-uint)

**Примеры**

**Пример использования**

```sql title=Query
CREATE TABLE t_null
(
  x Int32,
  y Nullable(Int32)
)
ENGINE = MergeTree
ORDER BY tuple();

INSERT INTO t_null VALUES (1, NULL), (2, 3);

SELECT x FROM t_null WHERE isNull(y);
```

```response title=Response
┌─x─┐
│ 1 │
└───┘
```



## isNullable {#isNullable}

Введена в: v22.7


Проверяет, является ли тип данных аргумента `Nullable` (т.е. позволяет ли он `NULL` значения).
    

**Синтаксис**

```sql
isNullable(x)
```

**Аргументы**

- `x` — Значение любого типа данных. [`Any`](/sql-reference/data-types)


**Возвращаемое значение**

Возвращает `1`, если `x` является типом данных `Nullable`, в противном случае `0`. [`UInt8`](/sql-reference/data-types/int-uint)

**Примеры**

**Пример использования**

```sql title=Query
CREATE TABLE tab (
    ordinary_col UInt32,
    nullable_col Nullable(UInt32)
)
ENGINE = MergeTree
ORDER BY tuple();
INSERT INTO tab (ordinary_col, nullable_col) VALUES (1,1), (2, 2), (3,3);
SELECT isNullable(ordinary_col), isNullable(nullable_col) FROM tab;
```

```response title=Response
┌───isNullable(ordinary_col)──┬───isNullable(nullable_col)──┐
│                           0 │                           1 │
│                           0 │                           1 │
│                           0 │                           1 │
└─────────────────────────────┴─────────────────────────────┘
```



## isZeroOrNull {#isZeroOrNull}

Введена в: v20.3


Проверяет, является ли аргумент либо нулем (`0`), либо `NULL`.
    

**Синтаксис**

```sql
isZeroOrNull(x)
```

**Аргументы**

- `x` — Числовое значение. [`UInt`](/sql-reference/data-types/int-uint)


**Возвращаемое значение**

Возвращает `1`, если `x` равно `NULL` или равно нулю, в противном случае `0`. [`UInt8/16/32/64`](/sql-reference/data-types/int-uint) или [`Float32/Float64`](/sql-reference/data-types/float)

**Примеры**

**Пример использования**

```sql title=Query
CREATE TABLE t_null
(
  x Int32,
  y Nullable(Int32)
)
ENGINE = MergeTree
ORDER BY tuple();

INSERT INTO t_null VALUES (1, NULL), (2, 0), (3, 3);

SELECT x FROM t_null WHERE isZeroOrNull(y);
```

```response title=Response
┌─x─┐
│ 1 │
│ 2 │
└───┘
```



## nullIf {#nullIf}

Введена в: v1.1


Возвращает `NULL`, если оба аргумента равны.
    

**Синтаксис**

```sql
nullIf(x, y)
```

**Аргументы**

- `x` — Первое значение. [`Any`](/sql-reference/data-types)
- `y` — Второе значение. [`Any`](/sql-reference/data-types)


**Возвращаемое значение**

Возвращает `NULL`, если оба аргумента равны, в противном случае возвращает первое значение. [`NULL`](/sql-reference/syntax#null) или [`Nullable(x)`](/sql-reference/data-types/nullable)

**Примеры**

**Пример использования**

```sql title=Query
SELECT nullIf(1, 1), nullIf(1, 2);
```

```response title=Response
┌─nullIf(1, 1)─┬─nullIf(1, 2)─┐
│         ᴺᵁᴸᴸ │            1 │
└──────────────┴──────────────┘
```



## toNullable {#toNullable}

Введена в: v1.1


Преобразует указанный тип аргумента в `Nullable`.
    

**Синтаксис**

```sql
toNullable(x)
```

**Аргументы**

- `x` — Значение любого некорректного типа. [`Any`](/sql-reference/data-types)


**Возвращаемое значение**

Возвращает входное значение, но типа `Nullable`. [`Nullable(Any)`](/sql-reference/data-types/nullable)

**Примеры**

**Пример использования**

```sql title=Query
SELECT toTypeName(10), toTypeName(toNullable(10));
```

```response title=Response
┌─toTypeName(10)─┬─toTypeName(toNullable(10))─┐
│ UInt8          │ Nullable(UInt8)            │
└────────────────┴────────────────────────────┘
```



<!--AUTOGENERATED_END-->