---
description: 'Справочник по табличным функциям'
sidebar_label: 'Табличные функции'
sidebar_position: 1
slug: /sql-reference/table-functions/
title: 'Табличные функции'
doc_type: 'reference'
---

# Табличные функции {#table-functions}

Табличные функции — это способы создания таблиц.

{/*AUTOGENERATED_START*/ }

| Страница                                                                               | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| -------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [azureBlobStorage](/sql-reference/table-functions/azureBlobStorage)                    | Предоставляет табличный интерфейс для выборки и вставки файлов в Azure Blob Storage. Аналогична функции s3.                                                                                                                                                                                                                                                                                                                                    |
| [azureBlobStorageCluster](/sql-reference/table-functions/azureBlobStorageCluster)      | Позволяет обрабатывать файлы из Azure Blob Storage параллельно на множестве узлов указанного кластера.                                                                                                                                                                                                                                                                                                                                         |
| [clusterAllReplicas](/sql-reference/table-functions/cluster)                           | Позволяет получать доступ ко всем сегментам кластера (настроенным в разделе `remote_servers`) без необходимости создавать Distributed таблицу.                                                                                                                                                                                                                                                                                                 |
| [deltaLake](/sql-reference/table-functions/deltalake)                                  | Предоставляет табличный интерфейс только для чтения к таблицам Delta Lake в Amazon S3.                                                                                                                                                                                                                                                                                                                                                         |
| [deltaLakeCluster](/sql-reference/table-functions/deltalakeCluster)                    | Расширение табличной функции deltaLake.                                                                                                                                                                                                                                                                                                                                                                                                        |
| [словарь](/sql-reference/table-functions/dictionary)                                   | Отображает данные словаря в виде таблицы ClickHouse. Работает аналогично движку Dictionary.                                                                                                                                                                                                                                                                                                                                                    |
| [executable](/engines/table-functions/executable)                                      | Табличная функция `executable` создаёт таблицу на основе вывода пользовательской функции (UDF), определённой в скрипте, который выводит строки в **stdout**.                                                                                                                                                                                                                                                                                   |
| [file](/sql-reference/table-functions/file)                                            | Табличный движок, предоставляющий табличный интерфейс для выполнения операций `SELECT` и `INSERT` над файлами, аналогично табличной функции s3. Используйте `file()` при работе с локальными файлами и `s3()` при работе с бакетами в объектном хранилище, таком как S3, GCS или MinIO.                                                                                                                                                        |
| [fileCluster](/sql-reference/table-functions/fileCluster)                              | Обеспечивает параллельную обработку файлов, путь к которым соответствует заданному шаблону, на нескольких узлах кластера. Инициатор устанавливает соединения с рабочими узлами, раскрывает glob-шаблоны в пути к файлам и делегирует задачи чтения файлов рабочим узлам. Каждый рабочий узел запрашивает у инициатора следующий файл для обработки и повторяет этот запрос, пока не будут выполнены все задачи (все файлы не будут прочитаны). |
| [format](/sql-reference/table-functions/format)                                        | Разбирает данные из аргументов в соответствии с указанным входным форматом. Если аргумент `structure` не указан, структура определяется по данным.                                                                                                                                                                                                                                                                                             |
| [gcs](/sql-reference/table-functions/gcs)                                              | Предоставляет табличный интерфейс для выполнения операций `SELECT` и `INSERT` с данными в Google Cloud Storage. Требуется роль IAM `Storage Object User`.                                                                                                                                                                                                                                                                                      |
| [fuzzJSON](/sql-reference/table-functions/fuzzJSON)                                    | Случайным образом изменяет строку JSON.                                                                                                                                                                                                                                                                                                                                                                                                        |
| [fuzzQuery](/sql-reference/table-functions/fuzzQuery)                                  | Вносит случайные вариации в заданную строку запроса.                                                                                                                                                                                                                                                                                                                                                                                           |
| [generateRandom](/sql-reference/table-functions/generate)                              | Генерирует случайные данные по заданной схеме. Можно использовать для заполнения тестовых таблиц. Поддерживаются не все типы.                                                                                                                                                                                                                                                                                                                  |
| [mergeTreeIndex](/sql-reference/table-functions/mergeTreeIndex)                        | Представляет содержимое файлов индекса и меток таблиц MergeTree. Может использоваться для интроспекции.                                                                                                                                                                                                                                                                                                                                        |
| [mergeTreeProjection](/sql-reference/table-functions/mergeTreeProjection)              | Представляет содержимое определённой проекции в таблицах MergeTree. Может использоваться для интроспекции.                                                                                                                                                                                                                                                                                                                                     |
| [hdfs](/sql-reference/table-functions/hdfs)                                            | Создаёт таблицу на основе файлов в HDFS. Эта табличная функция аналогична функциям url и file.                                                                                                                                                                                                                                                                                                                                                 |
| [hdfsCluster](/sql-reference/table-functions/hdfsCluster)                              | Позволяет обрабатывать файлы из HDFS параллельно на множестве узлов указанного кластера.                                                                                                                                                                                                                                                                                                                                                       |
| [hudi](/sql-reference/table-functions/hudi)                                            | Предоставляет табличный интерфейс для работы с таблицами Apache Hudi в Amazon S3 в режиме только для чтения.                                                                                                                                                                                                                                                                                                                                   |
| [ytsaurus](/sql-reference/table-functions/ytsaurus)                                    | Табличная функция позволяет читать данные из кластера YTsaurus.                                                                                                                                                                                                                                                                                                                                                                                |
| [Табличная функция hudiCluster](/sql-reference/table-functions/hudiCluster)            | Расширение табличной функции `hudi`. Позволяет обрабатывать файлы из таблиц Apache Hudi в Amazon S3 параллельно на множестве узлов указанного кластера.                                                                                                                                                                                                                                                                                        |
| [iceberg](/sql-reference/table-functions/iceberg)                                      | Предоставляет табличный интерфейс только для чтения к таблицам Apache Iceberg, размещённым в Amazon S3, Azure, HDFS или локально.                                                                                                                                                                                                                                                                                                              |
| [paimon](/sql-reference/table-functions/paimon)                                        | Предоставляет табличный интерфейс только для чтения к таблицам Apache Paimon, хранящимся в Amazon S3, Azure, HDFS или локально.                                                                                                                                                                                                                                                                                                                |
| [icebergCluster](/sql-reference/table-functions/icebergCluster)                        | Расширение табличной функции iceberg, позволяющее обрабатывать файлы из Apache Iceberg параллельно на множестве узлов указанного кластера.                                                                                                                                                                                                                                                                                                     |
| [paimonCluster](/sql-reference/table-functions/paimonCluster)                          | Расширение табличной функции paimon, позволяющее обрабатывать файлы из Apache Paimon параллельно на множестве узлов указанного кластера.                                                                                                                                                                                                                                                                                                       |
| [input](/sql-reference/table-functions/input)                                          | Табличная функция, позволяющая эффективно преобразовывать и вставлять данные, поступающие на сервер с заданной структурой, в таблицу с другой структурой.                                                                                                                                                                                                                                                                                      |
| [jdbc](/sql-reference/table-functions/jdbc)                                            | Возвращает таблицу, к которой выполнено подключение по JDBC.                                                                                                                                                                                                                                                                                                                                                                                   |
| [merge](/sql-reference/table-functions/merge)                                          | Создаёт временную таблицу Merge. Её структура будет получена из базовых таблиц путём объединения их столбцов и определения общих типов.                                                                                                                                                                                                                                                                                                        |
| [mongodb](/sql-reference/table-functions/mongodb)                                      | Позволяет выполнять запросы `SELECT` к данным, хранящимся на удалённом сервере MongoDB.                                                                                                                                                                                                                                                                                                                                                        |
| [mysql](/sql-reference/table-functions/mysql)                                          | Позволяет выполнять запросы `SELECT` и `INSERT` к данным, хранящимся на удалённом сервере MySQL.                                                                                                                                                                                                                                                                                                                                               |
| [null](/sql-reference/table-functions/null)                                            | Создаёт временную таблицу заданной структуры с табличным движком Null. Функция используется для удобства написания тестов и демонстраций.                                                                                                                                                                                                                                                                                                      |
| [prometheusQuery](/sql-reference/table-functions/prometheusQuery)                      | Вычисляет запрос Prometheus, используя данные из таблицы TimeSeries.                                                                                                                                                                                                                                                                                                                                                                           |
| [prometheusQueryRange](/sql-reference/table-functions/prometheusQueryRange)            | Выполняет Prometheus-запрос, используя данные из таблицы TimeSeries.                                                                                                                                                                                                                                                                                                                                                                           |
| [numbers](/sql-reference/table-functions/numbers)                                      | Возвращает таблицы с единственным столбцом `number`, содержащим задаваемые целые числа.                                                                                                                                                                                                                                                                                                                                                        |
| [timeSeriesData](/sql-reference/table-functions/timeSeriesData)                        | timeSeriesData возвращает таблицу данных, используемую таблицей `db_name.time_series_table`, движком которой является TimeSeries.                                                                                                                                                                                                                                                                                                              |
| [timeSeriesMetrics](/sql-reference/table-functions/timeSeriesMetrics)                  | timeSeriesMetrics возвращает таблицу метрик, используемую таблицей `db_name.time_series_table` с табличным движком TimeSeries.                                                                                                                                                                                                                                                                                                                 |
| [timeSeriesSelector](/sql-reference/table-functions/timeSeriesSelector)                | Считывает временные ряды из таблицы TimeSeries, отфильтрованные селектором, с временными метками в заданном интервале.                                                                                                                                                                                                                                                                                                                         |
| [timeSeriesTags](/sql-reference/table-functions/timeSeriesTags)                        | Табличная функция timeSeriesTags возвращает таблицу тегов, используемую таблицей `db_name.time_series_table` с движком TimeSeries.                                                                                                                                                                                                                                                                                                             |
| [zeros](/sql-reference/table-functions/zeros)                                          | Используется в тестовых целях как самый быстрый способ сгенерировать множество строк. Аналогична системным таблицам `system.zeros` и `system.zeros_mt`.                                                                                                                                                                                                                                                                                        |
| [generate&#95;series (generateSeries)](/sql-reference/table-functions/generate_series) | Возвращает таблицу с единственным столбцом `generate_series` (UInt64), содержащим целые числа от start до stop включительно.                                                                                                                                                                                                                                                                                                                   |
| [odbc](/sql-reference/table-functions/odbc)                                            | Возвращает таблицу, подключённую через ODBC.                                                                                                                                                                                                                                                                                                                                                                                                   |
| [postgresql](/sql-reference/table-functions/postgresql)                                | Позволяет выполнять запросы `SELECT` и `INSERT` к данным, хранящимся на удалённом сервере PostgreSQL.                                                                                                                                                                                                                                                                                                                                          |
| [redis](/sql-reference/table-functions/redis)                                          | Эта табличная функция позволяет интегрировать ClickHouse с Redis.                                                                                                                                                                                                                                                                                                                                                                              |
| [remote, remoteSecure](/sql-reference/table-functions/remote)                          | Табличная функция `remote` позволяет получать доступ к удалённым серверам на лету, то есть без необходимости предварительного создания distributed таблицы. Табличная функция `remoteSecure` аналогична `remote`, но использует защищённое соединение.                                                                                                                                                                                         |
| [Табличная функция S3](/sql-reference/table-functions/s3)                              | Предоставляет табличный интерфейс для выполнения операций SELECT и INSERT с файлами в Amazon S3 и Google Cloud Storage. Эта табличная функция аналогична функции hdfs, но предоставляет дополнительные возможности, специфичные для S3.                                                                                                                                                                                                        |
| [s3Cluster](/sql-reference/table-functions/s3Cluster)                                  | Расширение табличной функции S3, позволяющее обрабатывать файлы из Amazon S3 и Google Cloud Storage параллельно на множестве узлов в указанном кластере.                                                                                                                                                                                                                                                                                       |
| [sqlite](/sql-reference/table-functions/sqlite)                                        | Позволяет выполнять запросы к данным, хранящимся в базе данных SQLite.                                                                                                                                                                                                                                                                                                                                                                         |
| [arrowFlight](/sql-reference/table-functions/arrowflight)                              | Позволяет выполнять запросы к данным, предоставляемым сервером Apache Arrow Flight.                                                                                                                                                                                                                                                                                                                                                            |
| [url](/sql-reference/table-functions/url)                                              | Создаёт таблицу по `URL` с указанными `format` и `structure`                                                                                                                                                                                                                                                                                                                                                                                   |
| [urlCluster](/sql-reference/table-functions/urlCluster)                                | Позволяет параллельно обрабатывать файлы по URL на нескольких узлах указанного кластера.                                                                                                                                                                                                                                                                                                                                                       |
| [values](/sql-reference/table-functions/values)                                        | создаёт временное хранилище, которое заполняет столбцы значениями.                                                                                                                                                                                                                                                                                                                                                                             |
| [view](/sql-reference/table-functions/view)                                            | Преобразует результат подзапроса в таблицу. Реализует представления.                                                                                                                                                                                                                                                                                                                                                                           |
| [loop](/sql-reference/table-functions/loop)                                            | Табличная функция loop в ClickHouse используется для возврата результатов запроса в бесконечном цикле.                                                                                                                                                                                                                                                                                                                                         |

{/*AUTOGENERATED_END*/ }

## Использование {#usage}

Табличные функции могут использоваться в разделе [`FROM`](../../sql-reference/statements/select/from.md)
команды `SELECT`. Например, вы можете выполнить `SELECT` данных из файла на локальной
машине, используя табличную функцию `file`.

```bash
echo "1, 2, 3" > example.csv
```

```text
./clickhouse client
:) SELECT * FROM file('example.csv')
┌─c1─┬─c2─┬─c3─┐
│  1 │  2 │  3 │
└────┴────┴────┘
```

Можно также использовать табличные функции для создания временной таблицы, доступной только в текущем запросе. Например:

```sql title="Query"
SELECT * FROM generateSeries(1,5);
```

```response title="Response"
┌─generate_series─┐
│               1 │
│               2 │
│               3 │
│               4 │
│               5 │
└─────────────────┘
```

Таблица удаляется после завершения запроса.

Табличные функции можно использовать для создания таблиц, используя следующий синтаксис:

```sql
CREATE TABLE [IF NOT EXISTS] [db.]table_name AS table_function()
```

Например:

```sql title="Query"
CREATE TABLE series AS generateSeries(1, 5);
SELECT * FROM series;
```

```response
┌─generate_series─┐
│               1 │
│               2 │
│               3 │
│               4 │
│               5 │
└─────────────────┘
```

Наконец, табличные функции можно использовать для операции `INSERT` данных в таблицу. Например,
мы можем снова использовать табличную функцию `file`, чтобы записать содержимое таблицы,
созданной в предыдущем примере, в файл на диске:

```sql
INSERT INTO FUNCTION file('numbers.csv', 'CSV') SELECT * FROM series;
```

```bash
cat numbers.csv
1
2
3
4
5
```

:::note
Нельзя использовать табличные функции, если параметр [allow&#95;ddl](/operations/settings/settings#allow_ddl) отключён.
:::
