---
description: 'Справочник по табличным функциям'
sidebar_label: 'Табличные функции'
sidebar_position: 1
slug: /sql-reference/table-functions/
title: 'Табличные функции'
doc_type: 'reference'
---

# Табличные функции {#table-functions}

Табличные функции — это способы создания таблиц.

{/*AUTOGENERATED_START*/ }

| Страница                                                                               | Описание                                                                                                                                                                                                                                                                                                                                                                                                                |
| -------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [azureBlobStorage](/sql-reference/table-functions/azureBlobStorage)                    | Предоставляет табличный интерфейс для выбора и вставки файлов в Azure Blob Storage. Аналогично функции s3.                                                                                                                                                                                                                                                                                                              |
| [azureBlobStorageCluster](/sql-reference/table-functions/azureBlobStorageCluster)      | Позволяет выполнять параллельную обработку файлов из Azure Blob Storage на множестве узлов заданного кластера.                                                                                                                                                                                                                                                                                                          |
| [clusterAllReplicas](/sql-reference/table-functions/cluster)                           | Позволяет обращаться ко всем сегментам кластера (сконфигурированным в разделе `remote_servers`) без создания distributed таблицы.                                                                                                                                                                                                                                                                                       |
| [deltaLake](/sql-reference/table-functions/deltalake)                                  | Предоставляет табличный интерфейс только для чтения к таблицам Delta Lake, хранящимся в Amazon S3.                                                                                                                                                                                                                                                                                                                      |
| [deltaLakeCluster](/sql-reference/table-functions/deltalakeCluster)                    | Это расширение функции таблицы deltaLake.                                                                                                                                                                                                                                                                                                                                                                               |
| [словарь](/sql-reference/table-functions/dictionary)                                   | Отображает данные словаря в виде таблицы ClickHouse. Работает аналогично движку Dictionary.                                                                                                                                                                                                                                                                                                                             |
| [executable](/engines/table-functions/executable)                                      | Табличная функция `executable` создаёт таблицу на основе вывода пользовательской функции (UDF), определённой в скрипте, который выводит строки в **stdout**.                                                                                                                                                                                                                                                            |
| [file](/sql-reference/table-functions/file)                                            | Движок таблицы, который предоставляет табличный интерфейс для выполнения SELECT из файлов и INSERT в файлы, аналогично табличной функции s3(). Используйте `file()` при работе с локальными файлами и `s3()` при работе с бакетами в объектном хранилище, таком как S3, GCS или MinIO.                                                                                                                                  |
| [fileCluster](/sql-reference/table-functions/fileCluster)                              | Обеспечивает одновременную обработку файлов, соответствующих указанному пути, на нескольких узлах кластера. Инициатор устанавливает соединения с рабочими узлами, расширяет glob-шаблоны в пути к файлам и делегирует задачи чтения файлов рабочим узлам. Каждый рабочий узел запрашивает у инициатора следующий файл для обработки и повторяет это, пока все задачи не будут выполнены (все файлы не будут прочитаны). |
| [format](/sql-reference/table-functions/format)                                        | Парсит данные из аргументов в соответствии с указанным входным форматом. Если аргумент структуры не задан, структура выводится из данных.                                                                                                                                                                                                                                                                               |
| [gcs](/sql-reference/table-functions/gcs)                                              | Предоставляет табличный интерфейс для выполнения операций `SELECT` и `INSERT` с данными в Google Cloud Storage. Требуется роль IAM `Storage Object User`.                                                                                                                                                                                                                                                               |
| [fuzzJSON](/sql-reference/table-functions/fuzzJSON)                                    | Вносит случайные изменения в строку JSON.                                                                                                                                                                                                                                                                                                                                                                               |
| [fuzzQuery](/sql-reference/table-functions/fuzzQuery)                                  | Вносит случайные изменения в заданную строку запроса.                                                                                                                                                                                                                                                                                                                                                                   |
| [generateRandom](/sql-reference/table-functions/generate)                              | Генерирует случайные данные на основе заданной схемы. Позволяет заполнять тестовые таблицы этими данными. Поддерживаются не все типы данных.                                                                                                                                                                                                                                                                            |
| [mergeTreeIndex](/sql-reference/table-functions/mergeTreeIndex)                        | Представляет содержимое файлов индексов и меток таблиц MergeTree. Может использоваться для анализа внутреннего состояния.                                                                                                                                                                                                                                                                                               |
| [mergeTreeProjection](/sql-reference/table-functions/mergeTreeProjection)              | Отражает содержимое проекций в таблицах MergeTree. Может использоваться для интроспекции.                                                                                                                                                                                                                                                                                                                               |
| [hdfs](/sql-reference/table-functions/hdfs)                                            | Создаёт таблицу из файлов в HDFS. Эта табличная функция похожа на табличные функции url и file.                                                                                                                                                                                                                                                                                                                         |
| [hdfsCluster](/sql-reference/table-functions/hdfsCluster)                              | Позволяет параллельно обрабатывать файлы из HDFS на многих узлах заданного кластера.                                                                                                                                                                                                                                                                                                                                    |
| [hudi](/sql-reference/table-functions/hudi)                                            | Предоставляет интерфейс в виде таблицы только для чтения к таблицам Apache Hudi в Amazon S3.                                                                                                                                                                                                                                                                                                                            |
| [ytsaurus](/sql-reference/table-functions/ytsaurus)                                    | Табличная функция позволяет считывать данные из кластера YTsaurus.                                                                                                                                                                                                                                                                                                                                                      |
| [Табличная функция hudiCluster](/sql-reference/table-functions/hudiCluster)            | Расширение табличной функции Hudi. Позволяет обрабатывать файлы из таблиц Apache Hudi в S3 параллельно на нескольких узлах указанного кластера.                                                                                                                                                                                                                                                                         |
| [iceberg](/sql-reference/table-functions/iceberg)                                      | Предоставляет табличный интерфейс только для чтения к таблицам Apache Iceberg, размещённым в Amazon S3, Azure, HDFS или в локальном хранилище.                                                                                                                                                                                                                                                                          |
| [paimon](/sql-reference/table-functions/paimon)                                        | Предоставляет табличный интерфейс только для чтения к таблицам Apache Paimon, размещённым в Amazon S3, Azure, HDFS или локальном хранилище.                                                                                                                                                                                                                                                                             |
| [icebergCluster](/sql-reference/table-functions/icebergCluster)                        | Расширение табличной функции iceberg, которое позволяет параллельно обрабатывать файлы Apache Iceberg на нескольких узлах указанного кластера.                                                                                                                                                                                                                                                                          |
| [paimonCluster](/sql-reference/table-functions/paimonCluster)                          | Расширение табличной функции paimon, которое позволяет обрабатывать файлы из Apache Paimon параллельно на множестве узлов указанного кластера.                                                                                                                                                                                                                                                                          |
| [input](/sql-reference/table-functions/input)                                          | Табличная функция, которая позволяет эффективно преобразовывать и вставлять данные, поступающие на сервер с заданной структурой, в таблицу с другой структурой.                                                                                                                                                                                                                                                         |
| [jdbc](/sql-reference/table-functions/jdbc)                                            | Возвращает таблицу, подключенную через драйвер JDBC.                                                                                                                                                                                                                                                                                                                                                                    |
| [merge](/sql-reference/table-functions/merge)                                          | Создает временную таблицу Merge. Структура формируется на основе базовых таблиц путем объединения их столбцов и определения общих типов.                                                                                                                                                                                                                                                                                |
| [mongodb](/sql-reference/table-functions/mongodb)                                      | Позволяет выполнять запросы `SELECT` к данным, хранящимся на удалённом сервере MongoDB.                                                                                                                                                                                                                                                                                                                                 |
| [mysql](/sql-reference/table-functions/mysql)                                          | Позволяет выполнять запросы `SELECT` и `INSERT` к данным, хранящимся на удалённом сервере MySQL.                                                                                                                                                                                                                                                                                                                        |
| [null](/sql-reference/table-functions/null)                                            | Создаёт временную таблицу заданной структуры с движком таблицы Null. Функция предназначена для удобства при написании тестов и проведении демонстраций.                                                                                                                                                                                                                                                                 |
| [numbers](/sql-reference/table-functions/numbers)                                      | Возвращает таблицы с единственным столбцом `number`, содержащим задаваемые целые числа.                                                                                                                                                                                                                                                                                                                                 |
| [prometheusQuery](/sql-reference/table-functions/prometheusQuery)                      | Вычисляет результат запроса Prometheus на основе данных из таблицы TimeSeries.                                                                                                                                                                                                                                                                                                                                          |
| [prometheusQueryRange](/sql-reference/table-functions/prometheusQueryRange)            | Вычисляет запрос Prometheus на основе данных таблицы TimeSeries.                                                                                                                                                                                                                                                                                                                                                        |
| [timeSeriesData](/sql-reference/table-functions/timeSeriesData)                        | timeSeriesData возвращает таблицу данных, которую использует таблица `db_name.time_series_table`, движок таблицы — TimeSeries.                                                                                                                                                                                                                                                                                          |
| [timeSeriesMetrics](/sql-reference/table-functions/timeSeriesMetrics)                  | timeSeriesMetrics возвращает таблицу метрик, используемую таблицей `db_name.time_series_table`, табличный движок которой — TimeSeries.                                                                                                                                                                                                                                                                                  |
| [timeSeriesSelector](/sql-reference/table-functions/timeSeriesSelector)                | Считывает временные ряды из таблицы TimeSeries, отфильтрованные по селектору и имеющие временные метки в указанном интервале.                                                                                                                                                                                                                                                                                           |
| [timeSeriesTags](/sql-reference/table-functions/timeSeriesTags)                        | Табличная функция timeSeriesTags возвращает таблицу тегов, используемую таблицей `db_name.time_series_table` с движком TimeSeries.                                                                                                                                                                                                                                                                                      |
| [zeros](/sql-reference/table-functions/zeros)                                          | Используется для тестовых целей как наиболее быстрый способ сгенерировать большое число строк. Аналогична системным таблицам `system.zeros` и `system.zeros_mt`.                                                                                                                                                                                                                                                        |
| [generate&#95;series (generateSeries)](/sql-reference/table-functions/generate_series) | Возвращает таблицу с единственным столбцом `generate_series` (UInt64), который содержит целые числа от start до stop включительно.                                                                                                                                                                                                                                                                                      |
| [odbc](/sql-reference/table-functions/odbc)                                            | Возвращает таблицу, подключённую по ODBC.                                                                                                                                                                                                                                                                                                                                                                               |
| [postgresql](/sql-reference/table-functions/postgresql)                                | Позволяет выполнять запросы `SELECT` и `INSERT` к данным, хранящимся на удалённом сервере PostgreSQL.                                                                                                                                                                                                                                                                                                                   |
| [redis](/sql-reference/table-functions/redis)                                          | Эта табличная функция позволяет интегрировать ClickHouse с Redis.                                                                                                                                                                                                                                                                                                                                                       |
| [remote, remoteSecure](/sql-reference/table-functions/remote)                          | Табличная функция `remote` позволяет получать доступ к удалённым серверам «на лету», то есть без создания distributed таблицы. Табличная функция `remoteSecure` аналогична `remote`, но работает по защищённому соединению.                                                                                                                                                                                             |
| [Табличная функция S3](/sql-reference/table-functions/s3)                              | Предоставляет табличный интерфейс для выбора и записи файлов в Amazon S3 и Google Cloud Storage. Эта табличная функция аналогична функции hdfs, но добавляет возможности, специфичные для S3.                                                                                                                                                                                                                           |
| [s3Cluster](/sql-reference/table-functions/s3Cluster)                                  | Расширение табличной функции s3, позволяющее обрабатывать файлы из Amazon S3 и Google Cloud Storage параллельно на множестве узлов указанного кластера.                                                                                                                                                                                                                                                                 |
| [sqlite](/sql-reference/table-functions/sqlite)                                        | Позволяет выполнять запросы к данным, хранящимся в базе данных SQLite.                                                                                                                                                                                                                                                                                                                                                  |
| [arrowFlight](/sql-reference/table-functions/arrowflight)                              | Позволяет выполнять запросы к данным, доступным через сервер Apache Arrow Flight.                                                                                                                                                                                                                                                                                                                                       |
| [url](/sql-reference/table-functions/url)                                              | Создаёт таблицу из данных по адресу `URL` с заданными `format` и `structure`                                                                                                                                                                                                                                                                                                                                            |
| [urlCluster](/sql-reference/table-functions/urlCluster)                                | Позволяет параллельно обрабатывать файлы, доступные по URL-адресам, с множества узлов в указанном кластере.                                                                                                                                                                                                                                                                                                             |
| [values](/sql-reference/table-functions/values)                                        | создаёт временное хранилище, заполняющее столбцы значениями.                                                                                                                                                                                                                                                                                                                                                            |
| [view](/sql-reference/table-functions/view)                                            | Преобразует подзапрос в таблицу. Функция используется для реализации представлений.                                                                                                                                                                                                                                                                                                                                     |
| [loop](/sql-reference/table-functions/loop)                                            | Табличная функция loop в ClickHouse используется для бесконечной выдачи результатов запроса.                                                                                                                                                                                                                                                                                                                            |

{/*AUTOGENERATED_END*/ }

## Использование {#usage}

Табличные функции могут использоваться в разделе [`FROM`](../../sql-reference/statements/select/from.md)
команды `SELECT`. Например, вы можете выполнить `SELECT` данных из файла на локальной
машине, используя табличную функцию `file`.

```bash
echo "1, 2, 3" > example.csv
```

```text
./clickhouse client
:) SELECT * FROM file('example.csv')
┌─c1─┬─c2─┬─c3─┐
│  1 │  2 │  3 │
└────┴────┴────┘
```

Можно также использовать табличные функции для создания временной таблицы, доступной только в текущем запросе. Например:

```sql title="Query"
SELECT * FROM generateSeries(1,5);
```

```response title="Response"
┌─generate_series─┐
│               1 │
│               2 │
│               3 │
│               4 │
│               5 │
└─────────────────┘
```

Таблица удаляется после завершения запроса.

Табличные функции можно использовать для создания таблиц, используя следующий синтаксис:

```sql
CREATE TABLE [IF NOT EXISTS] [db.]table_name AS table_function()
```

Например:

```sql title="Query"
CREATE TABLE series AS generateSeries(1, 5);
SELECT * FROM series;
```

```response
┌─generate_series─┐
│               1 │
│               2 │
│               3 │
│               4 │
│               5 │
└─────────────────┘
```

Наконец, табличные функции можно использовать для операции `INSERT` данных в таблицу. Например,
мы можем снова использовать табличную функцию `file`, чтобы записать содержимое таблицы,
созданной в предыдущем примере, в файл на диске:

```sql
INSERT INTO FUNCTION file('numbers.csv', 'CSV') SELECT * FROM series;
```

```bash
cat numbers.csv
1
2
3
4
5
```

:::note
Нельзя использовать табличные функции, если параметр [allow&#95;ddl](/operations/settings/settings#allow_ddl) отключён.
:::
