---
description: 'Документация по типу данных Time64 в ClickHouse, предназначенному для хранения диапазона времени с субсекундной точностью'
slug: /sql-reference/data-types/time64
sidebar_position: 17
sidebar_label: 'Time64'
title: 'Time64'
doc_type: 'reference'
---



# Time64

Тип данных `Time64` представляет время суток с дробными секундами.
Он не содержит компонентов календарной даты (день, месяц, год).
Параметр `precision` определяет количество знаков после запятой и, соответственно, размер тика.

Размер тика (precision): 10<sup>-precision</sup> секунды. Допустимый диапазон: 0..9. Наиболее часто используются значения: 3 (миллисекунды), 6 (микросекунды) и 9 (наносекунды).

**Синтаксис:**

```sql
Time64(precision)
```

Внутренне тип `Time64` хранит знаковое 64-битное десятичное число (Decimal64), представляющее дробные секунды.
Разрешение тиков определяется параметром `precision`.
Часовые пояса не поддерживаются: указание часового пояса для `Time64` приведёт к ошибке.

В отличие от `DateTime64`, `Time64` не хранит дату.
См. также [`Time`](../../sql-reference/data-types/time.md).

Диапазон текстового представления значений: [-999:59:59.000, 999:59:59.999] для `precision = 3`. В общем случае минимум — `-999:59:59`, максимум — `999:59:59` с количеством дробных цифр до значения `precision` (для `precision = 9` минимум — `-999:59:59.999999999`).


## Подробности реализации {#implementation-details}

**Представление**.  
Знаковое значение типа `Decimal64`, представляющее количество долей секунды с `precision` знаками после запятой.

**Нормализация**.  
При разборе строк в значение типа `Time64` компоненты времени нормализуются, но не проверяются на корректность.  
Например, `25:70:70` интерпретируется как `26:11:10`.

**Отрицательные значения**.  
Ведущий знак минус поддерживается и сохраняется.  
Отрицательные значения обычно возникают в результате арифметических операций над значениями `Time64`.  
Для `Time64` отрицательные входные значения сохраняются как для текстовых (например, `'-01:02:03.123'`), так и для числовых входных данных (например, `-3723.123`).

**Сатурация (ограничение диапазона)**.  
Компонента времени суток ограничивается диапазоном [-999:59:59.xxx, 999:59:59.xxx] при преобразовании в компоненты или сериализации в текст.  
Сохраняемое числовое значение может выходить за этот диапазон; однако любое извлечение компонентов (часы, минуты, секунды) и текстовое представление используют ограниченное (сатурированное) значение.

**Часовые пояса**.  
`Time64` не поддерживает часовые пояса.  
Указание часового пояса при создании типа или значения `Time64` приводит к ошибке.  
Аналогично, попытки применить или изменить часовой пояс для столбцов `Time64` не поддерживаются и приводят к ошибке.



## Примеры

1. Создание таблицы со столбцом типа `Time64` и вставка в неё данных:

```sql
CREATE TABLE tab64
(
    `event_id` UInt8,
    `time` Time64(3)
)
ENGINE = TinyLog;
```

```sql
-- Разбор Time64
-- - из строки,
-- - из количества секунд с 00:00:00 (дробная часть согласно заданной точности).
INSERT INTO tab64 VALUES (1, '14:30:25'), (2, 52225.123), (3, '14:30:25');

SELECT * FROM tab64 ORDER BY event_id;
```

```text
   ┌─event_id─┬────────time─┐
1. │        1 │ 14:30:25.000 │
2. │        2 │ 14:30:25.123 │
3. │        3 │ 14:30:25.000 │
   └──────────┴──────────────┘
```

2. Фильтрация по значениям типа `Time64`

```sql
SELECT * FROM tab64 WHERE time = toTime64('14:30:25', 3);
```

```text
   ┌─event_id─┬────────time─┐
1. │        1 │ 14:30:25.000 │
2. │        3 │ 14:30:25.000 │
   └──────────┴──────────────┘
```

```sql
SELECT * FROM tab64 WHERE time = toTime64(52225.123, 3);
```

```text
   ┌─event_id─┬────────time─┐
1. │        2 │ 14:30:25.123 │
   └──────────┴──────────────┘
```

Примечание: `toTime64` разбирает числовые литералы как секунды с дробной частью в соответствии с указанной точностью, поэтому явно указывайте требуемое количество знаков после запятой.

3. Проверка получившегося типа:

```sql
SELECT CAST('14:30:25.250' AS Time64(3)) AS column, toTypeName(column) AS type;
```

```text
   ┌────────column─┬─type──────┐
1. │ 14:30:25.250 │ Time64(3) │
   └───────────────┴───────────┘
```

**См. также**

* [Функции преобразования типов](../../sql-reference/functions/type-conversion-functions.md)
* [Функции для работы с датами и временем](../../sql-reference/functions/date-time-functions.md)
* [Настройка `date_time_input_format`](../../operations/settings/settings-formats.md#date_time_input_format)
* [Настройка `date_time_output_format`](../../operations/settings/settings-formats.md#date_time_output_format)
* [Параметр конфигурации сервера `timezone`](../../operations/server-configuration-parameters/settings.md#timezone)
* [Настройка `session_timezone`](../../operations/settings/settings.md#session_timezone)
* [Операторы для работы с датами и временем](../../sql-reference/operators/index.md#operators-for-working-with-dates-and-times)
* [Тип данных `Date`](../../sql-reference/data-types/date.md)
* [Тип данных `Time`](../../sql-reference/data-types/time.md)
* [Тип данных `DateTime`](../../sql-reference/data-types/datetime.md)
