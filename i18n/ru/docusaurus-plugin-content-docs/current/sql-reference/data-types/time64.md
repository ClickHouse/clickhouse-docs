---
description: 'Документация по типу данных Time64 в ClickHouse, предназначенному для хранения значений времени с субсекундной точностью'
slug: /sql-reference/data-types/time64
sidebar_position: 17
sidebar_label: 'Time64'
title: 'Time64'
doc_type: 'reference'
---



# Time64

Тип данных `Time64` представляет время суток с дробными долями секунды.
Он не содержит календарных компонентов даты (день, месяц, год).
Параметр `precision` определяет количество дробных разрядов и, следовательно, размер тика.

Размер тика (precision): 10<sup>-precision</sup> секунды. Допустимый диапазон: 0..9. Типичные значения: 3 (миллисекунды), 6 (микросекунды) и 9 (наносекунды).

**Синтаксис:**

```sql
Time64(precision)
```

Тип `Time64` внутренне хранит знаковое 64-битное десятичное (Decimal64) число, представляющее дробные секунды.
Разрешение тиков определяется параметром `precision`.
Часовые пояса не поддерживаются: указание часового пояса с `Time64` приведёт к ошибке.

В отличие от `DateTime64`, `Time64` не хранит компоненту даты.
См. также [`Time`](../../sql-reference/data-types/time.md).

Диапазон текстового представления: [-999:59:59.000, 999:59:59.999] для `precision = 3`. В общем случае минимум — `-999:59:59`, а максимум — `999:59:59` с количеством знаков после запятой не более `precision` (для `precision = 9` минимум — `-999:59:59.999999999`).


## Детали реализации {#implementation-details}

**Представление**.
Знаковое значение `Decimal64`, представляющее дробную часть секунды с `precision` дробными цифрами.

**Нормализация**.
При разборе строк в `Time64` компоненты времени нормализуются, но не проверяются на корректность.
Например, `25:70:70` интерпретируется как `26:11:10`.

**Отрицательные значения**.
Знак минус в начале поддерживается и сохраняется.
Отрицательные значения обычно возникают в результате арифметических операций над значениями `Time64`.
Для `Time64` отрицательные входные данные сохраняются как для текстового формата (например, `'-01:02:03.123'`), так и для числового (например, `-3723.123`).

**Насыщение**.
Компонент времени суток ограничивается диапазоном [-999:59:59.xxx, 999:59:59.xxx] при преобразовании в компоненты или сериализации в текст.
Сохраненное числовое значение может выходить за пределы этого диапазона; однако любое извлечение компонентов (часы, минуты, секунды) и текстовое представление используют ограниченное значение.

**Часовые пояса**.
`Time64` не поддерживает часовые пояса.
Указание часового пояса при создании типа или значения `Time64` вызывает ошибку.
Аналогично, попытки применить или изменить часовой пояс для столбцов `Time64` не поддерживаются и приводят к ошибке.


## Примеры {#examples}

1. Создание таблицы со столбцом типа `Time64` и вставка данных:

```sql
CREATE TABLE tab64
(
    `event_id` UInt8,
    `time` Time64(3)
)
ENGINE = TinyLog;
```

```sql
-- Парсинг Time64
-- - из строки,
-- - из количества секунд с 00:00:00 (дробная часть согласно точности).
INSERT INTO tab64 VALUES (1, '14:30:25'), (2, 52225.123), (3, '14:30:25');

SELECT * FROM tab64 ORDER BY event_id;
```

```text
   ┌─event_id─┬────────time─┐
1. │        1 │ 14:30:25.000 │
2. │        2 │ 14:30:25.123 │
3. │        3 │ 14:30:25.000 │
   └──────────┴──────────────┘
```

2. Фильтрация по значениям `Time64`

```sql
SELECT * FROM tab64 WHERE time = toTime64('14:30:25', 3);
```

```text
   ┌─event_id─┬────────time─┐
1. │        1 │ 14:30:25.000 │
2. │        3 │ 14:30:25.000 │
   └──────────┴──────────────┘
```

```sql
SELECT * FROM tab64 WHERE time = toTime64(52225.123, 3);
```

```text
   ┌─event_id─┬────────time─┐
1. │        2 │ 14:30:25.123 │
   └──────────┴──────────────┘
```

Примечание: `toTime64` интерпретирует числовые литералы как секунды с дробной частью согласно указанной точности, поэтому необходимо явно указывать требуемые дробные разряды.

3. Проверка результирующего типа:

```sql
SELECT CAST('14:30:25.250' AS Time64(3)) AS column, toTypeName(column) AS type;
```

```text
   ┌────────column─┬─type──────┐
1. │ 14:30:25.250 │ Time64(3) │
   └───────────────┴───────────┘
```

**См. также**

- [Функции преобразования типов](../../sql-reference/functions/type-conversion-functions.md)
- [Функции для работы с датами и временем](../../sql-reference/functions/date-time-functions.md)
- [Настройка `date_time_input_format`](../../operations/settings/settings-formats.md#date_time_input_format)
- [Настройка `date_time_output_format`](../../operations/settings/settings-formats.md#date_time_output_format)
- [Параметр конфигурации сервера `timezone`](../../operations/server-configuration-parameters/settings.md#timezone)
- [Настройка `session_timezone`](../../operations/settings/settings.md#session_timezone)
- [Операторы для работы с датами и временем](../../sql-reference/operators/index.md#operators-for-working-with-dates-and-times)
- [Тип данных `Date`](../../sql-reference/data-types/date.md)
- [Тип данных `Time`](../../sql-reference/data-types/time.md)
- [Тип данных `DateTime`](../../sql-reference/data-types/datetime.md)
