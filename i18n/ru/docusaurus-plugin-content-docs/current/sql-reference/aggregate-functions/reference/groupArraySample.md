---
description: 'Создает массив значений аргумента, выбранных случайным образом. Размер результирующего массива ограничен `max_size` элементами. Значения аргумента отбираются и добавляются в массив в случайном порядке.'
slug: /sql-reference/aggregate-functions/reference/grouparraysample
title: 'groupArraySample'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## groupArraySample \{#groupArraySample\}

Введена в версии v20.3

Создаёт массив выборочно взятых значений аргумента.
Размер результирующего массива ограничен `max_size` элементами.
Значения аргумента выбираются и добавляются в массив случайным образом.

**Синтаксис**

```sql
groupArraySample(max_size[, seed])(x)
```

**Параметры**

* `max_size` — Максимальный размер результирующего массива. [`UInt64`](/sql-reference/data-types/int-uint)
* `seed` — Необязательный параметр. Начальное значение (seed) генератора случайных чисел. Значение по умолчанию: 123456. [`UInt64`](/sql-reference/data-types/int-uint)
* `x` — Аргумент (имя столбца или выражение). [`Any`](/sql-reference/data-types)

**Аргументы**

* `array_column` — Столбец, содержащий массивы для агрегации. [`Array`](/sql-reference/data-types/array)

**Возвращаемое значение**

Массив случайно выбранных аргументов `x`. [`Array(T)`](/sql-reference/data-types/array)

**Примеры**

**Пример использования**

```sql title=Query
CREATE TABLE default.colors (
    id Int32,
    color String
) ENGINE = Memory;

INSERT INTO default.colors VALUES
(1, 'red'),
(2, 'blue'),
(3, 'green'),
(4, 'white'),
(5, 'orange');

SELECT groupArraySample(3)(color) as newcolors FROM default.colors;
```

```response title=Response
┌─newcolors──────────────────┐
│ ['white','blue','green']   │
└────────────────────────────┘
```

**Пример с использованием значения seed**

```sql title=Query
-- Query with column name and different seed
SELECT groupArraySample(3, 987654321)(color) as newcolors FROM default.colors;
```

```response title=Response
┌─newcolors──────────────────┐
│ ['red','orange','green']   │
└────────────────────────────┘
```

**Использование выражения как аргумента**

```sql title=Query
-- Query with expression as argument
SELECT groupArraySample(3)(concat('light-', color)) as newcolors FROM default.colors;
```

```response title=Response
┌─newcolors───────────────────────────────────┐
│ ['light-blue','light-orange','light-green'] │
└─────────────────────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }
