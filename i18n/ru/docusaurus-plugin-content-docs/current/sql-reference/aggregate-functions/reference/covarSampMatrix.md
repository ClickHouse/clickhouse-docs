---
description: 'Возвращает выборочную ковариационную матрицу по N переменным.'
slug: /sql-reference/aggregate-functions/reference/covarsampmatrix
title: 'covarSampMatrix'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## covarSampMatrix \{#covarSampMatrix\}

Добавлена в версии: v23.2

Возвращает выборочную матрицу ковариаций для N переменных.

**Синтаксис**

```sql
covarSampMatrix(x1[, x2, ...])
```

**Аргументы**

* `x1[, x2, ...]` — Один или несколько аргументов, по которым вычисляется выборочная ковариационная матрица. [`(U)Int*`](/sql-reference/data-types/int-uint) или [`Float*`](/sql-reference/data-types/float) или [`Decimal`](/sql-reference/data-types/decimal)

**Возвращаемое значение**

Возвращает выборочную ковариационную матрицу. [`Array(Array(Float64))`](/sql-reference/data-types/array)

**Примеры**

**Базовый пример вычисления выборочной ковариационной матрицы**

```sql title=Query
DROP TABLE IF EXISTS test;
CREATE TABLE test
(
    a UInt32,
    b Float64,
    c Float64,
    d Float64
)
ENGINE = Memory;
INSERT INTO test(a, b, c, d) VALUES (1, 5.6, -4.4, 2.6), (2, -9.6, 3, 3.3), (3, -1.3, -4, 1.2), (4, 5.3, 9.7, 2.3), (5, 4.4, 0.037, 1.222), (6, -8.6, -7.8, 2.1233), (7, 5.1, 9.3, 8.1222), (8, 7.9, -3.6, 9.837), (9, -8.2, 0.62, 8.43555), (10, -3, 7.3, 6.762);

SELECT arrayMap(x -> round(x, 3), arrayJoin(covarSampMatrix(a, b, c, d))) AS covarSampMatrix
FROM test
```

```response title=Response
┌─covarSampMatrix─────────────┐
│ [9.167,-1.956,4.534,7.498]  │
│ [-1.956,45.634,7.206,2.369] │
│ [4.534,7.206,38.011,5.283]  │
│ [7.498,2.369,5.283,11.034]  │
└─────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }
