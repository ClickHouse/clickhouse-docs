---
description: 'Выполняет z-тест для сравнения средних двух генеральных совокупностей по их выборкам.'
sidebar_label: 'meanZTest'
slug: /sql-reference/aggregate-functions/reference/meanztest
title: 'meanZTest'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## meanZTest \{#meanZTest\}

Добавлена в версии v22.2

Применяет z-тест для средних к выборкам из двух совокупностей.

Значения обеих выборок находятся в столбце `sample_data`.
Если `sample_index` равен 0, то значение в этой строке относится к выборке из первой совокупности.
В противном случае оно относится к выборке из второй совокупности.
Нулевая гипотеза состоит в том, что средние значения совокупностей равны.
Предполагается нормальное распределение.
Допускается, что дисперсии совокупностей различаются, при этом их значения считаются известными.

**Синтаксис**

```sql
meanZTest(population_variance_x, population_variance_y, confidence_level)(sample_data, sample_index)
```

**Параметры**

* `population_variance_x` — Дисперсия генеральной совокупности x. [`Float*`](/sql-reference/data-types/float)
* `population_variance_y` — Дисперсия генеральной совокупности y. [`Float*`](/sql-reference/data-types/float)
* `confidence_level` — Уровень доверия для вычисления доверительных интервалов. [`Float*`](/sql-reference/data-types/float)

**Аргументы**

* `sample_data` — Выборочные данные. [`(U)Int*`](/sql-reference/data-types/int-uint) или [`Float*`](/sql-reference/data-types/float) или [`Decimal`](/sql-reference/data-types/decimal)
* `sample_index` — Индекс выборки. [`(U)Int*`](/sql-reference/data-types/int-uint)

**Возвращаемое значение**

Возвращает кортеж из четырёх элементов: z-статистика, p-значение, нижняя граница доверительного интервала, верхняя граница доверительного интервала. [`Tuple(Float64, Float64, Float64, Float64)`](/sql-reference/data-types/tuple)

**Примеры**

**Пример Z-теста для среднего**

```sql title=Query
CREATE TABLE mean_ztest (sample_data Float64, sample_index UInt8) ENGINE = Memory;
INSERT INTO mean_ztest VALUES (20.3, 0), (21.9, 0), (22.1, 0), (18.9, 1), (19, 1), (20.3, 1);

SELECT meanZTest(0.7, 0.45, 0.95)(sample_data, sample_index) FROM mean_ztest;
```

```response title=Response
┌─meanZTest(0.7, 0.45, 0.95)(sample_data, sample_index)───────────────────────────────┐
│ (3.2841296025548123, 0.0010229786769086013, 0.8198428246768334, 3.2468238419898365) │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }
