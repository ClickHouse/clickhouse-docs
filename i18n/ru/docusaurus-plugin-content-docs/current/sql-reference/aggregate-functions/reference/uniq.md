---
description: 'Вычисляет приблизительное количество различных значений аргумента.'
slug: /sql-reference/aggregate-functions/reference/uniq
title: 'uniq'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## uniq \{#uniq\}

Добавлена в: v1.1

Вычисляет приблизительное количество различных значений аргумента.

Функция использует адаптивный алгоритм выборки. Для хранения состояния вычислений функция использует выборку хеш-значений элементов размером до 65536. Этот алгоритм обладает высокой точностью и очень эффективен по использованию CPU. Когда запрос содержит несколько таких функций, использование uniq почти столь же быстро, как использование других агрегатных функций.

<details>
  <summary>Подробности реализации</summary>

  Эта функция вычисляет хеш для всех параметров в агрегатной функции, а затем использует его в вычислениях.
  Она использует адаптивный алгоритм выборки.
  Для хранения состояния вычислений функция использует выборку хеш-значений элементов размером до 65536.
  Этот алгоритм обладает высокой точностью и очень эффективен по использованию CPU.
  Когда запрос содержит несколько таких функций, использование `uniq` почти столь же быстро, как использование других агрегатных функций.
</details>

:::tip
Мы рекомендуем использовать эту функцию вместо других вариантов практически во всех сценариях.
:::

**Синтаксис**

```sql
uniq(x[, ...])
```

**Аргументы**

* `x` — функция принимает переменное число аргументов: [`Tuple(T)`](/sql-reference/data-types/tuple) или [`Array(T)`](/sql-reference/data-types/array) или [`Date`](/sql-reference/data-types/date) или [`DateTime`](/sql-reference/data-types/datetime) или [`String`](/sql-reference/data-types/string) или [`(U)Int*`](/sql-reference/data-types/int-uint) или [`Float*`](/sql-reference/data-types/float) или [`Decimal`](/sql-reference/data-types/decimal)

**Возвращаемое значение**

Возвращает целое беззнаковое число типа UInt64, представляющее приблизительное количество различных значений. [`UInt64`](/sql-reference/data-types/int-uint)

**Примеры**

**Пример использования**

```sql title=Query
CREATE TABLE example_table (
    id UInt32,
    category String,
    value Float64
) ENGINE = Memory;

INSERT INTO example_table VALUES
(1, 'A', 10.5),
(2, 'B', 20.3),
(3, 'A', 15.7),
(4, 'C', 8.9),
(5, 'B', 12.1),
(6, 'A', 18.4);

SELECT uniq(category) as unique_categories
FROM example_table;
```

```response title=Response
┌─unique_categories─┐
│                 3 │
└───────────────────┘
```

**Несколько аргументов**

```sql title=Query
SELECT uniq(category, value) as unique_combinations
FROM example_table;
```

```response title=Response
┌─unique_combinations─┐
│                   6 │
└─────────────────────┘
```

{/*AUTOGENERATED_END*/ }

**См. также**

* [uniqCombined](/sql-reference/aggregate-functions/reference/uniqcombined)
* [uniqCombined64](/sql-reference/aggregate-functions/reference/uniqcombined64)
* [uniqHLL12](/sql-reference/aggregate-functions/reference/uniqhll12)
* [uniqExact](/sql-reference/aggregate-functions/reference/uniqexact)
* [uniqTheta](/sql-reference/aggregate-functions/reference/uniqthetasketch)
