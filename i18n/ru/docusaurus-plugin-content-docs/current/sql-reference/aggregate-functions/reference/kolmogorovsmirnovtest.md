---
slug: /sql-reference/aggregate-functions/reference/kolmogorovsmirnovtest
sidebar_position: 156
sidebar_label: kolmogorovSmirnovTest
title: "kolmogorovSmirnovTest"
description: "Применяет тест Колмогорова-Смирнова к выборкам из двух популяций."
---


# kolmogorovSmirnovTest

Применяет тест Колмогорова-Смирнова к выборкам из двух популяций.

**Синтаксис**

``` sql
kolmogorovSmirnovTest([alternative, computation_method])(sample_data, sample_index)
```

Значения обеих выборок находятся в колонке `sample_data`. Если `sample_index` равен 0, то значение в этой строке принадлежит выборке из первой популяции. В противном случае оно принадлежит выборке из второй популяции. Выборки должны принадлежать непрерывным одноразмерным вероятностным распределениям.

**Аргументы**

- `sample_data` — Данные выборки. [Целое](../../../sql-reference/data-types/int-uint.md), [Вещественное](../../../sql-reference/data-types/float.md) или [Десятичное](../../../sql-reference/data-types/decimal.md).
- `sample_index` — Индекс выборки. [Целое](../../../sql-reference/data-types/int-uint.md).

**Параметры**

- `alternative` — альтернативная гипотеза. (Необязательный, по умолчанию: `'two-sided'`.) [Строка](../../../sql-reference/data-types/string.md).
    Пусть F(x) и G(x) — это функции распределения первых и вторых распределений соответственно.
    - `'two-sided'`
        Нулевая гипотеза заключается в том, что выборки происходят из одного и того же распределения, например, `F(x) = G(x)` для всех x.
        Альтернативная гипотеза заключается в том, что распределения не идентичны.
    - `'greater'`
        Нулевая гипотеза заключается в том, что значения в первой выборке *стохастически меньше*, чем в второй,
        например, функция распределения первого распределения находится выше и, следовательно, левее второго.
        Это на самом деле означает, что `F(x) >= G(x)` для всех x. Альтернативная гипотеза в этом случае заключается в том, что `F(x) < G(x)` для по крайней мере одного x.
    - `'less'`.
        Нулевая гипотеза заключается в том, что значения в первой выборке *стохастически больше*, чем во второй,
        например, функция распределения первого распределения находится ниже и, следовательно, правее второго.
        Это на самом деле означает, что `F(x) <= G(x)` для всех x. Альтернативная гипотеза в этом случае заключается в том, что `F(x) > G(x)` для по крайней мере одного x.
- `computation_method` — метод, используемый для вычисления p-значения. (Необязательный, по умолчанию: `'auto'`.) [Строка](../../../sql-reference/data-types/string.md).
    - `'exact'` - вычисление выполняется с использованием точного распределения вероятностей статистики теста. Вычислительно интенсивно и неэффективно, за исключением небольших выборок.
    - `'asymp'` (`'asymptotic'`) - вычисление выполняется с использованием аппроксимации. Для больших размеров выборок точные и асимптотические p-значения очень схожи.
    - `'auto'`  - используется метод `'exact'`, когда максимальное количество выборок меньше 10'000.

**Возвращаемые значения**

[Кортеж](../../../sql-reference/data-types/tuple.md) с двумя элементами:

- вычисленная статистика. [Float64](../../../sql-reference/data-types/float.md).
- вычисленное p-значение. [Float64](../../../sql-reference/data-types/float.md).

**Пример**

Запрос:

``` sql
SELECT kolmogorovSmirnovTest('less', 'exact')(value, num)
FROM
(
    SELECT
        randNormal(0, 10) AS value,
        0 AS num
    FROM numbers(10000)
    UNION ALL
    SELECT
        randNormal(0, 10) AS value,
        1 AS num
    FROM numbers(10000)
)
```

Результат:

``` text
┌─kolmogorovSmirnovTest('less', 'exact')(value, num)─┐
│ (0.009899999999999996,0.37528595205132287)         │
└────────────────────────────────────────────────────┘
```

Примечание:
p-значение больше 0.05 (для уровня доверия 95%), поэтому нулевая гипотеза не отклоняется.


Запрос:

``` sql
SELECT kolmogorovSmirnovTest('two-sided', 'exact')(value, num)
FROM
(
    SELECT
        randStudentT(10) AS value,
        0 AS num
    FROM numbers(100)
    UNION ALL
    SELECT
        randNormal(0, 10) AS value,
        1 AS num
    FROM numbers(100)
)
```

Результат:

``` text
┌─kolmogorovSmirnovTest('two-sided', 'exact')(value, num)─┐
│ (0.4100000000000002,6.61735760482795e-8)                │
└─────────────────────────────────────────────────────────┘
```

Примечание:
p-значение меньше 0.05 (для уровня доверия 95%), поэтому нулевая гипотеза отклоняется.


**См. также**

- [Тест Колмогорова-Смирнова](https://en.wikipedia.org/wiki/Kolmogorov%E2%80%93Smirnov_test)
