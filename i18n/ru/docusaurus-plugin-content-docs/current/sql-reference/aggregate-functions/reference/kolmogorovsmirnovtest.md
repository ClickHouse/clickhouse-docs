---
slug: '/sql-reference/aggregate-functions/reference/kolmogorovsmirnovtest'
sidebar_label: kolmogorovSmirnovTest
sidebar_position: 156
description: 'Принимает тест Колмогорова-Смирнова к выборкам из двух популяций.'
title: kolmogorovSmirnovTest
doc_type: reference
---
# kolmogorovSmirnovTest

Применяет тест Колмогорова-Смирнова к выборкам из двух популяций.

**Синтаксис**

```sql
kolmogorovSmirnovTest([alternative, computation_method])(sample_data, sample_index)
```

Значения обеих выборок находятся в столбце `sample_data`. Если `sample_index` равно 0, то значение в этой строке принадлежит выборке из первой популяции. В противном случае оно принадлежит выборке из второй популяции.
Выборки должны принадлежать непрерывным одномерным распределениям вероятностей.

**Аргументы**

- `sample_data` — Данные выборки. [Целое](../../../sql-reference/data-types/int-uint.md), [Действительное](../../../sql-reference/data-types/float.md) или [Десятичное](../../../sql-reference/data-types/decimal.md).
- `sample_index` — Индекс выборки. [Целое](../../../sql-reference/data-types/int-uint.md).

**Параметры**

- `alternative` — альтернативная гипотеза. (Необязательный, по умолчанию: `'two-sided'`.) [Строка](../../../sql-reference/data-types/string.md).
    Пусть F(x) и G(x) — функции распределения (CDF) первой и второй выборок соответственно.
  - `'two-sided'`
        Нулевая гипотеза заключается в том, что выборки происходят из одного и того же распределения, т.е. `F(x) = G(x)` для всех x.
        Альтернативная гипотеза заключается в том, что распределения не идентичны.
  - `'greater'`
        Нулевая гипотеза заключается в том, что значения в первой выборке *стохастически меньше* значений во второй выборке,
        т.е. функция распределения первой выборки находится выше и, следовательно, слева от функции распределения второй.
        Это фактически означает, что `F(x) >= G(x)` для всех x. Альтернативная гипотеза в этом случае — `F(x) < G(x)` для хотя бы одного x.
  - `'less'`.
        Нулевая гипотеза заключается в том, что значения в первой выборке *стохастически больше* значений во второй выборке,
        т.е. функция распределения первой выборки находится ниже и, следовательно, справа от функции распределения второй.
        Это фактически означает, что `F(x) <= G(x)` для всех x. Альтернативная гипотеза в этом случае — `F(x) > G(x)` для хотя бы одного x.
- `computation_method` — метод, используемый для вычисления p-значения. (Необязательный, по умолчанию: `'auto'`.) [Строка](../../../sql-reference/data-types/string.md).
  - `'exact'` - расчет выполняется с использованием точного распределения вероятностей статистики теста. Требует значительных вычислительных ресурсов и неэффективен, кроме как для небольших выборок.
  - `'asymp'` (`'asymptotic'`) - расчет выполняется с использованием аппроксимации. Для больших размеров выборок точные и асимптотические p-значения очень похожи.
  - `'auto'`  - метод `'exact'` используется, когда максимальное количество выборок меньше 10'000.

**Возвращаемые значения**

[Кортеж](../../../sql-reference/data-types/tuple.md) с двумя элементами:

- вычисленное значение статистики. [Float64](../../../sql-reference/data-types/float.md).
- вычисленное p-значение. [Float64](../../../sql-reference/data-types/float.md).

**Пример**

Запрос:

```sql
SELECT kolmogorovSmirnovTest('less', 'exact')(value, num)
FROM
(
    SELECT
        randNormal(0, 10) AS value,
        0 AS num
    FROM numbers(10000)
    UNION ALL
    SELECT
        randNormal(0, 10) AS value,
        1 AS num
    FROM numbers(10000)
)
```

Результат:

```text
┌─kolmogorovSmirnovTest('less', 'exact')(value, num)─┐
│ (0.009899999999999996,0.37528595205132287)         │
└────────────────────────────────────────────────────┘
```

Примечание:
P-значение больше 0.05 (для уровня доверия 95%), поэтому нулевая гипотеза не отвергается.

Запрос:

```sql
SELECT kolmogorovSmirnovTest('two-sided', 'exact')(value, num)
FROM
(
    SELECT
        randStudentT(10) AS value,
        0 AS num
    FROM numbers(100)
    UNION ALL
    SELECT
        randNormal(0, 10) AS value,
        1 AS num
    FROM numbers(100)
)
```

Результат:

```text
┌─kolmogorovSmirnovTest('two-sided', 'exact')(value, num)─┐
│ (0.4100000000000002,6.61735760482795e-8)                │
└─────────────────────────────────────────────────────────┘
```

Примечание:
P-значение меньше 0.05 (для уровня доверия 95%), поэтому нулевая гипотеза отвергается.

**См. Также**

- [Тест Колмогорова-Смирнова](https://en.wikipedia.org/wiki/Kolmogorov%E2%80%93Smirnov_test)