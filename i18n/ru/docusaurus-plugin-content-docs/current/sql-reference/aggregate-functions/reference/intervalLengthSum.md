---
description: 'Вычисляет общую длину объединения всех диапазонов (отрезков числовой оси).'
sidebar_label: 'intervalLengthSum'
slug: /sql-reference/aggregate-functions/reference/intervalLengthSum
title: 'intervalLengthSum'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## intervalLengthSum \{#intervalLengthSum\}

Добавлена в: v21.7

Принимает несколько числовых диапазонов и вычисляет их общую длину при объединении всех пересекающихся частей в один единый диапазон.

:::note
Аргументы должны иметь один и тот же тип данных.
В противном случае будет сгенерировано исключение.
:::

**Синтаксис**

```sql
intervalLengthSum(start, end)
```

**Аргументы**

* `start` — начальное значение интервала. [`(U)Int32/64`](/sql-reference/data-types/int-uint) или [`Float*`](/sql-reference/data-types/float) или [`DateTime`](/sql-reference/data-types/datetime) или [`Date`](/sql-reference/data-types/date)
* `end` — конечное значение интервала. [`(U)Int32/64`](/sql-reference/data-types/int-uint) или [`Float*`](/sql-reference/data-types/float) или [`DateTime`](/sql-reference/data-types/datetime) или [`Date`](/sql-reference/data-types/date)

**Возвращаемое значение**

Возвращает суммарную длину объединения всех диапазонов (отрезков на числовой оси). В зависимости от типа аргумента возвращаемое значение может быть типа UInt64 или Float64. [`UInt64`](/sql-reference/data-types/int-uint) или [`Float64`](/sql-reference/data-types/float)

**Примеры**

**Пример для Float32**

```sql title=Query
CREATE TABLE fl_interval (id String, start Float32, end Float32) ENGINE = Memory;
INSERT INTO fl_interval VALUES ('a', 1.1, 2.9), ('a', 2.5, 3.2), ('a', 4, 5);

SELECT id, intervalLengthSum(start, end), toTypeName(intervalLengthSum(start, end)) FROM fl_interval GROUP BY id ORDER BY id;
```

```response title=Response
┌─id─┬─intervalLengthSum(start, end)─┬─toTypeName(intervalLengthSum(start, end))─┐
│ a  │                           3.1 │ Float64                                   │
└────┴───────────────────────────────┴───────────────────────────────────────────┘
```

**Пример DateTime**

```sql title=Query
CREATE TABLE dt_interval (id String, start DateTime, end DateTime) ENGINE = Memory;
INSERT INTO dt_interval VALUES ('a', '2020-01-01 01:12:30', '2020-01-01 02:10:10'), ('a', '2020-01-01 02:05:30', '2020-01-01 02:50:31'), ('a', '2020-01-01 03:11:22', '2020-01-01 03:23:31');

SELECT id, intervalLengthSum(start, end), toTypeName(intervalLengthSum(start, end)) FROM dt_interval GROUP BY id ORDER BY id;
```

```response title=Response
┌─id─┬─intervalLengthSum(start, end)─┬─toTypeName(intervalLengthSum(start, end))─┐
│ a  │                          6610 │ UInt64                                    │
└────┴───────────────────────────────┴───────────────────────────────────────────┘
```

**Пример даты**

```sql title=Query
CREATE TABLE date_interval (id String, start Date, end Date) ENGINE = Memory;
INSERT INTO date_interval VALUES ('a', '2020-01-01', '2020-01-04'), ('a', '2020-01-12', '2020-01-18');

SELECT id, intervalLengthSum(start, end), toTypeName(intervalLengthSum(start, end)) FROM date_interval GROUP BY id ORDER BY id;
```

```response title=Response
┌─id─┬─intervalLengthSum(start, end)─┬─toTypeName(intervalLengthSum(start, end))─┐
│ a  │                             9 │ UInt64                                    │
└────┴───────────────────────────────┴───────────────────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }
