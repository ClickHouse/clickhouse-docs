---
description: 'Агрегатная функция `singleValueOrNull` используется для реализации операторов подзапросов, таких как `x = ALL (SELECT ...)`. Она проверяет, есть ли в данных ровно одно уникальное значение, отличное от NULL.'
slug: /sql-reference/aggregate-functions/reference/singlevalueornull
title: 'singleValueOrNull'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## singleValueOrNull \{#singleValueOrNull\}

Введена в версии: v21.9

Агрегатная функция `singleValueOrNull` используется для реализации операторов с подзапросами, таких как `x = ALL (SELECT ...)`. Она проверяет, есть ли в данных ровно одно уникальное значение, отличное от `NULL`.
Если уникальное значение только одно, она возвращает его. Если значений нет или как минимум два различных значения, она возвращает `NULL`.

**Синтаксис**

```sql
singleValueOrNull(x)
```

**Аргументы**

* `x` — столбец любого типа данных, кроме Map, Array или Tuple, которые не могут быть типа Nullable. [`Any`](/sql-reference/data-types)

**Возвращаемое значение**

Возвращает уникальное значение, если в `x` есть ровно одно уникальное значение, отличное от `NULL`. Возвращает `NULL`, если нет ни одного значения или есть как минимум два различных значения. [`Any`](/sql-reference/data-types) или [`NULL`](/sql-reference/syntax#null)

**Примеры**

**Одно уникальное значение**

```sql title=Query
CREATE TABLE test (x UInt8 NULL) ENGINE=Log;
INSERT INTO test (x) VALUES (NULL), (NULL), (5), (NULL), (NULL);
SELECT singleValueOrNull(x) FROM test;
```

```response title=Response
┌─singleValueOrNull(x)─┐
│                    5 │
└──────────────────────┘
```

**Несколько различных значений**

```sql title=Query
INSERT INTO test (x) VALUES (10);
SELECT singleValueOrNull(x) FROM test;
```

```response title=Response
┌─singleValueOrNull(x)─┐
│                 ᴺᵁᴸᴸ │
└──────────────────────┘
```

{/*AUTOGENERATED_END*/ }
