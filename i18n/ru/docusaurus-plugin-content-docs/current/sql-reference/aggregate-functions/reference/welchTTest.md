---
description: 'Применяет t-критерий Уэлча к выборкам из двух генеральных совокупностей.'
sidebar_label: 'welchTTest'
slug: /sql-reference/aggregate-functions/reference/welchttest
title: 'welchTTest'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## welchTTest \{#welchTTest\}

Введена в версии: v21.1

Применяет [t-критерий Уэлча](https://en.wikipedia.org/wiki/Welch%27s_t-test) к выборкам из двух генеральных совокупностей.

Значения обеих выборок находятся в столбце `sample_data`.
Если `sample_index` равно 0, то значение в этой строке относится к выборке из первой генеральной совокупности.
В противном случае оно относится к выборке из второй генеральной совокупности.
Нулевая гипотеза утверждает, что средние значения генеральных совокупностей равны.
Предполагается нормальное распределение.
Допускается, что дисперсии генеральных совокупностей могут быть различными.

**Синтаксис**

```sql
welchTTest([confidence_level])(sample_data, sample_index)
```

**Параметры**

* `confidence_level` — Необязательный параметр. Уровень доверия для вычисления доверительных интервалов. [`Float`](/sql-reference/data-types/float)

**Аргументы**

* `sample_data` — Данные выборки. [`Int*`](/sql-reference/data-types/int-uint) или [`UInt*`](/sql-reference/data-types/int-uint) или [`Float*`](/sql-reference/data-types/float) или [`Decimal*`](/sql-reference/data-types/decimal)
* `sample_index` — Индекс выборки. [`Int*`](/sql-reference/data-types/int-uint) или [`UInt*`](/sql-reference/data-types/int-uint)

**Возвращаемое значение**

Возвращает `Tuple` с двумя или четырьмя элементами (если указан необязательный `confidence_level`): вычисленная t-статистика, вычисленное p-значение и, при необходимости, нижняя и верхняя границы доверительного интервала. [`Tuple(Float64, Float64)`](/sql-reference/data-types/tuple) или [`Tuple(Float64, Float64, Float64, Float64)`](/sql-reference/data-types/tuple)

**Примеры**

**Базовый t-тест Уэлча**

```sql title=Query
CREATE TABLE welch_ttest (sample_data Float64, sample_index UInt8) ENGINE = Memory;
INSERT INTO welch_ttest VALUES (20.3, 0), (22.1, 0), (21.9, 0), (18.9, 1), (20.3, 1), (19, 1);

SELECT welchTTest(sample_data, sample_index) FROM welch_ttest;
```

```response title=Response
┌─welchTTest(sample_data, sample_index)──────┐
│ (2.7988719532211235, 0.051807360348581945) │
└────────────────────────────────────────────┘
```

**С доверительным уровнем**

```sql title=Query
SELECT welchTTest(0.95)(sample_data, sample_index) FROM welch_ttest;
```

```response title=Response
┌─welchTTest(0.95)(sample_data, sample_index)─────────────────────────────────────────┐
│ (2.7988719532211235, 0.05180736034858519, -0.026294346671631885, 4.092961013338302) │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }

**См. также**

* [t-критерий Уэлча](https://en.wikipedia.org/wiki/Welch%27s_t-test)
* [функция studentTTest](/sql-reference/aggregate-functions/reference/studentttest)
