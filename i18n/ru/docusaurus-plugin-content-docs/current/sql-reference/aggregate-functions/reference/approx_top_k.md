---
description: 'Возвращает массив значений, приблизительно наиболее часто встречающихся в указанном столбце, и их счетчиков.'
slug: /sql-reference/aggregate-functions/reference/approxtopk
title: 'approx_top_k'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## approx_top_k \{#approx_top_k\}

Введена в: v1.1

Возвращает массив приблизительно наиболее часто встречающихся значений и соответствующих им количеств в указанном столбце.
Полученный массив отсортирован по убыванию приблизительной частоты значений (не по самим значениям).

Эта функция не гарантирует точный результат.
В некоторых ситуациях возможны ошибки, и функция может вернуть часто встречающиеся значения, которые не являются наиболее частыми.

**Синтаксис**

```sql
approx_top_k(N[, reserved])(column)
```

**Псевдонимы**: `approx_top_count`

**Параметры**

* `N` — Количество возвращаемых элементов. Значение по умолчанию: `10`. Максимальное значение: `N = 65536`. [`UInt64`](/sql-reference/data-types/int-uint)
* `reserved` — Необязательный параметр. Определяет, сколько ячеек будет зарезервировано для значений. Если `uniq(column) > reserved`, результат будет приблизительным. Значение по умолчанию: `N * 3`. [`UInt64`](/sql-reference/data-types/int-uint)

**Аргументы**

* `column` — Имя столбца, для которого нужно найти наиболее часто встречающиеся значения. [`String`](/sql-reference/data-types/string)

**Возвращаемое значение**

Возвращает массив приблизительно наиболее часто встречающихся значений и количества их вхождений, отсортированный по убыванию приблизительной частоты. [`Array`](/sql-reference/data-types/array)

**Примеры**

**Пример использования**

```sql title=Query
SELECT approx_top_k(2)(k)
FROM VALUES('k Char, w UInt64', ('y', 1), ('y', 1), ('x', 5), ('y', 1), ('z', 10));
```

```response title=Response
┌─approx_top_k(2)(k)────┐
│ [('y',3,0),('x',1,0)] │
└───────────────────────┘
```

{/*AUTOGENERATED_END*/ }

**См. также**

* [topK](../../../sql-reference/aggregate-functions/reference/topK.md)
* [topKWeighted](../../../sql-reference/aggregate-functions/reference/topKWeighted.md)
* [approx&#95;top&#95;sum](../../../sql-reference/aggregate-functions/reference/approx_top_sum.md)
