---
description: 'Эту функцию можно использовать для тестирования устойчивости к исключениям.
  Она будет выбрасывать исключение при инициализации с указанной вероятностью.'
slug: /sql-reference/aggregate-functions/reference/aggthrow
title: 'aggThrow'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## aggThrow \{#aggThrow\}

Впервые появилась в версии v20.1.

Эта функция может использоваться для проверки устойчивости к исключениям. При создании она будет выбрасывать исключение с указанной вероятностью.

**Синтаксис**

```sql
aggThrow(throw_prob)
```

**Аргументы**

* `throw_prob` — Вероятность генерации исключения при создании. [`Float64`](/sql-reference/data-types/float)

**Возвращаемое значение**

Возвращает исключение: `Code: 503. DB::Exception: Aggregate function aggThrow has thrown exception successfully`.

**Примеры**

**Пример использования**

```sql title=Query
SELECT number % 2 AS even, aggThrow(number) FROM numbers(10) GROUP BY even;
```

```response title=Response
Received exception:
Code: 503. DB::Exception: Aggregate function aggThrow has thrown exception successfully: While executing AggregatingTransform. (AGGREGATE_FUNCTION_THROW)
```

{/*AUTOGENERATED_END*/ }
