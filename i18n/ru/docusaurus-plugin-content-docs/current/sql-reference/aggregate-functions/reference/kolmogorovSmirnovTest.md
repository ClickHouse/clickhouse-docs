---
description: 'Применяет критерий Колмогорова–Смирнова к выборкам из двух генеральных совокупностей.'
sidebar_label: 'kolmogorovSmirnovTest'
slug: /sql-reference/aggregate-functions/reference/kolmogorovsmirnovtest
title: 'kolmogorovSmirnovTest'
doc_type: 'reference'
---

{/*AUTOGENERATED_START*/ }

## kolmogorovSmirnovTest \{#kolmogorovSmirnovTest\}

Появилось в версии v23.4

Применяет критерий Колмогорова–Смирнова к выборкам из двух генеральных совокупностей.

Значения обеих выборок находятся в столбце `sample_data`. Если `sample_index` равен 0, то значение в этой строке принадлежит выборке из первой совокупности. В противном случае оно принадлежит выборке из второй совокупности.
Выборки должны быть из непрерывных одномерных распределений вероятностей.

**Синтаксис**

```sql
kolmogorovSmirnovTest([alternative, computation_method])(sample_data, sample_index)
```

**Параметры**

* `alternative` — Альтернативная гипотеза. (Необязательный параметр, по умолчанию: &#39;two-sided&#39;.) Пусть `F(x) and G(x)` — функции распределения (CDF) первой и второй выборок соответственно. &#39;two-sided&#39;: нулевая гипотеза состоит в том, что выборки получены из одного и того же распределения, то есть `F(x) = G(x)` для всех x, а альтернативная — что распределения не идентичны. &#39;greater&#39;: нулевая гипотеза состоит в том, что значения в первой выборке стохастически меньше значений во второй, то есть CDF первого распределения лежит выше и, следовательно, левее CDF второго. Что фактически означает, что `F(x) >= G(x)` для всех x, а альтернативная гипотеза в этом случае — `F(x) < G(x)` хотя бы для одного x. &#39;less&#39;: нулевая гипотеза состоит в том, что значения в первой выборке стохастически больше значений во второй, то есть CDF первого распределения лежит ниже и, следовательно, правее CDF второго. Что фактически означает, что `F(x) <= G(x)` для всех x, а альтернативная гипотеза в этом случае — `F(x) > G(x)` хотя бы для одного x. [`String`](/sql-reference/data-types/string)
* `computation_method` — Метод, используемый для вычисления p-value. (Необязательный параметр, по умолчанию: &#39;auto&#39;.) &#39;exact&#39;: вычисление выполняется с использованием точного распределения вероятностей статистики критерия. Вычислительно затратен и избыточен, кроме случая малых выборок. &#39;asymp&#39; (&#39;asymptotic&#39;): вычисление выполняется с использованием аппроксимации. Для больших размеров выборок точные и асимптотические значения p-value очень близки. &#39;auto&#39;: метод &#39;exact&#39; используется, когда максимальное число наблюдений в выборках меньше 10&#39;000. [`String`](/sql-reference/data-types/string)

**Аргументы**

* `sample_data` — Данные выборки. [`(U)Int*`](/sql-reference/data-types/int-uint) или [`Float*`](/sql-reference/data-types/float) или [`Decimal`](/sql-reference/data-types/decimal)
* `sample_index` — Индекс выборки. [`(U)Int*`](/sql-reference/data-types/int-uint)

**Возвращаемое значение**

Возвращает кортеж из двух элементов: вычисленную статистику и вычисленное p-value. [`Tuple(Float64, Float64)`](/sql-reference/data-types/tuple)

**Примеры**

**Проверка на одинаковое распределение**

```sql title=Query
SELECT kolmogorovSmirnovTest('less', 'exact')(value, num)
FROM
(
    SELECT
        randNormal(0, 10) AS value,
        0 AS num
    FROM numbers(10000)
    UNION ALL
    SELECT
        randNormal(0, 10) AS value,
        1 AS num
    FROM numbers(10000)
)
```

```response title=Response
┌─kolmogorovSmirnovTest('less', 'exact')(value, num)─┐
│ (0.009899999999999996,0.37528595205132287)         │
└────────────────────────────────────────────────────┘
```

**Тест на различие распределений**

```sql title=Query
SELECT kolmogorovSmirnovTest('two-sided', 'exact')(value, num)
FROM
(
    SELECT
        randStudentT(10) AS value,
        0 AS num
    FROM numbers(100)
    UNION ALL
    SELECT
        randNormal(0, 10) AS value,
        1 AS num
    FROM numbers(100)
)
```

```response title=Response
┌─kolmogorovSmirnovTest('two-sided', 'exact')(value, num)─┐
│ (0.4100000000000002,6.61735760482795e-8)                │
└─────────────────────────────────────────────────────────┘
```

{/*AUTOGENERATED_END*/ }

**См. также**

* [Критерий Колмогорова–Смирнова](https://en.wikipedia.org/wiki/Kolmogorov%E2%80%93Smirnov_test)
