---
slug: /use-cases/observability/clickstack/overview
title: 'ClickStack — стек наблюдаемости ClickHouse'
sidebar_label: 'Обзор'
pagination_prev: null
pagination_next: use-cases/observability/clickstack/getting-started
description: 'Обзор ClickStack — стека наблюдаемости ClickHouse'
doc_type: 'guide'
keywords: ['clickstack', 'observability', 'logs', 'monitoring', 'platform']
---

import Image from '@theme/IdealImage';
import architecture from '@site/static/images/use-cases/observability/clickstack-simple-architecture.png';
import landing_image from '@site/static/images/use-cases/observability/hyperdx-landing.png';

<Image img={landing_image} alt="Целевая страница" size="lg" />

**ClickStack** — это промышленная платформа наблюдаемости (observability), построенная на ClickHouse и объединяющая логи, трассировки, метрики и сессии в одном высокопроизводительном решении. Предназначенная для мониторинга и отладки сложных систем, ClickStack позволяет разработчикам и SRE прослеживать проблемы сквозным образом по всей системе без переключения между инструментами и без ручного сопоставления данных по временным меткам или идентификаторам корреляции (correlation ID).

В основе ClickStack лежит простая, но мощная идея: все данные наблюдаемости должны поступать в виде широких, информативных событий. Эти события хранятся в таблицах ClickHouse по типам данных — логи, трассировки, метрики и сессии, — но при этом остаются полностью доступными для запросов и перекрёстной корреляции на уровне базы данных.

ClickStack создан для эффективной обработки нагрузок с высокой кардинальностью, используя колонко-ориентированную архитектуру ClickHouse, нативную поддержку JSON и полностью распараллеленный движок выполнения. Это обеспечивает субсекундные запросы по огромным наборам данных, быстрые агрегации на больших временных диапазонах и детальное исследование отдельных трассировок. JSON хранится в сжатом колоннарном формате, что позволяет изменять и эволюционировать схему без ручного вмешательства или предварительного определения структуры.


## Возможности {#features}

Стек включает несколько ключевых возможностей для отладки и анализа первопричин:

- Корреляция и поиск логов, метрик, записей сеансов и трассировок в одном месте
- Независимость от схемы данных, работает поверх существующей схемы ClickHouse
- Молниеносный поиск и визуализация, оптимизированные для ClickHouse
- Интуитивный синтаксис полнотекстового поиска и поиска по свойствам (например, `level:err`), SQL опционален
- Анализ трендов аномалий с помощью дельт событий
- Настройка оповещений всего за несколько кликов
- Дашборды для событий с высокой кардинальностью без сложного языка запросов
- Нативная поддержка запросов к JSON-строкам
- Отслеживание логов и трассировок в реальном времени для получения самых свежих событий
- Поддержка OpenTelemetry (OTel) из коробки
- Мониторинг работоспособности и производительности от HTTP-запросов до запросов к БД (APM)
- Дельты событий для выявления аномалий и регрессий производительности
- Распознавание паттернов в логах


## Компоненты {#components}

ClickStack состоит из трёх основных компонентов:

1. **HyperDX UI** – специализированный интерфейс для исследования и визуализации данных наблюдаемости
2. **OpenTelemetry collector** – настроенный коллектор с фиксированной схемой для логов, трассировок и метрик
3. **ClickHouse** – высокопроизводительная аналитическая база данных, являющаяся ядром стека

Эти компоненты можно развернуть как независимо, так и совместно. Также доступна браузерная версия HyperDX UI, позволяющая подключаться к существующим развёртываниям ClickHouse без дополнительной инфраструктуры.

Для начала работы ознакомьтесь с [руководством по началу работы](/use-cases/observability/clickstack/getting-started), а затем загрузите [тестовый набор данных](/use-cases/observability/clickstack/sample-datasets). Также вы можете изучить документацию по [вариантам развёртывания](/use-cases/observability/clickstack/deployment) и [рекомендациям для production-среды](/use-cases/observability/clickstack/production).


## Принципы {#clickstack-principles}

ClickStack разработан на основе набора ключевых принципов, которые обеспечивают простоту использования, производительность и гибкость на каждом уровне стека наблюдаемости:

### Простая настройка за несколько минут {#clickstack-easy-to-setup}

ClickStack работает из коробки с любым экземпляром и схемой ClickHouse, требуя минимальной настройки. Независимо от того, начинаете ли вы с нуля или интегрируетесь с существующей установкой, вы можете запустить систему за несколько минут.

### Удобный и специализированный интерфейс {#user-friendly-purpose-built}

Интерфейс HyperDX поддерживает как SQL, так и синтаксис в стиле Lucene, позволяя пользователям выбирать интерфейс запросов, который соответствует их рабочему процессу. Специально разработанный для наблюдаемости, интерфейс оптимизирован для помощи командам в быстром выявлении первопричин и навигации по сложным данным без затруднений.

### Сквозная наблюдаемость {#end-to-end-observability}

ClickStack обеспечивает полную видимость стека — от пользовательских сессий на фронтенде до метрик инфраструктуры бэкенда, журналов приложений и распределенных трассировок. Это единое представление позволяет проводить глубокую корреляцию и анализ всей системы.

### Создан для ClickHouse {#built-for-clickhouse}

Каждый уровень стека разработан для полного использования возможностей ClickHouse. Запросы оптимизированы для использования аналитических функций и колоночного движка ClickHouse, обеспечивая быстрый поиск и агрегацию больших объемов данных.

### Нативная поддержка OpenTelemetry {#open-telemetry-native}

ClickStack нативно интегрирован с OpenTelemetry, принимая все данные через конечную точку сборщика OpenTelemetry. Для опытных пользователей также поддерживается прямая загрузка данных в ClickHouse с использованием нативных форматов файлов, пользовательских конвейеров или сторонних инструментов, таких как Vector.

### Открытый исходный код и полная настраиваемость {#open-source-and-customizable}

ClickStack полностью открыт и может быть развернут где угодно. Схема является гибкой и модифицируемой пользователем, а интерфейс разработан с возможностью настройки под пользовательские схемы без необходимости внесения изменений. Все компоненты — включая сборщики, ClickHouse и интерфейс — могут масштабироваться независимо для удовлетворения требований к приему данных, выполнению запросов или хранению.


## Обзор архитектуры {#architectural-overview}

<Image img={architecture} alt='Простая архитектура' size='lg' />

ClickStack состоит из трёх основных компонентов:

1. **HyperDX UI**  
   Удобный интерфейс для мониторинга и наблюдаемости. Поддерживает запросы в стиле Lucene и SQL, интерактивные дашборды, оповещения, исследование трассировок и многое другое — всё оптимизировано для работы с ClickHouse в качестве бэкенда.

2. **OpenTelemetry collector**  
   Специально разработанный коллектор со схемой, оптимизированной для приёма данных в ClickHouse. Получает логи, метрики и трассировки по протоколам OpenTelemetry и записывает их напрямую в ClickHouse с использованием эффективных пакетных вставок.

3. **ClickHouse**  
   Высокопроизводительная аналитическая база данных, служащая центральным хранилищем данных для широких событий. ClickHouse обеспечивает быстрый поиск, фильтрацию и агрегацию в масштабе, используя колоночный движок и встроенную поддержку JSON.

Помимо этих трёх компонентов, ClickStack использует **экземпляр MongoDB** для хранения состояния приложения, такого как дашборды, учётные записи пользователей и параметры конфигурации.

Полная архитектурная диаграмма и детали развёртывания доступны в [разделе «Архитектура»](/use-cases/observability/clickstack/architecture).

Для пользователей, заинтересованных в развёртывании ClickStack в продакшене, рекомендуем ознакомиться с руководством [«Продакшен»](/use-cases/observability/clickstack/production).
