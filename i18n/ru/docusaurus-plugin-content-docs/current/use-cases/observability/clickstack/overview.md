---
slug: /use-cases/observability/clickstack/overview
title: 'ClickStack — стек наблюдаемости ClickHouse'
sidebar_label: 'Обзор'
pagination_prev: null
pagination_next: use-cases/observability/clickstack/getting-started
description: 'Обзор ClickStack — стека наблюдаемости ClickHouse'
doc_type: 'guide'
keywords: ['clickstack', 'observability', 'logs', 'monitoring', 'platform']
---

import Image from '@theme/IdealImage';
import architecture from '@site/static/images/use-cases/observability/clickstack-simple-architecture.png';
import landing_image from '@site/static/images/use-cases/observability/hyperdx-landing.png';

<Image img={landing_image} alt="Целевая страница" size="lg" />

**ClickStack** — это платформа наблюдаемости уровня продакшн, построенная на ClickHouse и объединяющая логи, трейсы, метрики и сессии в едином высокопроизводительном решении. Созданный для мониторинга и отладки сложных систем, ClickStack позволяет разработчикам и SRE отслеживать проблемы сквозь весь путь выполнения без переключения между инструментами и без ручного склеивания данных по временным меткам или correlation ID.

В основе ClickStack лежит простая, но мощная идея: все данные наблюдаемости должны поступать в виде широких, информативных событий. Эти события хранятся в таблицах ClickHouse по типам данных — логи, трейсы, метрики и сессии, — но при этом остаются полностью доступными для запросов и перекрёстной корреляции на уровне базы данных.

ClickStack создан для эффективной обработки нагрузок с высокой кардинальностью, используя колонночную архитектуру ClickHouse, нативную поддержку JSON и полностью параллельный движок выполнения запросов. Это обеспечивает субсекундные запросы по огромным наборам данных, быстрые агрегации на больших временных интервалах и детальное изучение отдельных трейсов. JSON хранится в сжатом, колонночном формате, что позволяет эволюцию схемы без ручного вмешательства или предварительного определения структуры.


## Возможности {#features}

Стек включает несколько ключевых возможностей для отладки и анализа первопричин:

- Корреляция и поиск логов, метрик, записей сеансов и трассировок в одном месте
- Независимость от схемы — работает поверх существующей схемы ClickHouse
- Молниеносный поиск и визуализация, оптимизированные для ClickHouse
- Интуитивный полнотекстовый поиск и синтаксис поиска по свойствам (например, `level:err`), SQL опционален
- Анализ трендов аномалий с помощью дельт событий
- Настройка оповещений всего за несколько кликов
- Дашборды для событий с высокой кардинальностью без сложного языка запросов
- Нативная поддержка запросов к JSON-строкам
- Отслеживание логов и трассировок в реальном времени для получения самых свежих событий
- Поддержка OpenTelemetry (OTel) из коробки
- Мониторинг работоспособности и производительности от HTTP-запросов до запросов к БД (APM)
- Дельты событий для выявления аномалий и регрессий производительности
- Распознавание паттернов в логах


## Компоненты {#components}

ClickStack состоит из трёх основных компонентов:

1. **HyperDX UI** – специализированный интерфейс для исследования и визуализации данных наблюдаемости
2. **OpenTelemetry collector** – специально разработанный предварительно настроенный коллектор с определённой схемой для логов, трассировок и метрик
3. **ClickHouse** – высокопроизводительная аналитическая база данных, составляющая основу стека

Эти компоненты могут быть развёрнуты как независимо, так и совместно. Также доступна браузерная версия HyperDX UI, позволяющая пользователям подключаться к существующим развёртываниям ClickHouse без дополнительной инфраструктуры.

Для начала работы ознакомьтесь с [руководством по началу работы](/use-cases/observability/clickstack/getting-started), а затем загрузите [тестовый набор данных](/use-cases/observability/clickstack/sample-datasets). Вы также можете изучить документацию по [вариантам развёртывания](/use-cases/observability/clickstack/deployment) и [рекомендациям для продакшена](/use-cases/observability/clickstack/production).


## Принципы {#clickstack-principles}

ClickStack разработан на основе набора ключевых принципов, которые ставят во главу угла простоту использования, производительность и гибкость на каждом уровне стека наблюдаемости:

### Простая настройка за считанные минуты {#clickstack-easy-to-setup}

ClickStack работает из коробки с любым экземпляром и схемой ClickHouse, требуя минимальной настройки. Независимо от того, начинаете ли вы с нуля или интегрируетесь с существующей системой, вы можете запустить всё за считанные минуты.

### Удобный и специализированный {#user-friendly-purpose-built}

Интерфейс HyperDX поддерживает как SQL, так и синтаксис в стиле Lucene, позволяя пользователям выбирать интерфейс запросов, который соответствует их рабочему процессу. Специально созданный для наблюдаемости, интерфейс оптимизирован для помощи командам в быстром выявлении первопричин и навигации по сложным данным без затруднений.

### Сквозная наблюдаемость {#end-to-end-observability}

ClickStack обеспечивает полную видимость стека — от пользовательских сессий на фронтенде до метрик инфраструктуры бэкенда, журналов приложений и распределённых трассировок. Это единое представление позволяет проводить глубокую корреляцию и анализ по всей системе.

### Создан для ClickHouse {#built-for-clickhouse}

Каждый уровень стека спроектирован для полного использования возможностей ClickHouse. Запросы оптимизированы для использования аналитических функций и колоночного движка ClickHouse, обеспечивая быстрый поиск и агрегацию по огромным объёмам данных.

### Нативная поддержка OpenTelemetry {#open-telemetry-native}

ClickStack нативно интегрирован с OpenTelemetry, принимая все данные через конечную точку коллектора OpenTelemetry. Для опытных пользователей также поддерживается прямая загрузка в ClickHouse с использованием нативных форматов файлов, пользовательских конвейеров или сторонних инструментов, таких как Vector.

### Открытый исходный код и полная настраиваемость {#open-source-and-customizable}

ClickStack полностью открыт и может быть развёрнут где угодно. Схема является гибкой и модифицируемой пользователем, а интерфейс спроектирован так, чтобы быть настраиваемым под пользовательские схемы без необходимости внесения изменений. Все компоненты — включая коллекторы, ClickHouse и интерфейс — могут масштабироваться независимо для удовлетворения требований к приёму данных, выполнению запросов или хранению.


## Обзор архитектуры {#architectural-overview}

<Image img={architecture} alt='Простая архитектура' size='lg' />

ClickStack состоит из трех основных компонентов:

1. **HyperDX UI**  
   Удобный интерфейс для наблюдаемости. Поддерживает запросы в стиле Lucene и SQL, интерактивные дашборды, оповещения, исследование трассировок и многое другое — всё оптимизировано для работы с ClickHouse в качестве бэкенда.

2. **OpenTelemetry collector**  
   Специально разработанный коллектор с предопределённой схемой, оптимизированной для приёма данных в ClickHouse. Получает логи, метрики и трассировки по протоколам OpenTelemetry и записывает их напрямую в ClickHouse с использованием эффективных пакетных вставок.

3. **ClickHouse**  
   Высокопроизводительная аналитическая база данных, служащая центральным хранилищем данных для широких событий. ClickHouse обеспечивает быстрый поиск, фильтрацию и агрегацию в масштабе благодаря колоночному движку и встроенной поддержке JSON.

Помимо этих трёх компонентов, ClickStack использует **экземпляр MongoDB** для хранения состояния приложения, такого как дашборды, учётные записи пользователей и параметры конфигурации.

Полная архитектурная диаграмма и детали развёртывания доступны в [разделе «Архитектура»](/use-cases/observability/clickstack/architecture).

Для пользователей, заинтересованных в развёртывании ClickStack в продакшене, рекомендуем ознакомиться с руководством [«Продакшен»](/use-cases/observability/clickstack/production).
