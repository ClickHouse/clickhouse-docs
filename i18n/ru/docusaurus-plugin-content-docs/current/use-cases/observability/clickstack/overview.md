---
slug: /use-cases/observability/clickstack/overview
title: 'ClickStack — стек наблюдаемости ClickHouse'
sidebar_label: 'Обзор'
pagination_prev: null
pagination_next: use-cases/observability/clickstack/getting-started
description: 'Обзор ClickStack — стека наблюдаемости ClickHouse'
doc_type: 'guide'
keywords: ['clickstack', 'observability', 'logs', 'monitoring', 'platform']
---

import Image from '@theme/IdealImage';
import architecture from '@site/static/images/use-cases/observability/clickstack-simple-architecture.png';
import landing_image from '@site/static/images/use-cases/observability/hyperdx-landing.png';

<Image img={landing_image} alt="Главная страница" size="lg" />

**ClickStack** — это готовая к промышленной эксплуатации платформа наблюдаемости, построенная на ClickHouse и объединяющая логи, трейсы, метрики и сессии в одном высокопроизводительном решении. Предназначенная для мониторинга и отладки сложных систем, ClickStack позволяет разработчикам и SRE выполнять сквозное трассирование проблем без переключения между инструментами и без ручного связывания данных по временным меткам или идентификаторам корреляции.

В основе ClickStack лежит простая, но мощная идея: все данные наблюдаемости должны поступать в систему в виде широких, детализированных событий. Эти события хранятся в таблицах ClickHouse по типу данных — логи, трейсы, метрики и сессии, — но при этом полностью доступны для запросов и перекрёстной корреляции на уровне базы данных.

ClickStack разработан для эффективной обработки нагрузок с высокой кардинальностью за счёт использования колонко-ориентированной архитектуры ClickHouse, нативной поддержки JSON и полностью параллелизованного движка выполнения запросов. Это обеспечивает субсекундные запросы по огромным наборам данных, быстрые агрегации на больших интервалах времени и детальный анализ отдельных трейсов. JSON хранится в сжатом, колонко-ориентированном формате, что позволяет схеме эволюционировать без ручного вмешательства или предварительного определения структуры.


## Возможности {#features}

Стек включает несколько ключевых возможностей, предназначенных для отладки и анализа первопричин:

- Коррелировать и искать логи, метрики, записи сессий (session replays) и трейсы в одном месте
- Не зависящая от схемы, работает поверх вашей существующей схемы ClickHouse
- Молниеносный поиск и визуализации, оптимизированные для ClickHouse
- Интуитивный полнотекстовый поиск и синтаксис поиска по свойствам (например, `level:err`), SQL необязателен
- Анализ трендов аномалий с помощью дельт событий
- Настраивать алерты всего в несколько кликов
- Строить дашборды по событиям с высокой кардинальностью без сложного языка запросов
- Встроенная поддержка запросов к JSON-строкам
- Просмотр логов и трейсов в режиме live tail, чтобы всегда получать самые свежие события
- OpenTelemetry (OTel) поддерживается «из коробки»
- Мониторить состояние и производительность от HTTP-запросов до запросов к БД (APM)
- Дельты событий для выявления аномалий и регрессий производительности
- Распознавание шаблонов в логах



## Компоненты {#components}

ClickStack состоит из трех основных компонентов:

1. **HyperDX UI** – специализированный интерфейс для исследования и визуализации данных наблюдаемости
2. **OpenTelemetry collector** – специально разработанный, предварительно сконфигурированный коллектор с продуманной схемой для логов, трейсов и метрик
3. **ClickHouse** – высокопроизводительная аналитическая база данных в основе стека

Эти компоненты могут развертываться независимо или совместно. Также доступна веб-версия HyperDX UI, позволяющая пользователям подключаться к существующим развертываниям ClickHouse без дополнительной инфраструктуры.

Чтобы начать, ознакомьтесь с [руководством по началу работы](/use-cases/observability/clickstack/getting-started), прежде чем загружать [пример набора данных](/use-cases/observability/clickstack/sample-datasets). Вы также можете изучить документацию по [вариантам развертывания](/use-cases/observability/clickstack/deployment) и [передовым практикам эксплуатации в продакшене](/use-cases/observability/clickstack/production).



## Принципы {#clickstack-principles}

ClickStack разработан на основе набора ключевых принципов, которые на каждом уровне стека наблюдаемости ставят в приоритет простоту использования, производительность и гибкость:

### Простая настройка за считанные минуты {#clickstack-easy-to-setup}

ClickStack работает «из коробки» с любым экземпляром ClickHouse и схемой данных, требуя минимальной конфигурации. Независимо от того, начинаете ли вы с нуля или интегрируете его в существующую инфраструктуру, вы можете развернуть и запустить систему за считанные минуты.

### Удобный интерфейс и ориентация на практические задачи {#user-friendly-purpose-built}

Интерфейс HyperDX поддерживает как SQL, так и синтаксис в стиле Lucene, позволяя пользователям выбрать язык запросов, соответствующий их рабочему процессу. Специально созданный для задач наблюдаемости, интерфейс оптимизирован для того, чтобы помогать командам быстро выявлять корневые причины и без трения работать со сложными данными.

### Сквозная наблюдаемость {#end-to-end-observability}

ClickStack обеспечивает полнослойную видимость — от фронтенд-сессий пользователей до метрик инфраструктуры бэкенда, логов приложений и распределённых трейсов. Этот единый обзор позволяет выполнять глубокую корреляцию и анализ по всей системе целиком.

### Создан для ClickHouse {#built-for-clickhouse}

Каждый уровень стека спроектирован таким образом, чтобы максимально использовать возможности ClickHouse. Запросы оптимизированы для использования аналитических функций и колонночного движка ClickHouse, обеспечивая быстрый поиск и агрегацию по огромным объёмам данных.

### OpenTelemetry-native {#open-telemetry-native}

ClickStack нативно интегрирован с OpenTelemetry и выполняет приём всех данных через endpoint коллектора OpenTelemetry. Для продвинутых пользователей также поддерживается прямая ингестия данных в ClickHouse с использованием нативных файловых форматов, пользовательских пайплайнов или сторонних инструментов, таких как Vector.

### Open source и полностью настраиваемый {#open-source-and-customizable}

ClickStack является полностью open source и может быть развёрнут в любом окружении. Схема гибкая и может изменяться пользователями, а интерфейс спроектирован так, чтобы настраиваться под произвольные пользовательские схемы без необходимости его модификации. Все компоненты — включая коллекторы, ClickHouse и интерфейс — могут масштабироваться независимо для удовлетворения требований по ингестии, запросам или хранению.



## Обзор архитектуры {#architectural-overview}

<Image img={architecture} alt="Простая архитектура" size="lg"/>

ClickStack состоит из трёх основных компонентов:

1. **HyperDX UI**  
   Удобный интерфейс, созданный для задач наблюдаемости. Поддерживает запросы в стиле Lucene и SQL, интерактивные дашборды, оповещения, исследование трассировок и многое другое — всё оптимизировано для ClickHouse в качестве серверной части.

2. **OpenTelemetry collector**  
   Специализированный коллектор, настроенный с продуманной схемой, оптимизированной для ингестии в ClickHouse. Он принимает логи, метрики и трассировки по протоколам OpenTelemetry и записывает их напрямую в ClickHouse с использованием эффективных пакетных вставок.

3. **ClickHouse**  
   Высокопроизводительная аналитическая база данных, которая служит центральным хранилищем данных для широких событий (wide events). ClickHouse обеспечивает быстрый поиск, фильтрацию и агрегацию в больших масштабах, используя свой колонночный движок и нативную поддержку JSON.

Помимо этих трёх компонентов, ClickStack использует **экземпляр MongoDB** для хранения состояния приложения, такого как дашборды, учётные записи пользователей и параметры конфигурации.

Полную архитектурную схему и подробности по развертыванию можно найти в разделе [Architecture](/use-cases/observability/clickstack/architecture).

Пользователям, которые планируют развернуть ClickStack в продуктивной среде, мы рекомендуем ознакомиться с руководством ["Production"](/use-cases/observability/clickstack/production).
