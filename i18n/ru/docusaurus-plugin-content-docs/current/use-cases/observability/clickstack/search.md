---
slug: /use-cases/observability/clickstack/search
title: 'Поиск в ClickStack'
sidebar_label: 'Поиск'
pagination_prev: null
pagination_next: null
description: 'Поиск в ClickStack'
doc_type: 'guide'
keywords: ['clickstack', 'search', 'logs', 'observability', 'full-text search']
---

import Image from '@theme/IdealImage';
import hyperdx_27 from '@site/static/images/use-cases/observability/hyperdx-27.png';
import saved_search from '@site/static/images/use-cases/observability/clickstack-saved-search.png';
import Tagging from '@site/docs/_snippets/_clickstack_tagging.mdx';

ClickStack позволяет выполнять полнотекстовый поиск по событиям (логам и трейсам). Чтобы начать поиск, достаточно ввести ключевые слова, которые соответствуют событиям. Например, если ваш лог содержит «Error», вы можете найти его, просто введя «Error» в строку поиска.

Тот же синтаксис поиска используется и для фильтрации событий в Dashboards и Charts.


## Возможности поиска {#search-features}

### Синтаксис поиска на естественном языке {#natural-language-syntax}

- Поиск не чувствителен к регистру
- По умолчанию поиск выполняется по целым словам (например, `Error` найдёт `Error here`,
  но не `Errors here`). Можно окружить слово подстановочными знаками для поиска частичных
  совпадений (например, `*Error*` найдёт `AnyError` и `AnyErrors`)
- Поисковые термины ищутся в любом порядке (например, `Hello World` найдёт логи,
  содержащие как `Hello World`, так и `World Hello`)
- Можно исключить ключевые слова, используя `NOT` или `-` (например, `Error NOT Exception` или
  `Error -Exception`)
- Можно использовать `AND` и `OR` для объединения нескольких ключевых слов (например,
  `Error OR Exception`)
- Точное совпадение выполняется с помощью двойных кавычек (например, `"Error tests not found"`)

<Image img={hyperdx_27} alt='Поиск' size='md' />

#### Поиск по столбцам и свойствам {#column-search}

- Можно искать по столбцам и свойствам JSON/map, используя синтаксис `column:value` (например, `level:Error`,
  `service:app`)
- Можно искать диапазон значений, используя операторы сравнения (`>`, `<`,
  `>=`, `<=`) (например, `Duration:>1000`)
- Можно проверить наличие свойства, используя `property:*` (например,
  `duration:*`)

### Ввод времени {#time-input}

- Ввод времени поддерживает выражения на естественном языке (например, `1 hour ago`, `yesterday`,
  `last week`)
- Указание одной временной точки приведёт к поиску от этой точки
  до текущего момента
- Временной диапазон всегда преобразуется в распознанный диапазон при выполнении поиска для
  удобной отладки временных запросов
- Также можно выделить столбец гистограммы для увеличения конкретного временного диапазона

### Синтаксис SQL-поиска {#sql-syntax}

Можно переключить поля поиска в режим SQL. Это позволит использовать любое допустимое
выражение SQL WHERE для поиска. Это полезно для сложных запросов, которые невозможно
выразить синтаксисом Lucene.

### Оператор SELECT {#select-statement}

Чтобы указать столбцы для отображения в результатах поиска, используйте поле `SELECT`.
Это SQL-выражение SELECT для выбора столбцов на странице поиска.
Псевдонимы в настоящее время не поддерживаются (например, нельзя использовать `column as "alias"`).


## Сохранённые поиски {#saved-searches}

Вы можете сохранять поисковые запросы для быстрого доступа в будущем. После сохранения запросы будут отображаться на левой боковой панели, что позволит легко возвращаться к часто используемым поисковым запросам без необходимости создавать их заново.

Чтобы сохранить поиск, настройте поисковый запрос и нажмите кнопку сохранения. Вы можете присвоить сохранённому поиску описательное имя для упрощения его идентификации в дальнейшем.

<Image img={saved_search} alt='Сохранение поиска' size='md' />

### Добавление оповещений к сохранённым поискам {#alerts-on-saved-searches}

Сохранённые поиски можно отслеживать с помощью оповещений, которые уведомят вас при выполнении определённых условий. Вы можете настроить оповещения для срабатывания, когда количество событий, соответствующих вашему сохранённому поиску, превышает или опускается ниже заданного порога.

Для получения дополнительной информации о настройке и конфигурировании оповещений см. [документацию по оповещениям](/use-cases/observability/clickstack/alerts).

### Теги {#tagging}

<Tagging />
