---
slug: /use-cases/observability/clickstack/search
title: 'Поиск в ClickStack'
sidebar_label: 'Поиск'
pagination_prev: null
pagination_next: null
description: 'Поиск в ClickStack'
doc_type: 'guide'
keywords: ['clickstack', 'поиск', 'логи', 'наблюдаемость', 'полнотекстовый поиск']
---

import Image from '@theme/IdealImage';
import hyperdx_27 from '@site/static/images/use-cases/observability/hyperdx-27.png';
import saved_search from '@site/static/images/use-cases/observability/clickstack-saved-search.png';
import Tagging from '@site/i18n/ru/docusaurus-plugin-content-docs/current/_snippets/_clickstack_tagging.mdx';

ClickStack позволяет выполнять полнотекстовый поиск по вашим событиям (логам и трейсам). Вы можете сразу начать поиск, просто вводя ключевые слова, которые присутствуют в ваших событиях. Например, если ваш лог содержит «Error», вы можете найти его, просто введя «Error» в строку поиска.

Тот же синтаксис поиска используется и для фильтрации событий в дашбордах и графиках.

## Возможности поиска \\{#search-features\\}

### Синтаксис поиска на естественном языке \\{#natural-language-syntax\\}

- Поиск регистронезависим
- По умолчанию поиск выполняется по целым словам (например, `Error` будет
  соответствовать `Error here`, но не `Errors here`). Вы можете обрамить слово
  подстановочными знаками, чтобы искать по частям слов (например, `*Error*`
  будет соответствовать `AnyError` и `AnyErrors`)
- Поисковые термины могут находиться в любом порядке (например, `Hello World`
  будет соответствовать логам, которые содержат `Hello World` и `World Hello`)
- Вы можете исключать ключевые слова, используя `NOT` или `-` (например,
  `Error NOT Exception` или `Error -Exception`)
- Вы можете использовать `AND` и `OR` для объединения нескольких ключевых
  слов (например, `Error OR Exception`)
- Точное совпадение можно выполнить с помощью двойных кавычек (например,
  `"Error tests not found"`)

<Image img={hyperdx_27} alt="Поиск" size="md"/>

#### Поиск по столбцам/свойствам \\{#column-search\\}

- Вы можете выполнять поиск по столбцам и свойствам JSON/map, используя `column:value` (напр. `level:Error`,
  `service:app`)
- Вы можете искать значения в заданном диапазоне, используя операторы сравнения (`>`, `<`,
  `>=`, `<=`) (напр. `Duration:>1000`)
- Вы можете искать записи по самому факту наличия свойства, используя `property:*` (напр.
  `duration:*`)

### Ввод времени \\{#time-input\\}

- Поле ввода времени принимает значения на естественном языке (например, `1 hour ago`, `yesterday`,
  `last week`).
- Указание одной точки во времени приводит к поиску с этой точки
  до текущего момента.
- Заданный диапазон времени всегда преобразуется в интерпретированный диапазон при выполнении поиска
  для упрощения отладки временных запросов.
- Вы также можете выделить столбец гистограммы, чтобы приблизить отображение к конкретному диапазону времени.

### Синтаксис поиска SQL \\{#sql-syntax\\}

При необходимости вы можете переключить поле поиска в режим SQL. В этом режиме принимается любое допустимое условие SQL WHERE для выполнения поиска. Это полезно для сложных запросов, которые невозможно выразить с помощью синтаксиса Lucene.

### Оператор SELECT  \\{#select-statement\\}

Чтобы указать столбцы, которые будут отображаться в результатах поиска, вы можете использовать поле ввода `SELECT`. В него задаётся SQL-выражение SELECT, определяющее столбцы, выводимые на странице поиска. Псевдонимы в данный момент не поддерживаются (например, вы не можете использовать `column as "alias"`).

## Сохранённые запросы \\{#saved-searches\\}

Вы можете сохранять поисковые запросы для быстрого доступа в будущем. После сохранения ваши запросы будут отображаться в левой панели, что позволит легко возвращаться к часто используемым запросам без необходимости создавать их заново.

Чтобы сохранить запрос, настройте поисковый запрос и нажмите кнопку «Сохранить». Вы можете задать сохранённому запросу понятное имя, чтобы позже было проще его найти.

<Image img={saved_search} alt="Сохранение поиска" size="md" />

### Добавление оповещений к сохранённым поискам \\{#alerts-on-saved-searches\\}

Сохранённые поиски можно отслеживать с помощью оповещений, которые уведомляют вас при выполнении определённых условий. Вы можете настроить оповещения, которые будут срабатывать, когда количество событий, соответствующих вашему сохранённому поиску, превышает или становится ниже заданного порога. 

Для получения дополнительной информации по настройке оповещений см. [документацию по оповещениям](/use-cases/observability/clickstack/alerts).

### Теги \\{#tagging\\}

<Tagging />