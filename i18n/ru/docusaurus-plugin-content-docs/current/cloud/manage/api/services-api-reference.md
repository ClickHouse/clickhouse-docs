---
sidebar_label: 'Услуги'
title: 'Услуги'
---

## Список услуг организации

Возвращает список всех услуг в организации.

| Метод | Путь |
| :----- | :--- |
| GET | `/v1/organizations/{organizationId}/services` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | ID запрашиваемой организации. |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | uuid | Уникальный ID услуги. |
| name | string | Название услуги. Алфавитно-цифровая строка с пробелами до 50 символов. |
| provider | string | Облачный провайдер |
| region | string | Регион услуги. |
| state | string | Текущее состояние услуги. |
| endpoints | array | Список всех конечных точек услуги. |
| tier | string | УСТАРЕЛО для организационных уровней BASIC, SCALE и ENTERPRISE. Уровень услуги: 'development', 'production', 'dedicated_high_mem', 'dedicated_high_cpu', 'dedicated_standard', 'dedicated_standard_n2d_standard_4', 'dedicated_standard_n2d_standard_8', 'dedicated_standard_n2d_standard_32', 'dedicated_standard_n2d_standard_128', 'dedicated_standard_n2d_standard_32_16SSD', 'dedicated_standard_n2d_standard_64_24SSD'. Продакшн-услуги масштабируемы, разработка имеет фиксированный размер. Услуги Azure не поддерживают уровень разработки |
| minTotalMemoryGb | number | УСТАРЕЛО - неточные для услуг с ненастандартным числом реплик. Минимальная память трех рабочих во время авто-масштабирования в Гб. Доступно только для 'production' услуг. Должно быть кратно 12 и не менее 24. |
| maxTotalMemoryGb | number | УСТАРЕЛО - неточные для услуг с ненастандартным числом реплик. Максимальная память трех рабочих во время авто-масштабирования в Гб. Доступно только для 'production' услуг. Должно быть кратно 12 и не более 360 для неплатных услуг или 708 для платных услуг. |
| minReplicaMemoryGb | number | Минимальная общая память каждой реплики во время авто-масштабирования в Гб. Должно быть кратно 4 и не менее 8. |
| maxReplicaMemoryGb | number | Максимальная общая память каждой реплики во время авто-масштабирования в Гб.  Должно быть кратно 4 и не более 120* для неплатных услуг или 236* для платных услуг.* - максимальный размер реплики зависит от доступности аппаратного обеспечения облачного провайдера в выбранном вами регионе.  |
| numReplicas | number | Число реплик для услуги. Число реплик должно быть от 2 до 20 для первой услуги в складе данных. Услуги, созданные в существующем складе, могут иметь количество реплик не менее 1. Могут применяться дополнительные ограничения в зависимости от уровня вашей организации. По умолчанию 1 для уровня BASIC и 3 для уровней SCALE и ENTERPRISE. |
| idleScaling | boolean | При установке в true услуге разрешается уменьшаться до нуля, когда она простаивает. По умолчанию true. |
| idleTimeoutMinutes | number | Установить минимальный тайм-аут простоя (в минутах). Должен быть >= 5 минут. |
| ipAccessList | array | Список IP-адресов, которым разрешен доступ к услуге |
| createdAt | date-time | Временная метка создания услуги. ISO-8601. |
| encryptionKey | string | Необязательный ключ шифрования диска, предоставленный клиентом |
| encryptionAssumedRoleIdentifier | string | Необязательная роль для использования шифрования диска |
| iamRole | string | IAM роль, используемая для доступа к объектам в s3 |
| privateEndpointIds | array | Список частных конечных точек |
| availablePrivateEndpointIds | array | Список доступных ID частных конечных точек, которые могут быть прикреплены к услуге |
| dataWarehouseId | string | Склад данных, содержащий эту услугу |
| isPrimary | boolean | true, если эта услуга является основной в складе данных |
| isReadonly | boolean | true, если эта услуга доступна только для чтения. Она может быть доступна только для чтения, если указан dataWarehouseId. |
| releaseChannel | string | Выберите fast, если хотите получать новые релизы ClickHouse сразу после их появления. Вы получите новые функции быстрее, но с большим риском ошибок. Эта функция доступна только для продакшн-услуг. |
| byocId | string | Это ID, возвращаемый после настройки региона для Bring Your Own Cloud (BYOC). Когда указан параметр byocId, также требуются параметры minReplicaMemoryGb и maxReplicaGb с размерами среди следующих: 28, 60, 124, 188, 252, 380. |
#### Пример ответа

```
{
  "id": "uuid",
  "name": "string",
  "provider": "string",
  "region": "string",
  "state": "string",
  "endpoints": "Array",
  "tier": "string",
  "minTotalMemoryGb": 0,
  "maxTotalMemoryGb": 0,
  "minReplicaMemoryGb": 0,
  "maxReplicaMemoryGb": 0,
  "numReplicas": 0,
  "idleScaling": "boolean",
  "idleTimeoutMinutes": 0,
  "ipAccessList": "Array",
  "createdAt": "date-time",
  "encryptionKey": "string",
  "encryptionAssumedRoleIdentifier": "string",
  "iamRole": "string",
  "privateEndpointIds": "Array",
  "availablePrivateEndpointIds": "Array",
  "dataWarehouseId": "string",
  "isPrimary": "boolean",
  "isReadonly": "boolean",
  "releaseChannel": "string",
  "byocId": "string"
}
```
## Создать новую услугу

Создает новую услугу в организации и возвращает текущее состояние услуги и пароль для доступа к услуге. Услуга запускается асинхронно.

| Метод | Путь |
| :----- | :--- |
| POST | `/v1/organizations/{organizationId}/services` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | ID организации, которая будет владеть услугой. |
### Параметры тела

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| name | string | Название услуги. Алфавитно-цифровая строка с пробелами до 50 символов. |
| provider | string | Облачный провайдер |
| region | string | Регион услуги. |
| tier | string | УСТАРЕЛО для организационных уровней BASIC, SCALE и ENTERPRISE. Уровень услуги: 'development', 'production', 'dedicated_high_mem', 'dedicated_high_cpu', 'dedicated_standard', 'dedicated_standard_n2d_standard_4', 'dedicated_standard_n2d_standard_8', 'dedicated_standard_n2d_standard_32', 'dedicated_standard_n2d_standard_128', 'dedicated_standard_n2d_standard_32_16SSD', 'dedicated_standard_n2d_standard_64_24SSD'. Продакшн-услуги масштабируемы, разработка имеет фиксированный размер. Услуги Azure не поддерживают уровень разработки |
| ipAccessList | array | Список IP-адресов, которым разрешен доступ к услуге |
| minTotalMemoryGb | number | УСТАРЕЛО - неточные для услуг с ненастандартным числом реплик. Минимальная память трех рабочих во время авто-масштабирования в Гб. Доступно только для 'production' услуг. Должно быть кратно 12 и не менее 24. |
| maxTotalMemoryGb | number | УСТАРЕЛО - неточные для услуг с ненастандартным числом реплик. Максимальная память трех рабочих во время авто-масштабирования в Гб. Доступно только для 'production' услуг. Должно быть кратно 12 и не более 360 для неплатных услуг или 708 для платных услуг. |
| minReplicaMemoryGb | number | Минимальная общая память каждой реплики во время авто-масштабирования в Гб. Должно быть кратно 4 и не менее 8. |
| maxReplicaMemoryGb | number | Максимальная общая память каждой реплики во время авто-масштабирования в Гб.  Должно быть кратно 4 и не более 120* для неплатных услуг или 236* для платных услуг.* - максимальный размер реплики зависит от доступности аппаратного обеспечения облачного провайдера в выбранном вами регионе.  |
| numReplicas | number | Число реплик для услуги. Число реплик должно быть от 2 до 20 для первой услуги в складе данных. Услуги, созданные в существующем складе, могут иметь количество реплик не менее 1. Могут применяться дополнительные ограничения в зависимости от уровня вашей организации. По умолчанию 1 для уровня BASIC и 3 для уровней SCALE и ENTERPRISE. |
| idleScaling | boolean | При установке в true услуге разрешается уменьшаться до нуля, когда она простаивает. По умолчанию true. |
| idleTimeoutMinutes | number | Установить минимальный тайм-аут простоя (в минутах). Должен быть >= 5 минут. |
| isReadonly | boolean | true, если эта услуга доступна только для чтения. Она может быть доступна только для чтения, если указан dataWarehouseId. |
| dataWarehouseId | string | Склад данных, содержащий эту услугу |
| backupId | string | Необязательный ID резервной копии, используемый в качестве начального состояния для новой услуги. При использовании регион и уровень нового экземпляра должны совпадать со значениями оригинального экземпляра. |
| encryptionKey | string | Необязательный ключ шифрования диска, предоставленный клиентом |
| encryptionAssumedRoleIdentifier | string | Необязательная роль для использования шифрования диска |
| privateEndpointIds | array | Список частных конечных точек |
| privatePreviewTermsChecked | boolean | Принять условия частного превью. Это необходимо только при создании первой услуги в организации в случае частного превью |
| releaseChannel | string | Выберите fast, если хотите получать новые релизы ClickHouse сразу после их появления. Вы получите новые функции быстрее, но с большим риском ошибок. Эта функция доступна только для продакшн-услуг. |
| byocId | string | Это ID, возвращаемый после настройки региона для Bring Your Own Cloud (BYOC). Когда указан параметр byocId, также требуются параметры minReplicaMemoryGb и maxReplicaGb с размерами среди следующих: 28, 60, 124, 188, 252, 380. |
| endpoints | array | Список конечных точек услуги для включения или отключения |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| service.id | uuid | Уникальный ID услуги. |
| service.name | string | Название услуги. Алфавитно-цифровая строка с пробелами до 50 символов. |
| service.provider | string | Облачный провайдер |
| service.region | string | Регион услуги. |
| service.state | string | Текущее состояние услуги. |
| service.endpoints | array | Список всех конечных точек услуги. |
| service.tier | string | УСТАРЕЛО для организационных уровней BASIC, SCALE и ENTERPRISE. Уровень услуги: 'development', 'production', 'dedicated_high_mem', 'dedicated_high_cpu', 'dedicated_standard', 'dedicated_standard_n2d_standard_4', 'dedicated_standard_n2d_standard_8', 'dedicated_standard_n2d_standard_32', 'dedicated_standard_n2d_standard_128', 'dedicated_standard_n2d_standard_32_16SSD', 'dedicated_standard_n2d_standard_64_24SSD'. Продакшн-услуги масштабируемы, разработка имеет фиксированный размер. Услуги Azure не поддерживают уровень разработки |
| service.minTotalMemoryGb | number | УСТАРЕЛО - неточные для услуг с ненастандартным числом реплик. Минимальная память трех рабочих во время авто-масштабирования в Гб. Доступно только для 'production' услуг. Должно быть кратно 12 и не менее 24. |
| service.maxTotalMemoryGb | number | УСТАРЕЛО - неточные для услуг с ненастандартным числом реплик. Максимальная память трех рабочих во время авто-масштабирования в Гб. Доступно только для 'production' услуг. Должно быть кратно 12 и не более 360 для неплатных услуг или 708 для платных услуг. |
| service.minReplicaMemoryGb | number | Минимальная общая память каждой реплики во время авто-масштабирования в Гб. Должно быть кратно 4 и не менее 8. |
| service.maxReplicaMemoryGb | number | Максимальная общая память каждой реплики во время авто-масштабирования в Гб.  Должно быть кратно 4 и не более 120* для неплатных услуг или 236* для платных услуг.* - максимальный размер реплики зависит от доступности аппаратного обеспечения облачного провайдера в выбранном вами регионе.  |
| service.numReplicas | number | Число реплик для услуги. Число реплик должно быть от 2 до 20 для первой услуги в складе данных. Услуги, созданные в существующем складе, могут иметь количество реплик не менее 1. Могут применяться дополнительные ограничения в зависимости от уровня вашей организации. По умолчанию 1 для уровня BASIC и 3 для уровней SCALE и ENTERPRISE. |
| service.idleScaling | boolean | При установке в true услуге разрешается уменьшаться до нуля, когда она простаивает. По умолчанию true. |
| service.idleTimeoutMinutes | number | Установить минимальный тайм-аут простоя (в минутах). Должен быть >= 5 минут. |
| service.ipAccessList | array | Список IP-адресов, которым разрешен доступ к услуге |
| service.createdAt | date-time | Временная метка создания услуги. ISO-8601. |
| service.encryptionKey | string | Необязательный ключ шифрования диска, предоставленный клиентом |
| service.encryptionAssumedRoleIdentifier | string | Необязательная роль для использования шифрования диска |
| service.iamRole | string | IAM роль, используемая для доступа к объектам в s3 |
| service.privateEndpointIds | array | Список частных конечных точек |
| service.availablePrivateEndpointIds | array | Список доступных ID частных конечных точек, которые могут быть прикреплены к услуге |
| service.dataWarehouseId | string | Склад данных, содержащий эту услугу |
| service.isPrimary | boolean | true, если эта услуга является основной в складе данных |
| service.isReadonly | boolean | true, если эта услуга доступна только для чтения. Она может быть доступна только для чтения, если указан dataWarehouseId. |
| service.releaseChannel | string | Выберите fast, если хотите получать новые релизы ClickHouse сразу после их появления. Вы получите новые функции быстрее, но с большим риском ошибок. Эта функция доступна только для продакшн-услуг. |
| service.byocId | string | Это ID, возвращаемый после настройки региона для Bring Your Own Cloud (BYOC). Когда указан параметр byocId, также требуются параметры minReplicaMemoryGb и maxReplicaGb с размерами среди следующих: 28, 60, 124, 188, 252, 380. |
| password | string | Пароль для вновь созданной услуги. |
#### Пример ответа

```
{
  "service": {
    "id": "uuid",
    "name": "string",
    "provider": "string",
    "region": "string",
    "state": "string",
    "endpoints": "Array",
    "tier": "string",
    "minTotalMemoryGb": 0,
    "maxTotalMemoryGb": 0,
    "minReplicaMemoryGb": 0,
    "maxReplicaMemoryGb": 0,
    "numReplicas": 0,
    "idleScaling": "boolean",
    "idleTimeoutMinutes": 0,
    "ipAccessList": "Array",
    "createdAt": "date-time",
    "encryptionKey": "string",
    "encryptionAssumedRoleIdentifier": "string",
    "iamRole": "string",
    "privateEndpointIds": "Array",
    "availablePrivateEndpointIds": "Array",
    "dataWarehouseId": "string",
    "isPrimary": "boolean",
    "isReadonly": "boolean",
    "releaseChannel": "string",
    "byocId": "string"
  },
  "password": "string"
}
```
## Получить детали услуги

Возвращает услугу, принадлежащую организации.

| Метод | Путь |
| :----- | :--- |
| GET | `/v1/organizations/{organizationId}/services/{serviceId}` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | ID организации, которая владеет услугой. |
| serviceId | uuid | ID запрашиваемой услуги. |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | uuid | Уникальный ID услуги. |
| name | string | Название услуги. Алфавитно-цифровая строка с пробелами до 50 символов. |
| provider | string | Облачный провайдер |
| region | string | Регион услуги. |
| state | string | Текущее состояние услуги. |
| endpoints | array | Список всех конечных точек услуги. |
| tier | string | УСТАРЕЛО для организационных уровней BASIC, SCALE и ENTERPRISE. Уровень услуги: 'development', 'production', 'dedicated_high_mem', 'dedicated_high_cpu', 'dedicated_standard', 'dedicated_standard_n2d_standard_4', 'dedicated_standard_n2d_standard_8', 'dedicated_standard_n2d_standard_32', 'dedicated_standard_n2d_standard_128', 'dedicated_standard_n2d_standard_32_16SSD', 'dedicated_standard_n2d_standard_64_24SSD'. Продакшн-услуги масштабируемы, разработка имеет фиксированный размер. Услуги Azure не поддерживают уровень разработки |
| minTotalMemoryGb | number | УСТАРЕЛО - неточные для услуг с ненастандартным числом реплик. Минимальная память трех рабочих во время авто-масштабирования в Гб. Доступно только для 'production' услуг. Должно быть кратно 12 и не менее 24. |
| maxTotalMemoryGb | number | УСТАРЕЛО - неточные для услуг с ненастандартным числом реплик. Максимальная память трех рабочих во время авто-масштабирования в Гб. Доступно только для 'production' услуг. Должно быть кратно 12 и не более 360 для неплатных услуг или 708 для платных услуг. |
| minReplicaMemoryGb | number | Минимальная общая память каждой реплики во время авто-масштабирования в Гб. Должно быть кратно 4 и не менее 8. |
| maxReplicaMemoryGb | number | Максимальная общая память каждой реплики во время авто-масштабирования в Гб.  Должно быть кратно 4 и не более 120* для неплатных услуг или 236* для платных услуг.* - максимальный размер реплики зависит от доступности аппаратного обеспечения облачного провайдера в выбранном вами регионе.  |
| numReplicas | number | Число реплик для услуги. Число реплик должно быть от 2 до 20 для первой услуги в складе данных. Услуги, созданные в существующем складе, могут иметь количество реплик не менее 1. Могут применяться дополнительные ограничения в зависимости от уровня вашей организации. По умолчанию 1 для уровня BASIC и 3 для уровней SCALE и ENTERPRISE. |
| idleScaling | boolean | При установке в true услуге разрешается уменьшаться до нуля, когда она простаивает. По умолчанию true. |
| idleTimeoutMinutes | number | Установить минимальный тайм-аут простоя (в минутах). Должен быть >= 5 минут. |
| ipAccessList | array | Список IP-адресов, которым разрешен доступ к услуге |
| createdAt | date-time | Временная метка создания услуги. ISO-8601. |
| encryptionKey | string | Необязательный ключ шифрования диска, предоставленный клиентом |
| encryptionAssumedRoleIdentifier | string | Необязательная роль для использования шифрования диска |
| iamRole | string | IAM роль, используемая для доступа к объектам в s3 |
| privateEndpointIds | array | Список частных конечных точек |
| availablePrivateEndpointIds | array | Список доступных ID частных конечных точек, которые могут быть прикреплены к услуге |
| dataWarehouseId | string | Склад данных, содержащий эту услугу |
| isPrimary | boolean | true, если эта услуга является основной в складе данных |
| isReadonly | boolean | true, если эта услуга доступна только для чтения. Она может быть доступна только для чтения, если указан dataWarehouseId. |
| releaseChannel | string | Выберите fast, если хотите получать новые релизы ClickHouse сразу после их появления. Вы получите новые функции быстрее, но с большим риском ошибок. Эта функция доступна только для продакшн-услуг. |
| byocId | string | Это ID, возвращаемый после настройки региона для Bring Your Own Cloud (BYOC). Когда указан параметр byocId, также требуются параметры minReplicaMemoryGb и maxReplicaGb с размерами среди следующих: 28, 60, 124, 188, 252, 380. |
#### Пример ответа

```
{
  "id": "uuid",
  "name": "string",
  "provider": "string",
  "region": "string",
  "state": "string",
  "endpoints": "Array",
  "tier": "string",
  "minTotalMemoryGb": 0,
  "maxTotalMemoryGb": 0,
  "minReplicaMemoryGb": 0,
  "maxReplicaMemoryGb": 0,
  "numReplicas": 0,
  "idleScaling": "boolean",
  "idleTimeoutMinutes": 0,
  "ipAccessList": "Array",
  "createdAt": "date-time",
  "encryptionKey": "string",
  "encryptionAssumedRoleIdentifier": "string",
  "iamRole": "string",
  "privateEndpointIds": "Array",
  "availablePrivateEndpointIds": "Array",
  "dataWarehouseId": "string",
  "isPrimary": "boolean",
  "isReadonly": "boolean",
  "releaseChannel": "string",
  "byocId": "string"
}
```
## Обновить основные данные услуги

Обновляет основные данные услуги, такие как название услуги или список доступа по IP.

| Метод | Путь |
| :----- | :--- |
| PATCH | `/v1/organizations/{organizationId}/services/{serviceId}` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | ID организации, которая владеет услугой. |
| serviceId | uuid | ID услуги для обновления. |
### Параметры тела

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| name | string | Название услуги. Алфавитно-цифровая строка с пробелами до 50 символов. |
| ipAccessList |  |  |
| privateEndpointIds |  |  |
| releaseChannel | string | Выберите fast, если хотите получать новые релизы ClickHouse сразу после их появления. Вы получите новые функции быстрее, но с большим риском ошибок. Эта функция доступна только для продакшн-услуг. |
| endpoints | array | Список конечных точек услуги для изменения |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | uuid | Уникальный ID услуги. |
| name | string | Название услуги. Алфавитно-цифровая строка с пробелами до 50 символов. |
| provider | string | Облачный провайдер |
| region | string | Регион услуги. |
| state | string | Текущее состояние услуги. |
| endpoints | array | Список всех конечных точек услуги. |
| tier | string | УСТАРЕЛО для организационных уровней BASIC, SCALE и ENTERPRISE. Уровень услуги: 'development', 'production', 'dedicated_high_mem', 'dedicated_high_cpu', 'dedicated_standard', 'dedicated_standard_n2d_standard_4', 'dedicated_standard_n2d_standard_8', 'dedicated_standard_n2d_standard_32', 'dedicated_standard_n2d_standard_128', 'dedicated_standard_n2d_standard_32_16SSD', 'dedicated_standard_n2d_standard_64_24SSD'. Продакшн-услуги масштабируемы, разработка имеет фиксированный размер. Услуги Azure не поддерживают уровень разработки |
| minTotalMemoryGb | number | УСТАРЕЛО - неточные для услуг с ненастандартным числом реплик. Минимальная память трех рабочих во время авто-масштабирования в Гб. Доступно только для 'production' услуг. Должно быть кратно 12 и не менее 24. |
| maxTotalMemoryGb | number | УСТАРЕЛО - неточные для услуг с ненастандартным числом реплик. Максимальная память трех рабочих во время авто-масштабирования в Гб. Доступно только для 'production' услуг. Должно быть кратно 12 и не более 360 для неплатных услуг или 708 для платных услуг. |
| minReplicaMemoryGb | number | Минимальная общая память каждой реплики во время авто-масштабирования в Гб. Должно быть кратно 4 и не менее 8. |
| maxReplicaMemoryGb | number | Максимальная общая память каждой реплики во время авто-масштабирования в Гб.  Должно быть кратно 4 и не более 120* для неплатных услуг или 236* для платных услуг.* - максимальный размер реплики зависит от доступности аппаратного обеспечения облачного провайдера в выбранном вами регионе.  |
| numReplicas | number | Число реплик для услуги. Число реплик должно быть от 2 до 20 для первой услуги в складе данных. Услуги, созданные в существующем складе, могут иметь количество реплик не менее 1. Могут применяться дополнительные ограничения в зависимости от уровня вашей организации. По умолчанию 1 для уровня BASIC и 3 для уровней SCALE и ENTERPRISE. |
| idleScaling | boolean | При установке в true услуге разрешается уменьшаться до нуля, когда она простаивает. По умолчанию true. |
| idleTimeoutMinutes | number | Установить минимальный тайм-аут простоя (в минутах). Должен быть >= 5 минут. |
| ipAccessList | array | Список IP-адресов, которым разрешен доступ к услуге |
| createdAt | date-time | Временная метка создания услуги. ISO-8601. |
| encryptionKey | string | Необязательный ключ шифрования диска, предоставленный клиентом |
| encryptionAssumedRoleIdentifier | string | Необязательная роль для использования шифрования диска |
| iamRole | string | IAM роль, используемая для доступа к объектам в s3 |
| privateEndpointIds | array | Список частных конечных точек |
| availablePrivateEndpointIds | array | Список доступных ID частных конечных точек, которые могут быть прикреплены к услуге |
| dataWarehouseId | string | Склад данных, содержащий эту услугу |
| isPrimary | boolean | true, если эта услуга является основной в складе данных |
| isReadonly | boolean | true, если эта услуга доступна только для чтения. Она может быть доступна только для чтения, если указан dataWarehouseId. |
| releaseChannel | string | Выберите fast, если хотите получать новые релизы ClickHouse сразу после их появления. Вы получите новые функции быстрее, но с большим риском ошибок. Эта функция доступна только для продакшн-услуг. |
| byocId | string | Это ID, возвращаемый после настройки региона для Bring Your Own Cloud (BYOC). Когда указан параметр byocId, также требуются параметры minReplicaMemoryGb и maxReplicaGb с размерами среди следующих: 28, 60, 124, 188, 252, 380. |
#### Пример ответа

```
{
  "id": "uuid",
  "name": "string",
  "provider": "string",
  "region": "string",
  "state": "string",
  "endpoints": "Array",
  "tier": "string",
  "minTotalMemoryGb": 0,
  "maxTotalMemoryGb": 0,
  "minReplicaMemoryGb": 0,
  "maxReplicaMemoryGb": 0,
  "numReplicas": 0,
  "idleScaling": "boolean",
  "idleTimeoutMinutes": 0,
  "ipAccessList": "Array",
  "createdAt": "date-time",
  "encryptionKey": "string",
  "encryptionAssumedRoleIdentifier": "string",
  "iamRole": "string",
  "privateEndpointIds": "Array",
  "availablePrivateEndpointIds": "Array",
  "dataWarehouseId": "string",
  "isPrimary": "boolean",
  "isReadonly": "boolean",
  "releaseChannel": "string",
  "byocId": "string"
}
```
## Удалить услугу

Удаляет услугу. Услуга должна быть в состоянии остановлена и удаляется асинхронно после вызова этого метода.

| Метод | Путь |
| :----- | :--- |
| DELETE | `/v1/organizations/{organizationId}/services/{serviceId}` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | ID организации, которая владеет услугой. |
| serviceId | uuid | ID услуги для удаления. |
## Получить конфигурацию частной конечной точки

Информация, необходимая для настройки частной конечной точки

| Метод | Путь |
| :----- | :--- |
| GET | `/v1/organizations/{organizationId}/services/{serviceId}/privateEndpointConfig` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | ID запрашиваемой организации. |
| serviceId | uuid | ID запрашиваемой услуги. |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| endpointServiceId | string | Уникальный идентификатор интерфейсной конечной точки, которую вы создали в своем VPC с ресурсом AWS (Имя сервиса), GCP (Целевая служба) или AZURE (Служба частной ссылки) |
| privateDnsHostname | string | Частное DNS-имя хоста вашего VPC |
#### Пример ответа

```
{
  "endpointServiceId": "string",
  "privateDnsHostname": "string"
}
```
## Получить конечную точку запросов услуги для данного экземпляра

Это экспериментальная функция. Пожалуйста, свяжитесь со службой поддержки, чтобы активировать ее.

| Метод | Путь |
| :----- | :--- |
| GET | `/v1/organizations/{organizationId}/services/{serviceId}/serviceQueryEndpoint` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | ID запрашиваемой организации. |
| serviceId | uuid | ID запрашиваемой услуги. |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | string | ID конечной точки запроса услуги |
| openApiKeys | array | Список ключей OpenAPI, которые могут получить доступ к конечной точке запроса услуги |
| roles | array | Список ролей, которые могут получить доступ к конечной точке запроса услуги |
| allowedOrigins | string | Разрешенные источники в виде списка доменов, разделенных запятыми |
#### Пример ответа

```
{
  "id": "string",
  "openApiKeys": "Array",
  "roles": "Array",
  "allowedOrigins": "string"
}
```
## Удалить конечную точку запроса услуги для данного экземпляра

Это экспериментальная функция. Пожалуйста, свяжитесь со службой поддержки, чтобы активировать ее.

| Метод | Путь |
| :----- | :--- |
| DELETE | `/v1/organizations/{organizationId}/services/{serviceId}/serviceQueryEndpoint` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | ID запрашиваемой организации. |
| serviceId | uuid | ID запрашиваемой услуги. |
## Вставка или обновление конечной точки запроса услуги для данного экземпляра

Это экспериментальная функция. Пожалуйста, свяжитесь со службой поддержки, чтобы активировать ее.

| Метод | Путь |
| :----- | :--- |
| POST | `/v1/organizations/{organizationId}/services/{serviceId}/serviceQueryEndpoint` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | ID запрашиваемой организации. |
| serviceId | uuid | ID запрашиваемой услуги. |
### Параметры тела

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| roles | array | Роли |
| openApiKeys | array | Версия конечной точки запроса услуги |
| allowedOrigins | string | Разрешенные источники в виде списка доменов, разделенных запятыми |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | string | ID конечной точки запроса услуги |
| openApiKeys | array | Список ключей OpenAPI, которые могут получить доступ к конечной точке запроса услуги |
| roles | array | Список ролей, которые могут получить доступ к конечной точке запроса услуги |
| allowedOrigins | string | Разрешенные источники в виде списка доменов, разделенных запятыми |
#### Пример ответа

```
{
  "id": "string",
  "openApiKeys": "Array",
  "roles": "Array",
  "allowedOrigins": "string"
}
```
## Обновить состояние услуги

Запускает или останавливает услугу.

| Метод | Путь |
| :----- | :--- |
| PATCH | `/v1/organizations/{organizationId}/services/{serviceId}/state` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | ID организации, которая владеет услугой. |
| serviceId | uuid | ID услуги для обновления состояния. |
### Параметры тела

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| command | string | Команда для изменения состояния: 'start', 'stop'. |
### Ответ
```
```yaml
title: 'Схема ответа'
sidebar_label: 'Схема ответа'
keywords: ['response', 'schema']
description: 'Определяет структуру ответа для управления службами.'
```
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | uuid | Уникальный идентификатор службы. |
| name | string | Название службы. Алфавитно-цифровая строка с пробелами до 50 символов. |
| provider | string | Облачный провайдер |
| region | string | Регион службы. |
| state | string | Текущая ситуация с услугой. |
| endpoints | array | Список всех конечных точек службы. |
| tier | string | УСТАРЕЛО для уровней организаций BASIC, SCALE и ENTERPRISE. Уровень службы: 'development', 'production', 'dedicated_high_mem', 'dedicated_high_cpu', 'dedicated_standard', 'dedicated_standard_n2d_standard_4', 'dedicated_standard_n2d_standard_8', 'dedicated_standard_n2d_standard_32', 'dedicated_standard_n2d_standard_128', 'dedicated_standard_n2d_standard_32_16SSD', 'dedicated_standard_n2d_standard_64_24SSD'. Производственные службы масштабируемы, разработки имеют фиксированный размер. Услуги Azure не поддерживают уровень разработки |
| minTotalMemoryGb | number | УСТАРЕЛО - неточный для служб с нестандартными числами реплик. Минимальная память трех рабочих узлов во время автоматического масштабирования в ГБ. Доступно только для 'production' услуг. Должен быть кратен 12 и больше или равен 24. |
| maxTotalMemoryGb | number | УСТАРЕЛО - неточный для служб с нестандартными числами реплик. Максимальная память трех рабочих узлов во время автоматического масштабирования в ГБ. Доступно только для 'production' услуг. Должен быть кратен 12 и меньше или равен 360 для бесплатных услуг или 708 для платных. |
| minReplicaMemoryGb | number | Минимальная общая память каждой реплики во время автоматического масштабирования в ГБ. Должен быть кратен 4 и больше или равен 8. |
| maxReplicaMemoryGb | number | Максимальная общая память каждой реплики во время автоматического масштабирования в ГБ. Должен быть кратен 4 и меньше или равен 120* для бесплатных услуг или 236* для платных услуг.* - максимальный размер реплики зависит от доступности оборудования облачного провайдера в выбранном вами регионе. |
| numReplicas | number | Количество реплик для службы. Количество реплик должно быть от 2 до 20 для первой службы в хранилище данных. Услуги, созданные в существующем хранилище, могут иметь количество реплик не менее 1. Также могут применяться дальнейшие ограничения в зависимости от уровня вашей организации. По умолчанию - 1 для уровня BASIC и 3 для уровней SCALE и ENTERPRISE. |
| idleScaling | boolean | Если установлено в true, службе разрешается снижаться до нуля при простое. По умолчанию true. |
| idleTimeoutMinutes | number | Установите минимальный тайм-аут простоя (в минутах). Должен быть >= 5 минут. |
| ipAccessList | array | Список IP-адресов, имеющих доступ к службе |
| createdAt | date-time | Время создания службы. ISO-8601. |
| encryptionKey | string | Необязательный ключ шифрования диска, предоставленный клиентом |
| encryptionAssumedRoleIdentifier | string | Необязательная роль для использования для шифрования диска |
| iamRole | string | Роль IAM, используемая для доступа к объектам в s3 |
| privateEndpointIds | array | Список частных конечных точек |
| availablePrivateEndpointIds | array | Список доступных идентификаторов частных конечных точек, которые можно подключить к службе |
| dataWarehouseId | string | Хранилище данных, содержащее эту службу |
| isPrimary | boolean | True, если эта служба является основной службой в хранилище данных |
| isReadonly | boolean | True, если эта служба только для чтения. Она может быть доступна только для чтения, если предоставлен dataWarehouseId. |
| releaseChannel | string | Выберите fast, если хотите получать новые релизы ClickHouse сразу после их выхода. Вы быстрее получите новые функции, но с большей вероятностью ошибок. Эта функция доступна только для производственных услуг. |
| byocId | string | Это идентификатор, возвращаемый после настройки региона для Bring Your Own Cloud (BYOC). Когда указан параметр byocId, параметры minReplicaMemoryGb и maxReplicaGb также обязательны и должны быть из следующих значений: 28, 60, 124, 188, 252, 380. |
#### Пример ответа

```
{
  "id": "uuid",
  "name": "string",
  "provider": "string",
  "region": "string",
  "state": "string",
  "endpoints": "Array",
  "tier": "string",
  "minTotalMemoryGb": 0,
  "maxTotalMemoryGb": 0,
  "minReplicaMemoryGb": 0,
  "maxReplicaMemoryGb": 0,
  "numReplicas": 0,
  "idleScaling": "boolean",
  "idleTimeoutMinutes": 0,
  "ipAccessList": "Array",
  "createdAt": "date-time",
  "encryptionKey": "string",
  "encryptionAssumedRoleIdentifier": "string",
  "iamRole": "string",
  "privateEndpointIds": "Array",
  "availablePrivateEndpointIds": "Array",
  "dataWarehouseId": "string",
  "isPrimary": "boolean",
  "isReadonly": "boolean",
  "releaseChannel": "string",
  "byocId": "string"
}
```
## Обновление настроек автоматического масштабирования службы

Обновляет минимальные и максимальные пределы общей памяти и поведение масштабирования в режиме простоя для службы. Настройки памяти доступны только для "производственных" служб и должны быть кратны 12 и начинаться с 24 ГБ. Пожалуйста, свяжитесь с поддержкой, чтобы включить изменение numReplicas.

| Метод | Путь |
| :----- | :--- |
| PATCH | `/v1/organizations/{organizationId}/services/{serviceId}/scaling` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор организации, владеющей службой. |
| serviceId | uuid | Идентификатор службы для обновления параметров масштабирования. |
### Параметры тела

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| minTotalMemoryGb | number | УСТАРЕЛО - неточный для служб с нестандартными числами реплик. Минимальная память трех рабочих узлов во время автоматического масштабирования в ГБ. Доступно только для 'production' служб. Должен быть кратен 12 и больше или равен 24. |
| maxTotalMemoryGb | number | УСТАРЕЛО - неточный для служб с нестандартными числами реплик. Максимальная память трех рабочих узлов во время автоматического масштабирования в ГБ. Доступно только для 'production' служб. Должен быть кратен 12 и меньше или равен 360 для бесплатных услуг или 708 для платных. |
| numReplicas | number | Количество реплик для службы. Количество реплик должно быть от 2 до 20 для первой службы в хранилище данных. Услуги, созданные в существующем хранилище, могут иметь количество реплик не менее 1. Также могут применяться дальнейшие ограничения в зависимости от уровня вашей организации. По умолчанию - 1 для уровня BASIC и 3 для уровней SCALE и ENTERPRISE. |
| idleScaling | boolean | Если установлено в true, службе разрешается снижаться до нуля при простое. По умолчанию true. |
| idleTimeoutMinutes | number | Установите минимальный тайм-аут простоя (в минутах). Должен быть >= 5 минут. |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | uuid | Уникальный идентификатор службы. |
| name | string | Название службы. Алфавитно-цифровая строка с пробелами до 50 символов. |
| provider | string | Облачный провайдер |
| region | string | Регион службы. |
| state | string | Текущая ситуация с услугой. |
| endpoints | array | Список всех конечных точек службы. |
| tier | string | УСТАРЕЛО для уровней организаций BASIC, SCALE и ENTERPRISE. Уровень службы: 'development', 'production', 'dedicated_high_mem', 'dedicated_high_cpu', 'dedicated_standard', 'dedicated_standard_n2d_standard_4', 'dedicated_standard_n2d_standard_8', 'dedicated_standard_n2d_standard_32', 'dedicated_standard_n2d_standard_128', 'dedicated_standard_n2d_standard_32_16SSD', 'dedicated_standard_n2d_standard_64_24SSD'. Производственные службы масштабируемы, разработки имеют фиксированный размер. Услуги Azure не поддерживают уровень разработки |
| minTotalMemoryGb | number | УСТАРЕЛО - неточный для служб с нестандартными числами реплик. Минимальная память трех рабочих узлов во время автоматического масштабирования в ГБ. Доступно только для 'production' служб. Должен быть кратен 12 и больше или равен 24. |
| maxTotalMemoryGb | number | УСТАРЕЛО - неточный для служб с нестандартными числами реплик. Максимальная память трех рабочих узлов во время автоматического масштабирования в ГБ. Доступно только для 'production' служб. Должен быть кратен 12 и меньше или равен 360 для бесплатных услуг или 708 для платных. |
| minReplicaMemoryGb | number | Минимальная общая память каждой реплики во время автоматического масштабирования в ГБ. Должен быть кратен 4 и больше или равен 8. |
| maxReplicaMemoryGb | number | Максимальная общая память каждой реплики во время автоматического масштабирования в ГБ. Должен быть кратен 4 и меньше или равен 120* для бесплатных услуг или 236* для платных услуг. |
| numReplicas | number | Количество реплик для службы. Количество реплик должно быть от 2 до 20 для первой службы в хранилище данных. Услуги, созданные в существующем хранилище, могут иметь количество реплик не менее 1. Также могут применяться дальнейшие ограничения в зависимости от уровня вашей организации. По умолчанию - 1 для уровня BASIC и 3 для уровней SCALE и ENTERPRISE. |
| idleScaling | boolean | Если установлено в true, службе разрешается снижаться до нуля при простое. По умолчанию true. |
| idleTimeoutMinutes | number | Установите минимальный тайм-аут простоя (в минутах). Должен быть >= 5 минут. |
| ipAccessList | array | Список IP-адресов, имеющих доступ к службе |
| createdAt | date-time | Время создания службы. ISO-8601. |
| encryptionKey | string | Необязательный ключ шифрования диска, предоставленный клиентом |
| encryptionAssumedRoleIdentifier | string | Необязательная роль для использования для шифрования диска |
| iamRole | string | Роль IAM, используемая для доступа к объектам в s3 |
| privateEndpointIds | array | Список частных конечных точек |
| availablePrivateEndpointIds | array | Список доступных идентификаторов частных конечных точек, которые можно подключить к службе |
| dataWarehouseId | string | Хранилище данных, содержащее эту службу |
| isPrimary | boolean | True, если эта служба является основной службой в хранилище данных |
| isReadonly | boolean | True, если эта служба только для чтения. Она может быть доступна только для чтения, если предоставлен dataWarehouseId. |
| releaseChannel | string | Выберите fast, если хотите получать новые релизы ClickHouse сразу после их выхода. Вы быстрее получите новые функции, но с большей вероятностью ошибок. Эта функция доступна только для производственных услуг. |
| byocId | string | Это идентификатор, возвращаемый после настройки региона для Bring Your Own Cloud (BYOC). Когда указан параметр byocId, параметры minReplicaMemoryGb и maxReplicaGb также обязательны и должны быть из следующих значений: 28, 60, 124, 188, 252, 380. |
#### Пример ответа

```
{
  "id": "uuid",
  "name": "string",
  "provider": "string",
  "region": "string",
  "state": "string",
  "endpoints": "Array",
  "tier": "string",
  "minTotalMemoryGb": 0,
  "maxTotalMemoryGb": 0,
  "minReplicaMemoryGb": 0,
  "maxReplicaMemoryGb": 0,
  "numReplicas": 0,
  "idleScaling": "boolean",
  "idleTimeoutMinutes": 0,
  "ipAccessList": "Array",
  "createdAt": "date-time",
  "encryptionKey": "string",
  "encryptionAssumedRoleIdentifier": "string",
  "iamRole": "string",
  "privateEndpointIds": "Array",
  "availablePrivateEndpointIds": "Array",
  "dataWarehouseId": "string",
  "isPrimary": "boolean",
  "isReadonly": "boolean",
  "releaseChannel": "string",
  "byocId": "string"
}
```
## Обновление настроек авто-масштабирования реплики службы

Обновляет минимальные и максимальные пределы памяти на одну реплику и поведение масштабирования в режиме простоя для службы. Настройки памяти доступны только для "производственных" служб и должны быть кратны 4, начиная с 8 ГБ. Пожалуйста, свяжитесь с поддержкой, чтобы включить изменение numReplicas.

| Метод | Путь |
| :----- | :--- |
| PATCH | `/v1/organizations/{organizationId}/services/{serviceId}/replicaScaling` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор организации, владеющей службой. |
| serviceId | uuid | Идентификатор службы для обновления параметров масштабирования. |
### Параметры тела

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| minReplicaMemoryGb | number | Минимальная память в ГБ для одной реплики во время автоматического масштабирования. Доступно только для 'production' служб. Должен быть кратен 4 и больше или равен 8. |
| maxReplicaMemoryGb | number | Максимальная память в ГБ для одной реплики во время автоматического масштабирования. Доступно только для 'production' служб. Должен быть кратен 4 и меньше или равен 120 для бесплатных услуг или 236 для платных услуг. |
| numReplicas | number | Количество реплик для службы. Количество реплик должно быть от 2 до 20 для первой службы в хранилище данных. Услуги, созданные в существующем хранилище, могут иметь количество реплик не менее 1. Также могут применяться дальнейшие ограничения в зависимости от уровня вашей организации. По умолчанию - 1 для уровня BASIC и 3 для уровней SCALE и ENTERPRISE. |
| idleScaling | boolean | Если установлено в true, службе разрешается снижаться до нуля при простое. По умолчанию true. |
| idleTimeoutMinutes | number | Установите минимальный тайм-аут простоя (в минутах). Должен быть >= 5 минут. |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | uuid | Уникальный идентификатор службы. |
| name | string | Название службы. Алфавитно-цифровая строка с пробелами до 50 символов. |
| provider | string | Облачный провайдер |
| region | string | Регион службы. |
| state | string | Текущая ситуация с услугой. |
| endpoints | array | Список всех конечных точек службы. |
| tier | string | УСТАРЕЛО для уровней организаций BASIC, SCALE и ENTERPRISE. Уровень службы: 'development', 'production', 'dedicated_high_mem', 'dedicated_high_cpu', 'dedicated_standard', 'dedicated_standard_n2d_standard_4', 'dedicated_standard_n2d_standard_8', 'dedicated_standard_n2d_standard_32', 'dedicated_standard_n2d_standard_128', 'dedicated_standard_n2d_standard_32_16SSD', 'dedicated_standard_n2d_standard_64_24SSD'. Производственные службы масштабируемы, разработки имеют фиксированный размер. Услуги Azure не поддерживают уровень разработки |
| minTotalMemoryGb | number | УСТАРЕЛО - неточный для служб с нестандартными числами реплик. Минимальная память трех рабочих узлов во время автоматического масштабирования в ГБ. Доступно только для 'production' служб. Должен быть кратен 12 и больше или равен 24. |
| maxTotalMemoryGb | number | УСТАРЕЛО - неточный для служб с нестандартными числами реплик. Максимальная память трех рабочих узлов во время автоматического масштабирования в ГБ. Доступно только для 'production' служб. Должен быть кратен 12 и меньше или равен 360 для бесплатных услуг или 708 для платных. |
| minReplicaMemoryGb | number | Минимальная память в ГБ для одной реплики во время автоматического масштабирования. Доступно только для 'production' служб. Должен быть кратен 4 и больше или равен 8. |
| maxReplicaMemoryGb | number | Максимальная память в ГБ для одной реплики во время автоматического масштабирования. Доступно только для 'production' служб. Должен быть кратен 4 и меньше или равен 120 для бесплатных услуг или 236 для платных услуг. |
| numReplicas | number | Количество реплик для службы. Количество реплик должно быть от 2 до 20 для первой службы в хранилище данных. Услуги, созданные в существующем хранилище, могут иметь количество реплик не менее 1. Также могут применяться дальнейшие ограничения в зависимости от уровня вашей организации. По умолчанию - 1 для уровня BASIC и 3 для уровней SCALE и ENTERPRISE. |
| idleScaling | boolean | Если установлено в true, службе разрешается снижаться до нуля при простое. По умолчанию true. |
| idleTimeoutMinutes | number | Установите минимальный тайм-аут простоя (в минутах). Должен быть >= 5 минут. |
| ipAccessList | array | Список IP-адресов, имеющих доступ к службе |
| createdAt | date-time | Время создания службы. ISO-8601. |
| encryptionKey | string | Необязательный ключ шифрования диска, предоставленный клиентом |
| encryptionAssumedRoleIdentifier | string | Необязательная роль для использования для шифрования диска |
| iamRole | string | Роль IAM, используемая для доступа к объектам в s3 |
| privateEndpointIds | array | Список частных конечных точек |
| availablePrivateEndpointIds | array | Список доступных идентификаторов частных конечных точек, которые можно подключить к службе |
| dataWarehouseId | string | Хранилище данных, содержащее эту службу |
| isPrimary | boolean | True, если эта служба является основной службой в хранилище данных |
| isReadonly | boolean | True, если эта служба только для чтения. Она может быть доступна только для чтения, если предоставлен dataWarehouseId. |
| releaseChannel | string | Выберите fast, если хотите получать новые релизы ClickHouse сразу после их выхода. Вы быстрее получите новые функции, но с большей вероятностью ошибок. Эта функция доступна только для производственных услуг. |
| byocId | string | Это идентификатор, возвращаемый после настройки региона для Bring Your Own Cloud (BYOC). Когда указан параметр byocId, параметры minReplicaMemoryGb и maxReplicaGb также обязательны и должны быть из следующих значений: 28, 60, 124, 188, 252, 380. |
#### Пример ответа

```
{
  "id": "uuid",
  "name": "string",
  "provider": "string",
  "region": "string",
  "state": "string",
  "endpoints": "Array",
  "tier": "string",
  "minTotalMemoryGb": 0,
  "maxTotalMemoryGb": 0,
  "minReplicaMemoryGb": 0,
  "maxReplicaMemoryGb": 0,
  "numReplicas": 0,
  "idleScaling": "boolean",
  "idleTimeoutMinutes": 0,
  "ipAccessList": "Array",
  "createdAt": "date-time",
  "encryptionKey": "string",
  "encryptionAssumedRoleIdentifier": "string",
  "iamRole": "string",
  "privateEndpointIds": "Array",
  "availablePrivateEndpointIds": "Array",
  "dataWarehouseId": "string",
  "isPrimary": "boolean",
  "isReadonly": "boolean",
  "releaseChannel": "string",
  "byocId": "string"
}
```
## Обновление пароля службы

Устанавливает новый пароль для службы

| Метод | Путь |
| :----- | :--- |
| PATCH | `/v1/organizations/{organizationId}/services/{serviceId}/password` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор организации, владеющей службой. |
| serviceId | uuid | Идентификатор службы для обновления пароля. |
### Параметры тела

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| newPasswordHash | string | Необязательный хеш пароля. Используется для предотвращения передачи пароля по сети. Если не предоставлен, генерируется новый пароль и возвращается в ответе. В противном случае используется этот хеш. Алгоритм: echo -n "yourpassword" | sha256sum | tr -d '-' | xxd -r -p | base64 |
| newDoubleSha1Hash | string | Необязательный двойной SHA1 хеш пароля для протокола MySQL. Если newPasswordHash не предоставлен, этот ключ будет игнорироваться и будет использоваться сгенерированный пароль. Алгоритм: echo -n "yourpassword" | sha1sum | tr -d '-' | xxd -r -p | sha1sum | tr -d '-' |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| password | string | Новый пароль службы. Предоставляется только если в запросе не было 'newPasswordHash' |
#### Пример ответа

```
{
  "password": "string"
}
```
## Создать частную конечную точку.

Создать новую частную конечную точку. Частная конечная точка будет ассоциирована с этой службой и организацией

| Метод | Путь |
| :----- | :--- |
| POST | `/v1/organizations/{organizationId}/services/{serviceId}/privateEndpoint` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор запрашиваемой организации. |
| serviceId | uuid | Идентификатор запрашиваемой службы. |
### Параметры тела

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | string | Идентификатор частной конечной точки |
| description | string | Описание частной конечной точки |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | string | Идентификатор частной конечной точки |
| description | string | Описание частной конечной точки |
| cloudProvider | string | Облачный провайдер, в котором расположена частная конечная точка |
| region | string | Регион, в котором расположена частная конечная точка |
#### Пример ответа

```
{
  "id": "string",
  "description": "string",
  "cloudProvider": "string",
  "region": "string"
}
```
## Получить метрики prometheus

Возвращает метрики prometheus для службы.

| Метод | Путь |
| :----- | :--- |
| GET | `/v1/organizations/{organizationId}/services/{serviceId}/prometheus` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор организации, владеющей службой. |
| serviceId | uuid | Идентификатор запрашиваемой службы. |
| filtered_metrics | boolean | Вернуть отфильтрованный список метрик Prometheus. |
## Список резервных копий службы

Возвращает список всех резервных копий для службы. Свежие резервные копии отображаются первыми в списке.

| Метод | Путь |
| :----- | :--- |
| GET | `/v1/organizations/{organizationId}/services/{serviceId}/backups` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор организации, владеющей резервной копией. |
| serviceId | uuid | Идентификатор службы, с которой была создана резервная копия. |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | uuid | Уникальный идентификатор резервной копии. |
| status | string | Статус резервной копии: 'done', 'error', 'in_progress'. |
| serviceId | string | Название  |
| startedAt | date-time | Время начала резервного копирования. ISO-8601. |
| finishedAt | date-time | Время завершения резервного копирования. ISO-8601. Доступно только для завершенных резервных копий |
| sizeInBytes | number | Размер резервной копии в байтах. |
| durationInSeconds | number | Время в секундах, затраченное на выполнение резервного копирования. Если статус все еще in_progress, это время в секундах с начала резервного копирования до текущего момента. |
| type | string | Тип резервной копии ("полная" или "инкрементная"). |
#### Пример ответа

```
{
  "id": "uuid",
  "status": "string",
  "serviceId": "string",
  "startedAt": "date-time",
  "finishedAt": "date-time",
  "sizeInBytes": 0,
  "durationInSeconds": 0,
  "type": "string"
}
```
## Получить детали резервной копии

Возвращает информацию о единственной резервной копии.

| Метод | Путь |
| :----- | :--- |
| GET | `/v1/organizations/{organizationId}/services/{serviceId}/backups/{backupId}` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор организации, владеющей резервной копией. |
| serviceId | uuid | Идентификатор службы, с которой была создана резервная копия. |
| backupId | uuid | Идентификатор запрашиваемой резервной копии. |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | uuid | Уникальный идентификатор резервной копии. |
| status | string | Статус резервной копии: 'done', 'error', 'in_progress'. |
| serviceId | string | Название  |
| startedAt | date-time | Время начала резервного копирования. ISO-8601. |
| finishedAt | date-time | Время завершения резервного копирования. ISO-8601. Доступно только для завершенных резервных копий |
| sizeInBytes | number | Размер резервной копии в байтах. |
| durationInSeconds | number | Время в секундах, затраченное на выполнение резервного копирования. Если статус все еще in_progress, это время в секундах с начала резервного копирования до текущего момента. |
| type | string | Тип резервной копии ("полная" или "инкрементная"). |
#### Пример ответа

```
{
  "id": "uuid",
  "status": "string",
  "serviceId": "string",
  "startedAt": "date-time",
  "finishedAt": "date-time",
  "sizeInBytes": 0,
  "durationInSeconds": 0,
  "type": "string"
}
```
## Получить конфигурацию резервного копирования службы

Возвращает конфигурацию резервного копирования службы.

| Метод | Путь |
| :----- | :--- |
| GET | `/v1/organizations/{organizationId}/services/{serviceId}/backupConfiguration` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор организации, владеющей службой. |
| serviceId | uuid | Идентификатор службы. |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| backupPeriodInHours | number | Интервал в часах между каждой резервной копией. |
| backupRetentionPeriodInHours | number | Минимальная продолжительность в часах, на которую резервные копии доступны. |
| backupStartTime | string | Время в формате HH:MM для выполнения резервных копий (оценено в UTC). Когда задано, период резервирования сбрасывается каждые 24 часа. |
#### Пример ответа

```
{
  "backupPeriodInHours": 0,
  "backupRetentionPeriodInHours": 0,
  "backupStartTime": "string"
}
```
## Обновление конфигурации резервного копирования службы

Обновляет конфигурацию резервного копирования службы. Требуется роль AUTH ключа ADMIN. Установка свойств со значением null приведет к сбросу свойств на их значения по умолчанию.

| Метод | Путь |
| :----- | :--- |
| PATCH | `/v1/organizations/{organizationId}/services/{serviceId}/backupConfiguration` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор организации, владеющей службой. |
| serviceId | uuid | Идентификатор службы. |
### Параметры тела

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| backupPeriodInHours | number | Интервал в часах между каждой резервной копией. |
| backupRetentionPeriodInHours | number | Минимальная продолжительность в часах, на которую резервные копии доступны. |
| backupStartTime | string | Время в формате HH:MM для выполнения резервных копий (оценено в UTC). Когда задано, период резервирования сбрасывается каждые 24 часа. |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| backupPeriodInHours | number | Интервал в часах между каждой резервной копией. |
| backupRetentionPeriodInHours | number | Минимальная продолжительность в часах, на которую резервные копии доступны. |
| backupStartTime | string | Время в формате HH:MM для выполнения резервных копий (оценено в UTC). Когда задано, период резервирования сбрасывается каждые 24 часа. |
#### Пример ответа

```
{
  "backupPeriodInHours": 0,
  "backupRetentionPeriodInHours": 0,
  "backupStartTime": "string"
}
```
## Список ClickPipes

**Этот конечный пункт находится в альфа-версии и может быть изменен.** Свяжитесь с поддержкой ClickHouse для получения дополнительной информации.<br /><br /> Возвращает список ClickPipes.

| Метод | Путь |
| :----- | :--- |
| GET | `/v1/organizations/{organizationId}/services/{serviceId}/clickpipes` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор организации, владеющей службой. |
| serviceId | uuid | Идентификатор службы, владеющей ClickPipe. |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | uuid | Уникальный идентификатор ClickPipe. |
| serviceId | uuid | Идентификатор службы, к которой принадлежит этот ClickPipe. |
| name | string | Название ClickPipe. |
| description | string | Описание ClickPipe. |
| state | string | Текущая ситуация ClickPipe. |
| scaling.replicas | integer | Желаемое количество реплик. Только для масштабируемых труб. |
| scaling.concurrency | integer | Желаемое количество параллельности. Только для труб S3. Если установлено в 0, параллельность автоматически масштабируется в зависимости от памяти кластера. |
| source.kafka |  |  |
| source.objectStorage |  |  |
| source.kinesis |  |  |
| source.postgres |  |  |
| destination.database | string | База данных назначения. |
| destination.table | string | Таблица назначения. Обязательное поле для всех типов труб, кроме Postgres. |
| destination.managedTable | boolean | Является ли таблица управляемой ClickPipes? Обязательное поле для всех типов труб, кроме Postgres. |
| destination.tableDefinition.engine.type | string | Тип движка целевой таблицы. В настоящее время поддерживается только MergeTree. |
| destination.tableDefinition.sortingKey | array | Ключ сортировки целевой таблицы. Список колонок. |
| destination.tableDefinition.partitionBy | string | SQL выражение ключа раздела. |
| destination.tableDefinition.primaryKey | string | Первичный ключ SQL выражения. |
| destination.columns | array | Колонки целевой таблицы. Обязательное поле для всех типов труб, кроме Postgres. |
| fieldMappings | array | Сопоставления полей ClickPipe. |
| createdAt | string | Дата создания ClickPipe. |
| updatedAt | string | Дата последнего обновления ClickPipe. |
#### Пример ответа

```
{
  "id": "uuid",
  "serviceId": "uuid",
  "name": "string",
  "description": "string",
  "state": "string",
  "scaling": {},
  "source": {},
  "destination": {
    "database": "string",
    "table": "string",
    "managedTable": "boolean",
    "tableDefinition": {
      "engine": {
        "type": "string"
      },
      "sortingKey": "Array",
      "partitionBy": "string",
      "primaryKey": "string"
    },
    "columns": "Array"
  },
  "fieldMappings": "Array",
  "createdAt": "string",
  "updatedAt": "string"
}
```
## Создать ClickPipe

**Этот конечный пункт находится в альфа-версии и может быть изменен.** Свяжитесь с поддержкой ClickHouse для получения дополнительной информации.<br /><br /> Создать новый ClickPipe.

| Метод | Путь |
| :----- | :--- |
| POST | `/v1/organizations/{organizationId}/services/{serviceId}/clickpipes` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор организации, владеющей службой. |
| serviceId | uuid | Идентификатор службы для создания ClickPipe. |
### Параметры тела

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| name | string | Название ClickPipe. |
| description | string | Описание ClickPipe. |
| source |  |  |
| destination |  |  |
| fieldMappings | array | Сопоставления полей ClickPipe. |
### Ответ
```
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | uuid | Уникальный идентификатор ClickPipe. |
| serviceId | uuid | Идентификатор сервиса, которому принадлежит этот ClickPipe. |
| name | string | Имя ClickPipe. |
| description | string | Описание ClickPipe. |
| state | string | Текущий статус ClickPipe. |
| scaling.replicas | integer | Желаемое количество реплик. Только для масштабируемых труб. |
| scaling.concurrency | integer | Желаемое количество параллельных операций. Только для труб S3. Если установлено значение 0, параллельность автоматически масштабируется в зависимости от памяти кластера. |
| source.kafka |  |  |
| source.objectStorage |  |  |
| source.kinesis |  |  |
| source.postgres |  |  |
| destination.database | string | База данных назначения. |
| destination.table | string | Таблица назначения. Обязательное поле для всех типов труб, кроме Postgres. |
| destination.managedTable | boolean | Управляется ли таблица ClickPipes? Обязательное поле для всех типов труб, кроме Postgres. |
| destination.tableDefinition.engine.type | string | Тип двигателя таблицы назначения. В настоящее время MergeTree - единственный поддерживаемый движок. |
| destination.tableDefinition.sortingKey | array | Ключ сортировки таблицы назначения. Список колонок. |
| destination.tableDefinition.partitionBy | string | SQL-выражение ключа партиции. |
| destination.tableDefinition.primaryKey | string | SQL-выражение первичного ключа. |
| destination.columns | array | Колонки таблицы назначения. Обязательное поле для всех типов труб, кроме Postgres. |
| fieldMappings | array | Сопоставления полей ClickPipe. |
| createdAt | string | Дата создания ClickPipe. |
| updatedAt | string | Дата последнего обновления ClickPipe. |

#### Пример ответа

```json
{
  "id": "uuid",
  "serviceId": "uuid",
  "name": "string",
  "description": "string",
  "state": "string",
  "scaling": {},
  "source": {},
  "destination": {
    "database": "string",
    "table": "string",
    "managedTable": "boolean",
    "tableDefinition": {
      "engine": {
        "type": "string"
      },
      "sortingKey": "Array",
      "partitionBy": "string",
      "primaryKey": "string"
    },
    "columns": "Array"
  },
  "fieldMappings": "Array",
  "createdAt": "string",
  "updatedAt": "string"
}
```
## Получить ClickPipe

**Этот эндпоинт находится на альфа-версии и может быть изменен.** Свяжитесь с поддержкой ClickHouse для получения дополнительной информации.<br /><br /> Возвращает указанный ClickPipe.

| Метод | Путь |
| :----- | :--- |
| GET | `/v1/organizations/{organizationId}/services/{serviceId}/clickpipes/{clickPipeId}` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор организации, которая владеет сервисом. |
| serviceId | uuid | Идентификатор сервиса, которому принадлежит ClickPipe. |
| clickPipeId | uuid | Идентификатор запрашиваемого ClickPipe. |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | uuid | Уникальный идентификатор ClickPipe. |
| serviceId | uuid | Идентификатор сервиса, которому принадлежит этот ClickPipe. |
| name | string | Имя ClickPipe. |
| description | string | Описание ClickPipe. |
| state | string | Текущий статус ClickPipe. |
| scaling.replicas | integer | Желаемое количество реплик. Только для масштабируемых труб. |
| scaling.concurrency | integer | Желаемое количество параллельных операций. Только для труб S3. Если установлено значение 0, параллельность автоматически масштабируется в зависимости от памяти кластера. |
| source.kafka |  |  |
| source.objectStorage |  |  |
| source.kinesis |  |  |
| source.postgres |  |  |
| destination.database | string | База данных назначения. |
| destination.table | string | Таблица назначения. Обязательное поле для всех типов труб, кроме Postgres. |
| destination.managedTable | boolean | Управляется ли таблица ClickPipes? Обязательное поле для всех типов труб, кроме Postgres. |
| destination.tableDefinition.engine.type | string | Тип двигателя таблицы назначения. В настоящее время MergeTree - единственный поддерживаемый движок. |
| destination.tableDefinition.sortingKey | array | Ключ сортировки таблицы назначения. Список колонок. |
| destination.tableDefinition.partitionBy | string | SQL-выражение ключа партиции. |
| destination.tableDefinition.primaryKey | string | SQL-выражение первичного ключа. |
| destination.columns | array | Колонки таблицы назначения. Обязательное поле для всех типов труб, кроме Postgres. |
| fieldMappings | array | Сопоставления полей ClickPipe. |
| createdAt | string | Дата создания ClickPipe. |
| updatedAt | string | Дата последнего обновления ClickPipe. |
#### Пример ответа

```
{
  "id": "uuid",
  "serviceId": "uuid",
  "name": "string",
  "description": "string",
  "state": "string",
  "scaling": {},
  "source": {},
  "destination": {
    "database": "string",
    "table": "string",
    "managedTable": "boolean",
    "tableDefinition": {
      "engine": {
        "type": "string"
      },
      "sortingKey": "Array",
      "partitionBy": "string",
      "primaryKey": "string"
    },
    "columns": "Array"
  },
  "fieldMappings": "Array",
  "createdAt": "string",
  "updatedAt": "string"
}
```
## Обновить ClickPipe

**Этот эндпоинт находится на альфа-версии и может быть изменен.** Свяжитесь с поддержкой ClickHouse для получения дополнительной информации.<br /><br /> Обновите указанный ClickPipe.

| Метод | Путь |
| :----- | :--- |
| PATCH | `/v1/organizations/{organizationId}/services/{serviceId}/clickpipes/{clickPipeId}` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор организации, которая владеет сервисом. |
| serviceId | uuid | Идентификатор сервиса для создания ClickPipe. |
| clickPipeId | uuid | Идентификатор запрашиваемого ClickPipe. |
### Параметры тела

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| name | string | Имя ClickPipe. |
| description | string | Описание ClickPipe. |
| source |  |  |
| destination |  |  |
| fieldMappings | array | Сопоставления полей ClickPipe. Это не обновит схему таблицы, только конфигурацию ClickPipe. |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | uuid | Уникальный идентификатор ClickPipe. |
| serviceId | uuid | Идентификатор сервиса, которому принадлежит этот ClickPipe. |
| name | string | Имя ClickPipe. |
| description | string | Описание ClickPipe. |
| state | string | Текущий статус ClickPipe. |
| scaling.replicas | integer | Желаемое количество реплик. Только для масштабируемых труб. |
| scaling.concurrency | integer | Желаемое количество параллельных операций. Только для труб S3. Если установлено значение 0, параллельность автоматически масштабируется в зависимости от памяти кластера. |
| source.kafka |  |  |
| source.objectStorage |  |  |
| source.kinesis |  |  |
| source.postgres |  |  |
| destination.database | string | База данных назначения. |
| destination.table | string | Таблица назначения. Обязательное поле для всех типов труб, кроме Postgres. |
| destination.managedTable | boolean | Управляется ли таблица ClickPipes? Обязательное поле для всех типов труб, кроме Postgres. |
| destination.tableDefinition.engine.type | string | Тип двигателя таблицы назначения. В настоящее время MergeTree - единственный поддерживаемый движок. |
| destination.tableDefinition.sortingKey | array | Ключ сортировки таблицы назначения. Список колонок. |
| destination.tableDefinition.partitionBy | string | SQL-выражение ключа партиции. |
| destination.tableDefinition.primaryKey | string | SQL-выражение первичного ключа. |
| destination.columns | array | Колонки таблицы назначения. Обязательное поле для всех типов труб, кроме Postgres. |
| fieldMappings | array | Сопоставления полей ClickPipe. |
| createdAt | string | Дата создания ClickPipe. |
| updatedAt | string | Дата последнего обновления ClickPipe. |
#### Пример ответа

```
{
  "id": "uuid",
  "serviceId": "uuid",
  "name": "string",
  "description": "string",
  "state": "string",
  "scaling": {},
  "source": {},
  "destination": {
    "database": "string",
    "table": "string",
    "managedTable": "boolean",
    "tableDefinition": {
      "engine": {
        "type": "string"
      },
      "sortingKey": "Array",
      "partitionBy": "string",
      "primaryKey": "string"
    },
    "columns": "Array"
  },
  "fieldMappings": "Array",
  "createdAt": "string",
  "updatedAt": "string"
}
```
## Удалить ClickPipe

**Этот эндпоинт находится на альфа-версии и может быть изменен.** Свяжитесь с поддержкой ClickHouse для получения дополнительной информации.<br /><br /> Удалите указанный ClickPipe.

| Метод | Путь |
| :----- | :--- |
| DELETE | `/v1/organizations/{organizationId}/services/{serviceId}/clickpipes/{clickPipeId}` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор организации, которая владеет сервисом. |
| serviceId | uuid | Идентификатор сервиса, которому принадлежит ClickPipe. |
| clickPipeId | uuid | Идентификатор ClickPipe для удаления. |
## Масштабирование ClickPipe

**Этот эндпоинт находится на альфа-версии и может быть изменен.** Свяжитесь с поддержкой ClickHouse для получения дополнительной информации.<br /><br /> Измените настройки масштабирования для указанного ClickPipe.

| Метод | Путь |
| :----- | :--- |
| PATCH | `/v1/organizations/{organizationId}/services/{serviceId}/clickpipes/{clickPipeId}/scaling` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор организации, которая владеет сервисом. |
| serviceId | uuid | Идентификатор сервиса, которому принадлежит ClickPipe. |
| clickPipeId | uuid | Идентификатор ClickPipe для обновления настроек масштабирования. |
### Параметры тела

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| replicas | integer | Количество реплик для масштабирования. Используется для масштабирования Kafka труб. |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | uuid | Уникальный идентификатор ClickPipe. |
| serviceId | uuid | Идентификатор сервиса, которому принадлежит этот ClickPipe. |
| name | string | Имя ClickPipe. |
| description | string | Описание ClickPipe. |
| state | string | Текущий статус ClickPipe. |
| scaling.replicas | integer | Желаемое количество реплик. Только для масштабируемых труб. |
| scaling.concurrency | integer | Желаемое количество параллельных операций. Только для труб S3. Если установлено значение 0, параллельность автоматически масштабируется в зависимости от памяти кластера. |
| source.kafka |  |  |
| source.objectStorage |  |  |
| source.kinesis |  |  |
| source.postgres |  |  |
| destination.database | string | База данных назначения. |
| destination.table | string | Таблица назначения. Обязательное поле для всех типов труб, кроме Postgres. |
| destination.managedTable | boolean | Управляется ли таблица ClickPipes? Обязательное поле для всех типов труб, кроме Postgres. |
| destination.tableDefinition.engine.type | string | Тип двигателя таблицы назначения. В настоящее время MergeTree - единственный поддерживаемый движок. |
| destination.tableDefinition.sortingKey | array | Ключ сортировки таблицы назначения. Список колонок. |
| destination.tableDefinition.partitionBy | string | SQL-выражение ключа партиции. |
| destination.tableDefinition.primaryKey | string | SQL-выражение первичного ключа. |
| destination.columns | array | Колонки таблицы назначения. Обязательное поле для всех типов труб, кроме Postgres. |
| fieldMappings | array | Сопоставления полей ClickPipe. |
| createdAt | string | Дата создания ClickPipe. |
| updatedAt | string | Дата последнего обновления ClickPipe. |
#### Пример ответа

```
{
  "id": "uuid",
  "serviceId": "uuid",
  "name": "string",
  "description": "string",
  "state": "string",
  "scaling": {},
  "source": {},
  "destination": {
    "database": "string",
    "table": "string",
    "managedTable": "boolean",
    "tableDefinition": {
      "engine": {
        "type": "string"
      },
      "sortingKey": "Array",
      "partitionBy": "string",
      "primaryKey": "string"
    },
    "columns": "Array"
  },
  "fieldMappings": "Array",
  "createdAt": "string",
  "updatedAt": "string"
}
```
## Обновить состояние ClickPipe

**Этот эндпоинт находится на альфа-версии и может быть изменен.** Свяжитесь с поддержкой ClickHouse для получения дополнительной информации.<br /><br /> Запустите или остановите ClickPipe. Остановка ClickPipe остановит процесс инжекции из любого состояния. Запуск разрешен для ClickPipe в состоянии "Stopped" или с состоянием "Failed".

| Метод | Путь |
| :----- | :--- |
| PATCH | `/v1/organizations/{organizationId}/services/{serviceId}/clickpipes/{clickPipeId}/state` |
### Запрос
#### Параметры пути

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| organizationId | uuid | Идентификатор организации, которая владеет сервисом. |
| serviceId | uuid | Идентификатор сервиса, которому принадлежит ClickPipe. |
| clickPipeId | uuid | Идентификатор ClickPipe для обновления состояния. |
### Параметры тела

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| command | string | Команда для изменения состояния: 'start', 'stop'. |
### Ответ
#### Схема ответа

| Имя | Тип | Описание |
| :--- | :--- | :---------- |
| id | uuid | Уникальный идентификатор ClickPipe. |
| serviceId | uuid | Идентификатор сервиса, которому принадлежит этот ClickPipe. |
| name | string | Имя ClickPipe. |
| description | string | Описание ClickPipe. |
| state | string | Текущий статус ClickPipe. |
| scaling.replicas | integer | Желаемое количество реплик. Только для масштабируемых труб. |
| scaling.concurrency | integer | Желаемое количество параллельных операций. Только для труб S3. Если установлено значение 0, параллельность автоматически масштабируется в зависимости от памяти кластера. |
| source.kafka |  |  |
| source.objectStorage |  |  |
| source.kinesis |  |  |
| source.postgres |  |  |
| destination.database | string | База данных назначения. |
| destination.table | string | Таблица назначения. Обязательное поле для всех типов труб, кроме Postgres. |
| destination.managedTable | boolean | Управляется ли таблица ClickPipes? Обязательное поле для всех типов труб, кроме Postgres. |
| destination.tableDefinition.engine.type | string | Тип двигателя таблицы назначения. В настоящее время MergeTree - единственный поддерживаемый движок. |
| destination.tableDefinition.sortingKey | array | Ключ сортировки таблицы назначения. Список колонок. |
| destination.tableDefinition.partitionBy | string | SQL-выражение ключа партиции. |
| destination.tableDefinition.primaryKey | string | SQL-выражение первичного ключа. |
| destination.columns | array | Колонки таблицы назначения. Обязательное поле для всех типов труб, кроме Postgres. |
| fieldMappings | array | Сопоставления полей ClickPipe. |
| createdAt | string | Дата создания ClickPipe. |
| updatedAt | string | Дата последнего обновления ClickPipe. |
#### Пример ответа

```
{
  "id": "uuid",
  "serviceId": "uuid",
  "name": "string",
  "description": "string",
  "state": "string",
  "scaling": {},
  "source": {},
  "destination": {
    "database": "string",
    "table": "string",
    "managedTable": "boolean",
    "tableDefinition": {
      "engine": {
        "type": "string"
      },
      "sortingKey": "Array",
      "partitionBy": "string",
      "primaryKey": "string"
    },
    "columns": "Array"
  },
  "fieldMappings": "Array",
  "createdAt": "string",
  "updatedAt": "string"
}
