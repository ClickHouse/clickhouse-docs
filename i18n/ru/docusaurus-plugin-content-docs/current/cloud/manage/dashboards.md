---
sidebar_label: Панели
slug: /cloud/manage/dashboards
title: Панели
---

import BetaBadge from '@theme/badges/BetaBadge';
import dashboards_2 from '@site/static/images/cloud/dashboards/2_dashboards.png';
import dashboards_3 from '@site/static/images/cloud/dashboards/3_dashboards.png';
import dashboards_4 from '@site/static/images/cloud/dashboards/4_dashboards.png';
import dashboards_5 from '@site/static/images/cloud/dashboards/5_dashboards.png';
import dashboards_6 from '@site/static/images/cloud/dashboards/6_dashboards.png';
import dashboards_7 from '@site/static/images/cloud/dashboards/7_dashboards.png';
import dashboards_8 from '@site/static/images/cloud/dashboards/8_dashboards.png';
import dashboards_9 from '@site/static/images/cloud/dashboards/9_dashboards.png';
import dashboards_10 from '@site/static/images/cloud/dashboards/10_dashboards.png';
import dashboards_11 from '@site/static/images/cloud/dashboards/11_dashboards.png';


# Панели

<BetaBadge />

Функция панелей SQL Console позволяет собирать и делиться визуализациями из сохраненных запросов. Начните с сохранения и визуализации запросов, добавления визуализаций запросов на панель и настройки интерактивности панели с помощью параметров запросов.

## Основные концепции {#core-concepts}

### Совместное использование запросов {#query-sharing}

Чтобы поделиться своей панелью с коллегами, убедитесь, что вы также поделились основным сохраненным запросом. Для просмотра визуализации пользователи должны иметь как минимум доступ только для чтения к основному сохраненному запросу.

### Интерактивность {#interactivity}

Используйте [параметры запросов](/sql-reference/syntax#defining-and-using-query-parameters), чтобы сделать вашу панель интерактивной. Например, вы можете добавить параметр запроса в оператор `WHERE`, чтобы он работал как фильтр.

Вы можете переключать ввод параметров запросов через боковую панель **Global** фильтров, выбрав тип "фильтр" в настройках визуализации. Вы также можете переключить ввод параметра запроса, связав его с другим объектом (например, таблицей) на панели. Пожалуйста, смотрите раздел “[настроить фильтр](/cloud/manage/dashboards#configure-a-filter)” в руководстве по быстрому старту ниже.

## Быстрый старт {#quick-start}

Давайте создадим панель для мониторинга нашего сервиса ClickHouse, используя системную таблицу [query_log](/operations/system-tables/query_log).

## Быстрый старт {#quick-start-1}

### Создайте сохраненный запрос {#create-a-saved-query}

Если у вас уже есть сохраненные запросы для визуализации, вы можете пропустить этот шаг.

Откройте новую вкладку запроса. Давайте напишем запрос для подсчета объема запросов по дням на сервисе, используя системные таблицы ClickHouse:

<img src={dashboards_2} alt="Создайте сохраненный запрос"/>

Мы можем увидеть результаты запроса в табличном формате или начать создавать визуализации из графического представления. На следующем шаге мы сохраним запрос как `queries over time`:

<img src={dashboards_3} alt="Сохранить запрос"/>

Больше документации по сохраненным запросам можно найти в разделе [Сохранение запроса](/cloud/get-started/sql-console#saving-a-query).

Мы можем создать и сохранить другой запрос, `query count by query kind`, чтобы подсчитать количество запросов по типу запроса. Вот визуализация данных в виде столбиковой диаграммы в SQL Console.

<img src={dashboards_4} alt="Визуализация результатов запроса в виде столбиковой диаграммы"/>

Теперь, когда у нас есть два запроса, давайте создадим панель для визуализации и сбора этих запросов.

### Создайте панель {#create-a-dashboard}

Перейдите в панель Панели и нажмите "Новая панель". После назначения имени вы успешно создадите свою первую панель!

<img src={dashboards_5} alt="Создайте новую панель"/>

### Добавьте визуализацию {#add-a-visualization}

У нас есть два сохраненных запроса, `queries over time` и `query count by query kind`. Давайте визуализируем первый в виде линейного графика. Дайте вашей визуализации заголовок и подзаголовок, а затем выберите запрос для визуализации. Далее выберите тип графика "Линия" и задайте оси x и y.

<img src={dashboards_6} alt="Добавьте визуализацию"/>

Здесь также можно внести дополнительные стилистические изменения, такие как форматирование чисел, расположение легенды и метки осей.

Далее давайте визуализируем второй запрос в виде таблицы и расположим его под линейным графиком.

<img src={dashboards_7} alt="Визуализируйте результаты запроса в виде таблицы"/>

Вы создали свою первую панель, визуализировав два сохраненных запроса!

### Настройте фильтр {#configure-a-filter}

Давайте сделаем эту панель интерактивной, добавив фильтр по типу запроса, чтобы вы могли отображать только тренды, связанные с запросами Insert. Мы достигнем этого, используя [параметры запросов](/sql-reference/syntax#defining-and-using-query-parameters).

Нажмите на три точки рядом с линейным графиком и нажмите кнопку с карандашом рядом с запросом, чтобы открыть встроенный редактор запросов. Здесь мы можем редактировать основной сохраненный запрос прямо с панели.

<img src={dashboards_8} alt="Редактировать основной запрос"/>

Теперь при нажатии на желтую кнопку запуска запроса вы увидите тот же запрос, отфильтрованный только по запросам вставки. Нажмите кнопку сохранения, чтобы обновить запрос. Когда вы вернетесь к настройкам графика, вы сможете фильтровать линейный график.

Теперь, используя Global Filters на верхней панели, вы можете переключать фильтр, изменяя ввод.

<img src={dashboards_9} alt="Настройка глобальных фильтров"/>

Предположим, вы хотите связать фильтр линейного графика с таблицей. Вы можете сделать это, вернувшись к настройкам визуализации и изменив источник значения параметра запроса `query_kind` на таблицу, выбрав колонку `query_kind` как поле для связи.

<img src={dashboards_10} alt="Изменение параметра запроса"/>

Теперь вы можете контролировать фильтр на линейном графике напрямую из таблицы запросов по типам, чтобы сделать вашу панель интерактивной.

<img src={dashboards_11} alt="Управление фильтром на линейном графике"/>
