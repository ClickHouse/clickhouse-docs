---
sidebar_label: 'Архитектура'
slug: /cloud/reference/architecture
title: 'Архитектура ClickHouse Cloud'
description: 'На этой странице описывается архитектура ClickHouse Cloud'
keywords: ['ClickHouse Cloud', 'cloud architecture', 'separation of storage and compute']
doc_type: 'reference'
---

import Image from '@theme/IdealImage';
import Architecture from '@site/static/images/cloud/reference/architecture.png';


# Архитектура ClickHouse Cloud

<Image img={Architecture} size='lg' alt='Архитектура ClickHouse Cloud'/>



## Хранилище на основе объектного хранилища {#storage-backed-by-object-store}

- Практически неограниченный объем хранения
- Нет необходимости вручную распределять данные
- Значительно более низкая стоимость хранения данных, особенно для данных с редким доступом


## Вычислительные ресурсы {#compute}

- Автоматическое масштабирование и приостановка: не требуется заранее определять размер ресурсов и избыточно выделять мощности для пиковых нагрузок
- Автоматическая приостановка и возобновление работы: не нужно держать запущенными неиспользуемые вычислительные ресурсы, когда ими никто не пользуется
- Безопасность и высокая доступность по умолчанию


## Администрирование {#administration}

- Настройка, мониторинг, резервное копирование и выставление счетов выполняются за вас.
- Контроль затрат включен по умолчанию и может быть настроен вами через консоль Cloud.


## Изоляция сервисов {#service-isolation}

### Сетевая изоляция {#network-isolation}

Все сервисы изолированы на сетевом уровне.

### Изоляция вычислительных ресурсов {#compute-isolation}

Все сервисы развёрнуты в отдельных подах в соответствующих пространствах имён Kubernetes с изоляцией на сетевом уровне.

### Изоляция хранилища {#storage-isolation}

Все сервисы используют отдельный подкаталог общего бакета (AWS, GCP) или контейнера хранилища (Azure).

Для AWS доступ к хранилищу контролируется через AWS IAM, при этом каждая IAM-роль уникальна для каждого сервиса. Для корпоративного сервиса можно включить [CMEK](/cloud/security/cmek) для обеспечения расширенной изоляции данных в состоянии покоя. В настоящее время CMEK поддерживается только для сервисов AWS.

Для GCP и Azure сервисы имеют изоляцию объектного хранилища (каждый сервис имеет собственные бакеты или контейнеры хранилища).


## Разделение вычислительных ресурсов {#compute-compute-separation}

[Разделение вычислительных ресурсов](/cloud/reference/warehouses) позволяет создавать несколько групп вычислительных узлов, каждая из которых имеет собственный URL сервиса, при этом все они используют общее объектное хранилище. Это обеспечивает изоляцию вычислительных ресурсов для различных сценариев использования, например, разделение операций чтения и записи при работе с одними и теми же данными. Также это повышает эффективность использования ресурсов благодаря возможности независимого масштабирования групп вычислительных узлов по мере необходимости.


## Ограничения параллелизма {#concurrency-limits}

В вашем сервисе ClickHouse Cloud отсутствует ограничение на количество запросов в секунду (QPS). Однако действует ограничение в 1000 одновременных запросов на реплику. QPS в конечном счёте определяется средним временем выполнения запросов и количеством реплик в вашем сервисе.

Важное преимущество ClickHouse Cloud по сравнению с самостоятельно управляемым экземпляром ClickHouse или другими базами данных/хранилищами данных состоит в том, что вы можете легко увеличить параллелизм, [добавив дополнительные реплики (горизонтальное масштабирование)](/manage/scaling#manual-horizontal-scaling).
