---
sidebar_label: 'Архитектура'
slug: /cloud/reference/architecture
title: 'Архитектура ClickHouse Cloud'
description: 'На этой странице описана архитектура ClickHouse Cloud'
keywords: ['ClickHouse Cloud', 'облачная архитектура', 'разделение хранения и вычислений']
doc_type: 'reference'
---

import Image from '@theme/IdealImage';
import Architecture from '@site/static/images/cloud/reference/architecture.png';


# Архитектура ClickHouse Cloud {#clickhouse-cloud-architecture}

<Image img={Architecture} size='lg' alt='Архитектура ClickHouse Cloud'/>

## Хранилище на базе объектного хранилища {#storage-backed-by-object-store}

- Практически неограниченный объём хранилища
- Нет необходимости вручную передавать данные
- Существенно более низкая стоимость хранения данных, особенно тех, к которым обращаются реже

## Вычисления {#compute}

- Автоматическое масштабирование и перевод в режим простоя: нет необходимости заранее подбирать размер и закладывать дополнительные ресурсы под пиковую нагрузку
- Автоматический перевод в режим простоя и возобновление работы: нет необходимости держать неиспользуемые вычислительные ресурсы, когда ими никто не пользуется
- Безопасность и высокая доступность по умолчанию

## Администрирование {#administration}

- Настройка, мониторинг, резервное копирование и биллинг выполняются за вас.
- Механизмы контроля затрат включены по умолчанию и могут быть настроены вами через консоль Cloud.

## Изоляция сервисов {#service-isolation}

### Сетевая изоляция {#network-isolation}

Все сервисы изолированы на сетевом уровне.

### Изоляция вычислительных ресурсов {#compute-isolation}

Все сервисы развёрнуты в отдельных подах в соответствующих пространствах имён Kubernetes с сетевой изоляцией.

### Изоляция хранилища {#storage-isolation}

Все сервисы используют отдельный подпуть в общем bucket (AWS, GCP) или контейнере хранилища (Azure).

Для AWS доступ к хранилищу контролируется через AWS IAM, и каждая роль IAM уникальна для сервиса. Для Enterprise-сервиса можно включить [CMEK](/cloud/security/cmek), чтобы обеспечить расширенную изоляцию данных в состоянии покоя. В настоящее время CMEK поддерживается только для сервисов AWS.

Для GCP и Azure сервисы имеют изоляцию объектного хранилища (каждый сервис имеет собственный bucket или контейнер хранилища).

## Разделение вычислительных ресурсов {#compute-compute-separation}

[Разделение вычислительных ресурсов](/cloud/reference/warehouses) позволяет вам создавать несколько групп вычислительных узлов, каждая со своим собственным URL сервиса, при этом все они используют одно и то же общее объектное хранилище. Это обеспечивает изоляцию вычислений для разных сценариев использования, например разделение операций чтения и записи, работающих с одними и теми же данными. Кроме того, это повышает эффективность использования ресурсов за счет независимого масштабирования вычислительных групп по мере необходимости.

## Ограничения параллелизма {#concurrency-limits}

В вашем сервисе ClickHouse Cloud нет ограничений на количество запросов в секунду (QPS). Однако существует ограничение — не более 1000 одновременных запросов на одну реплику. В конечном счёте QPS зависит от средней длительности выполнения запроса и количества реплик в вашем сервисе.

Существенным преимуществом ClickHouse Cloud по сравнению с самоуправляемым экземпляром ClickHouse или другими базами данных/хранилищами данных является то, что вы можете легко увеличить параллелизм, [добавив больше реплик (горизонтальное масштабирование)](/manage/scaling#manual-horizontal-scaling).