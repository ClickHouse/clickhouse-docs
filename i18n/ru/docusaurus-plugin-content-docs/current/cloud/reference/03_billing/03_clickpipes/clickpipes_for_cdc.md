---
sidebar_label: 'CDC PostgreSQL'
slug: /cloud/reference/billing/clickpipes/postgres-cdc
title: 'ClickPipes для CDC PostgreSQL'
description: 'Обзор биллинга ClickPipes для CDC PostgreSQL'
doc_type: 'reference'
keywords: ['billing', 'clickpipes', 'цены cdc', 'затраты', 'тарифы']
---



# ClickPipes для PostgreSQL CDC {#clickpipes-for-postgresql-cdc}

В этом разделе описана модель ценообразования для коннектора Postgres Change Data Capture (CDC)
в ClickPipes. При проектировании этой модели наша цель заключалась в том, чтобы сохранить цены
высококонкурентными и при этом оставаться верными нашему ключевому видению:

> Сделать перенос данных из Postgres в ClickHouse для аналитики в режиме реального времени
максимально простым и доступным по стоимости.

Этот коннектор более чем в **5 раз экономичнее** внешних
ETL-инструментов и аналогичных возможностей в других платформах баз данных.

:::note
С **1 сентября 2025 года** для всех клиентов (как существующих, так и новых), использующих Postgres CDC ClickPipes,
тарификация ведётся помесячно.
:::



## Параметры тарификации {#pricing-dimensions}

Тарификация основана на двух основных параметрах:

1. **Принимаемые данные**: Необработанные несжатые байты, поступающие из Postgres и
   принимаемые в ClickHouse.
2. **Вычислительные ресурсы**: Вычислительные единицы, выделяемые на уровне сервиса, управляют несколькими
   Postgres CDC ClickPipes и отделены от вычислительных единиц, используемых
   сервисом ClickHouse Cloud. Эти дополнительные вычислительные ресурсы выделены специально
   для Postgres CDC ClickPipes. Вычислительные ресурсы тарифицируются на уровне сервиса, а не для
   отдельного конвейера. Каждая вычислительная единица включает 2 виртуальных процессора и 8 ГБ оперативной памяти.

### Принимаемые данные {#ingested-data}

Коннектор Postgres CDC работает в двух основных фазах:

- **Начальная загрузка / повторная синхронизация**: Выполняется полный снимок таблиц Postgres
  при первом создании конвейера или повторной синхронизации.
- **Непрерывная репликация (CDC)**: Постоянная репликация изменений — таких как вставки,
  обновления, удаления и изменения схемы — из Postgres в ClickHouse.

В большинстве случаев использования непрерывная репликация составляет более 90% жизненного цикла ClickPipe.
Поскольку начальная загрузка предполагает передачу большого объёма данных за один раз,
мы предлагаем более низкую ставку для этой фазы.

| Фаза                                      | Стоимость    |
| ----------------------------------------- | ------------ |
| **Начальная загрузка / повторная синхронизация** | $0,10 за ГБ  |
| **Непрерывная репликация (CDC)**          | $0,20 за ГБ  |

### Вычислительные ресурсы {#compute}

Этот параметр охватывает вычислительные единицы, выделяемые на уровне сервиса специально для Postgres
ClickPipes. Вычислительные ресурсы распределяются между всеми конвейерами Postgres в рамках сервиса. **Они
выделяются при создании первого конвейера Postgres и освобождаются, когда не остаётся
конвейеров Postgres CDC**. Объём выделяемых вычислительных ресурсов зависит от уровня
вашей организации:

| Уровень                      | Стоимость                                                  |
| ---------------------------- | ---------------------------------------------------------- |
| **Уровень Basic**            | 0,5 вычислительной единицы на сервис — $0,10 в час        |
| **Уровень Scale или Enterprise** | 1 вычислительная единица на сервис — $0,20 в час      |

### Пример {#example}

Предположим, ваш сервис находится на уровне Scale и имеет следующую конфигурацию:

- 2 конвейера Postgres ClickPipes, выполняющих непрерывную репликацию
- Каждый конвейер принимает 500 ГБ изменений данных (CDC) в месяц
- При запуске первого конвейера сервис выделяет **1 вычислительную единицу на уровне Scale** для Postgres CDC

#### Разбивка ежемесячных затрат {#cost-breakdown}

**Принимаемые данные (CDC)**:

$$ 2 \text{ конвейера} \times 500 \text{ ГБ} = 1{,}000 \text{ ГБ в месяц} $$

$$ 1{,}000 \text{ ГБ} \times \$0{,}20/\text{ГБ} = \$200 $$

**Вычислительные ресурсы**:

$$1 \text{ вычислительная единица} \times \$0{,}20/\text{час} \times 730 \text{ часов (приблизительно месяц)} = \$146$$

:::note
Вычислительные ресурсы распределяются между обоими конвейерами
:::

**Общая ежемесячная стоимость**:

$$\$200 \text{ (приём)} + \$146 \text{ (вычислительные ресурсы)} = \$346$$


## FAQ по Postgres CDC ClickPipes {#faq-postgres-cdc-clickpipe}

<details>

<summary>Измеряется ли объём принятых данных для целей тарификации в сжатом или несжатом виде?</summary>

Объём принятых данных измеряется как _несжатые данные_, поступающие из Postgres — как
во время первоначальной загрузки, так и CDC (через replication slot). Postgres по умолчанию
не сжимает данные при передаче, и ClickPipe обрабатывает сырые несжатые байты.

</details>

<details>

<summary>Когда начисления за Postgres CDC начнут отображаться в моих счетах?</summary>

Начисления за Postgres CDC ClickPipes начали отображаться в ежемесячных счетах, начиная с
**1 сентября 2025 года**, для всех клиентов (как существующих, так и новых).

</details>

<details>

<summary>Будет ли взиматься плата, если я приостановлю свои pipe'ы?</summary>

Плата за ингестию данных не взимается, пока pipe приостановлен, поскольку данные не
перемещаются. Однако плата за вычислительные ресурсы всё равно взимается — 0,5 или 1
единица вычислительных ресурсов — в зависимости от уровня вашей организации. Это
фиксированная стоимость на уровне сервиса и применяется ко всем pipe'ам в этом
сервисе.

</details>

<details>

<summary>Как я могу оценить свои расходы?</summary>

Страница Overview в ClickPipes предоставляет метрики как по первоначальной загрузке/повторной синхронизации (resync),
так и по объёмам данных CDC. Вы можете оценить свои затраты на Postgres CDC, используя
эти метрики совместно с тарифами ClickPipes.

</details>

<details>

<summary>Могу ли я масштабировать вычислительные ресурсы, выделенные под Postgres CDC в моём сервисе?</summary>

По умолчанию масштабирование вычислительных ресурсов недоступно для настройки пользователем.
Выделенные ресурсы оптимизированы для того, чтобы эффективно обрабатывать большинство
нагрузок клиентов. Если для вашего сценария требуется больше или меньше вычислительных
ресурсов, создайте запрос в службу поддержки, чтобы мы могли оценить ваш запрос.

</details>

<details>

<summary>Какова детализация тарификации?</summary>

- **Compute**: тарификация по часам. Неполные часы округляются до следующего часа.
- **Ingested Data**: измеряется и тарифицируется за каждый гигабайт (ГБ) несжатых данных.

</details>

<details>

<summary>Могу ли я использовать свои кредиты ClickHouse Cloud для Postgres CDC через ClickPipes?</summary>

Да. Тарифы ClickPipes являются частью единой тарифной модели ClickHouse Cloud. Любые
имеющиеся у вас платформенные кредиты будут автоматически применяться и к использованию
ClickPipes.

</details>

<details>

<summary>Какого дополнительного расхода мне ожидать от Postgres CDC ClickPipes в рамках моих текущих ежемесячных затрат на ClickHouse Cloud?</summary>

Стоимость зависит от вашего сценария использования, объёма данных и уровня организации.
Тем не менее, большинство существующих клиентов видят увеличение на **0–15%** относительно
их текущих ежемесячных затрат на ClickHouse Cloud после завершения пробного периода.
Фактические затраты могут различаться в зависимости от вашей нагрузки — некоторые нагрузки
включают большие объёмы данных с меньшей обработкой, в то время как другие требуют более
интенсивной обработки при меньших объёмах данных.

</details>