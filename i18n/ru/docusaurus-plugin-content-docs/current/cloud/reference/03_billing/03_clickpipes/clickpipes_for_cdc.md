---
'sidebar_label': 'PostgreSQL CDC'
'slug': '/cloud/reference/billing/clickpipes/postgres-cdc'
'title': 'ClickPipes для PostgreSQL CDC'
'description': 'Обзор биллинга для ClickPipes PostgreSQL CDC'
'doc_type': 'reference'
---
# ClickPipes для PostgreSQL CDC {#clickpipes-for-postgresql-cdc}

В этом разделе описывается модель ценообразования для коннектора захвата изменений данных (CDC) Postgres в ClickPipes. При разработке этой модели целью было сохранить цены высоко конкурентоспособными и при этом оставаться верными нашему основному видению:

> Сделать интеграцию и
доступность для клиентов, перемещающих данные из Postgres в ClickHouse для
анализа в реальном времени, легкими и доступными.

Коннектор более **в 5 раз дешевле** внешних инструментов ETL и аналогичных функций на других платформах баз данных.

:::note
Цены начали учитываться в ежемесячных счетах с **1 сентября 2025 года**
для всех клиентов (как существующих, так и новых), использующих Postgres CDC ClickPipes.
:::

## Размеры ценообразования {#pricing-dimensions}

Существует два основных аспекта ценообразования:

1. **Входящие данные**: сырые, не сжатые байты, поступающие из Postgres и
   загружаемые в ClickHouse.
2. **Вычисления**: вычислительные единицы, выделяемые для сервиса, управляют несколькими
   Postgres CDC ClickPipes и отдельны от вычислительных единиц, используемых службой 
   ClickHouse Cloud. Эти дополнительные вычисления выделены специально для 
   Postgres CDC ClickPipes. Вычисления выставляются по уровню сервиса, а не за 
   каждую отдельную трубу. Каждая вычислительная единица включает 2 vCPU и 8 ГБ ОЗУ.

### Входящие данные {#ingested-data}

Коннектор Postgres CDC работает в двух основных фазах:

- **Начальная загрузка / повторная синхронизация**: это захватывает полную снимок таблиц Postgres
  и происходит при создании или повторной синхронизации трубы.
- **Непрерывная репликация (CDC)**: Постоянная репликация изменений, таких как вставки,
  обновления, удаления и изменения схемы, из Postgres в ClickHouse.

В большинстве случаев непрерывная репликация составляет более 90% жизненного цикла ClickPipe.
Поскольку начальные загрузки подразумевают перенос большого объема данных сразу,
мы предлагаем более низкую ставку для этой фазы.

| Фаза                              | Стоимость      |
|-----------------------------------|----------------|
| **Начальная загрузка / повторная синхронизация** | $0.10 за ГБ    |
| **Непрерывная репликация (CDC)** | $0.20 за ГБ    |

### Вычисления {#compute}

Этот аспект охватывает вычислительные единицы, выделяемые для сервиса только для Postgres
ClickPipes. Вычисления делятся между всеми Postgres трубами в рамках сервиса. **Они
выделяются, когда создается первая труба Postgres, и освобождаются, когда не остается
труб Postgres CDC.** Количество выделенных вычислений зависит от уровня вашей
организации:

| Уровень                       | Стоимость                                   |
|------------------------------|---------------------------------------------|
| **Базовый уровень**           | 0.5 вычислительных единиц на сервис — $0.10 в час |
| **Масштабный или корпоративный уровень** | 1 вычислительная единица на сервис — $0.20 в час   |

### Пример {#example}

Предположим, ваш сервис находится на Масштабном уровне и имеет следующую настройку:

- 2 Postgres ClickPipes, выполняющие непрерывную репликацию
- Каждая труба обрабатывает 500 ГБ изменений данных (CDC) в месяц
- Когда запускается первая труба, сервис выделяет **1 вычислительную единицу по Масштабному уровню** для Postgres CDC

#### Распределение месячного тарифа {#cost-breakdown}

**Входящие данные (CDC)**:

$$ 2 \text{ трубы} \times 500 \text{ ГБ} = 1,000 \text{ ГБ в месяц} $$

$$ 1,000 \text{ ГБ} \times \$0.20/\text{ГБ} = \$200 $$

**Вычисления**:

$$1 \text{ вычислительная единица} \times \$0.20/\text{ч} \times 730 \text{ часов (приблизительный месяц)} = \$146$$

:::note
Вычисления делятся между обеими трубами
:::

**Общая месячная стоимость**:

$$\$200 \text{ (вход)} + \$146 \text{ (вычисления)} = \$346$$

## FAQ для Postgres CDC ClickPipes {#faq-postgres-cdc-clickpipe}

<details>

<summary>Измеряются ли входящие данные в ценах на основе сжатого или несжатого размера?</summary>

Входящие данные измеряются как _несжатые данные_, поступающие из Postgres — как
в процессе начальной загрузки, так и CDC (через слот репликации). По умолчанию Postgres не
сжимает данные во время передачи, а ClickPipe обрабатывает сырые,
несжатые байты.

</details>

<details>

<summary>Когда в моих счетах начнет отображаться цена на Postgres CDC?</summary>

Цены на Postgres CDC ClickPipes начали отображаться в ежемесячных счетах с
**1 сентября 2025 года** для всех клиентов (как существующих, так и новых).

</details>

<details>

<summary>Буду ли я платить, если приостановлю мои трубы?</summary>

За ввод данных не взимается плата, пока труба приостановлена, так как данные не перемещаются.
Тем не менее, плата за вычисления все равно будет взиматься — либо 0.5, либо 1 вычислительная единица — в зависимости от
уровня вашей организации. Это фиксированная стоимость на уровне сервиса и применяется ко всем
трубам в этом сервисе.

</details>

<details>

<summary>Как я могу оценить свои расходы?</summary>

Страница «Обзор» в ClickPipes предоставляет метрики как для начальной загрузки/повторной синхронизации, так и
для объемов данных CDC. Вы можете оценить свои расходы на Postgres CDC, используя эти метрики
в сочетании с ценами ClickPipes.

</details>

<details>

<summary>Могу ли я масштабировать вычисления, выделенные для Postgres CDC в моем сервисе?</summary>

По умолчанию масштабирование вычислений не настраивается пользователем. Выделенные ресурсы
оптимизированы для обработки большинства заказчиков. Если ваш сценарий
требует больше или меньше вычислений, пожалуйста, откройте заявку в службу поддержки, чтобы мы могли оценить
вашу просьбу.

</details>

<details>

<summary>Какова гранулярность ценообразования?</summary>

- **Вычисления**: выставляются по часам. Частичные часы округляются до следующего целого.
- **Входящие данные**: измеряются и выставляются по гигабайту (ГБ) несжатых данных.

</details>

<details>

<summary>Могу ли я использовать свои кредиты ClickHouse Cloud для Postgres CDC через ClickPipes?</summary>

Да. Цены ClickPipes являются частью единой ценовой структуры ClickHouse Cloud. Любые
платформенные кредиты, которые у вас есть, автоматически применяются к использованию ClickPipes.

</details>

<details>

<summary>Каких дополнительных расходов мне следует ожидать от Postgres CDC ClickPipes в моих текущих ежемесячных расходах ClickHouse Cloud?</summary>

Стоимость варьируется в зависимости от вашего сценария использования, объема данных и уровня вашей организации.
Тем не менее, большинство существующих клиентов наблюдают увеличение на **0–15%** по сравнению с их
существующими ежемесячными расходами ClickHouse Cloud после пробного периода. Фактические расходы могут варьироваться
в зависимости от вашей нагрузки — некоторые нагрузки связаны с высокими объемами данных с
меньшими затратами на обработку, в то время как другие требуют большего процесса с меньшими объемами данных.

</details>