---
sidebar_label: 'PostgreSQL CDC'
slug: /cloud/reference/billing/clickpipes/postgres-cdc
title: 'ClickPipes для PostgreSQL CDC'
description: 'Обзор выставления счетов для ClickPipes PostgreSQL CDC'
doc_type: 'reference'
keywords: ['выставление счетов', 'clickpipes', 'cdc pricing', 'стоимость', 'тарифы']
---



# ClickPipes для PostgreSQL CDC {#clickpipes-for-postgresql-cdc}

В этом разделе описывается модель ценообразования для коннектора Postgres Change Data Capture (CDC)
в ClickPipes. При разработке этой модели мы стремились обеспечить высокую конкурентоспособность цен,
оставаясь верными нашей основной концепции:

> Обеспечить простой и
> доступный перенос данных из Postgres в ClickHouse для
> аналитики в реальном времени.

Коннектор более чем в **5 раз экономичнее** внешних
инструментов ETL и аналогичных функций других платформ баз данных.

:::note
Тарификация начала учитываться в ежемесячных счетах с **1 сентября 2025 года**
для всех клиентов (как существующих, так и новых), использующих Postgres CDC ClickPipes.
:::


## Параметры ценообразования {#pricing-dimensions}

Ценообразование основано на двух основных параметрах:

1. **Принимаемые данные**: Необработанные несжатые байты, поступающие из Postgres и
   загружаемые в ClickHouse.
2. **Вычислительные ресурсы**: Вычислительные единицы, выделяемые на уровне сервиса, управляют несколькими
   Postgres CDC ClickPipes и отделены от вычислительных единиц, используемых
   сервисом ClickHouse Cloud. Эти дополнительные вычислительные ресурсы предназначены специально
   для Postgres CDC ClickPipes. Вычислительные ресурсы тарифицируются на уровне сервиса, а не для
   отдельного канала. Каждая вычислительная единица включает 2 виртуальных процессора и 8 ГБ оперативной памяти.

### Принимаемые данные {#ingested-data}

Коннектор Postgres CDC работает в двух основных фазах:

- **Начальная загрузка / повторная синхронизация**: Создаёт полный снимок таблиц Postgres
  и выполняется при первом создании канала или повторной синхронизации.
- **Непрерывная репликация (CDC)**: Постоянная репликация изменений — таких как вставки,
  обновления, удаления и изменения схемы — из Postgres в ClickHouse.

В большинстве случаев использования непрерывная репликация составляет более 90% жизненного цикла ClickPipe.
Поскольку начальная загрузка предполагает передачу большого объёма данных за один раз,
мы предлагаем более низкую ставку для этой фазы.

| Фаза                                         | Стоимость       |
| -------------------------------------------- | --------------- |
| **Начальная загрузка / повторная синхронизация** | $0,10 за ГБ |
| **Непрерывная репликация (CDC)**             | $0,20 за ГБ     |

### Вычислительные ресурсы {#compute}

Этот параметр охватывает вычислительные единицы, выделяемые на уровне сервиса специально для Postgres
ClickPipes. Вычислительные ресурсы распределяются между всеми каналами Postgres в рамках сервиса. **Они
выделяются при создании первого канала Postgres и освобождаются, когда не остаётся
каналов Postgres CDC**. Объём выделяемых вычислительных ресурсов зависит от уровня
вашей организации:

| Уровень                              | Стоимость                                              |
| ------------------------------------ | ------------------------------------------------------ |
| **Уровень Basic**                    | 0,5 вычислительной единицы на сервис — $0,10 в час    |
| **Уровень Scale или Enterprise**     | 1 вычислительная единица на сервис — $0,20 в час      |

### Пример {#example}

Предположим, ваш сервис находится на уровне Scale и имеет следующую конфигурацию:

- 2 канала Postgres ClickPipes, выполняющих непрерывную репликацию
- Каждый канал принимает 500 ГБ изменений данных (CDC) в месяц
- При запуске первого канала сервис выделяет **1 вычислительную единицу на уровне Scale** для Postgres CDC

#### Разбивка ежемесячных затрат {#cost-breakdown}

**Принимаемые данные (CDC)**:

$$ 2 \text{ канала} \times 500 \text{ ГБ} = 1\,000 \text{ ГБ в месяц} $$

$$ 1\,000 \text{ ГБ} \times \$0{,}20/\text{ГБ} = \$200 $$

**Вычислительные ресурсы**:

$$1 \text{ вычислительная единица} \times \$0{,}20/\text{час} \times 730 \text{ часов (приблизительно месяц)} = \$146$$

:::note
Вычислительные ресурсы распределяются между обоими каналами
:::

**Общая ежемесячная стоимость**:

$$\$200 \text{ (приём данных)} + \$146 \text{ (вычислительные ресурсы)} = \$346$$


## Часто задаваемые вопросы по Postgres CDC ClickPipes {#faq-postgres-cdc-clickpipe}

<details>

<summary>
  Измеряются ли принимаемые данные в ценообразовании на основе сжатого или несжатого
  размера?
</summary>

Принимаемые данные измеряются как _несжатые данные_, поступающие из Postgres — как
во время начальной загрузки, так и при CDC (через слот репликации). Postgres не
сжимает данные при передаче по умолчанию, и ClickPipe обрабатывает исходные
несжатые байты.

</details>

<details>

<summary>Когда тарификация Postgres CDC начнет отображаться в моих счетах?</summary>

Тарификация Postgres CDC ClickPipes начала отображаться в ежемесячных счетах с
**1 сентября 2025 года** для всех клиентов (как существующих, так и новых).

</details>

<details>

<summary>Будет ли с меня взиматься плата, если я приостановлю свои конвейеры?</summary>

Плата за прием данных не взимается, пока конвейер приостановлен, поскольку данные не перемещаются.
Однако плата за вычислительные ресурсы по-прежнему взимается — 0,5 или 1 вычислительная единица — в зависимости от
уровня вашей организации. Это фиксированная стоимость на уровне сервиса, которая применяется ко всем
конвейерам в рамках этого сервиса.

</details>

<details>

<summary>Как я могу оценить свои расходы?</summary>

Страница обзора в ClickPipes предоставляет метрики как для начальной загрузки/ресинхронизации, так и для
объемов данных CDC. Вы можете оценить свои расходы на Postgres CDC, используя эти метрики
в сочетании с тарификацией ClickPipes.

</details>

<details>

<summary>
  Могу ли я масштабировать вычислительные ресурсы, выделенные для Postgres CDC в моем сервисе?
</summary>

По умолчанию масштабирование вычислительных ресурсов не настраивается пользователем. Выделенные ресурсы
оптимизированы для эффективной обработки большинства клиентских рабочих нагрузок. Если ваш сценарий использования
требует больше или меньше вычислительных ресурсов, пожалуйста, создайте заявку в службу поддержки, чтобы мы могли оценить
ваш запрос.

</details>

<details>

<summary>Какова детализация тарификации?</summary>

- **Вычислительные ресурсы**: Оплачиваются за час. Неполные часы округляются до следующего часа.
- **Принимаемые данные**: Измеряются и оплачиваются за гигабайт (ГБ) несжатых данных.

</details>

<details>

<summary>
  Могу ли я использовать свои кредиты ClickHouse Cloud для Postgres CDC через ClickPipes?
</summary>

Да. Тарификация ClickPipes является частью единой тарификации ClickHouse Cloud. Любые
кредиты платформы, которые у вас есть, будут автоматически применяться и к использованию ClickPipes.

</details>

<details>

<summary>
  Какие дополнительные расходы мне следует ожидать от Postgres CDC ClickPipes в моих
  существующих ежемесячных расходах на ClickHouse Cloud?
</summary>

Стоимость варьируется в зависимости от вашего сценария использования, объема данных и уровня организации.
Тем не менее, большинство существующих клиентов наблюдают увеличение на **0–15%** относительно их
существующих ежемесячных расходов на ClickHouse Cloud после пробного периода. Фактические затраты могут варьироваться
в зависимости от вашей рабочей нагрузки — некоторые рабочие нагрузки включают большие объемы данных с
меньшей обработкой, в то время как другие требуют большей обработки при меньшем объеме данных.

</details>
