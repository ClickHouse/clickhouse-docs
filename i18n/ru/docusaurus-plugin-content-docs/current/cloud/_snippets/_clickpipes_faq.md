import Image from '@theme/IdealImage';
import clickpipesPricingFaq1 from '@site/static/images/cloud/manage/jan2025_faq/external_clickpipes_pricing_faq_1.png';
import clickpipesPricingFaq2 from '@site/static/images/cloud/manage/jan2025_faq/external_clickpipes_pricing_faq_2.png';
import clickpipesPricingFaq3 from '@site/static/images/cloud/manage/jan2025_faq/external_clickpipes_pricing_faq_3.png';

<details>

<summary>Что такое реплики ClickPipes?</summary>

ClickPipes принимает данные из удаленных источников данных через специальную инфраструктуру, которая работает и масштабируется независимо от сервиса ClickHouse Cloud. По этой причине он использует выделенные вычислительные реплики. Диаграммы ниже показывают упрощенную архитектуру.

Для потоковых ClickPipes реплики ClickPipes получают доступ к удаленным источникам данных (например, брокеру Kafka), извлекают данные, обрабатывают их и загружают в целевой сервис ClickHouse.

<Image img={clickpipesPricingFaq1} size="lg" alt="ClickPipes Реплики - Потоковые ClickPipes" border force/>

В случае ClickPipes для объектного хранения реплика ClickPipes организует задачу загрузки данных (определение файлов для копирования, поддержание состояния и перемещение партиций), в то время как данные извлекаются непосредственно из сервиса ClickHouse.

<Image img={clickpipesPricingFaq2} size="lg" alt="ClickPipes Реплики - Объектное Хранение ClickPipes" border force/>

</details>

<details>

<summary>Какое стандартное количество реплик и их размер?</summary>

Каждый ClickPipe по умолчанию имеет 1 реплику, которая предоставляется с 2 GiB оперативной памяти и 0.5 vCPU. Это соответствует **0.25** вычислительных единиц ClickHouse (1 единица = 8 GiB ОЗУ, 2 vCPU).

</details>

<details>

<summary>Можно ли масштабировать реплики ClickPipes?</summary>

Да, ClickPipes для потоковой передачи можно масштабировать как горизонтально, так и вертикально. Горизонтальное масштабирование добавляет больше реплик для увеличения пропускной способности, в то время как вертикальное масштабирование увеличивает ресурсы (CPU и ОЗУ), выделенные каждой реплике для обработки более интенсивных рабочих нагрузок. Это можно настроить во время создания ClickPipe или в любое другое время в разделе **Настройки** -> **Дополнительные настройки** -> **Масштабирование**.

</details>

<details>

<summary>Сколько реплик ClickPipes мне нужно?</summary>

Это зависит от пропускной способности рабочей нагрузки и требований по задержке. Мы рекомендуем начать с значения по умолчанию - 1 реплика, измерить вашу задержку и добавить реплики, если это необходимо. Имейте в виду, что для ClickPipes на базе Kafka вам также необходимо соответствующим образом масштабировать партиции брокера Kafka. Элементы управления масштабированием доступны в разделе "настройки" для каждого потокового ClickPipe.

<Image img={clickpipesPricingFaq3} size="lg" alt="ClickPipes Реплики - Сколько реплик ClickPipes мне нужно?" border force/>

</details>

<details>

<summary>Как выглядит структура ценообразования ClickPipes?</summary>

Она состоит из двух измерений:
- **Вычисления**: цена за единицу в час
  Вычисление представляет собой стоимость запуска реплик ClickPipes, независимо от того, активно ли они принимают данные или нет. Оно применяется ко всем типам ClickPipes.
- **Принятые данные**: цена за GB
  Тариф на принятые данные применяется ко всем потоковым ClickPipes (Kafka, Confluent, Amazon MSK, Amazon Kinesis, Redpanda, WarpStream, Azure Event Hubs) за данные, переданные через реплики. Размер принятых данных (GB) взимается на основе байт, полученных из источника (сжатые или несжатые).

</details>

<details>

<summary>Каковы публичные цены ClickPipes?</summary>

- Вычисления: \$0.20 за единицу в час (\$0.05 за реплику в час)
- Принятые данные: \$0.04 за GB

</details>

<details>

<summary>Как это выглядит в показательном примере?</summary>

Например, прием 1 ТБ данных за 24 часа с использованием соединителя Kafka с одной репликой (0.25 вычислительной единицы) стоит:

$$
(0.25 \times 0.20 \times 24) + (0.04 \times 1000) = \$41.2
$$
<br/>

Для соединителей объектного хранения (S3 и GCS) возникает только стоимость вычислений ClickPipes, так как пода ClickPipes не обрабатывает данные, а только организует передачу, которая осуществляется подлежащим сервисом ClickHouse:

$$
0.25 \times 0.20 \times 24 = \$1.2
$$

</details>

<details>

<summary>Как ценообразование ClickPipes соотносится с рынком?</summary>

Философия ценообразования ClickPipes заключается в том, чтобы покрыть операционные расходы платформы, предлагая простой и надежный способ перемещения данных в ClickHouse Cloud. С этой точки зрения наш рыночный анализ показал, что мы находимся в конкурентоспособном положении.

</details>