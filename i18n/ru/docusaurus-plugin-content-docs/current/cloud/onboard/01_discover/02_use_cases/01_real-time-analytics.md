---
slug: /cloud/get-started/cloud/use-cases/real-time-analytics
title: 'Аналитика в реальном времени'
description: 'Узнайте, как создавать приложения для аналитики в реальном времени в ClickHouse Cloud для мгновенного получения аналитических результатов и принятия решений на основе данных'
keywords: ['use cases', 'real-time analytics']
sidebar_label: 'Аналитика в реальном времени'
doc_type: 'guide'
---

import Image from '@theme/IdealImage';
import rta_0 from '@site/static/images/cloud/onboard/discover/use_cases/0_rta.png';
import rta_1 from '@site/static/images/cloud/onboard/discover/use_cases/1_rta.png';
import rta_2 from '@site/static/images/cloud/onboard/discover/use_cases/2_rta.png';
import rta_3 from '@site/static/images/cloud/onboard/discover/use_cases/3_rta.png';

<iframe width="758" height="426" src="https://www.youtube.com/embed/SnFff0KYwuo?si=aNpGzSobzFhUlyX5" title="Проигрыватель YouTube" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen />


## Что такое аналитика в реальном времени? {#what-is-real-time-analytics}

Аналитика в реальном времени — это обработка данных, которая предоставляет аналитические выводы конечным пользователям и клиентам сразу после генерации данных. Она отличается от традиционной или пакетной аналитики, где данные собираются пакетами и обрабатываются, часто спустя длительное время после их генерации.

Системы аналитики в реальном времени построены на основе потоков событий, которые состоят из последовательности событий, упорядоченных во времени. Событие — это то, что уже произошло. Это может быть добавление товара в корзину на сайте электронной коммерции, передача показаний датчика Интернета вещей (IoT) или удар по воротам в футбольном матче.

Ниже в качестве примера показано событие (от воображаемого IoT-датчика):

```json
{
  "deviceId": "sensor-001",
  "timestamp": "2023-10-05T14:30:00Z",
  "eventType": "temperatureAlert",
  "data": {
    "temperature": 28.5,
    "unit": "Celsius",
    "thresholdExceeded": true
  }
}
```

Организации могут получать аналитические выводы о своих клиентах, агрегируя и анализируя подобные события. Традиционно это делалось с помощью пакетной аналитики, и в следующем разделе мы сравним пакетную аналитику и аналитику в реальном времени.


## Аналитика в реальном времени vs пакетная аналитика {#real-time-analytics-vs-batch-analytics}

На диаграмме ниже показано, как выглядит типичная система пакетной аналитики
с точки зрения отдельного события:

<Image img={rta_0} size='md' border alt='диаграмма пакетной аналитики' />

Видно, что существует значительный разрыв между моментом возникновения события и его
обработкой с получением инсайтов. Традиционно это был единственный способ
анализа данных, и требовалось создавать искусственные временные границы для обработки
данных пакетами. Например, можно было обрабатывать все данные, собранные за день, в конце
дня. Это подходило для многих сценариев использования, но для других было неоптимальным,
поскольку приходилось работать с устаревшими данными, что не позволяло достаточно быстро
реагировать на них.

В отличие от этого, в системах аналитики в реальном времени мы реагируем на событие сразу
после его возникновения, как показано на следующей диаграмме:

<Image img={rta_1} size='md' border alt='диаграмма аналитики в реальном времени' />

Теперь мы можем получать инсайты из событий практически сразу после их
генерации. Но почему это полезно?


## Преимущества аналитики в реальном времени {#benefits-of-real-time-analytics}

В современном динамичном мире организации полагаются на аналитику в реальном времени, чтобы оставаться гибкими и быстро реагировать на постоянно меняющиеся условия. Система аналитики в реальном времени может принести бизнесу множество преимуществ.

### Более качественное принятие решений {#better-decision-making}

Принятие решений можно улучшить, получая доступ к практическим выводам через аналитику в реальном времени. Когда бизнес-операторы могут видеть события по мере их возникновения, это значительно упрощает своевременное вмешательство.

Например, если мы вносим изменения в приложение и хотим узнать, оказывают ли они негативное влияние на пользовательский опыт, мы хотим узнать об этом как можно быстрее, чтобы при необходимости откатить изменения. При менее оперативном подходе нам, возможно, придется ждать до следующего дня для проведения такого анализа, и к этому моменту у нас будет много недовольных пользователей.

### Новые продукты и источники дохода {#new-products-and-revenue-streams}

Аналитика в реальном времени может помочь бизнесу создавать новые источники дохода. Организации могут разрабатывать новые продукты и сервисы, ориентированные на данные, которые предоставляют пользователям доступ к возможностям аналитических запросов. Эти продукты часто достаточно привлекательны, чтобы пользователи были готовы платить за доступ к ним.

Кроме того, существующие приложения можно сделать более привлекательными, повышая вовлеченность и удержание пользователей. Это приведет к более активному использованию приложения и увеличению дохода для организации.

### Улучшенный клиентский опыт {#improved-customer-experience}

С помощью аналитики в реальном времени бизнес может получать мгновенные сведения о поведении, предпочтениях и потребностях клиентов. Это позволяет бизнесу предлагать своевременную помощь, персонализировать взаимодействие и создавать более увлекательный опыт, который заставляет клиентов возвращаться.


## Сценарии использования аналитики в реальном времени {#real-time-analytics-use-cases}

Реальная ценность аналитики в реальном времени становится очевидной при рассмотрении её практического применения. Рассмотрим некоторые примеры.

### Обнаружение мошенничества {#fraud-detection}

Обнаружение мошенничества — это выявление мошеннических схем, от поддельных учётных записей до платёжного мошенничества. Необходимо обнаруживать такое мошенничество как можно быстрее, помечая подозрительные действия, блокируя транзакции и отключая учётные записи при необходимости.

Этот сценарий применим в различных отраслях: здравоохранении, цифровом банкинге, финансовых услугах, розничной торговле и других.

[Instacart](https://www.instacart.com/) — ведущая компания онлайн-торговли продуктами питания в Северной Америке с миллионами активных покупателей и курьеров. Компания использует ClickHouse в составе Yoda — своей платформы обнаружения мошенничества. Помимо общих типов мошенничества, описанных выше, платформа также выявляет сговор между покупателями и курьерами.

<Image
  img={rta_2}
  size='md'
  border
  alt='Аналитика в реальном времени для обнаружения мошенничества'
/>

Были выявлены следующие характеристики ClickHouse, обеспечивающие обнаружение мошенничества в реальном времени:

> ClickHouse поддерживает движки семейства MergeTree на основе LSM-дерева.
> Они оптимизированы для записи, что делает их подходящими для приёма больших объёмов
> данных в реальном времени.

> ClickHouse спроектирован и оптимизирован специально для аналитических запросов. Это
> идеально соответствует потребностям приложений, в которых данные непрерывно
> анализируются на предмет паттернов, указывающих на мошенничество.

### Принятие решений, критичных ко времени {#ftime-sensitive-decision-making}

Принятие решений, критичных ко времени, — это ситуации, когда пользователям или организациям необходимо быстро принимать обоснованные решения на основе самой актуальной доступной информации. Аналитика в реальном времени позволяет пользователям принимать обоснованные решения в динамичных условиях — будь то трейдеры, реагирующие на колебания рынка, потребители, принимающие решения о покупке, или специалисты, адаптирующиеся к операционным изменениям в реальном времени.

Coinhall предоставляет своим пользователям информацию о движении цен в реальном времени через свечной график, который показывает цены открытия, максимума, минимума и закрытия для каждого торгового периода. Компании необходимо было выполнять такие типы запросов быстро при большом количестве одновременных пользователей.

<Image
  img={rta_3}
  size='md'
  border
  alt='Аналитика в реальном времени для принятия решений, критичных ко времени'
/>

> С точки зрения производительности ClickHouse стал явным победителем, выполняя запросы свечных графиков за 20 миллисекунд по сравнению
> с 400 миллисекундами и более для других баз данных. Запросы последних цен выполнялись за 8 миллисекунд, опережая
> следующий лучший результат (SingleStore), который составил 45 миллисекунд. Наконец, запросы ASOF JOIN обрабатывались за
> 50 миллисекунд, в то время как Snowflake потребовалось 20 минут, а Rockset завершился по таймауту.
