---
sidebar_label: 'Обзор'
slug: /migrations/redshift-overview
description: 'Миграция с Amazon Redshift на ClickHouse'
keywords: ['Redshift']
title: 'Сравнение ClickHouse Cloud и Amazon Redshift'
doc_type: 'guide'
---



# Миграция с Amazon Redshift на ClickHouse

> Этот документ является вводным руководством по миграции данных из Amazon
Redshift в ClickHouse.



## Введение {#introduction}

Amazon Redshift — это облачное хранилище данных, которое предоставляет возможности для формирования отчётов и аналитики структурированных и полуструктурированных данных. Оно было разработано для обработки аналитических рабочих нагрузок на больших наборах данных с использованием принципов колоночно-ориентированных баз данных, аналогичных ClickHouse. Являясь частью предложения AWS, Redshift часто становится решением по умолчанию, к которому обращаются пользователи AWS для решения задач аналитики данных.

Несмотря на привлекательность для существующих пользователей AWS благодаря тесной интеграции с экосистемой Amazon, пользователи Redshift, применяющие его для приложений аналитики в реальном времени, сталкиваются с необходимостью более оптимизированного решения для этих целей. В результате они всё чаще обращаются к ClickHouse, чтобы воспользоваться преимуществами превосходной производительности запросов и сжатия данных — либо в качестве замены, либо в качестве «слоя ускорения», развёрнутого параллельно с существующими рабочими нагрузками Redshift.


## ClickHouse в сравнении с Redshift {#clickhouse-vs-redshift}

Для пользователей, активно использующих экосистему AWS, Redshift является
естественным выбором при возникновении потребности в хранилище данных. Redshift отличается от
ClickHouse в одном важном аспекте — его движок оптимизирован для рабочих нагрузок
хранилища данных, требующих сложной отчетности и аналитических запросов.
Во всех режимах развертывания следующие два ограничения затрудняют
использование Redshift для аналитических рабочих нагрузок в реальном времени:

- Redshift [компилирует код для каждого плана выполнения запроса](https://docs.aws.amazon.com/redshift/latest/dg/c-query-performance.html),
  что добавляет значительные накладные расходы при первом выполнении запроса. Эти накладные расходы могут
  быть оправданы, когда паттерны запросов предсказуемы и скомпилированные планы выполнения
  могут быть сохранены в кэше запросов. Однако это создает проблемы для интерактивных
  приложений с изменяющимися запросами. Даже когда Redshift может использовать этот
  кэш компиляции кода, ClickHouse быстрее на большинстве запросов. См. ["ClickBench"](https://benchmark.clickhouse.com/#system=+%E2%98%81w|%EF%B8%8Fr|C%20c|Rf&type=-&machine=-ca2|gl|6ax|6ale|3al&cluster_size=-&opensource=-&tuned=+n&metric=hot&queries=-).
- Redshift [ограничивает параллелизм до 50 по всем очередям](https://docs.aws.amazon.com/redshift/latest/dg/c_workload_mngmt_classification.html),
  что (хотя и достаточно для BI) делает его неподходящим для высокопараллельных
  аналитических приложений.

Напротив, хотя ClickHouse также может использоваться для сложных аналитических запросов,
он оптимизирован для аналитических рабочих нагрузок в реальном времени, либо обеспечивая работу приложений,
либо выступая в качестве слоя ускорения хранилища. В результате пользователи Redshift обычно
заменяют или дополняют Redshift с помощью ClickHouse по следующим причинам:

| Преимущество                       | Описание                                                                                                                                                                                                                                                                                                                                                                                                  |
| ---------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Меньшие задержки запросов**      | ClickHouse обеспечивает меньшие задержки запросов, включая разнообразные паттерны запросов, при высоком параллелизме и во время потоковых вставок. Даже когда ваш запрос не попадает в кэш, что неизбежно в интерактивной аналитике, ориентированной на пользователя, ClickHouse все равно может обработать его быстро.                                                                                    |
| **Более высокие лимиты параллельных запросов** | ClickHouse устанавливает гораздо более высокие лимиты на параллельные запросы, что критически важно для работы приложений в реальном времени. В ClickHouse, как в самостоятельно управляемой, так и в облачной версии, вы можете масштабировать выделение вычислительных ресурсов для достижения необходимого уровня параллелизма для каждого сервиса. Уровень допустимого параллелизма запросов настраивается в ClickHouse, при этом ClickHouse Cloud по умолчанию использует значение 1000. |
| **Превосходное сжатие данных**     | ClickHouse предлагает превосходное сжатие данных, что позволяет пользователям сократить общий объем хранилища (и, следовательно, затраты) или сохранять больше данных при тех же затратах и получать больше аналитических данных в реальном времени. См. раздел «Эффективность хранения ClickHouse в сравнении с Redshift» ниже.                                                                          |
