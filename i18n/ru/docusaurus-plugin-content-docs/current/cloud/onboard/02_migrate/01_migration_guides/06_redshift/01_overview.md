---
sidebar_label: 'Обзор'
slug: /migrations/redshift-overview
description: 'Миграция с Amazon Redshift в ClickHouse'
keywords: ['Redshift']
title: 'Сравнение ClickHouse Cloud и Amazon Redshift'
doc_type: 'guide'
---



# Миграция с Amazon Redshift на ClickHouse

> В этом документе даётся введение в процесс миграции данных из Amazon
Redshift в ClickHouse.



## Введение {#introduction}

Amazon Redshift — это облачное хранилище данных, которое предоставляет возможности для отчётности и аналитики структурированных и полуструктурированных данных. Оно было разработано для обработки аналитических нагрузок на больших объёмах данных с использованием принципов колоночно-ориентированных баз данных, аналогичных ClickHouse. Являясь частью экосистемы AWS, Redshift часто становится решением по умолчанию для пользователей AWS, которым требуется аналитика данных.

Несмотря на привлекательность для существующих пользователей AWS благодаря тесной интеграции с экосистемой Amazon, пользователи Redshift, применяющие его для приложений аналитики в реальном времени, сталкиваются с необходимостью более оптимизированного решения для этих задач. В результате они всё чаще обращаются к ClickHouse, чтобы воспользоваться преимуществами превосходной производительности запросов и сжатия данных — либо в качестве замены, либо в качестве «слоя ускорения», развёрнутого параллельно с существующими рабочими нагрузками Redshift.


## ClickHouse в сравнении с Redshift {#clickhouse-vs-redshift}

Для пользователей, активно использующих экосистему AWS, Redshift является
естественным выбором при необходимости организации хранилища данных. Redshift отличается от
ClickHouse в одном важном аспекте — его движок оптимизирован для задач
хранения данных, требующих сложных отчетных и аналитических запросов.
Во всех режимах развертывания следующие два ограничения затрудняют
использование Redshift для аналитических рабочих нагрузок в реальном времени:

- Redshift [компилирует код для каждого плана выполнения запроса](https://docs.aws.amazon.com/redshift/latest/dg/c-query-performance.html),
  что добавляет значительные накладные расходы при первом выполнении запроса. Эти накладные расходы могут
  быть оправданы, когда шаблоны запросов предсказуемы и скомпилированные планы выполнения
  можно сохранить в кеше запросов. Однако это создает проблемы для интерактивных
  приложений с изменяющимися запросами. Даже когда Redshift может использовать
  кеш компиляции кода, ClickHouse быстрее выполняет большинство запросов. См. [«ClickBench»](https://benchmark.clickhouse.com/#system=+%E2%98%81w|%EF%B8%8Fr|C%20c|Rf&type=-&machine=-ca2|gl|6ax|6ale|3al&cluster_size=-&opensource=-&tuned=+n&metric=hot&queries=-).
- Redshift [ограничивает параллелизм до 50 по всем очередям](https://docs.aws.amazon.com/redshift/latest/dg/c_workload_mngmt_classification.html),
  что (хотя и достаточно для BI) делает его неподходящим для высокопараллельных
  аналитических приложений.

С другой стороны, хотя ClickHouse также может использоваться для сложных аналитических запросов,
он оптимизирован для аналитических рабочих нагрузок в реальном времени, либо обеспечивая работу приложений,
либо выступая в качестве уровня ускорения хранилища. В результате пользователи Redshift обычно
заменяют или дополняют Redshift с помощью ClickHouse по следующим причинам:

| Преимущество                       | Описание                                                                                                                                                                                                                                                                                                                                                                                                  |
| ---------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Меньшие задержки запросов**      | ClickHouse обеспечивает меньшие задержки запросов, в том числе для различных шаблонов запросов, при высоком параллелизме и во время потоковых вставок. Даже когда запрос не попадает в кеш, что неизбежно в интерактивной аналитике, ориентированной на пользователей, ClickHouse все равно может обработать его быстро.                                                                                |
| **Более высокие лимиты параллельных запросов** | ClickHouse устанавливает гораздо более высокие лимиты на параллельные запросы, что критически важно для работы приложений в реальном времени. В ClickHouse, как в самостоятельно управляемой, так и в облачной версии, вы можете масштабировать выделение вычислительных ресурсов для достижения необходимого уровня параллелизма для каждого сервиса. Уровень допустимого параллелизма запросов настраивается в ClickHouse, при этом ClickHouse Cloud по умолчанию использует значение 1000. |
| **Превосходное сжатие данных**     | ClickHouse обеспечивает превосходное сжатие данных, что позволяет пользователям сократить общий объем хранилища (и, следовательно, затраты) или хранить больше данных при тех же затратах и получать больше аналитических данных в реальном времени. См. раздел «Эффективность хранения ClickHouse в сравнении с Redshift» ниже.                                                                         |
