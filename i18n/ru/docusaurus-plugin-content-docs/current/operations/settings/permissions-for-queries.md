---
description: 'Настройки прав на выполнение запросов.'
sidebar_label: 'Права на выполнение запросов'
sidebar_position: 58
slug: /operations/settings/permissions-for-queries
title: 'Права на выполнение запросов'
doc_type: 'reference'
---



# Права доступа для запросов

Запросы в ClickHouse можно разделить на несколько типов:

1.  Запросы на чтение данных: `SELECT`, `SHOW`, `DESCRIBE`, `EXISTS`.
2.  Запросы на запись данных: `INSERT`, `OPTIMIZE`.
3.  Запросы на изменение настроек: `SET`, `USE`.
4.  [DDL](https://en.wikipedia.org/wiki/Data_definition_language)-запросы: `CREATE`, `ALTER`, `RENAME`, `ATTACH`, `DETACH`, `DROP` `TRUNCATE`.
5.  `KILL QUERY`.

Следующие настройки регулируют права пользователей в зависимости от типа запроса:



## readonly {#readonly}

Ограничивает права на выполнение запросов чтения данных, записи данных и изменения настроек.

При значении 1 разрешает:

- Все типы запросов чтения (например, SELECT и эквивалентные запросы).
- Запросы, изменяющие только контекст сессии (например, USE).

При значении 2 разрешает вышеперечисленное, а также:

- SET и CREATE TEMPORARY TABLE

  :::tip
  Запросы типа EXISTS, DESCRIBE, EXPLAIN, SHOW PROCESSLIST и т. д. эквивалентны SELECT, поскольку они просто выполняют выборку из системных таблиц.
  :::

Возможные значения:

- 0 — разрешены запросы чтения, записи и изменения настроек.
- 1 — разрешены только запросы чтения данных.
- 2 — разрешены запросы чтения данных и изменения настроек.

Значение по умолчанию: 0

:::note
После установки `readonly = 1` пользователь не может изменить настройки `readonly` и `allow_ddl` в текущей сессии.

При использовании метода `GET` в [HTTP-интерфейсе](../../interfaces/http.md) автоматически устанавливается `readonly = 1`. Для изменения данных используйте метод `POST`.

Установка `readonly = 1` запрещает пользователю изменять настройки. Существует способ запретить пользователю изменение только определённых настроек. Также существует способ разрешить изменение только определённых настроек при ограничении `readonly = 1`. Подробности см. в разделе [ограничения на настройки](../../operations/settings/constraints-on-settings.md).
:::


## allow_ddl {#allow_ddl}

Разрешает или запрещает выполнение [DDL](https://en.wikipedia.org/wiki/Data_definition_language)-запросов.

Возможные значения:

- 0 — DDL-запросы запрещены.
- 1 — DDL-запросы разрешены.

Значение по умолчанию: 1

:::note
Невозможно выполнить `SET allow_ddl = 1`, если для текущей сессии установлено `allow_ddl = 0`.
:::

:::note KILL QUERY
Команда `KILL QUERY` может быть выполнена при любой комбинации настроек readonly и allow_ddl.
:::
