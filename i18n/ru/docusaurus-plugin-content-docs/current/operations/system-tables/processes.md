---
description: 'Системная таблица, используемая для реализации запроса `SHOW PROCESSLIST`.'
keywords: ['системная таблица', 'процессы']
slug: /operations/system-tables/processes
title: 'system.processes'
doc_type: 'reference'
---

import SystemTableCloud from '@site/docs/_snippets/_system_table_cloud.md';


# system.processes

<SystemTableCloud/>

Эта системная таблица предназначена для реализации запроса `SHOW PROCESSLIST`.

Столбцы:



<!--AUTOGENERATED_START-->

- `is_initial_query` ([UInt8](../../sql-reference/data-types/)) — Является ли данный запрос непосредственным запросом пользователя или был выполнен сервером ClickHouse в рамках распределённого выполнения запроса.
- `user` ([String](../../sql-reference/data-types/)) — Пользователь, выполнивший запрос. Обратите внимание, что при распределённой обработке запросы отправляются на удалённые серверы от имени пользователя по умолчанию. Поле содержит имя пользователя для конкретного запроса, а не для запроса, который инициировал данный запрос.
- `query_id` ([String](../../sql-reference/data-types/)) — Идентификатор запроса, если определён.
- `address` ([IPv6](../../sql-reference/data-types/)) — IP-адрес, с которого был выполнен запрос. То же самое для распределённой обработки. Чтобы отследить, откуда изначально был выполнен распределённый запрос, обратитесь к system.processes на сервере-инициаторе запроса.
- `port` ([UInt16](../../sql-reference/data-types/)) — Порт клиента, с которого был выполнен запрос.
- `initial_user` ([String](../../sql-reference/data-types/)) — Имя пользователя, выполнившего исходный запрос (для распределённого выполнения запросов).
- `initial_query_id` ([String](../../sql-reference/data-types/)) — Идентификатор исходного запроса (для распределённого выполнения запросов).
- `initial_address` ([IPv6](../../sql-reference/data-types/)) — IP-адрес, с которого был запущен родительский запрос.
- `initial_port` ([UInt16](../../sql-reference/data-types/)) — Порт клиента, который использовался для выполнения родительского запроса.
- `interface` ([UInt8](../../sql-reference/data-types/)) — Интерфейс, который использовался для отправки запроса. TCP = 1, HTTP = 2, GRPC = 3, MYSQL = 4, POSTGRESQL = 5, LOCAL = 6, TCP_INTERSERVER = 7.
- `os_user` ([String](../../sql-reference/data-types/)) — Имя пользователя операционной системы, запустившего clickhouse-client.
- `client_hostname` ([String](../../sql-reference/data-types/)) — Имя хоста клиентской машины, на которой запущен clickhouse-client или другой TCP-клиент.
- `client_name` ([String](../../sql-reference/data-types/)) — Имя clickhouse-client или другого TCP-клиента.
- `client_revision` ([UInt64](../../sql-reference/data-types/)) — Ревизия clickhouse-client или другого TCP-клиента.
- `client_version_major` ([UInt64](../../sql-reference/data-types/)) — Мажорная версия clickhouse-client или другого TCP-клиента.
- `client_version_minor` ([UInt64](../../sql-reference/data-types/)) — Минорная версия clickhouse-client или другого TCP-клиента.
- `client_version_patch` ([UInt64](../../sql-reference/data-types/)) — Патч-компонент версии clickhouse-client или другого TCP-клиента.
- `http_method` ([UInt8](../../sql-reference/data-types/)) — HTTP-метод, инициировавший запрос. Возможные значения: 0 — запрос был запущен через TCP-интерфейс. 1 — использовался метод GET. 2 — использовался метод POST.
- `http_user_agent` ([String](../../sql-reference/data-types/)) — HTTP-заголовок UserAgent, переданный в HTTP-запросе.
- `http_referer` ([String](../../sql-reference/data-types/)) — HTTP-заголовок Referer, переданный в HTTP-запросе (содержит абсолютный или частичный адрес страницы, выполняющей запрос).
- `forwarded_for` ([String](../../sql-reference/data-types/)) — HTTP-заголовок X-Forwarded-For, переданный в HTTP-запросе.
- `quota_key` ([String](../../sql-reference/data-types/)) — Ключ квоты, указанный в настройке квот (см. keyed).
- `distributed_depth` ([UInt64](../../sql-reference/data-types/)) — Количество раз, когда запрос был внутренне передан между узлами сервера.
- `elapsed` ([Float64](../../sql-reference/data-types/)) — Время в секундах с момента начала выполнения запроса.
- `is_cancelled` ([UInt8](../../sql-reference/data-types/)) — Был ли запрос отменён.
- `is_all_data_sent` ([UInt8](../../sql-reference/data-types/)) — Были ли все данные отправлены клиенту (другими словами, запрос был завершён на сервере).
- `read_rows` ([UInt64](../../sql-reference/data-types/)) — Количество строк, прочитанных из таблицы. При распределённой обработке на сервере-инициаторе это общее количество для всех удалённых серверов.
- `read_bytes` ([UInt64](../../sql-reference/data-types/)) — Количество несжатых байт, прочитанных из таблицы. При распределённой обработке на сервере-инициаторе это общее количество для всех удалённых серверов.
- `total_rows_approx` ([UInt64](../../sql-reference/data-types/)) — Приблизительное общее количество строк, которые должны быть прочитаны. При распределённой обработке на сервере-инициаторе это общее количество для всех удалённых серверов. Может обновляться в процессе обработки запроса, когда становятся известны новые источники для обработки.
- `written_rows` ([UInt64](../../sql-reference/data-types/)) — Количество строк, записанных в хранилище.
- `written_bytes` ([UInt64](../../sql-reference/data-types/)) — Количество байт, записанных в хранилище.
- `memory_usage` ([Int64](../../sql-reference/data-types/)) — Объём оперативной памяти, используемой запросом. Может не включать некоторые типы выделенной памяти.
- `peak_memory_usage` ([Int64](../../sql-reference/data-types/)) — Пиковое значение использования памяти.
- `query` ([String](../../sql-reference/data-types/)) — Текст запроса. Для INSERT не включает данные для вставки.
- `normalized_query_hash` ([UInt64](../../sql-reference/data-types/)) — Числовое хеш-значение, одинаковое для запросов, отличающихся только значениями литералов.
- `query_kind` ([String](../../sql-reference/data-types/)) — Тип запроса — SELECT, INSERT и т. д.
- `thread_ids` ([Array(UInt64)](../../sql-reference/data-types/)) — Список идентификаторов всех потоков, участвовавших в выполнении данного запроса.
- `peak_threads_usage` ([UInt64](../../sql-reference/data-types/)) — Максимальное количество одновременных потоков, выполняющих запрос.
- `ProfileEvents` ([Map(String, UInt64)](../../sql-reference/data-types/)) — ProfileEvents, вычисленные для данного запроса.
- `Settings` ([Map(String, String)](../../sql-reference/data-types/)) — Список изменённых пользовательских настроек.
- `current_database` ([String](../../sql-reference/data-types/)) — Имя текущей базы данных.
- `is_internal` ([UInt8](../../sql-reference/data-types/)) — Указывает, является ли это вспомогательным запросом, выполняемым внутренне.
<!--AUTOGENERATED_END-->

```sql
SELECT * FROM system.processes LIMIT 10 FORMAT Vertical;
```

```response
Строка 1:
──────
is_initial_query:     1
user:                 default
query_id:             35a360fa-3743-441d-8e1f-228c938268da
address:              ::ffff:172.23.0.1
port:                 47588
initial_user:         default
initial_query_id:     35a360fa-3743-441d-8e1f-228c938268da
initial_address:      ::ffff:172.23.0.1
initial_port:         47588
interface:            1
os_user:              bharatnc
client_hostname:      tower
client_name:          ClickHouse
client_revision:      54437
client_version_major: 20
client_version_minor: 7
client_version_patch: 2
http_method:          0
http_user_agent:
quota_key:
elapsed:              0.000582537
is_cancelled:         0
is_all_data_sent:     0
read_rows:            0
read_bytes:           0
total_rows_approx:    0
written_rows:         0
written_bytes:        0
memory_usage:         0
peak_memory_usage:    0
query:                SELECT * from system.processes LIMIT 10 FORMAT Vertical;
thread_ids:           [67]
ProfileEvents:        {'Query':1,'SelectQuery':1,'ReadCompressedBytes':36,'CompressedReadBufferBlocks':1,'CompressedReadBufferBytes':10,'IOBufferAllocs':1,'IOBufferAllocBytes':89,'ContextLock':15,'RWLockAcquiredReadLocks':1}
Settings:             {'background_pool_size':'32','load_balancing':'random','allow_suspicious_low_cardinality_types':'1','distributed_aggregation_memory_efficient':'1','skip_unavailable_shards':'1','log_queries':'1','max_bytes_before_external_group_by':'20000000000','max_bytes_before_external_sort':'20000000000','allow_introspection_functions':'1'}

Получена 1 строка. Прошло: 0.002 сек.
```
