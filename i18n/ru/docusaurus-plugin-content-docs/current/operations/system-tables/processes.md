---
description: 'Системная таблица, используемая для реализации запроса `SHOW PROCESSLIST`.'
keywords: ['системная таблица', 'процессы']
slug: /operations/system-tables/processes
title: 'system.processes'
doc_type: 'reference'
---

import SystemTableCloud from '@site/i18n/ru/docusaurus-plugin-content-docs/current/_snippets/_system_table_cloud.md';

# system.processes {#systemprocesses}

<SystemTableCloud />

Эта системная таблица предназначена для реализации запроса `SHOW PROCESSLIST`.

Столбцы:

{/*AUTOGENERATED_START*/ }

* `is_initial_query` ([UInt8](../../sql-reference/data-types/)) — Поступил ли этот запрос непосредственно от пользователя или был инициирован сервером ClickHouse в рамках выполнения распределённого запроса.`
* `user` ([String](../../sql-reference/data-types/)) — пользователь, который выполнил запрос. Учтите, что при распределённой обработке запросы отправляются на удалённые серверы от имени пользователя по умолчанию. В этом поле содержится имя пользователя для конкретного запроса, а не для запроса, инициированного этим запросом.
* `query_id` ([String](../../sql-reference/data-types/)) — идентификатор запроса, если указан.
* `address` ([IPv6](../../sql-reference/data-types/)) — IP-адрес, с которого был выполнен запрос. То же справедливо для распределённой обработки. Чтобы отследить, откуда изначально был выполнен распределённый запрос, посмотрите таблицу system.processes на сервере-инициаторе запроса.
* `port` ([UInt16](../../sql-reference/data-types/)) — Клиентский порт, с которого был отправлен запрос.
* `initial_user` ([String](../../sql-reference/data-types/)) — Имя пользователя, который выполнил исходный запрос (для распределённого выполнения запроса).
* `initial_query_id` ([String](../../sql-reference/data-types/)) — идентификатор исходного запроса (при распределённом выполнении запроса).
* `initial_address` ([IPv6](../../sql-reference/data-types/)) — IP-адрес, с которого был запущен родительский запрос.
* `initial_port` ([UInt16](../../sql-reference/data-types/)) — Клиентский порт, который использовался для выполнения родительского запроса.
* `interface` ([UInt8](../../sql-reference/data-types/)) — Интерфейс, через который был отправлен запрос. TCP = 1, HTTP = 2, GRPC = 3, MYSQL = 4, POSTGRESQL = 5, LOCAL = 6, TCP&#95;INTERSERVER = 7.
* `os_user` ([String](../../sql-reference/data-types/)) — Имя пользователя операционной системы, под которым запускается clickhouse-client.
* `client_hostname` ([String](../../sql-reference/data-types/)) — Имя хоста клиентского компьютера, на котором запущен clickhouse-client или другой TCP-клиент.
* `client_name` ([String](../../sql-reference/data-types/)) — Имя clickhouse-client или другого TCP‑клиента.
* `client_revision` ([UInt64](../../sql-reference/data-types/)) — номер ревизии клиента clickhouse-client или другого TCP-клиента.
* `client_version_major` ([UInt64](../../sql-reference/data-types/)) — Старший номер версии clickhouse-client или другого TCP-клиента.
* `client_version_minor` ([UInt64](../../sql-reference/data-types/)) — минорная версия clickhouse-client или другого TCP-клиента.
* `client_version_patch` ([UInt64](../../sql-reference/data-types/)) — Патч-часть версии clickhouse-client или другого TCP‑клиента.
* `http_method` ([UInt8](../../sql-reference/data-types/)) — HTTP-метод, с которым был выполнен запрос. Возможные значения: 0 — запрос был выполнен через TCP-интерфейс. 1 — был использован метод GET. 2 — был использован метод POST.
* `http_user_agent` ([String](../../sql-reference/data-types/)) — HTTP-заголовок UserAgent, переданный в HTTP-запросе.
* `http_referer` ([String](../../sql-reference/data-types/)) — HTTP‑заголовок Referer, переданный в HTTP‑запросе (содержит абсолютный или частичный адрес страницы, выполняющей запрос).
* `forwarded_for` ([String](../../sql-reference/data-types/)) — заголовок HTTP X-Forwarded-For, переданный в HTTP-запросе.
* `quota_key` ([String](../../sql-reference/data-types/)) — Ключ квоты, заданный в настройке `quotas` (см. `keyed`).
* `distributed_depth` ([UInt64](../../sql-reference/data-types/)) — Число внутренних переотправок запроса между серверными узлами.
* `elapsed` ([Float64](../../sql-reference/data-types/)) — время в секундах, прошедшее с момента начала выполнения запроса.
* `is_cancelled` ([UInt8](../../sql-reference/data-types/)) — Отменён ли запрос.
* `is_all_data_sent` ([UInt8](../../sql-reference/data-types/)) — Были ли все данные отправлены клиенту (то есть запрос на сервере уже завершён).
* `read_rows` ([UInt64](../../sql-reference/data-types/)) — Количество строк, прочитанных из таблицы. При распределённой обработке на сервере-инициаторе это общее количество для всех удалённых серверов.
* `read_bytes` ([UInt64](../../sql-reference/data-types/)) — Количество несжатых байт, прочитанных из таблицы. Для распределённой обработки на сервере-инициаторе запроса это сумма по всем удалённым серверам.
* `total_rows_approx` ([UInt64](../../sql-reference/data-types/)) — приближённая оценка общего количества строк, подлежащих чтению. Для распределённой обработки на сервере, выполняющем запрос, это суммарное значение для всех удалённых серверов. Может обновляться в ходе обработки запроса, когда становятся известны новые источники данных для обработки.
* `written_rows` ([UInt64](../../sql-reference/data-types/)) — Количество записанных в хранилище строк.
* `written_bytes` ([UInt64](../../sql-reference/data-types/)) — Количество байт, записанных в хранилище.
* `memory_usage` ([Int64](../../sql-reference/data-types/)) — объём оперативной памяти, используемой запросом. Может не учитывать некоторые виды выделенной памяти.
* `peak_memory_usage` ([Int64](../../sql-reference/data-types/)) — Текущее максимальное значение использования памяти.
* `query` ([String](../../sql-reference/data-types/)) — текст запроса. Для INSERT не включает данные для вставки.
* `normalized_query_hash` ([UInt64](../../sql-reference/data-types/)) — числовой хеш, одинаковый для запросов, которые отличаются только значениями литералов.
* `query_kind` ([String](../../sql-reference/data-types/)) — Тип запроса: SELECT, INSERT и т. д.
* `thread_ids` ([Array(UInt64)](../../sql-reference/data-types/)) — список идентификаторов всех потоков, которые участвовали в этом запросе.
* `peak_threads_usage` ([UInt64](../../sql-reference/data-types/)) — Максимальное число одновременно работающих потоков, выполняющих запрос.
* `ProfileEvents` ([Map(LowCardinality(String), UInt64)](../../sql-reference/data-types/)) — значения ProfileEvents, вычисленные для этого запроса.
* `Settings` ([Map(LowCardinality(String), LowCardinality(String))](../../sql-reference/data-types/)) — список изменённых настроек на уровне пользователя.
* `current_database` ([String](../../sql-reference/data-types/)) — имя текущей базы данных.
* `is_internal` ([UInt8](../../sql-reference/data-types/)) — Указывает, является ли это вспомогательным запросом, выполняемым внутри сервера.`

{/*AUTOGENERATED_END*/ }

```sql
SELECT * FROM system.processes LIMIT 10 FORMAT Vertical;
```

```response
Row 1:
──────
is_initial_query:     1
user:                 default
query_id:             35a360fa-3743-441d-8e1f-228c938268da
address:              ::ffff:172.23.0.1
port:                 47588
initial_user:         default
initial_query_id:     35a360fa-3743-441d-8e1f-228c938268da
initial_address:      ::ffff:172.23.0.1
initial_port:         47588
interface:            1
os_user:              bharatnc
client_hostname:      tower
client_name:          ClickHouse
client_revision:      54437
client_version_major: 20
client_version_minor: 7
client_version_patch: 2
http_method:          0
http_user_agent:
quota_key:
elapsed:              0.000582537
is_cancelled:         0
is_all_data_sent:     0
read_rows:            0
read_bytes:           0
total_rows_approx:    0
written_rows:         0
written_bytes:        0
memory_usage:         0
peak_memory_usage:    0
query:                SELECT * from system.processes LIMIT 10 FORMAT Vertical;
thread_ids:           [67]
ProfileEvents:        {'Query':1,'SelectQuery':1,'ReadCompressedBytes':36,'CompressedReadBufferBlocks':1,'CompressedReadBufferBytes':10,'IOBufferAllocs':1,'IOBufferAllocBytes':89,'ContextLock':15,'RWLockAcquiredReadLocks':1}
Settings:             {'background_pool_size':'32','load_balancing':'random','allow_suspicious_low_cardinality_types':'1','distributed_aggregation_memory_efficient':'1','skip_unavailable_shards':'1','log_queries':'1','max_bytes_before_external_group_by':'20000000000','max_bytes_before_external_sort':'20000000000','allow_introspection_functions':'1'}

1 rows in set. Elapsed: 0.002 sec.
```
