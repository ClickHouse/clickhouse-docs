---
description: 'Системная таблица, содержащая метрики, которые могут быть вычислены
  мгновенно или имеют текущее значение.'
keywords: ['системная таблица', 'метрики']
slug: /operations/system-tables/metrics
title: 'system.metrics'
doc_type: 'reference'
---

import SystemTableCloud from '@site/i18n/ru/docusaurus-plugin-content-docs/current/_snippets/_system_table_cloud.md';


# system.metrics {#systemmetrics}

<SystemTableCloud />

Содержит метрики, которые можно вычислить мгновенно или которые имеют текущее значение. Например, число одновременно обрабатываемых запросов или текущая задержка реплики. Эта таблица всегда содержит актуальные данные.

Столбцы:

{/*AUTOGENERATED_START*/ }

{/*AUTOGENERATED_END*/ }

Все поддерживаемые метрики перечислены в файле исходного кода [src/Common/CurrentMetrics.cpp](https://github.com/ClickHouse/ClickHouse/blob/master/src/Common/CurrentMetrics.cpp).

**Пример**

```sql
SELECT * FROM system.metrics LIMIT 10
```

```text
┌─metric───────────────────────────────┬─value─┬─description────────────────────────────────────────────────────────────┐
│ Query                                │     1 │ Количество выполняющихся запросов                                      │
│ Merge                                │     0 │ Количество выполняющихся фоновых слияний                               │
│ PartMutation                         │     0 │ Количество мутаций (ALTER DELETE/UPDATE)                               │
│ ReplicatedFetch                      │     0 │ Количество частей данных, получаемых из реплик                         │
│ ReplicatedSend                       │     0 │ Количество частей данных, отправляемых в реплики                       │
│ ReplicatedChecks                     │     0 │ Количество частей данных, проверяемых на согласованность               │
│ BackgroundMergesAndMutationsPoolTask │     0 │ Количество активных слияний и мутаций в связанном фоновом пуле         │
│ BackgroundFetchesPoolTask            │     0 │ Количество активных операций получения в связанном фоновом пуле        │
│ BackgroundCommonPoolTask             │     0 │ Количество активных задач в связанном фоновом пуле                     │
│ BackgroundMovePoolTask               │     0 │ Количество активных задач в BackgroundProcessingPool для перемещений   │
└──────────────────────────────────────┴───────┴────────────────────────────────────────────────────────────────────────┘
```


## Описание метрик {#metric-descriptions}

### AggregatorThreads {#aggregatorthreads}

Количество потоков в пуле потоков Aggregator.

### AggregatorThreadsActive {#aggregatorthreadsactive}

Количество потоков в пуле потоков Aggregator, выполняющих задачи.

### TablesLoaderForegroundThreads {#tablesloaderforegroundthreads}

Количество потоков в пуле потоков переднего плана асинхронного загрузчика.

### TablesLoaderForegroundThreadsActive {#tablesloaderforegroundthreadsactive}

Количество потоков в пуле foreground-потоков асинхронного загрузчика, которые в данный момент выполняют задачи.

### TablesLoaderBackgroundThreads {#tablesloaderbackgroundthreads}

Количество потоков в пуле фоновых потоков асинхронного загрузчика.

### TablesLoaderBackgroundThreadsActive {#tablesloaderbackgroundthreadsactive}

Количество потоков в пуле фоновых потоков асинхронного загрузчика, выполняющих задания.

### AsyncInsertCacheSize {#asyncinsertcachesize}

Количество hash ID асинхронных вставок в кэше

### AsynchronousInsertThreads {#asynchronousinsertthreads}

Количество потоков в пуле AsynchronousInsert.

### AsynchronousInsertThreadsActive {#asynchronousinsertthreadsactive}

Количество потоков в пуле потоков AsynchronousInsert, выполняющих задания.

### AsynchronousReadWait {#asynchronousreadwait}

Количество потоков, ожидающих асинхронного чтения.

### BackgroundBufferFlushSchedulePoolSize {#backgroundbufferflushschedulepoolsize}

Ограничение количества задач в BackgroundBufferFlushSchedulePool

### BackgroundBufferFlushSchedulePoolTask {#backgroundbufferflushschedulepooltask}

Количество активных задач в BackgroundBufferFlushSchedulePool. Этот пул используется для периодического сброса буферов.

### BackgroundCommonPoolSize {#backgroundcommonpoolsize}

Ограничение количества задач в соответствующем фоновом пуле

### BackgroundCommonPoolTask {#backgroundcommonpooltask}

Количество активных задач в соответствующем фоновом пуле

### BackgroundDistributedSchedulePoolSize {#backgrounddistributedschedulepoolsize}

Ограничение на количество задач в пуле BackgroundDistributedSchedulePool

### BackgroundDistributedSchedulePoolTask {#backgrounddistributedschedulepooltask}

Количество активных задач в BackgroundDistributedSchedulePool. Этот пул используется для фоновой распределённой отправки данных.

### BackgroundFetchesPoolSize {#backgroundfetchespoolsize}

Лимит количества одновременных операций выборки в связанном фоновом пуле

### BackgroundFetchesPoolTask {#backgroundfetchespooltask}

Количество активных операций выборки в связанном фоновом пуле

### BackgroundMergesAndMutationsPoolSize {#backgroundmergesandmutationspoolsize}

Ограничение числа активных слияний и мутаций в соответствующем фоновом пуле

### BackgroundMergesAndMutationsPoolTask {#backgroundmergesandmutationspooltask}

Количество активных слияний и мутаций в связанном фоновом пуле

### BackgroundMessageBrokerSchedulePoolSize {#backgroundmessagebrokerschedulepoolsize}

Ограничение числа задач в BackgroundProcessingPool для стриминга сообщений

### BackgroundMessageBrokerSchedulePoolTask {#backgroundmessagebrokerschedulepooltask}

Количество активных задач в BackgroundProcessingPool для стриминга сообщений

### BackgroundMovePoolSize {#backgroundmovepoolsize}

Ограничение на число задач в BackgroundProcessingPool для операций перемещения

### BackgroundMovePoolTask {#backgroundmovepooltask}

Количество активных задач в BackgroundProcessingPool для операций MOVE

### BackgroundSchedulePoolSize {#backgroundschedulepoolsize}

Лимит количества задач в BackgroundSchedulePool. Этот пул используется для периодических задач ReplicatedMergeTree, таких как очистка старых частей данных, изменение частей данных, повторная инициализация реплики и т. д.

### BackgroundSchedulePoolTask {#backgroundschedulepooltask}

Количество активных задач в BackgroundSchedulePool. Этот пул используется для периодического выполнения задач ReplicatedMergeTree, таких как очистка старых частей данных, изменение частей данных, повторная инициализация реплик и т. д.

### BackupsIOThreads {#backupsiothreads}

Количество потоков в пуле потоков BackupsIO.

### BackupsIOThreadsActive {#backupsiothreadsactive}

Количество потоков в пуле потоков BackupsIO, выполняющих задачу.

### BackupsThreads {#backupsthreads}

Количество потоков в пуле потоков, используемом для выполнения BACKUP.

### BackupsThreadsActive {#backupsthreadsactive}

Количество потоков в пуле потоков операции BACKUP, выполняющих задачу.

### BrokenDistributedFilesToInsert {#brokendistributedfilestoinsert}

Количество файлов для асинхронной вставки в таблицы типа Distributed, которые были помечены как повреждённые. Эта метрика при запуске начинается с 0. Суммируется количество файлов по всем сегментам.

### CacheDetachedFileSegments {#cachedetachedfilesegments}

Количество существующих отсоединённых сегментов файлового кэша

### CacheDictionaryThreads {#cachedictionarythreads}

Число потоков в пуле потоков CacheDictionary.

### CacheDictionaryThreadsActive {#cachedictionarythreadsactive}

Количество потоков в пуле потоков CacheDictionary, выполняющих задачи.

### CacheDictionaryUpdateQueueBatches {#cachedictionaryupdatequeuebatches}

Количество «пакетов» (наборов ключей) в очереди обновления CacheDictionaries.

### CacheDictionaryUpdateQueueKeys {#cachedictionaryupdatequeuekeys}

Точное количество ключей в очереди обновления CacheDictionaries.

### CacheFileSegments {#cachefilesegments}

Количество существующих файловых сегментов кэша

### ContextLockWait {#contextlockwait}

Количество потоков, ожидающих получения блокировки в Context. Это глобальная блокировка.

### DDLWorkerThreads {#ddlworkerthreads}

Число потоков в пуле потоков DDLWorker, используемом для запросов ON CLUSTER.

### DDLWorkerThreadsActive {#ddlworkerthreadsactive}

Количество потоков в пуле потоков DDLWORKER для запросов ON CLUSTER, выполняющих задачи.

### DatabaseCatalogThreads {#databasecatalogthreads}

Количество потоков в пуле потоков DatabaseCatalog.

### DatabaseCatalogThreadsActive {#databasecatalogthreadsactive}

Количество потоков в пуле потоков DatabaseCatalog, выполняющих задачи.

### DatabaseOnDiskThreads {#databaseondiskthreads}

Количество потоков в пуле потоков DatabaseOnDisk.

### DatabaseOnDiskThreadsActive {#databaseondiskthreadsactive}

Количество потоков в пуле потоков DatabaseOnDisk, выполняющих задачи.

### DelayedInserts {#delayedinserts}

Количество запросов INSERT, скорость выполнения которых ограничивается из‑за большого числа активных частей данных партиции в таблице MergeTree.

### DestroyAggregatesThreads {#destroyaggregatesthreads}

Количество потоков в пуле потоков, используемом для уничтожения агрегатных состояний.

### DestroyAggregatesThreadsActive {#destroyaggregatesthreadsactive}

Количество потоков в пуле потоков для выполнения задач по уничтожению состояний агрегатов.

### DictCacheRequests {#dictcacherequests}

Количество одновременно выполняющихся запросов к источникам данных словарей кеширующего типа.

### DiskObjectStorageAsyncThreads {#diskobjectstorageasyncthreads}

Количество потоков в асинхронном пуле потоков для DiskObjectStorage.

### DiskObjectStorageAsyncThreadsActive {#diskobjectstorageasyncthreadsactive}

Количество потоков в асинхронном пуле потоков DiskObjectStorage, выполняющих задачи.

### DiskSpaceReservedForMerge {#diskspacereservedformerge}

Дисковое пространство, зарезервированное для выполняющихся в данный момент фоновых слияний. Оно немного больше суммарного размера частей, участвующих в слиянии.

### DistributedFilesToInsert {#distributedfilestoinsert}

Количество файлов, ожидающих обработки для асинхронной вставки в Distributed-таблицы. Суммируется количество файлов по всем сегментам.

### DistributedSend {#distributedsend}

Количество подключений к удалённым серверам для отправки данных, вставленных оператором INSERT в таблицы Distributed. Поддерживает синхронный и асинхронный режимы.

### EphemeralNode {#ephemeralnode}

Количество эфемерных узлов, хранящихся в ZooKeeper.

### FilesystemCacheElements {#filesystemcacheelements}

Элементы кэша файловой системы (сегменты файлов)

### FilesystemCacheReadBuffers {#filesystemcachereadbuffers}

Количество активных буферов файлового кэша

### FilesystemCacheSize {#filesystemcachesize}

Размер кеша файловой системы в байтах

### QueryCacheBytes {#querycachebytes}

Общий объём кэша запросов в байтах.

### QueryCacheEntries {#querycacheentries}

Общее количество записей в кэше запросов.

### UncompressedCacheBytes {#uncompressedcachebytes}

Общий размер несжатого кэша в байтах. Несжатый кэш обычно не улучшает производительность, и его, как правило, следует избегать.

### UncompressedCacheCells {#uncompressedcachecells}

### CompiledExpressionCacheBytes {#compiledexpressioncachebytes}

Общий объём памяти в байтах, занимаемый кэшем JIT-сомпилированного кода.

### CompiledExpressionCacheCount {#compiledexpressioncachecount}

Общее количество записей в кэше JIT-компилированного кода.

### MMapCacheCells {#mmapcachecells}

Количество файлов, открытых с помощью `mmap` (отображённых в память). Используется для запросов с параметром `local_filesystem_read_method`, имеющим значение `mmap`. Файлы, открытые с помощью `mmap`, сохраняются в кэше, чтобы избежать дорогостоящих операций сброса TLB.

### MarkCacheBytes {#markcachebytes}

Общий размер кэша меток в байтах

### MarkCacheFiles {#markcachefiles}

Общее число файлов меток, находящихся в кэше меток

### GlobalThread {#globalthread}

Число потоков в глобальном пуле потоков.

### GlobalThreadActive {#globalthreadactive}

Количество потоков в глобальном пуле потоков, которые выполняют задачу.

### HTTPConnection {#httpconnection}

Количество подключений к HTTP-серверу

### HashedDictionaryThreads {#hasheddictionarythreads}

Количество потоков в пуле потоков HashedDictionary.

### HashedDictionaryThreadsActive {#hasheddictionarythreadsactive}

Количество потоков в пуле потоков HashedDictionary, выполняющих задачи.

### IOPrefetchThreads {#ioprefetchthreads}

Количество потоков в пуле предварительной выборки ввода-вывода.

### IOPrefetchThreadsActive {#ioprefetchthreadsactive}

Количество потоков в пуле потоков предварительной выборки операций ввода-вывода, выполняющих задачу.

### IOThreads {#iothreads}

Количество потоков в пуле потоков ввода/вывода.

### IOThreadsActive {#iothreadsactive}

Количество потоков в пуле потоков ввода-вывода, выполняющих задачи.

### IOUringInFlightEvents {#iouringinflightevents}

Количество активных SQE io_uring

### IOUringPendingEvents {#iouringpendingevents}

Количество SQE io_uring, ожидающих отправки

### IOWriterThreads {#iowriterthreads}

Количество потоков в пуле потоков записи ввода-вывода (IO writer).

### IOWriterThreadsActive {#iowriterthreadsactive}

Количество потоков в пуле потоков записи ввода-вывода, которые в данный момент выполняют задачу.

### InterserverConnection {#interserverconnection}

Количество подключений от других реплик для получения частей данных

### KafkaAssignedPartitions {#kafkaassignedpartitions}

Количество разделов, к которым в настоящий момент привязаны таблицы Kafka

### KafkaBackgroundReads {#kafkabackgroundreads}

Количество фоновых операций чтения, которые сейчас выполняются (для заполнения материализованных представлений из Kafka)

### KafkaConsumers {#kafkaconsumers}

Количество активных консьюмеров Kafka

### KafkaConsumersInUse {#kafkaconsumersinuse}

Количество консьюмеров, в настоящий момент задействованных для прямых или фоновых операций чтения

### KafkaConsumersWithAssignment {#kafkaconsumerswithassignment}

Количество активных Kafka-консьюмеров с назначенными партициями.

### KafkaLibrdkafkaThreads {#kafkalibrdkafkathreads}

Количество активных потоков librdkafka

### KafkaProducers {#kafkaproducers}

Количество активных продюсеров Kafka

### KafkaWrites {#kafkawrites}

Количество текущих выполняемых вставок в Kafka

### KeeperAliveConnections {#keeperaliveconnections}

Количество активных соединений

### KeeperOutstandingRequests {#keeperoutstandingrequests}

Количество необработанных запросов

### LocalThread {#localthread}

Количество потоков в локальных пулах потоков. Эти потоки выделяются из глобального пула потоков.

### LocalThreadActive {#localthreadactive}

Количество потоков в локальных пулах потоков, выполняющих задачи.

### MMappedAllocBytes {#mmappedallocbytes}

Сумма байт, выделенных через mmap

### MMappedAllocs {#mmappedallocs}

Общее число выделений памяти через mmap

### MMappedFileBytes {#mmappedfilebytes}

Суммарный размер участков файлов, отображённых в память (mmapped).

### MMappedFiles {#mmappedfiles}

Общее количество файлов, отображённых в память (mmap).

### MarksLoaderThreads {#marksloaderthreads}

Число потоков в пуле для загрузки меток.

### MarksLoaderThreadsActive {#marksloaderthreadsactive}

Количество потоков в пуле потоков загрузки меток, выполняющих задачу.

### MaxDDLEntryID {#maxddlentryid}

Идентификатор последней обработанной записи DDL для DDLWorker.

### MaxPushedDDLEntryID {#maxpushedddlentryid}

Максимальный идентификатор записи DDL, отправленной `DDLWorker` в ZooKeeper.

### MemoryTracking {#memorytracking}

Общий объём памяти (в байтах), выделенной сервером.

### Слияние {#merge}

Количество выполняющихся фоновых слияний

### MergeTreeAllRangesAnnouncementsSent {#mergetreeallrangesannouncementssent}

Текущее количество уведомлений, находящихся в процессе отправки с удалённого сервера на сервер-инициатор о наборе частей данных (для таблиц MergeTree). Измеряется на стороне удалённого сервера.

### MergeTreeBackgroundExecutorThreads {#mergetreebackgroundexecutorthreads}

Количество потоков в пуле потоков MergeTreeBackgroundExecutor.

### MergeTreeBackgroundExecutorThreadsActive {#mergetreebackgroundexecutorthreadsactive}

Количество потоков в пуле потоков MergeTreeBackgroundExecutor, выполняющих задания.

### MergeTreeDataSelectExecutorThreads {#mergetreedataselectexecutorthreads}

Количество потоков в пуле потоков MergeTreeDataSelectExecutor.

### MergeTreeDataSelectExecutorThreadsActive {#mergetreedataselectexecutorthreadsactive}

Количество потоков в пуле потоков MergeTreeDataSelectExecutor, выполняющих задания.

### MergeTreePartsCleanerThreads {#mergetreepartscleanerthreads}

Количество потоков в пуле потоков очистки частей MergeTree.

### MergeTreePartsCleanerThreadsActive {#mergetreepartscleanerthreadsactive}

Количество потоков в пуле потоков очистки частей MergeTree, выполняющих задачу.

### MergeTreePartsLoaderThreads {#mergetreepartsloaderthreads}

Количество потоков в пуле потоков загрузчика частей таблиц MergeTree.

### MergeTreePartsLoaderThreadsActive {#mergetreepartsloaderthreadsactive}

Количество потоков в пуле потоков загрузчика частей MergeTree, выполняющих задачи.

### MergeTreeReadTaskRequestsSent {#mergetreereadtaskrequestssent}

Текущее количество активных callback-запросов, выполняемых с удалённого сервера на сервер-инициатор для выбора задачи чтения (для таблиц MergeTree). Измеряется на стороне удалённого сервера.

### Перемещения {#move}

Количество операций перемещения, выполняющихся в данный момент

### MySQLConnection {#mysqlconnection}

Количество клиентских подключений по протоколу MySQL

### NetworkReceive {#networkreceive}

Количество потоков, принимающих данные по сети. Учитывается только сетевое взаимодействие, связанное с ClickHouse, а не со сторонними библиотеками.

### NetworkSend {#networksend}

Количество потоков, отправляющих данные в сеть. При этом учитывается только сетевое взаимодействие, связанное с ClickHouse, без участия сторонних библиотек.

### OpenFileForRead {#openfileforread}

Число файлов, открытых для чтения

### OpenFileForWrite {#openfileforwrite}

Количество файлов, открытых для записи

### ParallelFormattingOutputFormatThreads {#parallelformattingoutputformatthreads}

Количество потоков в пуле ParallelFormattingOutputFormatThreads.

### ParallelFormattingOutputFormatThreadsActive {#parallelformattingoutputformatthreadsactive}

Количество потоков в пуле потоков ParallelFormattingOutputFormatThreads, которые в данный момент выполняют задачу.

### PartMutation {#partmutation}

Количество мутаций (ALTER DELETE/UPDATE)

### PartsActive {#partsactive}

Активная часть данных, используемая текущими и последующими запросами SELECT.

### PartsCommitted {#partscommitted}

Устарело. См. PartsActive.

### PartsCompact {#partscompact}

Компактные части.

### PartsDeleteOnDestroy {#partsdeleteondestroy}

Часть была перемещена на другой диск и должна быть удалена в своём деструкторе.

### PartsDeleting {#partsdeleting}

Неактивная часть данных с собственным счётчиком ссылок (refcounter), в данный момент удаляется процессом очистки.

### PartsOutdated {#partsoutdated}

Неактивная часть данных; может использоваться только выполняющимися в данный момент запросами SELECT и может быть удалена после их завершения.

### PartsPreActive {#partspreactive}

Часть находится в data_parts, но не используется в запросах SELECT.

### PartsPreCommitted {#partsprecommitted}

Устарело. См. PartsPreActive.

### PartsTemporary {#partstemporary}

Часть находится в процессе создания, её нет в списке data_parts.

### PartsWide {#partswide}

Широкие части.

### PendingAsyncInsert {#pendingasyncinsert}

Количество асинхронных вставок, ожидающих сброса.

### PostgreSQLConnection {#postgresqlconnection}

Количество клиентских подключений по протоколу PostgreSQL

### Query {#query}

Количество выполняющихся запросов

### QueryPreempted {#querypreempted}

Количество запросов, которые приостановлены и ожидают выполнения из-за параметра `priority`.

### QueryThread {#querythread}

Количество потоков обработки запросов

### RWLockActiveReaders {#rwlockactivereaders}

Количество потоков, удерживающих блокировку чтения RWLock таблицы.

### RWLockActiveWriters {#rwlockactivewriters}

Количество потоков, удерживающих блокировку на запись (write lock) в RWLock таблицы.

### RWLockWaitingReaders {#rwlockwaitingreaders}

Количество потоков, ожидающих получения блокировки на чтение (RWLock) для таблицы.

### RWLockWaitingWriters {#rwlockwaitingwriters}

Количество потоков, ожидающих возможности записи на RWLock таблицы.

### Read {#read}

Количество системных вызовов чтения (read, pread, io_getevents и т. д.), находящихся в полёте

### ReadTaskRequestsSent {#readtaskrequestssent}

Текущее количество активных callback‑запросов от удалённого сервера к серверу‑инициатору для выбора задачи чтения (для табличной функции s3Cluster и аналогичных). Измеряется на стороне удалённого сервера.

### ReadonlyReplica {#readonlyreplica}

Количество реплицируемых таблиц, которые в данный момент находятся в режиме `readonly` из‑за повторной инициализации после потери сессии ZooKeeper или из‑за запуска без настроенного ZooKeeper.

### RemoteRead {#remoteread}

Количество выполняющихся в данный момент операций чтения с удалённым читателем

### ReplicatedChecks {#replicatedchecks}

Количество кусков данных, проверяемых на согласованность

### ReplicatedFetch {#replicatedfetch}

Количество частей данных, получаемых с реплики

### ReplicatedSend {#replicatedsend}

Количество частей данных, отправляемых репликам

### RestartReplicaThreads {#restartreplicathreads}

Количество потоков в пуле потоков для RESTART REPLICA.

### RestartReplicaThreadsActive {#restartreplicathreadsactive}

Количество потоков в пуле потоков RESTART REPLICA, в данный момент выполняющих задачу.

### RestoreThreads {#restorethreads}

Число потоков в пуле потоков, используемом для RESTORE.

### RestoreThreadsActive {#restorethreadsactive}

Количество потоков в пуле потоков, используемых RESTORE для выполнения задачи.

### Ревизия {#revision}

Ревизия сервера. Это число, которое увеличивается с каждым релизом или релиз-кандидатом, за исключением патч-релизов.

### S3Requests {#s3requests}

S3‑запросы

### SendExternalTables {#sendexternaltables}

Число подключений, которые отправляют данные для внешних таблиц на удалённые серверы. Внешние таблицы используются для реализации операторов GLOBAL IN и GLOBAL JOIN в распределённых подзапросах.

### SendScalars {#sendscalars}

Количество соединений, которые отправляют данные скаляров на удалённые серверы.

### StorageBufferBytes {#storagebufferbytes}

Количество байт в буферах таблиц Buffer

### StorageBufferRows {#storagebufferrows}

Количество строк в буферах таблиц типа Buffer

### StorageDistributedThreads {#storagedistributedthreads}

Количество потоков в пуле потоков хранилища StorageDistributed.

### StorageDistributedThreadsActive {#storagedistributedthreadsactive}

Количество потоков в пуле потоков StorageDistributed, которые в данный момент выполняют задачи.

### StorageHiveThreads {#storagehivethreads}

Количество потоков в пуле потоков StorageHive.

### StorageHiveThreadsActive {#storagehivethreadsactive}

Количество потоков в пуле потоков StorageHive, выполняющих задачи.

### StorageS3Threads {#storages3threads}

Число потоков в пуле потоков StorageS3.

### StorageS3ThreadsActive {#storages3threadsactive}

Количество потоков в пуле потоков StorageS3, которые выполняют задачи.

### SystemReplicasThreads {#systemreplicasthreads}

Количество потоков в пуле потоков `system.replicas`.

### SystemReplicasThreadsActive {#systemreplicasthreadsactive}

Количество потоков в пуле потоков system.replicas, в настоящее время выполняющих задачу.

### TCPConnection {#tcpconnection}

Количество подключений к TCP-серверу (включая клиентов с нативным интерфейсом), а также соединений «сервер–сервер» для распределённых запросов.

### TablesToDropQueueSize {#tablestodropqueuesize}

Количество удалённых таблиц, которые ожидают фонового удаления данных.

### TemporaryFilesForAggregation {#temporaryfilesforaggregation}

Количество временных файлов, создаваемых при внешней агрегации

### TemporaryFilesForJoin {#temporaryfilesforjoin}

Количество временных файлов, созданных для операций JOIN

### TemporaryFilesForSort {#temporaryfilesforsort}

Количество временных файлов, созданных для внешней сортировки

### TemporaryFilesUnknown {#temporaryfilesunknown}

Количество временных файлов, назначение которых неизвестно

### ThreadPoolFSReaderThreads {#threadpoolfsreaderthreads}

Количество потоков в пуле для local_filesystem_read_method=threadpool.

### ThreadPoolFSReaderThreadsActive {#threadpoolfsreaderthreadsactive}

Количество потоков в пуле потоков, выполняющих задачу, при local_filesystem_read_method=threadpool.

### ThreadPoolRemoteFSReaderThreads {#threadpoolremotefsreaderthreads}

Число потоков в пуле потоков для remote_filesystem_read_method=threadpool.

### ThreadPoolRemoteFSReaderThreadsActive {#threadpoolremotefsreaderthreadsactive}

Количество потоков в пуле потоков для remote_filesystem_read_method=threadpool, которые в данный момент выполняют задачу.

### ThreadsInOvercommitTracker {#threadsinovercommittracker}

Количество ожидающих потоков в OvercommitTracker

### TotalTemporaryFiles {#totaltemporaryfiles}

Число созданных временных файлов

### VersionInteger {#versioninteger}

Версия сервера в виде одного целого числа в системе счисления с основанием 1000. Например, версия 11.22.33 преобразуется в 11022033.

### Write {#write}

Количество выполняющихся системных вызовов записи (write, pwrite, io_getevents и т. д.)

### ZooKeeperRequest {#zookeeperrequest}

Количество выполняющихся запросов к ZooKeeper.

### ZooKeeperSession {#zookeepersession}

Количество сессий (соединений) с ZooKeeper не должно превышать одной, поскольку использование более чем одного соединения с ZooKeeper может приводить к ошибкам из‑за отсутствия линеаризуемости (устаревших чтений), допускаемого моделью согласованности ZooKeeper.

### ZooKeeperWatch {#zookeeperwatch}

Количество наблюдений (watch, подписок на события) в ZooKeeper.

### ConcurrencyControlAcquired {#concurrencycontrolacquired}

Общее количество выделенных слотов CPU.

### ConcurrencyControlSoftLimit {#concurrencycontrolsoftlimit}

Значение мягкого ограничения на количество CPU-слотов.

**См. также**

- [system.asynchronous_metrics](/operations/system-tables/asynchronous_metrics) — Содержит периодически вычисляемые метрики.
- [system.events](/operations/system-tables/events) — Содержит количество произошедших событий.
- [system.metric_log](/operations/system-tables/metric_log) — Содержит историю значений метрик из таблиц `system.metrics` и `system.events`.
- [Monitoring](../../operations/monitoring.md) — Базовые концепции мониторинга ClickHouse.