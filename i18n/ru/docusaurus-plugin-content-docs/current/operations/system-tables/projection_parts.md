---
'description': 'Системная таблица, содержащая информацию о частях проекции для таблиц
  семейства MergeTree.'
'keywords':
- 'system table'
- 'projection_parts'
'slug': '/operations/system-tables/projection_parts'
'title': 'system.projection_parts'
'doc_type': 'reference'
---
# system.projection_parts

Эта таблица содержит информацию о частях проекций для таблиц семейства MergeTree.

## Columns {#columns}

| Column                                  | Description                                                                                                                                                                                                 | Type            |
|-----------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
| `partition`                             | Имя партиции.                                                                                                                                                                                             | String          |
| `name`                                  | Имя части данных.                                                                                                                                                                                          | String          |
| `part_type`                             | Формат хранения части данных. Возможные значения: Wide (файл на колонку) и Compact (один файл для всех колонок).                                                                                          | String          |
| `parent_name`                           | Имя исходной (родительской) части данных.                                                                                                                                                                  | String          |
| `parent_uuid`                           | UUID исходной (родительской) части данных.                                                                                                                                                                  | UUID            |
| `parent_part_type`                      | Формат хранения исходной (родительской) части данных.                                                                                                                                                     | String          |
| `active`                                | Флаг, который указывает, активна ли часть данных. Если часть данных активна, она используется в таблице. В противном случае она собирается на удаление. Невостребованные части данных появляются после операций слияния и мутации. | UInt8           |
| `marks`                                 | Количество меток. Чтобы получить приблизительное количество строк в части данных, умножьте метки на гранулярность индекса (обычно 8192) (данный совет не работает для адаптивной гранулярности).            | UInt64          |
| `rows`                                  | Количество строк.                                                                                                                                                                                         | UInt64          |
| `bytes_on_disk`                         | Общий размер всех файлов части данных в байтах.                                                                                                                                                             | UInt64          |
| `data_compressed_bytes`                 | Общий размер сжатых данных в части данных. Все вспомогательные файлы (например, файлы с метками) не включаются.                                                                                           | UInt64          |
| `data_uncompressed_bytes`               | Общий размер несжатых данных в части данных. Все вспомогательные файлы (например, файлы с метками) не включаются.                                                                                         | UInt64          |
| `marks_bytes`                           | Размер файла с метками.                                                                                                                                                                                    | UInt64          |
| `parent_marks`                          | Количество меток в исходной (родительской) части.                                                                                                                                                          | UInt64          |
| `parent_rows`                           | Количество строк в исходной (родительской) части.                                                                                                                                                          | UInt64          |
| `parent_bytes_on_disk`                  | Общий размер всех файлов исходной (родительской) части данных в байтах.                                                                                                                                   | UInt64          |
| `parent_data_compressed_bytes`          | Общий размер сжатых данных в исходной (родительской) части данных.                                                                                                                                         | UInt64          |
| `parent_data_uncompressed_bytes`        | Общий размер несжатых данных в исходной (родительской) части данных.                                                                                                                                       | UInt64          |
| `parent_marks_bytes`                    | Размер файла с метками в исходной (родительской) части данных.                                                                                                                                           | UInt64          |
| `modification_time`                     | Время, когда каталог с частью данных был изменен. Это обычно соответствует времени создания части данных.                                                                                                 | DateTime        |
| `remove_time`                           | Время, когда часть данных стала неактивной.                                                                                                                                                                | DateTime        |
| `refcount`                              | Количество мест, где используется часть данных. Значение больше 2 указывает на то, что часть данных используется в запросах или слияниях.                                                                  | UInt32          |
| `min_date`                              | Минимальное значение ключа даты в части данных.                                                                                                                                                           | Date            |
| `max_date`                              | Максимальное значение ключа даты в части данных.                                                                                                                                                           | Date            |
| `min_time`                              | Минимальное значение ключа даты и времени в части данных.                                                                                                                                                 | DateTime        |
| `max_time`                              | Максимальное значение ключа даты и времени в части данных.                                                                                                                                                 | DateTime        |
| `partition_id`                          | ID партиции.                                                                                                                                                                                              | String          |
| `min_block_number`                      | Минимальное количество частей данных, которые составляют текущую часть после слияния.                                                                                                                     | Int64           |
| `max_block_number`                      | Максимальное количество частей данных, которые составляют текущую часть после слияния.                                                                                                                     | Int64           |
| `level`                                 | Глубина дерева слияния. Ноль означает, что текущая часть была создана путем вставки, а не слияния других частей.                                                                                           | UInt32          |
| `data_version`                          | Номер, который используется для определения, какие мутации должны быть применены к части данных (мутации с версией, выше чем data_version).                                                                  | UInt64          |
| `primary_key_bytes_in_memory`           | Объем памяти (в байтах), используемый значениями первичного ключа.                                                                                                                                       | UInt64          |
| `primary_key_bytes_in_memory_allocated` | Объем памяти (в байтах), зарезервированный для значений первичного ключа.                                                                                                                                 | UInt64          |
| `is_frozen`                             | Флаг, показывающий, что резервная копия данных по партиции существует. 1 — резервная копия существует. 0 — резервная копия не существует.                                                                  | UInt8           |
| `database`                              | Имя базы данных.                                                                                                                                                                                           | String          |
| `table`                                 | Имя таблицы.                                                                                                                                                                                              | String          |
| `engine`                                | Имя движка таблицы без параметров.                                                                                                                                                                          | String          |
| `disk_name`                             | Имя диска, на котором хранится часть данных.                                                                                                                                                               | String          |
| `path`                                  | Абсолютный путь к папке с файлами части данных.                                                                                                                                                           | String          |
| `hash_of_all_files`                     | sipHash128 сжатых файлов.                                                                                                                                                                                  | String          |
| `hash_of_uncompressed_files`            | sipHash128 несжатых файлов (файлы с метками, файл индекса и т.д.).                                                                                                                                       | String          |
| `uncompressed_hash_of_compressed_files` | sipHash128 данных в сжатых файлах, как если бы они были несжаты.                                                                                                                                         | String          |
| `delete_ttl_info_min`                   | Минимальное значение ключа даты и времени для правила TTL УДАЛЕНИЯ.                                                                                                                                       | DateTime        |
| `delete_ttl_info_max`                   | Максимальное значение ключа даты и времени для правила TTL УДАЛЕНИЯ.                                                                                                                                       | DateTime        |
| `move_ttl_info.expression`              | Массив выражений. Каждое выражение определяет правило TTL ПЕРЕМЕЩЕНИЯ.                                                                                                                                  | Array(String)   |
| `move_ttl_info.min`                     | Массив значений даты и времени. Каждый элемент описывает минимальное значение ключа для правила TTL ПЕРЕМЕЩЕНИЯ.                                                                                          | Array(DateTime) |
| `move_ttl_info.max`                     | Массив значений даты и времени. Каждый элемент описывает максимальное значение ключа для правила TTL ПЕРЕМЕЩЕНИЯ.                                                                                          | Array(DateTime) |
| `default_compression_codec`             | Имя кодека, используемого для сжатия этой части данных (в случае, если нет явного кодека для колонок).                                                                                                   | String          |
| `recompression_ttl_info.expression`     | Выражение TTL.                                                                                                                                                                                           | Array(String)   |
| `recompression_ttl_info.min`            | Минимальное значение рассчитанного выражения TTL в этой части. Используется для понимания, есть ли хотя бы одна строка с истекшим TTL.                                                                     | Array(DateTime) |
| `recompression_ttl_info.max`            | Максимальное значение рассчитанного выражения TTL в этой части. Используется для понимания, есть ли все строки с истекшим TTL.                                                                          | Array(DateTime) |
| `group_by_ttl_info.expression`          | Выражение TTL.                                                                                                                                                                                           | Array(String)   |
| `group_by_ttl_info.min`                 | Минимальное значение рассчитанного выражения TTL в этой части. Используется для понимания, есть ли хотя бы одна строка с истекшим TTL.                                                                     | Array(DateTime) |
| `group_by_ttl_info.max`                 | Максимальное значение рассчитанного выражения TTL в этой части. Используется для понимания, есть ли все строки с истекшим TTL.                                                                          | Array(DateTime) |
| `rows_where_ttl_info.expression`        | Выражение TTL.                                                                                                                                                                                           | Array(String)   |
| `rows_where_ttl_info.min`               | Минимальное значение рассчитанного выражения TTL в этой части. Используется для понимания, есть ли хотя бы одна строка с истекшим TTL.                                                                     | Array(DateTime) |
| `rows_where_ttl_info.max`               | Максимальное значение рассчитанного выражения TTL в этой части. Используется для понимания, есть ли все строки с истекшим TTL.                                                                          | Array(DateTime) |
| `is_broken`                             | Показатель того, сломана ли часть проекции                                                                                                                                                                 | UInt8           |
| `exception_code`                        | Сообщение об исключении, объясняющее сломанное состояние части проекции                                                                                                                                  | Int32           |
| `exception`                             | Код исключения, объясняющий сломанное состояние части проекции                                                                                                                                           | String          |
| `bytes`                                 | Псевдоним для bytes_on_disk                                                                                                                                                                               | UInt64          |
| `marks_size`                            | Псевдоним для marks_bytes                                                                                                                                                                                 | UInt64          |
| `part_name`                             | Псевдоним для name                                                                                                                                                                                        | String          |                                                                                                                                       | ALIAS           | name |