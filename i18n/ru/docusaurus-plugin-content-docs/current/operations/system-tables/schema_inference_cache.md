---
description: 'Системная таблица, содержащая информацию обо всех кэшированных схемах файлов.'
keywords: ['системная таблица', 'schema_inference_cache']
slug: /operations/system-tables/schema_inference_cache
title: 'system.schema_inference_cache'
doc_type: 'reference'
---

import SystemTableCloud from '@site/docs/_snippets/_system_table_cloud.md';


# system.schema&#95;inference&#95;cache

<SystemTableCloud />

Содержит информацию обо всех кэшированных схемах файлов.

Столбцы:

{/*AUTOGENERATED_START*/ }

{/*AUTOGENERATED_END*/ }

**Пример**

Предположим, у нас есть файл `data.jsonl` со следующим содержимым:

```json
{"id" :  1, "age" :  25, "name" :  "Josh", "hobbies" :  ["футбол", "кулинария", "музыка"]}
{"id" :  2, "age" :  19, "name" :  "Alan", "hobbies" :  ["теннис", "искусство"]}
{"id" :  3, "age" :  32, "name" :  "Lana", "hobbies" :  ["фитнес", "чтение", "шопинг"]}
{"id" :  4, "age" :  47, "name" :  "Brayan", "hobbies" :  ["кино", "прыжки с парашютом"]}
```

:::tip
Поместите `data.jsonl` в каталог, указанный в параметре `user_files_path`. Найти его можно в файлах конфигурации ClickHouse. Значение по умолчанию:

```sql
<user_files_path>/var/lib/clickhouse/user_files/</user_files_path>
```

:::

Откройте `clickhouse-client` и выполните запрос `DESCRIBE`:

```sql
DESCRIBE file('data.jsonl') SETTINGS input_format_try_infer_integers=0;
```

```response
┌─name────┬─type────────────────────┬─default_type─┬─default_expression─┬─comment─┬─codec_expression─┬─ttl_expression─┐
│ id      │ Nullable(Float64)       │              │                    │         │                  │                │
│ age     │ Nullable(Float64)       │              │                    │         │                  │                │
│ name    │ Nullable(String)        │              │                    │         │                  │                │
│ hobbies │ Array(Nullable(String)) │              │                    │         │                  │                │
└─────────┴─────────────────────────┴──────────────┴────────────────────┴─────────┴──────────────────┴────────────────┘
```

Давайте посмотрим на содержимое таблицы `system.schema_inference_cache`:

```sql
SELECT *
FROM system.schema_inference_cache
FORMAT Vertical
```

```response
Строка 1:
──────
storage:                File
source:                 /home/droscigno/user_files/data.jsonl
format:                 JSONEachRow
additional_format_info: schema_inference_hints=, max_rows_to_read_for_schema_inference=25000, schema_inference_make_columns_nullable=true, try_infer_integers=false, try_infer_dates=true, try_infer_datetimes=true, try_infer_numbers_from_strings=true, read_bools_as_numbers=true, try_infer_objects=false
registration_time:      2022-12-29 17:49:52
schema:                 id Nullable(Float64), age Nullable(Float64), name Nullable(String), hobbies Array(Nullable(String))
```

**См. также**

* [Автоматический вывод схемы по входным данным](/interfaces/schema-inference.md)
