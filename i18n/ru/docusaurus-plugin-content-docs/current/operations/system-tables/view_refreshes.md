---
description: 'Системная таблица, содержащая сведения об обновляемых материализованных представлениях.'
keywords: ['системная таблица', 'view_refreshes']
slug: /operations/system-tables/view_refreshes
title: 'system.view_refreshes'
doc_type: 'reference'
---

import SystemTableCloud from '@site/docs/_snippets/_system_table_cloud.md';


# system.view_refreshes {#system-view-refreshes}

<SystemTableCloud />

Информация об [обновляемых материализованных представлениях](../../sql-reference/statements/create/view.md#refreshable-materialized-view). Содержит все обновляемые материализованные представления независимо от того, выполняется ли в данный момент обновление.

Столбцы:

<!--AUTOGENERATED_START-->

- `database` ([String](../../sql-reference/data-types/)) — Имя базы данных, в которой находится таблица.
- `view` ([String](../../sql-reference/data-types/)) — Имя таблицы.
- `uuid` ([UUID](../../sql-reference/data-types/)) — UUID таблицы (для базы данных Atomic).
- `status` ([String](../../sql-reference/data-types/)) — Текущее состояние обновления.
- `last_success_time` ([Nullable(DateTime)](../../sql-reference/data-types/)) — Время начала последнего успешного обновления. NULL, если успешных обновлений не было с момента запуска сервера или создания таблицы.
- `last_success_duration_ms` ([Nullable(UInt64)](../../sql-reference/data-types/)) — Длительность последнего обновления в миллисекундах.
- `last_refresh_time` ([Nullable(DateTime)](../../sql-reference/data-types/)) — Время завершения последней попытки обновления (если известно) или начала (если неизвестно или всё ещё выполняется). NULL, если попыток обновления не было с момента запуска сервера или создания таблицы.
- `last_refresh_replica` ([String](../../sql-reference/data-types/)) — Если координация включена, имя реплики, которая выполнила текущую (если выполняется) или предыдущую (если не выполняется) попытку обновления.
- `next_refresh_time` ([Nullable(DateTime)](../../sql-reference/data-types/)) — Время, на которое запланировано начало следующего обновления, если status = Scheduled.
- `exception` ([String](../../sql-reference/data-types/)) — Сообщение об ошибке из предыдущей попытки, если она завершилась неудачей.
- `retry` ([UInt64](../../sql-reference/data-types/)) — Количество неудачных попыток для текущего обновления. Недоступно, если status равен `RunningOnAnotherReplica`.
- `progress` ([Nullable(Float64)](../../sql-reference/data-types/)) — Прогресс текущего выполняющегося или последнего завершённого обновления на данной реплике, от 0 до 1. NULL, если status равен `RunningOnAnotherReplica` или обновление не выполняется.
- `read_rows` ([Nullable(UInt64)](../../sql-reference/data-types/)) — Количество строк, прочитанных текущим выполняющимся или последним завершённым обновлением на данной реплике. NULL, если status равен `RunningOnAnotherReplica`.
- `read_bytes` ([Nullable(UInt64)](../../sql-reference/data-types/)) — Количество байт, прочитанных текущим выполняющимся или последним завершённым обновлением на данной реплике. NULL, если status равен `RunningOnAnotherReplica`.
- `total_rows` ([Nullable(UInt64)](../../sql-reference/data-types/)) — Оценочное общее количество строк, которые необходимо прочитать текущим выполняющимся или последним завершённым обновлением на данной реплике. NULL, если status равен `RunningOnAnotherReplica`.
- `written_rows` ([Nullable(UInt64)](../../sql-reference/data-types/)) — Количество строк, записанных текущим выполняющимся или последним завершённым обновлением на данной реплике. NULL, если status равен `RunningOnAnotherReplica`.
- `written_bytes` ([Nullable(UInt64)](../../sql-reference/data-types/)) — Количество байт, записанных текущим выполняющимся или последним завершённым обновлением на данной реплике. NULL, если status равен `RunningOnAnotherReplica`.
<!--AUTOGENERATED_END-->

**Пример**

```sql
SELECT
    database,
    view,
    status,
    last_refresh_result,
    last_refresh_time,
    next_refresh_time
FROM system.view_refreshes

┌─database─┬─view───────────────────────┬─status────┬─last_refresh_result─┬───last_refresh_time─┬───next_refresh_time─┐
│ default  │ hello_documentation_reader │ Scheduled │ Finished            │ 2023-12-01 01:24:00 │ 2023-12-01 01:25:00 │
└──────────┴────────────────────────────┴───────────┴─────────────────────┴─────────────────────┴─────────────────────┘
```
