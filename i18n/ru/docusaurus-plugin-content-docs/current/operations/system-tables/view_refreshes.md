---
description: 'Системная таблица, содержащая информацию об обновляемых материализованных представлениях.'
keywords: ['system table', 'view_refreshes']
slug: /operations/system-tables/view_refreshes
title: 'system.view_refreshes'
doc_type: 'reference'
---

import SystemTableCloud from '@site/i18n/ru/docusaurus-plugin-content-docs/current/_snippets/_system_table_cloud.md';

# system.view&#95;refreshes \{#systemview&#95;refreshes\}

<SystemTableCloud />

Информация об [обновляемых материализованных представлениях](../../sql-reference/statements/create/view.md#refreshable-materialized-view). Содержит все обновляемые материализованные представления, независимо от того, выполняется ли сейчас обновление или нет.

Столбцы:

{/*AUTOGENERATED_START*/ }

* `database` ([String](../../sql-reference/data-types/)) — Имя базы данных, в которой находится таблица.
* `view` ([String](../../sql-reference/data-types/)) — Имя таблицы.
* `uuid` ([UUID](../../sql-reference/data-types/)) — UUID таблицы (база данных типа Atomic).
* `status` ([String](../../sql-reference/data-types/)) — Текущее состояние обновления.
* `last_success_time` ([Nullable(DateTime)](../../sql-reference/data-types/)) — Время начала последнего успешно завершившегося обновления. NULL, если с момента запуска сервера или создания таблицы не было ни одного успешного обновления.
* `last_success_duration_ms` ([Nullable(UInt64)](../../sql-reference/data-types/)) — Длительность последнего успешно завершившегося обновления в миллисекундах.
* `last_refresh_time` ([Nullable(DateTime)](../../sql-reference/data-types/)) — Время, когда последняя попытка обновления завершилась (если известно) или началась (если неизвестно или всё ещё выполняется). NULL, если с момента запуска сервера или создания таблицы не было ни одной попытки обновления.
* `last_refresh_replica` ([String](../../sql-reference/data-types/)) — Если координация включена, имя реплики, которая выполняет текущую (если выполняется) или выполняла предыдущую (если не выполняется) попытку обновления.
* `next_refresh_time` ([Nullable(DateTime)](../../sql-reference/data-types/)) — Время, когда запланирован запуск следующего обновления, если `status = Scheduled`.
* `exception` ([String](../../sql-reference/data-types/)) — Сообщение об ошибке из предыдущей попытки, если она завершилась с ошибкой.
* `retry` ([UInt64](../../sql-reference/data-types/)) — Сколько неудачных попыток было на данный момент для текущего обновления. Недоступно, если статус — `RunningOnAnotherReplica`.
* `progress` ([Nullable(Float64)](../../sql-reference/data-types/)) — Прогресс текущего выполняющегося или последнего завершившегося обновления на данной реплике, от 0 до 1. NULL, если статус — `RunningOnAnotherReplica` или обновление не выполняется.
* `read_rows` ([Nullable(UInt64)](../../sql-reference/data-types/)) — Количество строк, прочитанных текущим выполняющимся или последним завершившимся обновлением на данной реплике. NULL, если статус — `RunningOnAnotherReplica`.
* `read_bytes` ([Nullable(UInt64)](../../sql-reference/data-types/)) — Количество байт, прочитанных текущим выполняющимся или последним завершившимся обновлением на данной реплике. NULL, если статус — `RunningOnAnotherReplica`.
* `total_rows` ([Nullable(UInt64)](../../sql-reference/data-types/)) — Оценочное общее количество строк, которые необходимо прочитать текущему выполняющемуся или последнему завершившемуся обновлению на данной реплике. NULL, если статус — `RunningOnAnotherReplica`.
* `written_rows` ([Nullable(UInt64)](../../sql-reference/data-types/)) — Количество строк, записанных текущим выполняющимся или последним завершившимся обновлением на данной реплике. NULL, если статус — `RunningOnAnotherReplica`.
* `written_bytes` ([Nullable(UInt64)](../../sql-reference/data-types/)) — Количество байт, записанных текущим выполняющимся или последним завершившимся обновлением на данной реплике. NULL, если статус — `RunningOnAnotherReplica`.

{/*AUTOGENERATED_END*/ }

**Пример**

```sql
SELECT
    database,
    view,
    status,
    last_refresh_result,
    last_refresh_time,
    next_refresh_time
FROM system.view_refreshes

┌─database─┬─view───────────────────────┬─status────┬─last_refresh_result─┬───last_refresh_time─┬───next_refresh_time─┐
│ default  │ hello_documentation_reader │ Scheduled │ Finished            │ 2023-12-01 01:24:00 │ 2023-12-01 01:25:00 │
└──────────┴────────────────────────────┴───────────┴─────────────────────┴─────────────────────┴─────────────────────┘
```
