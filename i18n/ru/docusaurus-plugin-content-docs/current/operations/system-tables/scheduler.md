---
description: 'Системная таблица, содержащая информацию об узлах планировщика, расположенных
  на локальном сервере, и их состоянии.'
keywords: ['системная таблица', 'планировщик']
slug: /operations/system-tables/scheduler
title: 'system.scheduler'
doc_type: 'reference'
---

import SystemTableCloud from '@site/docs/_snippets/_system_table_cloud.md';


# system.scheduler

<SystemTableCloud />

Содержит информацию об [узлах планировщика](/operations/workload-scheduling.md/#hierarchy), находящихся на локальном сервере, и их состоянии.
Эту таблицу можно использовать для мониторинга. Таблица содержит по одной строке для каждого узла планировщика.

Пример:

```sql
SELECT *
FROM system.scheduler
WHERE resource = 'network_read' AND path = '/prio/fair/prod'
FORMAT Vertical
```

```text
Row 1:
──────
resource:          network_read
path:              /prio/fair/prod
type:              fifo
weight:            5
priority:          0
is_active:         0
active_children:   0
dequeued_requests: 67
canceled_requests: 0
dequeued_cost:     4692272
canceled_cost:     0
busy_periods:      63
vruntime:          938454.1999999989
system_vruntime:   ᴺᵁᴸᴸ
queue_length:      0
queue_cost:        0
budget:            -60524
is_satisfied:      ᴺᵁᴸᴸ
inflight_requests: ᴺᵁᴸᴸ
inflight_cost:     ᴺᵁᴸᴸ
max_requests:      ᴺᵁᴸᴸ
max_cost:          ᴺᵁᴸᴸ
max_speed:         ᴺᵁᴸᴸ
max_burst:         ᴺᵁᴸᴸ
throttling_us:     ᴺᵁᴸᴸ
tokens:            ᴺᵁᴸᴸ
```

Столбцы:


<!--AUTOGENERATED_START-->

- `resource` ([String](../../sql-reference/data-types/)) — Имя ресурса
- `path` ([String](../../sql-reference/data-types/)) — Путь к узлу планирования в иерархии планирования данного ресурса
- `type` ([String](../../sql-reference/data-types/)) — Тип узла планирования.
- `weight` ([Float64](../../sql-reference/data-types/)) — Вес узла, используемый родительским узлом типа `fair`.
- `priority` ([Int64](../../sql-reference/data-types/)) — Приоритет узла, используемый родительским узлом типа `priority` (меньшее значение означает более высокий приоритет).
- `is_active` ([UInt8](../../sql-reference/data-types/)) — Активен ли данный узел в настоящее время — имеет запросы ресурсов для извлечения из очереди и удовлетворённые ограничения.
- `active_children` ([UInt64](../../sql-reference/data-types/)) — Количество дочерних узлов в активном состоянии.
- `dequeued_requests` ([UInt64](../../sql-reference/data-types/)) — Общее количество запросов ресурсов, извлечённых из очереди данного узла.
- `canceled_requests` ([UInt64](../../sql-reference/data-types/)) — Общее количество запросов ресурсов, отменённых из данного узла.
- `dequeued_cost` ([Int64](../../sql-reference/data-types/)) — Сумма стоимостей (например, размер в байтах) всех запросов, извлечённых из очереди данного узла.
- `throughput` ([Float64](../../sql-reference/data-types/)) — Текущая средняя пропускная способность (извлечённая стоимость в секунду).
- `canceled_cost` ([Int64](../../sql-reference/data-types/)) — Сумма стоимостей (например, размер в байтах) всех запросов, отменённых из данного узла.
- `busy_periods` ([UInt64](../../sql-reference/data-types/)) — Общее количество деактиваций данного узла.
- `vruntime` ([Nullable(Float64)](../../sql-reference/data-types/)) — Только для дочерних узлов узлов типа `fair`. Виртуальное время выполнения узла, используемое алгоритмом SFQ для выбора следующего дочернего узла для обработки в режиме max-min справедливости.
- `system_vruntime` ([Nullable(Float64)](../../sql-reference/data-types/)) — Только для узлов типа `fair`. Виртуальное время выполнения, показывающее `vruntime` последнего обработанного запроса ресурса. Используется при активации дочернего узла в качестве нового значения `vruntime`.
- `queue_length` ([Nullable(UInt64)](../../sql-reference/data-types/)) — Только для узлов типа `fifo`. Текущее количество запросов ресурсов, находящихся в очереди.
- `queue_cost` ([Nullable(Int64)](../../sql-reference/data-types/)) — Только для узлов типа `fifo`. Сумма стоимостей (например, размер в байтах) всех запросов, находящихся в очереди.
- `budget` ([Nullable(Int64)](../../sql-reference/data-types/)) — Только для узлов типа `fifo`. Количество доступных единиц стоимости для новых запросов ресурсов. Может появиться в случае расхождения оценочной и реальной стоимости запросов ресурсов (например, после сбоя чтения/записи).
- `is_satisfied` ([Nullable(UInt8)](../../sql-reference/data-types/)) — Только для узлов ограничений (например, `inflight_limit`). Равно `1`, если все ограничения данного узла удовлетворены.
- `inflight_requests` ([Nullable(Int64)](../../sql-reference/data-types/)) — Только для узлов типа `inflight_limit`. Количество запросов ресурсов, извлечённых из очереди данного узла, которые в настоящее время находятся в состоянии потребления.
- `inflight_cost` ([Nullable(Int64)](../../sql-reference/data-types/)) — Только для узлов типа `inflight_limit`. Сумма стоимостей (например, в байтах) всех запросов ресурсов, извлечённых из очереди данного узла, которые в настоящее время находятся в состоянии потребления.
- `max_requests` ([Nullable(Int64)](../../sql-reference/data-types/)) — Только для узлов типа `inflight_limit`. Верхний предел для `inflight_requests`, приводящий к нарушению ограничения.
- `max_cost` ([Nullable(Int64)](../../sql-reference/data-types/)) — Только для узлов типа `inflight_limit`. Верхний предел для `inflight_cost`, приводящий к нарушению ограничения.
- `max_speed` ([Nullable(Float64)](../../sql-reference/data-types/)) — Только для узлов типа `bandwidth_limit`. Верхний предел пропускной способности в токенах в секунду.
- `max_burst` ([Nullable(Float64)](../../sql-reference/data-types/)) — Только для узлов типа `bandwidth_limit`. Верхний предел токенов, доступных в регуляторе типа token-bucket.
- `throttling_us` ([Nullable(Int64)](../../sql-reference/data-types/)) — Только для узлов типа `bandwidth_limit`. Общее количество микросекунд, в течение которых данный узел находился в состоянии регулирования.
- `tokens` ([Nullable(Float64)](../../sql-reference/data-types/)) — Только для узлов типа `bandwidth_limit`. Количество токенов, доступных в настоящее время в регуляторе типа token-bucket.
<!--AUTOGENERATED_END-->
