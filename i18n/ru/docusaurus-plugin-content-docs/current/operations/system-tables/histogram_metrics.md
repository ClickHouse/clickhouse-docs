---
description: 'Эта таблица содержит гистограммные метрики, которые можно мгновенно
  вычислять и экспортировать в формате Prometheus. Она всегда актуальна.'
keywords: ['системная таблица', 'histogram_metrics']
slug: /operations/system-tables/histogram_metrics
title: 'system.histogram_metrics'
doc_type: 'reference'
---

import SystemTableCloud from '@site/i18n/ru/docusaurus-plugin-content-docs/current/_snippets/_system_table_cloud.md';


# histogram&#95;metrics {#histogram&#95;metrics}

<SystemTableCloud/>

Эта таблица содержит гистограммные метрики, которые можно мгновенно рассчитать и экспортировать в формате Prometheus. Она всегда находится в актуальном состоянии. Заменяет устаревшую таблицу `system.latency_log`.

Столбцы:

<!--AUTOGENERATED_START-->

* `metric` ([String](../../sql-reference/data-types/)) — имя метрики.
* `value` ([Int64](../../sql-reference/data-types/)) — значение метрики.
* `description` ([String](../../sql-reference/data-types/)) — описание метрики.
* `labels` ([Map(String, String)](../../sql-reference/data-types/)) — метки метрики.

<!--AUTOGENERATED_END-->

**Пример**

Вы можете использовать такой запрос, чтобы экспортировать все метрики типа histogram в формате Prometheus.

```sql
SELECT
  metric AS name,
  toFloat64(value) AS value,
  description AS help,
  labels,
  'histogram' AS type
FROM system.histogram_metrics
FORMAT Prometheus
```


## Описание метрик {#metric_descriptions}

### keeper_response_time_ms_bucket {#keeper_response_time_ms_bucket}

Время ответа Keeper в миллисекундах.

### keeper_batch_size_elements_bucket {#keeper_batch_size_elements_bucket}

Размер пакета, отправляемого в Raft, в элементах.

### keeper_batch_size_bytes_bucket {#keeper_batch_size_bytes_bucket}

Размер пакета, отправляемого в Raft, в байтах.

**См. также**

- [system.asynchronous_metrics](/operations/system-tables/asynchronous_metrics) — Содержит периодически вычисляемые метрики.
- [system.events](/operations/system-tables/events) — Содержит информацию о произошедших событиях.
- [system.metric_log](/operations/system-tables/metric_log) — Содержит историю значений метрик таблиц `system.metrics` и `system.events`.
- [Monitoring](../../operations/monitoring.md) — Базовые концепции мониторинга ClickHouse.