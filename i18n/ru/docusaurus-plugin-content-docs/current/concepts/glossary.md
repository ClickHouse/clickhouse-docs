---
sidebar_label: "Глоссарий"
description: "На этой странице представлен список часто используемых терминов и понятий, связанных с ClickHouse, а также их определения."
title: "Глоссарий"
slug: /concepts/glossary
keywords: ["глоссарий", "определения", "терминология"]
doc_type: "reference"
---

<!-- no-glossary -->


# Глоссарий



## Атомарность {#atomicity}

Атомарность гарантирует, что транзакция (последовательность операций с базой данных) обрабатывается как единое неделимое целое. Это означает, что либо выполняются все операции транзакции, либо не выполняется ни одна из них. Примером атомарной транзакции является перевод денег с одного банковского счёта на другой. Если какой-либо из этапов перевода завершается неудачей, транзакция отменяется, и деньги остаются на первом счёте. Атомарность гарантирует, что деньги не теряются и не создаются.


## Блок {#block}

Блок — это логическая единица организации обработки и хранения данных. Каждый блок содержит колоночные данные, которые обрабатываются совместно для повышения производительности при выполнении запросов. Обрабатывая данные блоками, ClickHouse эффективно использует ядра процессора, минимизируя промахи кэша и обеспечивая векторизованное выполнение. ClickHouse использует различные алгоритмы сжатия, такие как LZ4, ZSTD и Delta, для сжатия данных в блоках.


## Кластер {#cluster}

Набор узлов (серверов), которые работают совместно для хранения и обработки данных.


## CMEK {#cmek}

Ключи шифрования, управляемые клиентом (CMEK), позволяют использовать ключ из собственного сервиса управления ключами (KMS) для шифрования ключа данных диска ClickHouse и защиты хранимых данных.


## Словарь {#dictionary}

Словарь — это структура данных типа «ключ-значение», которая используется для хранения различных справочных данных. Это мощный механизм, позволяющий эффективно использовать словари в запросах, что зачастую работает быстрее, чем `JOIN` со справочными таблицами.


## Распределённая таблица {#distributed-table}

Распределённая таблица в ClickHouse — это специальный тип таблицы, которая не хранит данные, а предоставляет единое представление для распределённой обработки запросов на нескольких серверах кластера.


## Гранула {#granule}

Гранула — это пакет строк в несжатом блоке. При чтении данных ClickHouse обращается к гранулам, а не к отдельным строкам, что обеспечивает более быструю обработку данных при аналитических нагрузках. По умолчанию гранула содержит 8192 строки. Первичный индекс содержит одну запись для каждой гранулы.


## Инкрементальное материализованное представление {#incremental-materialized-view}

В ClickHouse это тип материализованного представления, которое обрабатывает и агрегирует данные во время вставки. При вставке новых данных в исходную таблицу материализованное представление выполняет предопределённый SQL-запрос агрегации только на вновь вставленных блоках и записывает агрегированные результаты в целевую таблицу.


## Легковесное обновление {#lightweight-update}

Легковесное обновление в ClickHouse — это экспериментальная функция, которая позволяет обновлять строки в таблице с помощью стандартного синтаксиса SQL UPDATE. В отличие от традиционных мутаций, которые перезаписывают целые столбцы или куски данных, легковесное обновление создаёт «патч-куски», содержащие только изменённые столбцы и строки. Эти обновления сразу становятся видимыми в запросах SELECT за счёт применения патчей, однако физическое обновление данных происходит только при последующих слияниях.


## Материализованное представление {#materialized-view}

Материализованное представление в ClickHouse — это механизм, который автоматически выполняет запрос к данным при их вставке в исходную таблицу и сохраняет преобразованные или агрегированные результаты в отдельной целевой таблице для ускорения последующих запросов.


## MergeTree {#mergetree}

MergeTree в ClickHouse — это движок таблиц, разработанный для высокой скорости приёма данных и работы с большими объёмами данных. Это основной движок хранения в ClickHouse, предоставляющий такие возможности, как колоночное хранение, настраиваемое партиционирование, разреженные первичные индексы и поддержку фонового слияния данных.


## Мутация {#mutation}

Мутация в ClickHouse — это операция, которая изменяет или удаляет существующие данные в таблице, обычно с помощью команд вида ALTER TABLE ... UPDATE или ALTER TABLE ... DELETE. Мутации реализованы как асинхронные фоновые процессы, которые перезаписывают целые куски данных, затронутые изменением, а не изменяют строки на месте.


## Мутация на лету {#on-the-fly-mutation}

Мутации на лету в ClickHouse — это механизм, позволяющий видеть результаты обновлений или удалений в последующих SELECT-запросах сразу после отправки мутации, не дожидаясь завершения фонового процесса мутации.


## Части (Parts) {#parts}

Физический файл на диске, в котором хранится часть данных таблицы. Части отличаются от партиций (partition) — логического разделения данных таблицы, которое создаётся с помощью ключа партиционирования.


## Ключ партиционирования {#partitioning-key}

Ключ партиционирования в ClickHouse — это SQL-выражение, определяемое в секции PARTITION BY при создании таблицы. Оно определяет, как данные логически группируются в партиции на диске. Каждое уникальное значение ключа партиционирования образует отдельную физическую партицию, что позволяет эффективно выполнять операции управления данными, такие как удаление, перемещение или архивирование целых партиций.


## Первичный ключ {#primary-key}

В ClickHouse первичный ключ определяет порядок, в котором данные хранятся на диске, и используется для построения разреженного индекса, ускоряющего фильтрацию в запросах. В отличие от традиционных баз данных, первичный ключ в ClickHouse не гарантирует уникальность — несколько строк могут иметь одно и то же значение первичного ключа.


## Проекция {#projection}

Проекция в ClickHouse — это скрытая автоматически поддерживаемая таблица, которая хранит данные в ином порядке или с предвычисленными агрегациями для ускорения запросов, особенно при фильтрации по столбцам, не входящим в основной первичный ключ.


## Обновляемое материализованное представление {#refreshable-materialized-view}

Обновляемое материализованное представление — это тип материализованного представления, которое периодически повторно выполняет свой запрос на полном наборе данных и сохраняет результат в целевой таблице. В отличие от инкрементных материализованных представлений, обновляемые материализованные представления обновляются по расписанию и поддерживают сложные запросы, включая JOIN и UNION, без ограничений.


## Replica {#replica}

Копия данных, хранящихся в базе данных ClickHouse. Можно создать любое количество реплик одних и тех же данных для обеспечения избыточности и надёжности. Реплики используются совместно с движком таблиц ReplicatedMergeTree, который позволяет ClickHouse поддерживать синхронизацию нескольких копий данных между различными серверами.


## Shard {#shard}

Подмножество данных. В ClickHouse всегда существует как минимум один шард для данных. Если данные не распределены по нескольким серверам, они будут храниться в одном шарде. Шардирование данных по нескольким серверам используется для распределения нагрузки при превышении мощности одного сервера.


## Индексы с пропуском {#skipping-index}

Индексы с пропуском используются для хранения небольших объемов метаданных на уровне нескольких последовательных гранул, что позволяет ClickHouse избегать сканирования нерелевантных строк. Индексы с пропуском представляют собой легковесную альтернативу проекциям.


## Ключ сортировки {#sorting-key}

В ClickHouse ключ сортировки определяет физический порядок строк на диске. Если первичный ключ не указан, ClickHouse использует ключ сортировки как первичный ключ. Если указаны оба ключа, первичный ключ должен быть префиксом ключа сортировки.


## Разреженный индекс {#sparse-index}

Тип индексирования, при котором первичный индекс содержит одну запись на группу строк, а не на каждую отдельную строку. Запись, соответствующая группе строк, называется меткой (mark). При использовании разреженных индексов ClickHouse сначала определяет группы строк, которые потенциально соответствуют запросу, а затем обрабатывает их по отдельности для поиска точных совпадений. Благодаря этому первичный индекс остается достаточно компактным для полной загрузки в память.


## Движок таблицы {#table-engine}

Движки таблиц в ClickHouse определяют, как данные записываются, хранятся и читаются. MergeTree — наиболее распространённый движок таблиц, который позволяет быстро вставлять большие объёмы данных с последующей фоновой обработкой.


## TTL {#ttl}

Time To Live (TTL) — это функция ClickHouse, которая автоматически перемещает, удаляет или агрегирует столбцы или строки по истечении определённого периода времени. Это позволяет эффективнее управлять хранилищем, так как вы можете удалять, перемещать или архивировать данные, к которым больше не нужен частый доступ.
