---
title: Как устранить сбои при приёме данных после релиза ClickHouse 23.9?
description: "Узнайте, как устранить сбои при приёме данных, вызванные более строгой проверкой прав доступа, введённой в ClickHouse 23.9 для таблиц, использующих `async_inserts`. Обновите права доступа, чтобы устранить ошибки."
date: 2022-11-17
tags: ['Ошибки и исключения']
keywords: ['GRANT', 'Ошибки прав доступа']
---

{frontMatter.description}

{/* усечь */}

## Устранение сбоев при приёме данных после релиза ClickHouse 23.9 \{#resolving-ingest-failures-after-clickhouse-239-release\}

Основная причина этих ошибок, связанных с правами доступа, выявлена: они возникают из‑за более строгой проверки прав (grants) в новом релизе для [`async_inserts`](/optimize/asynchronous-inserts).

Чтобы устранить эту проблему, необходимо обновить grants, используемые вашим сервисом. Изучите сообщение об ошибке, в котором указаны отсутствующие grants, и вручную добавьте недостающие. Дополнительные необходимые grants для таблиц, использующих `async_inserts`, — это либо `SELECT`, либо `dictGet`.

## Добавьте необходимые права (GRANT) для соответствующих таблиц и словарей \{#add-necessary-grants-to-affected-tables-and-dictionaries\}

```
-- Добавление разрешений на SELECT
GRANT SELECT ON mydb.insertTable TO insert_role WITH GRANT OPTION

-- Добавление разрешений на dictGet
GRANT dictGet ON mydb.insertDictionary TO insert_role
```

Чтобы узнать больше о команде `GRANT`, см. [эту страницу](/sql-reference/statements/grant).

Если вы не можете выполнить это изменение, обратитесь в [службу поддержки ClickHouse](https://clickhouse.com/support/program) за помощью.
