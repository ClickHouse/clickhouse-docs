---
title: Что такое OLAP?
description: "OLAP расшифровывается как Online Analytical Processing (онлайн-аналитическая обработка). Это широкий термин, на который можно смотреть с двух точек зрения: технической и с точки зрения бизнеса."
date: 2021-09-01
tags: ['Concepts']
keywords: ['OLAP']
---

{frontMatter.description}

{/* усечение */}


## OLAP \{#olap\}

[OLAP](https://en.wikipedia.org/wiki/Online_analytical_processing) расшифровывается как Online Analytical Processing. Это широкий термин, на который можно смотреть с двух точек зрения: технической и бизнес-.

Но на самом верхнем уровне вы можете просто прочитать эти слова в обратном порядке:

Processing
:   Некоторые исходные данные обрабатываются…

Analytical
:   …чтобы получить аналитические отчёты и выводы…

Online
:   …в режиме реального времени.

## OLAP с точки зрения бизнеса \{#olap-from-the-business-perspective\}

В последние годы бизнес всё яснее осознаёт ценность данных. Компании, которые принимают решения вслепую, чаще всего не могут сохранить конкурентоспособность. Подход, основанный на данных, которого придерживаются успешные компании, заставляет их собирать все данные, которые хотя бы отдалённо могут быть полезны для принятия бизнес-решений, и требует механизмов для их своевременного анализа. Здесь и вступают в игру СУБД класса OLAP.

С точки зрения бизнеса OLAP позволяет компаниям непрерывно планировать, анализировать и формировать отчётность по операционной деятельности, тем самым повышая эффективность, снижая расходы и в конечном итоге завоёвывая долю рынка. Это может быть реализовано как во внутренней системе, так и путём передачи задач на аутсорсинг SaaS‑провайдерам, таким как сервисы веб‑/мобильной аналитики, CRM‑сервисы и т. д. OLAP — это технология, лежащая в основе многих BI‑приложений (Business Intelligence).

ClickHouse — это система управления базами данных класса OLAP, которая довольно часто используется как бэкенд для таких SaaS‑решений, анализирующих данные конкретных предметных областей. Однако некоторые компании по‑прежнему не готовы передавать свои данные сторонним провайдерам, и сценарий внутреннего хранилища данных также остаётся жизнеспособным вариантом.

## OLAP с технической точки зрения \{#olap-from-the-technical-perspective\}

Все системы управления базами данных можно разделить на две группы: OLAP (Online **Analytical** Processing — онлайн-аналитическая обработка) и OLTP (Online **Transactional** Processing — онлайн-транзакционная обработка). Первые ориентированы на построение отчетов, каждый из которых основан на больших объемах исторических данных, при этом такие отчеты формируются не очень часто. Вторые, как правило, обрабатывают непрерывный поток транзакций, постоянно изменяя текущее состояние данных.

На практике OLAP и OLTP — это не строгие категории, а скорее спектр. Большинство реальных систем обычно ориентируются на один из этих режимов, но при этом предоставляют какие-то возможности или обходные решения для обработки и противоположного типа нагрузки, если это тоже требуется. Такая ситуация часто вынуждает бизнес использовать несколько интегрированных между собой хранилищ данных. Это может быть не критично, но большее количество систем делает сопровождение дороже. Поэтому в последние годы набирает популярность HTAP (**Hybrid Transactional/Analytical Processing** — гибридная транзакционная/аналитическая обработка), когда оба типа нагрузок одинаково хорошо обрабатываются одной системой управления базами данных.

Даже если СУБД изначально создавалась как чисто OLAP или чисто OLTP, конкуренция заставляет её двигаться в сторону HTAP. ClickHouse — не исключение: изначально он был разработан как [максимально быстрый OLAP‑движок](https://clickhouse.com/docs/faq/general/why-clickhouse-is-so-fast) и до сих пор не имеет полнофункциональной поддержки транзакций, но некоторые возможности, такие как согласованные чтения/записи и мутации для обновления/удаления данных, пришлось добавить.

Фундаментальный компромисс между OLAP- и OLTP-системами сохраняется:

- Для эффективного построения аналитических отчетов важно уметь читать столбцы раздельно, поэтому большинство OLAP‑баз данных являются [колоночными](https://clickhouse.com/docs/faq/general/columnar-database),
- В то же время раздельное хранение столбцов увеличивает стоимость операций над строками — таких как добавление или модификация «на месте» — пропорционально числу столбцов (которое может быть огромным, если системы стараются собирать все детали события «на всякий случай»). Поэтому большинство OLTP‑систем хранят данные, организованные по строкам.