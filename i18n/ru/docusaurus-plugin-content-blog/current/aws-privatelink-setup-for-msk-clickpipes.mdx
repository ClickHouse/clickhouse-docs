---
title: Настройка AWS PrivateLink для доступа ClickPipes к MSK
description: Пошаговая настройка предоставления доступа к приватному кластеру MSK для ClickPipes через MSK multi-VPC connectivity.
date: 2025-4-15
tags: ['Безопасность и аутентификация', 'Управление облаком']
keywords: ['AWS PrivateLink', 'MSK', 'ClickPipes']
---

{frontMatter.description}

{/* обрезка */}


## Обзор \{#overview\}

Это руководство поможет вам настроить **MSK multi-VPC** для использования с [ClickPipes reverse private endpoint](/integrations/clickpipes/aws-privatelink#msk-multi-vpc).

## Требования \{#requirements\}

VPC вашего кластера MSK должна быть расположена в одном из регионов ClickPipes. Список поддерживаемых регионов см. в разделе [регионы ClickPipes](/integrations/clickpipes/aws-privatelink#aws-privatelink-regions).

## Включение multi-VPC-подключения \{#enabling-multi-vpc-connectivity\}

1. Перейдите к кластеру MSK.
    - Выберите **Clusters** в левой панели навигации консоли Amazon MSK.
    - Выберите конкретный кластер MSK, который требуется настроить для multi-VPC-подключения.
2. Включите multi-VPC-подключение MSK
    - На вкладке **Connectivity** найдите раздел **Multi-VPC connectivity**.
    - Нажмите **Edit**.
    - Включите параметр **Turn-on MSK multi-VPC connectivity**.
    - Следуйте инструкциям.
3. Добавьте учетную запись ClickPipes в политику кластера
    - Перейдите на вкладку **Configuration**.
    - Нажмите **Edit** в разделе **Cluster policy**.
    - Добавьте `arn:aws:iam::072088201116:root` в **IAM policy**. Пример:
        ```json
        {
            "Version": "2012-10-17",
            "Statement": [
                {
                    "Effect": "Allow",
                    "Principal": {
                        "AWS": [
                            "arn:aws:iam::072088201116:root"
                        ]
                    },
                    "Action": [
                        "kafka-cluster:Connect",
                        "kafka-cluster:DescribeCluster",
                        "kafka-cluster:ListClusters"
                    ]
                }
            ]
        }
        ```

## Создание обратной приватной конечной точки \{#creating-reverse-private-endpoint\}

Следуйте инструкциям по созданию обратной приватной конечной точки в [документации по ClickPipes](/integrations/clickpipes/aws-privatelink#creating-clickpipe).